/*! For license information please see main.2f819785.js.LICENSE.txt */
(()=>{var e={115:function(e){e.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o(n(1)),n(6)),i=o(a),l=o(n(7)),c=o(n(8)),s=o(n(9)),g=o(n(10)),u=o(n(11)),d=o(n(14)),I=[],C=!1,m={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},h=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(C=!0),C)return I=(0,u.default)(I,m),(0,g.default)(I,m.once),I},p=function(){I=(0,d.default)(),h()},f=function(){I.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},A=function(e){return!0===e||"mobile"===e&&s.default.mobile()||"phone"===e&&s.default.phone()||"tablet"===e&&s.default.tablet()||"function"==typeof e&&!0===e()},b=function(e){m=r(m,e),I=(0,d.default)();var t=document.all&&!window.atob;return A(m.disable)||t?f():(m.disableMutationObserver||c.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),m.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",m.easing),document.querySelector("body").setAttribute("data-aos-duration",m.duration),document.querySelector("body").setAttribute("data-aos-delay",m.delay),"DOMContentLoaded"===m.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?h(!0):"load"===m.startEvent?window.addEventListener(m.startEvent,(function(){h(!0)})):document.addEventListener(m.startEvent,(function(){h(!0)})),window.addEventListener("resize",(0,l.default)(h,m.debounceDelay,!0)),window.addEventListener("orientationchange",(0,l.default)(h,m.debounceDelay,!0)),window.addEventListener("scroll",(0,i.default)((function(){(0,g.default)(I,m.once)}),m.throttleDelay)),m.disableMutationObserver||c.default.ready("[data-aos]",p),I)};e.exports={init:b,refresh:h,refreshHard:p}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function o(t){var n=m,o=h;return m=h=void 0,S=t,f=e.apply(o,n)}function a(e){return S=e,A=setTimeout(g,t),G?o(e):f}function i(e){var n=t-(e-b);return B?y(n,p-(e-S)):n}function c(e){var n=e-b;return void 0===b||n>=t||n<0||B&&e-S>=p}function g(){var e=Z();return c(e)?u(e):void(A=setTimeout(g,i(e)))}function u(e){return A=void 0,k&&m?o(e):(m=h=void 0,f)}function d(){void 0!==A&&clearTimeout(A),S=0,m=b=h=A=void 0}function I(){return void 0===A?f:u(Z())}function C(){var e=Z(),n=c(e);if(m=arguments,h=this,b=e,n){if(void 0===A)return a(b);if(B)return A=setTimeout(g,t),o(b)}return void 0===A&&(A=setTimeout(g,t)),f}var m,h,p,f,A,b,S=0,G=!1,B=!1,k=!0;if("function"!=typeof e)throw new TypeError(s);return t=l(t)||0,r(n)&&(G=!!n.leading,p=(B="maxWait"in n)?v(l(n.maxWait)||0,t):p,k="trailing"in n?!!n.trailing:k),C.cancel=d,C.flush=I,C}function o(e,t,o){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError(s);return r(o)&&(a="leading"in o?!!o.leading:a,i="trailing"in o?!!o.trailing:i),n(e,t,{leading:a,maxWait:t,trailing:i})}function r(e){var t="undefined"==typeof e?"undefined":c(e);return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==("undefined"==typeof e?"undefined":c(e))}function i(e){return"symbol"==("undefined"==typeof e?"undefined":c(e))||a(e)&&b.call(e)==u}function l(e){if("number"==typeof e)return e;if(i(e))return g;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=C.test(e);return n||m.test(e)?h(e.slice(2),n?2:8):I.test(e)?g:+e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="Expected a function",g=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt,p="object"==("undefined"==typeof t?"undefined":c(t))&&t&&t.Object===Object&&t,f="object"==("undefined"==typeof self?"undefined":c(self))&&self&&self.Object===Object&&self,A=p||f||Function("return this")(),b=Object.prototype.toString,v=Math.max,y=Math.min,Z=function(){return A.Date.now()};e.exports=o}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=m,o=h;return m=h=void 0,S=t,f=e.apply(o,n)}function a(e){return S=e,A=setTimeout(g,t),G?r(e):f}function l(e){var n=t-(e-Z);return B?v(n,p-(e-S)):n}function s(e){var n=e-Z;return void 0===Z||n>=t||n<0||B&&e-S>=p}function g(){var e=y();return s(e)?u(e):void(A=setTimeout(g,l(e)))}function u(e){return A=void 0,k&&m?r(e):(m=h=void 0,f)}function d(){void 0!==A&&clearTimeout(A),S=0,m=Z=h=A=void 0}function I(){return void 0===A?f:u(y())}function C(){var e=y(),n=s(e);if(m=arguments,h=this,Z=e,n){if(void 0===A)return a(Z);if(B)return A=setTimeout(g,t),r(Z)}return void 0===A&&(A=setTimeout(g,t)),f}var m,h,p,f,A,Z,S=0,G=!1,B=!1,k=!0;if("function"!=typeof e)throw new TypeError(c);return t=i(t)||0,o(n)&&(G=!!n.leading,p=(B="maxWait"in n)?b(i(n.maxWait)||0,t):p,k="trailing"in n?!!n.trailing:k),C.cancel=d,C.flush=I,C}function o(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||r(e)&&A.call(e)==g}function i(e){if("number"==typeof e)return e;if(a(e))return s;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=I.test(e);return n||C.test(e)?m(e.slice(2),n?2:8):d.test(e)?s:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",s=NaN,g="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,C=/^0o[0-7]+$/i,m=parseInt,h="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,p="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,f=h||p||Function("return this")(),A=Object.prototype.toString,b=Math.max,v=Math.min,y=function(){return f.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,o=void 0;for(t=0;t<e.length;t+=1){if((o=e[t]).dataset&&o.dataset.aos)return!0;if(o.children&&n(o.children))return!0}return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!o()}function a(e,t){var n=window.document,r=new(o())(i);l=t,r.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function i(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),o=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(o)))return l()}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){};t.default={isSupported:r,ready:a}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=function(){function e(){n(this,e)}return r(e,[{key:"phone",value:function(){var e=o();return!(!a.test(e)&&!i.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=o();return!(!l.test(e)&&!c.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var o=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof o&&("false"===o||!n&&"true"!==o)&&e.node.classList.remove("aos-animate")},o=function(e,t){var o=window.pageYOffset,r=window.innerHeight;e.forEach((function(e,a){n(e,r+o,t)}))};t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(12)),a=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,r.default)(e.node,t.offset)})),e};t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(13)),a=function(e,t){var n=0,o=0,a=window.innerHeight,i={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(i.offset&&!isNaN(i.offset)&&(o=parseInt(i.offset)),i.anchor&&document.querySelectorAll(i.anchor)&&(e=document.querySelectorAll(i.anchor)[0]),n=(0,r.default)(e).top,i.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=a/2;break;case"bottom-center":n+=a/2+e.offsetHeight;break;case"center-center":n+=a/2+e.offsetHeight/2;break;case"top-top":n+=a;break;case"bottom-top":n+=e.offsetHeight+a;break;case"center-top":n+=e.offsetHeight/2+a}return i.anchorPlacement||i.offset||isNaN(t)||(o=t),n+o};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},270:(e,t,n)=>{"use strict";var o=n(520),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,i,l,c,s,g=!1;t||(t={}),n=t.debug||!1;try{if(i=o(),l=document.createRange(),c=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),"undefined"===typeof o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=r[t.format]||r.default;window.clipboardData.setData(a,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");g=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),g=!0}catch(u){n&&console.error("unable to copy using clipboardData: ",u),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),s&&document.body.removeChild(s),i()}return g}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,o="millisecond",r="second",a="minute",i="hour",l="day",c="week",s="month",g="quarter",u="year",d="date",I="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},p=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},f={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+p(o,2,"0")+":"+p(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,s),a=n-r<0,i=t.clone().add(o+(a?-1:1),s);return+(-(o+(n-r)/(a?r-i:i-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:s,y:u,w:c,d:l,D:d,h:i,m:a,s:r,ms:o,Q:g}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},A="en",b={};b[A]=h;var v="$isDayjsObject",y=function(e){return e instanceof B||!(!e||!e[v])},Z=function e(t,n,o){var r;if(!t)return A;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(r=a),n&&(b[a]=n,r=a);var i=t.split("-");if(!r&&i.length>1)return e(i[0])}else{var l=t.name;b[l]=t,r=l}return!o&&r&&(A=r),r||!o&&A},S=function(e,t){if(y(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new B(n)},G=f;G.l=Z,G.i=y,G.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var B=function(){function h(e){this.$L=Z(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[v]=!0}var p=h.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(G.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(C);if(o){var r=o[2]-1||0,a=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,a)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,a)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return G},p.isValid=function(){return!(this.$d.toString()===I)},p.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return S(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<S(e)},p.$g=function(e,t,n){return G.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,o=!!G.u(t)||t,g=G.p(e),I=function(e,t){var r=G.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?r:r.endOf(l)},C=function(e,t){return G.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,h=this.$M,p=this.$D,f="set"+(this.$u?"UTC":"");switch(g){case u:return o?I(1,0):I(31,11);case s:return o?I(1,h):I(0,h+1);case c:var A=this.$locale().weekStart||0,b=(m<A?m+7:m)-A;return I(o?p-b:p+(6-b),h);case l:case d:return C(f+"Hours",0);case i:return C(f+"Minutes",1);case a:return C(f+"Seconds",2);case r:return C(f+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,c=G.p(e),g="set"+(this.$u?"UTC":""),I=(n={},n[l]=g+"Date",n[d]=g+"Date",n[s]=g+"Month",n[u]=g+"FullYear",n[i]=g+"Hours",n[a]=g+"Minutes",n[r]=g+"Seconds",n[o]=g+"Milliseconds",n)[c],C=c===l?this.$D+(t-this.$W):t;if(c===s||c===u){var m=this.clone().set(d,1);m.$d[I](C),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else I&&this.$d[I](C);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[G.p(e)]()},p.add=function(o,g){var d,I=this;o=Number(o);var C=G.p(g),m=function(e){var t=S(I);return G.w(t.date(t.date()+Math.round(e*o)),I)};if(C===s)return this.set(s,this.$M+o);if(C===u)return this.set(u,this.$y+o);if(C===l)return m(1);if(C===c)return m(7);var h=(d={},d[a]=t,d[i]=n,d[r]=e,d)[C]||1,p=this.$d.getTime()+o*h;return G.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||I;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=G.z(this),a=this.$H,i=this.$m,l=this.$M,c=n.weekdays,s=n.months,g=n.meridiem,u=function(e,n,r,a){return e&&(e[n]||e(t,o))||r[n].slice(0,a)},d=function(e){return G.s(a%12||12,e,"0")},C=g||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o};return o.replace(m,(function(e,o){return o||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return G.s(t.$y,4,"0");case"M":return l+1;case"MM":return G.s(l+1,2,"0");case"MMM":return u(n.monthsShort,l,s,3);case"MMMM":return u(s,l);case"D":return t.$D;case"DD":return G.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,c,2);case"ddd":return u(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return G.s(a,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return C(a,i,!0);case"A":return C(a,i,!1);case"m":return String(i);case"mm":return G.s(i,2,"0");case"s":return String(t.$s);case"ss":return G.s(t.$s,2,"0");case"SSS":return G.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(o,d,I){var C,m=this,h=G.p(d),p=S(o),f=(p.utcOffset()-this.utcOffset())*t,A=this-p,b=function(){return G.m(m,p)};switch(h){case u:C=b()/12;break;case s:C=b();break;case g:C=b()/3;break;case c:C=(A-f)/6048e5;break;case l:C=(A-f)/864e5;break;case i:C=A/n;break;case a:C=A/t;break;case r:C=A/e;break;default:C=A}return I?C:G.a(C)},p.daysInMonth=function(){return this.endOf(s).$D},p.$locale=function(){return b[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=Z(e,t,!0);return o&&(n.$L=o),n},p.clone=function(){return G.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),k=B.prototype;return S.prototype=k,[["$ms",o],["$s",r],["$m",a],["$H",i],["$W",l],["$M",s],["$y",u],["$D",d]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,B,S),e.$i=!0),S},S.locale=Z,S.isDayjs=y,S.unix=function(e){return S(1e3*e)},S.en=b[A],S.Ls=b,S.p={},S}()},76:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,o=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return o.bind(this)(e);var r=this.$utils(),a=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(a)}}}()},988:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,o=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,a={},i=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],s=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},g=function(e,t){var n,o=a.meridiem;if(o){for(var r=1;r<=24;r+=1)if(e.indexOf(o(r,0,t))>-1){n=r>12;break}}else n=e===(t?"pm":"PM");return n},u={A:[r,function(e){this.afternoon=g(e,!1)}],a:[r,function(e){this.afternoon=g(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[o,l("seconds")],ss:[o,l("seconds")],m:[o,l("minutes")],mm:[o,l("minutes")],H:[o,l("hours")],h:[o,l("hours")],HH:[o,l("hours")],hh:[o,l("hours")],D:[o,l("day")],DD:[n,l("day")],Do:[r,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var o=1;o<=31;o+=1)t(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],M:[o,l("month")],MM:[n,l("month")],MMM:[r,function(e){var t=s("months"),n=(s("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(e){var t=s("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,l("year")],Z:c,ZZ:c};function d(n){var o,r;o=n,r=a&&a.formats;for(var i=(n=o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,o){var a=o&&o.toUpperCase();return n||r[o]||e[o]||r[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),l=i.length,c=0;c<l;c+=1){var s=i[c],g=u[s],d=g&&g[0],I=g&&g[1];i[c]=I?{regex:d,parser:I}:s.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,o=0;n<l;n+=1){var r=i[n];if("string"==typeof r)o+=r.length;else{var a=r.regex,c=r.parser,s=e.slice(o),g=a.exec(s)[0];c.call(t,g),e=e.replace(g,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var o=t.prototype,r=o.parse;o.parse=function(e){var t=e.date,o=e.utc,i=e.args;this.$u=o;var l=i[1];if("string"==typeof l){var c=!0===i[2],s=!0===i[3],g=c||s,u=i[2];s&&(u=i[2]),a=this.$locale(),!c&&u&&(a=n.Ls[u]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var o=d(t)(e),r=o.year,a=o.month,i=o.day,l=o.hours,c=o.minutes,s=o.seconds,g=o.milliseconds,u=o.zone,I=new Date,C=i||(r||a?1:I.getDate()),m=r||I.getFullYear(),h=0;r&&!a||(h=a>0?a-1:I.getMonth());var p=l||0,f=c||0,A=s||0,b=g||0;return u?new Date(Date.UTC(m,h,C,p,f,A,b+60*u.offset*1e3)):n?new Date(Date.UTC(m,h,C,p,f,A,b)):new Date(m,h,C,p,f,A,b)}catch(e){return new Date("")}}(t,l,o),this.init(),u&&!0!==u&&(this.$L=this.locale(u).$L),g&&t!=this.format(l)&&(this.$d=new Date("")),a={}}else if(l instanceof Array)for(var I=l.length,C=1;C<=I;C+=1){i[1]=l[C-1];var m=n.apply(this,i);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}C===I&&(this.$d=new Date(""))}else r.call(this,e)}}}()},199:function(e){e.exports=function(){"use strict";return function(e,t,n){var o=t.prototype,r=function(e){return e&&(e.indexOf?e:e.s)},a=function(e,t,n,o,a){var i=e.name?e:e.$locale(),l=r(i[t]),c=r(i[n]),s=l||c.map((function(e){return e.slice(0,o)}));if(!a)return s;var g=i.weekStart;return s.map((function(e,t){return s[(t+(g||0))%7]}))},i=function(){return n.Ls[n.locale()]},l=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):a(e,"months")},monthsShort:function(t){return t?t.format("MMM"):a(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):a(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):a(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):a(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return l(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return l(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return a(i(),"months")},n.monthsShort=function(){return a(i(),"monthsShort","months",3)},n.weekdays=function(e){return a(i(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return a(i(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return a(i(),"weekdaysMin","weekdays",2,e)}}}()},865:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,o,r){var a=o.prototype;a.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var o=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var a=r(this).startOf(t).add(1,t).date(o),i=r(this).endOf(e);if(a.isBefore(i))return 1}var l=r(this).startOf(t).date(o).startOf(e).subtract(1,"millisecond"),c=this.diff(l,e,!0);return c<0?r(this).startOf("week").week():Math.ceil(c)},a.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},556:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}()},223:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,n=this.$W,o=(n<t?n+7:n)-t;return this.$utils().u(e)?o:this.subtract(o,"day").add(e,"day")}}}()},219:(e,t,n)=>{"use strict";var o=n(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return o.isMemo(e)?i:l[e.$$typeof]||r}l[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[o.Memo]=i;var s=Object.defineProperty,g=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,I=Object.getPrototypeOf,C=Object.prototype;e.exports=function e(t,n,o){if("string"!==typeof n){if(C){var r=I(n);r&&r!==C&&e(t,r,o)}var i=g(n);u&&(i=i.concat(u(n)));for(var l=c(t),m=c(n),h=0;h<i.length;++h){var p=i[h];if(!a[p]&&(!o||!o[p])&&(!m||!m[p])&&(!l||!l[p])){var f=d(n,p);try{s(t,p,f)}catch(A){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,g=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,I=n?Symbol.for("react.suspense"):60113,C=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116,p=n?Symbol.for("react.block"):60121,f=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case g:case u:case a:case l:case i:case I:return e;default:switch(e=e&&e.$$typeof){case s:case d:case h:case m:case c:return e;default:return t}}case r:return t}}}function y(e){return v(e)===u}t.AsyncMode=g,t.ConcurrentMode=u,t.ContextConsumer=s,t.ContextProvider=c,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=h,t.Memo=m,t.Portal=r,t.Profiler=l,t.StrictMode=i,t.Suspense=I,t.isAsyncMode=function(e){return y(e)||v(e)===g},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===s},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===h},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===r},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===i},t.isSuspense=function(e){return v(e)===I},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===l||e===i||e===I||e===C||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===m||e.$$typeof===c||e.$$typeof===s||e.$$typeof===d||e.$$typeof===f||e.$$typeof===A||e.$$typeof===b||e.$$typeof===p)},t.typeOf=v},763:(e,t,n)=>{"use strict";e.exports=n(983)},178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function o(){return t.apply(null,arguments)}function r(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(l(e,t))return!1;return!0}function s(e){return void 0===e}function g(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,o=[],r=e.length;for(n=0;n<r;++n)o.push(t(e[n],n));return o}function I(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function C(e,t,n,o){return Un(e,t,n,o,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=m()),e._pf}function p(e){var t=null,o=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=h(e),o=n.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&o),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function f(e){var t=C(NaN);return null!=e?I(h(t),e):h(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),o=n.length>>>0;for(t=0;t<o;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var A=o.momentProperties=[],b=!1;function v(e,t){var n,o,r,a=A.length;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)s(r=t[o=A[n]])||(e[o]=r);return e}function y(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,o.updateOffset(this),b=!1)}function Z(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function S(e){!1===o.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function G(e,t){var n=!0;return I((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r,a,i,c=[],s=arguments.length;for(a=0;a<s;a++){if(r="","object"===typeof arguments[a]){for(i in r+="\n["+a+"] ",arguments[0])l(arguments[0],i)&&(r+=i+": "+arguments[0][i]+", ");r=r.slice(0,-2)}else r=arguments[a];c.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var B,k={};function w(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),k[e]||(S(t),k[e]=!0)}function R(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function V(e){var t,n;for(n in e)l(e,n)&&(R(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function W(e,t){var n,o=I({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(o[n]={},I(o[n],e[n]),I(o[n],t[n])):null!=t[n]?o[n]=t[n]:delete o[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(o[n]=I({},o[n]));return o}function x(e){null!=e&&this.set(e)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,B=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var X={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function N(e,t,n){var o=this._calendar[e]||this._calendar.sameElse;return R(o)?o.call(t,n):o}function J(e,t,n){var o=""+Math.abs(e),r=t-o.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+o}var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},F={};function K(e,t,n,o){var r=o;"string"===typeof o&&(r=function(){return this[o]()}),e&&(F[e]=r),t&&(F[t[0]]=function(){return J(r.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,o=e.match(E);for(t=0,n=o.length;t<n;t++)F[o[t]]?o[t]=F[o[t]]:o[t]=M(o[t]);return function(t){var r,a="";for(r=0;r<n;r++)a+=R(o[r])?o[r].call(t,e):o[r];return a}}function T(e,t){return e.isValid()?(t=z(t,e.localeData()),Y[t]=Y[t]||L(t),Y[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function o(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,o),H.lastIndex=0,n-=1;return e}var D={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(E).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var j="Invalid date";function U(){return this._invalidDate}var P="%d",Q=/\d{1,2}/;function _(e){return this._ordinal.replace("%d",e)}var q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,o){var r=this._relativeTime[n];return R(r)?r(e,t,n,o):r.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return R(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function oe(e){var t,n,o={};for(n in e)l(e,n)&&(t=ne(n))&&(o[t]=e[n]);return o}var re={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ae(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:re[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var ie,le=/\d/,ce=/\d\d/,se=/\d{3}/,ge=/\d{4}/,ue=/[+-]?\d{6}/,de=/\d\d?/,Ie=/\d\d\d\d?/,Ce=/\d\d\d\d\d\d?/,me=/\d{1,3}/,he=/\d{1,4}/,pe=/[+-]?\d{1,6}/,fe=/\d+/,Ae=/[+-]?\d+/,be=/Z|[+-]\d\d:?\d\d/gi,ve=/Z|[+-]\d\d(?::?\d\d)?/gi,ye=/[+-]?\d+(\.\d{1,3})?/,Ze=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Se=/^[1-9]\d?/,Ge=/^([1-9]\d|\d)/;function Be(e,t,n){ie[e]=R(t)?t:function(e,o){return e&&n?n:t}}function ke(e,t){return l(ie,e)?ie[e](t._strict,t._locale):new RegExp(we(e))}function we(e){return Re(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,o,r){return t||n||o||r})))}function Re(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ve(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function We(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ve(t)),n}ie={};var xe={};function Xe(e,t){var n,o,r=t;for("string"===typeof e&&(e=[e]),g(t)&&(r=function(e,n){n[t]=We(e)}),o=e.length,n=0;n<o;n++)xe[e[n]]=r}function Ne(e,t){Xe(e,(function(e,n,o,r){o._w=o._w||{},t(e,o._w,o,r)}))}function Je(e,t,n){null!=t&&l(xe,e)&&xe[e](t,n._a,n,e)}function Ee(e){return e%4===0&&e%100!==0||e%400===0}var He=0,Ye=1,Fe=2,Ke=3,Me=4,Le=5,Te=6,ze=7,De=8;function Oe(e){return Ee(e)?366:365}K("Y",0,0,(function(){var e=this.year();return e<=9999?J(e,4):"+"+e})),K(0,["YY",2],0,(function(){return this.year()%100})),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),Be("Y",Ae),Be("YY",de,ce),Be("YYYY",he,ge),Be("YYYYY",pe,ue),Be("YYYYYY",pe,ue),Xe(["YYYYY","YYYYYY"],He),Xe("YYYY",(function(e,t){t[He]=2===e.length?o.parseTwoDigitYear(e):We(e)})),Xe("YY",(function(e,t){t[He]=o.parseTwoDigitYear(e)})),Xe("Y",(function(e,t){t[He]=parseInt(e,10)})),o.parseTwoDigitYear=function(e){return We(e)+(We(e)>68?1900:2e3)};var je,Ue=Qe("FullYear",!0);function Pe(){return Ee(this.year())}function Qe(e,t){return function(n){return null!=n?(qe(this,e,n),o.updateOffset(this,t),this):_e(this,e)}}function _e(e,t){if(!e.isValid())return NaN;var n=e._d,o=e._isUTC;switch(t){case"Milliseconds":return o?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return o?n.getUTCSeconds():n.getSeconds();case"Minutes":return o?n.getUTCMinutes():n.getMinutes();case"Hours":return o?n.getUTCHours():n.getHours();case"Date":return o?n.getUTCDate():n.getDate();case"Day":return o?n.getUTCDay():n.getDay();case"Month":return o?n.getUTCMonth():n.getMonth();case"FullYear":return o?n.getUTCFullYear():n.getFullYear();default:return NaN}}function qe(e,t,n){var o,r,a,i,l;if(e.isValid()&&!isNaN(n)){switch(o=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?o.setUTCMilliseconds(n):o.setMilliseconds(n));case"Seconds":return void(r?o.setUTCSeconds(n):o.setSeconds(n));case"Minutes":return void(r?o.setUTCMinutes(n):o.setMinutes(n));case"Hours":return void(r?o.setUTCHours(n):o.setHours(n));case"Date":return void(r?o.setUTCDate(n):o.setDate(n));case"FullYear":break;default:return}a=n,i=e.month(),l=29!==(l=e.date())||1!==i||Ee(a)?l:28,r?o.setUTCFullYear(a,i,l):o.setFullYear(a,i,l)}}function $e(e){return R(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,o=ae(e=oe(e)),r=o.length;for(n=0;n<r;n++)this[o[n].unit](e[o[n].unit])}else if(R(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Ee(e)?29:28:31-n%7%2}je=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},K("M",["MM",2],"Mo",(function(){return this.month()+1})),K("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),K("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Be("M",de,Se),Be("MM",de,ce),Be("MMM",(function(e,t){return t.monthsShortRegex(e)})),Be("MMMM",(function(e,t){return t.monthsRegex(e)})),Xe(["M","MM"],(function(e,t){t[Ye]=We(e)-1})),Xe(["MMM","MMMM"],(function(e,t,n,o){var r=n._locale.monthsParse(e,o,n._strict);null!=r?t[Ye]=r:h(n).invalidMonth=e}));var ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),at=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=Ze,lt=Ze;function ct(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||at).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function st(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[at.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gt(e,t,n){var o,r,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)a=C([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=je.call(this._shortMonthsParse,i))?r:null:-1!==(r=je.call(this._longMonthsParse,i))?r:null:"MMM"===t?-1!==(r=je.call(this._shortMonthsParse,i))||-1!==(r=je.call(this._longMonthsParse,i))?r:null:-1!==(r=je.call(this._longMonthsParse,i))||-1!==(r=je.call(this._shortMonthsParse,i))?r:null}function ut(e,t,n){var o,r,a;if(this._monthsParseExact)return gt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=C([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[o]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(n&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}}function dt(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=We(t);else if(!g(t=e.localeData().monthsParse(t)))return e;var n=t,o=e.date();return o=o<29?o:Math.min(o,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,o):e._d.setMonth(n,o),e}function It(e){return null!=e?(dt(this,e),o.updateOffset(this,!0),this):_e(this,"Month")}function Ct(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=lt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,o,r,a=[],i=[],l=[];for(t=0;t<12;t++)n=C([2e3,t]),o=Re(this.monthsShort(n,"")),r=Re(this.months(n,"")),a.push(o),i.push(r),l.push(r),l.push(o);a.sort(e),i.sort(e),l.sort(e),this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ft(e,t,n,o,r,a,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,o,r,a,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,o,r,a,i),l}function At(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var o=7+t-n;return-(7+At(e,0,o).getUTCDay()-t)%7+o-1}function vt(e,t,n,o,r){var a,i,l=1+7*(t-1)+(7+n-o)%7+bt(e,o,r);return l<=0?i=Oe(a=e-1)+l:l>Oe(e)?(a=e+1,i=l-Oe(e)):(a=e,i=l),{year:a,dayOfYear:i}}function yt(e,t,n){var o,r,a=bt(e.year(),t,n),i=Math.floor((e.dayOfYear()-a-1)/7)+1;return i<1?o=i+Zt(r=e.year()-1,t,n):i>Zt(e.year(),t,n)?(o=i-Zt(e.year(),t,n),r=e.year()+1):(r=e.year(),o=i),{week:o,year:r}}function Zt(e,t,n){var o=bt(e,t,n),r=bt(e+1,t,n);return(Oe(e)-o+r)/7}function St(e){return yt(e,this._week.dow,this._week.doy).week}K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),Be("w",de,Se),Be("ww",de,ce),Be("W",de,Se),Be("WW",de,ce),Ne(["w","ww","W","WW"],(function(e,t,n,o){t[o.substr(0,1)]=We(e)}));var Gt={dow:0,doy:6};function Bt(){return this._week.dow}function kt(){return this._week.doy}function wt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Rt(e){var t=yt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Vt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Wt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xt(e,t){return e.slice(t,7).concat(e.slice(0,t))}K("d",0,"do","day"),K("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),K("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),K("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),Be("d",de),Be("e",de),Be("E",de),Be("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Be("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Be("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ne(["dd","ddd","dddd"],(function(e,t,n,o){var r=n._locale.weekdaysParse(e,o,n._strict);null!=r?t.d=r:h(n).invalidWeekday=e})),Ne(["d","e","E"],(function(e,t,n,o){t[o]=We(e)}));var Xt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Et=Ze,Ht=Ze,Yt=Ze;function Ft(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?xt(n,this._week.dow):e?n[e.day()]:n}function Kt(e){return!0===e?xt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Mt(e){return!0===e?xt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Lt(e,t,n){var o,r,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)a=C([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=je.call(this._weekdaysParse,i))?r:null:"ddd"===t?-1!==(r=je.call(this._shortWeekdaysParse,i))?r:null:-1!==(r=je.call(this._minWeekdaysParse,i))?r:null:"dddd"===t?-1!==(r=je.call(this._weekdaysParse,i))||-1!==(r=je.call(this._shortWeekdaysParse,i))||-1!==(r=je.call(this._minWeekdaysParse,i))?r:null:"ddd"===t?-1!==(r=je.call(this._shortWeekdaysParse,i))||-1!==(r=je.call(this._weekdaysParse,i))||-1!==(r=je.call(this._minWeekdaysParse,i))?r:null:-1!==(r=je.call(this._minWeekdaysParse,i))||-1!==(r=je.call(this._weekdaysParse,i))||-1!==(r=je.call(this._shortWeekdaysParse,i))?r:null}function Tt(e,t,n){var o,r,a;if(this._weekdaysParseExact)return Lt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(r=C([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[o]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[o].test(e))return o;if(n&&"ddd"===t&&this._shortWeekdaysParse[o].test(e))return o;if(n&&"dd"===t&&this._minWeekdaysParse[o].test(e))return o;if(!n&&this._weekdaysParse[o].test(e))return o}}function zt(e){if(!this.isValid())return null!=e?this:NaN;var t=_e(this,"Day");return null!=e?(e=Vt(e,this.localeData()),this.add(e-t,"d")):t}function Dt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ot(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Wt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function jt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ut(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ht),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,o,r,a,i=[],l=[],c=[],s=[];for(t=0;t<7;t++)n=C([2e3,1]).day(t),o=Re(this.weekdaysMin(n,"")),r=Re(this.weekdaysShort(n,"")),a=Re(this.weekdays(n,"")),i.push(o),l.push(r),c.push(a),s.push(o),s.push(r),s.push(a);i.sort(e),l.sort(e),c.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function _t(){return this.hours()%12||12}function qt(){return this.hours()||24}function $t(e,t){K(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}K("H",["HH",2],0,"hour"),K("h",["hh",2],0,_t),K("k",["kk",2],0,qt),K("hmm",0,0,(function(){return""+_t.apply(this)+J(this.minutes(),2)})),K("hmmss",0,0,(function(){return""+_t.apply(this)+J(this.minutes(),2)+J(this.seconds(),2)})),K("Hmm",0,0,(function(){return""+this.hours()+J(this.minutes(),2)})),K("Hmmss",0,0,(function(){return""+this.hours()+J(this.minutes(),2)+J(this.seconds(),2)})),$t("a",!0),$t("A",!1),Be("a",en),Be("A",en),Be("H",de,Ge),Be("h",de,Se),Be("k",de,Se),Be("HH",de,ce),Be("hh",de,ce),Be("kk",de,ce),Be("hmm",Ie),Be("hmmss",Ce),Be("Hmm",Ie),Be("Hmmss",Ce),Xe(["H","HH"],Ke),Xe(["k","kk"],(function(e,t,n){var o=We(e);t[Ke]=24===o?0:o})),Xe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Xe(["h","hh"],(function(e,t,n){t[Ke]=We(e),h(n).bigHour=!0})),Xe("hmm",(function(e,t,n){var o=e.length-2;t[Ke]=We(e.substr(0,o)),t[Me]=We(e.substr(o)),h(n).bigHour=!0})),Xe("hmmss",(function(e,t,n){var o=e.length-4,r=e.length-2;t[Ke]=We(e.substr(0,o)),t[Me]=We(e.substr(o,2)),t[Le]=We(e.substr(r)),h(n).bigHour=!0})),Xe("Hmm",(function(e,t,n){var o=e.length-2;t[Ke]=We(e.substr(0,o)),t[Me]=We(e.substr(o))})),Xe("Hmmss",(function(e,t,n){var o=e.length-4,r=e.length-2;t[Ke]=We(e.substr(0,o)),t[Me]=We(e.substr(o,2)),t[Le]=We(e.substr(r))}));var nn=/[ap]\.?m?\.?/i,on=Qe("Hours",!0);function rn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:X,longDateFormat:D,invalidDate:j,ordinal:P,dayOfMonthOrdinalParse:Q,relativeTime:q,months:ot,monthsShort:rt,week:Gt,weekdays:Xt,weekdaysMin:Jt,weekdaysShort:Nt,meridiemParse:nn},cn={},sn={};function gn(e,t){var n,o=Math.min(e.length,t.length);for(n=0;n<o;n+=1)if(e[n]!==t[n])return n;return o}function un(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,o,r,a=0;a<e.length;){for(t=(r=un(e[a]).split("-")).length,n=(n=un(e[a+1]))?n.split("-"):null;t>0;){if(o=Cn(r.slice(0,t).join("-")))return o;if(n&&n.length>=t&&gn(r,n)>=t-1)break;t--}a++}return an}function In(e){return!(!e||!e.match("^[^/\\\\]*$"))}function Cn(t){var n=null;if(void 0===cn[t]&&e&&e.exports&&In(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(o){cn[t]=null}return cn[t]}function mn(e,t){var n;return e&&((n=s(t)?fn(e):hn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function hn(e,t){if(null!==t){var n,o=ln;if(t.abbr=e,null!=cn[e])w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=cn[e]._config;else if(null!=t.parentLocale)if(null!=cn[t.parentLocale])o=cn[t.parentLocale]._config;else{if(null==(n=Cn(t.parentLocale)))return sn[t.parentLocale]||(sn[t.parentLocale]=[]),sn[t.parentLocale].push({name:e,config:t}),null;o=n._config}return cn[e]=new x(W(o,t)),sn[e]&&sn[e].forEach((function(e){hn(e.name,e.config)})),mn(e),cn[e]}return delete cn[e],null}function pn(e,t){if(null!=t){var n,o,r=ln;null!=cn[e]&&null!=cn[e].parentLocale?cn[e].set(W(cn[e]._config,t)):(null!=(o=Cn(e))&&(r=o._config),t=W(r,t),null==o&&(t.abbr=e),(n=new x(t)).parentLocale=cn[e],cn[e]=n),mn(e)}else null!=cn[e]&&(null!=cn[e].parentLocale?(cn[e]=cn[e].parentLocale,e===mn()&&mn(e)):null!=cn[e]&&delete cn[e]);return cn[e]}function fn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!a(e)){if(t=Cn(e))return t;e=[e]}return dn(e)}function An(){return B(cn)}function bn(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Ye]<0||n[Ye]>11?Ye:n[Fe]<1||n[Fe]>nt(n[He],n[Ye])?Fe:n[Ke]<0||n[Ke]>24||24===n[Ke]&&(0!==n[Me]||0!==n[Le]||0!==n[Te])?Ke:n[Me]<0||n[Me]>59?Me:n[Le]<0||n[Le]>59?Le:n[Te]<0||n[Te]>999?Te:-1,h(e)._overflowDayOfYear&&(t<He||t>Fe)&&(t=Fe),h(e)._overflowWeeks&&-1===t&&(t=ze),h(e)._overflowWeekday&&-1===t&&(t=De),h(e).overflow=t),e}var vn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Gn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,wn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Rn(e){var t,n,o,r,a,i,l=e._i,c=vn.exec(l)||yn.exec(l),s=Sn.length,g=Gn.length;if(c){for(h(e).iso=!0,t=0,n=s;t<n;t++)if(Sn[t][1].exec(c[1])){r=Sn[t][0],o=!1!==Sn[t][2];break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,n=g;t<n;t++)if(Gn[t][1].exec(c[3])){a=(c[2]||" ")+Gn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!o&&null!=a)return void(e._isValid=!1);if(c[4]){if(!Zn.exec(c[4]))return void(e._isValid=!1);i="Z"}e._f=r+(a||"")+(i||""),Mn(e)}else e._isValid=!1}function Vn(e,t,n,o,r,a){var i=[Wn(e),rt.indexOf(t),parseInt(n,10),parseInt(o,10),parseInt(r,10)];return a&&i.push(parseInt(a,10)),i}function Wn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function xn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Xn(e,t,n){return!e||Nt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Nn(e,t,n){if(e)return wn[e];if(t)return 0;var o=parseInt(n,10),r=o%100;return(o-r)/100*60+r}function Jn(e){var t,n=kn.exec(xn(e._i));if(n){if(t=Vn(n[4],n[3],n[2],n[5],n[6],n[7]),!Xn(n[1],t,e))return;e._a=t,e._tzm=Nn(n[8],n[9],n[10]),e._d=At.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function En(e){var t=Bn.exec(e._i);null===t?(Rn(e),!1===e._isValid&&(delete e._isValid,Jn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Hn(e,t,n){return null!=e?e:null!=t?t:n}function Yn(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,o,r,a,i=[];if(!e._d){for(o=Yn(e),e._w&&null==e._a[Fe]&&null==e._a[Ye]&&Kn(e),null!=e._dayOfYear&&(a=Hn(e._a[He],o[He]),(e._dayOfYear>Oe(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=At(a,0,e._dayOfYear),e._a[Ye]=n.getUTCMonth(),e._a[Fe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=o[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ke]&&0===e._a[Me]&&0===e._a[Le]&&0===e._a[Te]&&(e._nextDay=!0,e._a[Ke]=0),e._d=(e._useUTC?At:ft).apply(null,i),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ke]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(h(e).weekdayMismatch=!0)}}function Kn(e){var t,n,o,r,a,i,l,c,s;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,i=4,n=Hn(t.GG,e._a[He],yt(Pn(),1,4).year),o=Hn(t.W,1),((r=Hn(t.E,1))<1||r>7)&&(c=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,s=yt(Pn(),a,i),n=Hn(t.gg,e._a[He],s.year),o=Hn(t.w,s.week),null!=t.d?((r=t.d)<0||r>6)&&(c=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(c=!0)):r=a),o<1||o>Zt(n,a,i)?h(e)._overflowWeeks=!0:null!=c?h(e)._overflowWeekday=!0:(l=vt(n,o,r,a,i),e._a[He]=l.year,e._dayOfYear=l.dayOfYear)}function Mn(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,a,i,l,c,s=""+e._i,g=s.length,u=0;for(c=(r=z(e._f,e._locale).match(E)||[]).length,t=0;t<c;t++)a=r[t],(n=(s.match(ke(a,e))||[])[0])&&((i=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(i),s=s.slice(s.indexOf(n)+n.length),u+=n.length),F[a]?(n?h(e).empty=!1:h(e).unusedTokens.push(a),Je(a,n,e)):e._strict&&!n&&h(e).unusedTokens.push(a);h(e).charsLeftOver=g-u,s.length>0&&h(e).unusedInput.push(s),e._a[Ke]<=12&&!0===h(e).bigHour&&e._a[Ke]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Ke]=Ln(e._locale,e._a[Ke],e._meridiem),null!==(l=h(e).era)&&(e._a[He]=e._locale.erasConvertYear(l,e._a[He])),Fn(e),bn(e)}else Jn(e);else Rn(e)}function Ln(e,t,n){var o;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((o=e.isPM(n))&&t<12&&(t+=12),o||12!==t||(t=0),t):t}function Tn(e){var t,n,o,r,a,i,l=!1,c=e._f.length;if(0===c)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<c;r++)a=0,i=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Mn(t),p(t)&&(i=!0),a+=h(t).charsLeftOver,a+=10*h(t).unusedTokens.length,h(t).score=a,l?a<o&&(o=a,n=t):(null==o||a<o||i)&&(o=a,n=t,i&&(l=!0));I(e,n||t)}function zn(e){if(!e._d){var t=oe(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Dn(e){var t=new y(bn(On(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function On(e){var t=e._i,n=e._f;return e._locale=e._locale||fn(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),Z(t)?new y(bn(t)):(u(t)?e._d=t:a(n)?Tn(e):n?Mn(e):jn(e),p(e)||(e._d=null),e))}function jn(e){var t=e._i;s(t)?e._d=new Date(o.now()):u(t)?e._d=new Date(t.valueOf()):"string"===typeof t?En(e):a(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):i(t)?zn(e):g(t)?e._d=new Date(t):o.createFromInputFallback(e)}function Un(e,t,n,o,r){var l={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&c(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=o,Dn(l)}function Pn(e,t,n,o){return Un(e,t,n,o,!1)}o.createFromInputFallback=G("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Qn=G("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()})),_n=G("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}));function qn(e,t){var n,o;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Pn();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function $n(){return qn("isBefore",[].slice.call(arguments,0))}function eo(){return qn("isAfter",[].slice.call(arguments,0))}var to=function(){return Date.now?Date.now():+new Date},no=["year","quarter","month","week","day","hour","minute","second","millisecond"];function oo(e){var t,n,o=!1,r=no.length;for(t in e)if(l(e,t)&&(-1===je.call(no,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[no[n]]){if(o)return!1;parseFloat(e[no[n]])!==We(e[no[n]])&&(o=!0)}return!0}function ro(){return this._isValid}function ao(){return Ro(NaN)}function io(e){var t=oe(e),n=t.year||0,o=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,c=t.minute||0,s=t.second||0,g=t.millisecond||0;this._isValid=oo(t),this._milliseconds=+g+1e3*s+6e4*c+1e3*l*60*60,this._days=+i+7*a,this._months=+r+3*o+12*n,this._data={},this._locale=fn(),this._bubble()}function lo(e){return e instanceof io}function co(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function so(e,t,n){var o,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&We(e[o])!==We(t[o]))&&i++;return i+a}function go(e,t){K(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+J(~~(e/60),2)+t+J(~~e%60,2)}))}go("Z",":"),go("ZZ",""),Be("Z",ve),Be("ZZ",ve),Xe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Io(ve,e)}));var uo=/([\+\-]|\d\d)/gi;function Io(e,t){var n,o,r=(t||"").match(e);return null===r?null:0===(o=60*(n=((r[r.length-1]||[])+"").match(uo)||["-",0,0])[1]+We(n[2]))?0:"+"===n[0]?o:-o}function Co(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Z(e)||u(e)?e.valueOf():Pn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):Pn(e).local()}function mo(e){return-Math.round(e._d.getTimezoneOffset())}function ho(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Io(ve,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=mo(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?No(this,Ro(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:mo(this)}function po(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function fo(e){return this.utcOffset(0,e)}function Ao(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mo(this),"m")),this}function bo(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Io(be,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function vo(e){return!!this.isValid()&&(e=e?Pn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function yo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Zo(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=On(t))._a?(e=t._isUTC?C(t._a):Pn(t._a),this._isDSTShifted=this.isValid()&&so(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function So(){return!!this.isValid()&&!this._isUTC}function Go(){return!!this.isValid()&&this._isUTC}function Bo(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var ko=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,wo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ro(e,t){var n,o,r,a=e,i=null;return lo(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:g(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(i=ko.exec(e))?(n="-"===i[1]?-1:1,a={y:0,d:We(i[Fe])*n,h:We(i[Ke])*n,m:We(i[Me])*n,s:We(i[Le])*n,ms:We(co(1e3*i[Te]))*n}):(i=wo.exec(e))?(n="-"===i[1]?-1:1,a={y:Vo(i[2],n),M:Vo(i[3],n),w:Vo(i[4],n),d:Vo(i[5],n),h:Vo(i[6],n),m:Vo(i[7],n),s:Vo(i[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(r=xo(Pn(a.from),Pn(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),o=new io(a),lo(e)&&l(e,"_locale")&&(o._locale=e._locale),lo(e)&&l(e,"_isValid")&&(o._isValid=e._isValid),o}function Vo(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wo(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function xo(e,t){var n;return e.isValid()&&t.isValid()?(t=Co(t,e),e.isBefore(t)?n=Wo(e,t):((n=Wo(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xo(e,t){return function(n,o){var r;return null===o||isNaN(+o)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=o,o=r),No(this,Ro(n,o),e),this}}function No(e,t,n,r){var a=t._milliseconds,i=co(t._days),l=co(t._months);e.isValid()&&(r=null==r||r,l&&dt(e,_e(e,"Month")+l*n),i&&qe(e,"Date",_e(e,"Date")+i*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&o.updateOffset(e,i||l))}Ro.fn=io.prototype,Ro.invalid=ao;var Jo=Xo(1,"add"),Eo=Xo(-1,"subtract");function Ho(e){return"string"===typeof e||e instanceof String}function Yo(e){return Z(e)||u(e)||Ho(e)||g(e)||Ko(e)||Fo(e)||null===e||void 0===e}function Fo(e){var t,n,o=i(e)&&!c(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s=a.length;for(t=0;t<s;t+=1)n=a[t],r=r||l(e,n);return o&&r}function Ko(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!g(t)&&Ho(e)})).length),t&&n}function Mo(e){var t,n,o=i(e)&&!c(e),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],r=r||l(e,n);return o&&r}function Lo(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function To(e,t){1===arguments.length&&(arguments[0]?Yo(arguments[0])?(e=arguments[0],t=void 0):Mo(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pn(),r=Co(n,this).startOf("day"),a=o.calendarFormat(this,r)||"sameElse",i=t&&(R(t[a])?t[a].call(this,n):t[a]);return this.format(i||this.localeData().calendar(a,this,Pn(n)))}function zo(){return new y(this)}function Do(e,t){var n=Z(e)?e:Pn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Oo(e,t){var n=Z(e)?e:Pn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function jo(e,t,n,o){var r=Z(e)?e:Pn(e),a=Z(t)?t:Pn(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&("("===(o=o||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===o[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Uo(e,t){var n,o=Z(e)?e:Pn(e);return!(!this.isValid()||!o.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===o.valueOf():(n=o.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Po(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qo(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function _o(e,t,n){var o,r,a;if(!this.isValid())return NaN;if(!(o=Co(e,this)).isValid())return NaN;switch(r=6e4*(o.utcOffset()-this.utcOffset()),t=ne(t)){case"year":a=qo(this,o)/12;break;case"month":a=qo(this,o);break;case"quarter":a=qo(this,o)/3;break;case"second":a=(this-o)/1e3;break;case"minute":a=(this-o)/6e4;break;case"hour":a=(this-o)/36e5;break;case"day":a=(this-o-r)/864e5;break;case"week":a=(this-o-r)/6048e5;break;default:a=this-o}return n?a:Ve(a)}function qo(e,t){if(e.date()<t.date())return-qo(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return-(n+(t-o<0?(t-o)/(o-e.clone().add(n-1,"months")):(t-o)/(e.clone().add(n+1,"months")-o)))||0}function $o(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function er(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?T(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",T(n,"Z")):T(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,o,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",o=a+'[")]',this.format(e+t+n+o)}function nr(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=T(this,e);return this.localeData().postformat(t)}function or(e,t){return this.isValid()&&(Z(e)&&e.isValid()||Pn(e).isValid())?Ro({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function rr(e){return this.from(Pn(),e)}function ar(e,t){return this.isValid()&&(Z(e)&&e.isValid()||Pn(e).isValid())?Ro({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ir(e){return this.to(Pn(),e)}function lr(e){var t;return void 0===e?this._locale._abbr:(null!=(t=fn(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var cr=G("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function sr(){return this._locale}var gr=1e3,ur=60*gr,dr=60*ur,Ir=3506328*dr;function Cr(e,t){return(e%t+t)%t}function mr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Ir:new Date(e,t,n).valueOf()}function hr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Ir:Date.UTC(e,t,n)}function pr(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?hr:mr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Cr(t+(this._isUTC?0:this.utcOffset()*ur),dr);break;case"minute":t=this._d.valueOf(),t-=Cr(t,ur);break;case"second":t=this._d.valueOf(),t-=Cr(t,gr)}return this._d.setTime(t),o.updateOffset(this,!0),this}function fr(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?hr:mr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=dr-Cr(t+(this._isUTC?0:this.utcOffset()*ur),dr)-1;break;case"minute":t=this._d.valueOf(),t+=ur-Cr(t,ur)-1;break;case"second":t=this._d.valueOf(),t+=gr-Cr(t,gr)-1}return this._d.setTime(t),o.updateOffset(this,!0),this}function Ar(){return this._d.valueOf()-6e4*(this._offset||0)}function br(){return Math.floor(this.valueOf()/1e3)}function vr(){return new Date(this.valueOf())}function yr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Zr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sr(){return this.isValid()?this.toISOString():null}function Gr(){return p(this)}function Br(){return I({},h(this))}function kr(){return h(this).overflow}function wr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Rr(e,t){var n,r,a,i=this._eras||fn("en")._eras;for(n=0,r=i.length;n<r;++n)switch("string"===typeof i[n].since&&(a=o(i[n].since).startOf("day"),i[n].since=a.valueOf()),typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=o(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf()}return i}function Vr(e,t,n){var o,r,a,i,l,c=this.eras();for(e=e.toUpperCase(),o=0,r=c.length;o<r;++o)if(a=c[o].name.toUpperCase(),i=c[o].abbr.toUpperCase(),l=c[o].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(i===e)return c[o];break;case"NNNN":if(a===e)return c[o];break;case"NNNNN":if(l===e)return c[o]}else if([a,i,l].indexOf(e)>=0)return c[o]}function Wr(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n}function xr(){var e,t,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until)return o[e].name;if(o[e].until<=n&&n<=o[e].since)return o[e].name}return""}function Xr(){var e,t,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until)return o[e].narrow;if(o[e].until<=n&&n<=o[e].since)return o[e].narrow}return""}function Nr(){var e,t,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until)return o[e].abbr;if(o[e].until<=n&&n<=o[e].since)return o[e].abbr}return""}function Jr(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-o(a[e].since).year())*n+a[e].offset;return this.year()}function Er(e){return l(this,"_erasNameRegex")||Tr.call(this),e?this._erasNameRegex:this._erasRegex}function Hr(e){return l(this,"_erasAbbrRegex")||Tr.call(this),e?this._erasAbbrRegex:this._erasRegex}function Yr(e){return l(this,"_erasNarrowRegex")||Tr.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fr(e,t){return t.erasAbbrRegex(e)}function Kr(e,t){return t.erasNameRegex(e)}function Mr(e,t){return t.erasNarrowRegex(e)}function Lr(e,t){return t._eraYearOrdinalRegex||fe}function Tr(){var e,t,n,o,r,a=[],i=[],l=[],c=[],s=this.eras();for(e=0,t=s.length;e<t;++e)n=Re(s[e].name),o=Re(s[e].abbr),r=Re(s[e].narrow),i.push(n),a.push(o),l.push(r),c.push(n),c.push(o),c.push(r);this._erasRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}function zr(e,t){K(0,[e,e.length],0,t)}function Dr(e){return _r.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Or(e){return _r.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function jr(){return Zt(this.year(),1,4)}function Ur(){return Zt(this.isoWeekYear(),1,4)}function Pr(){var e=this.localeData()._week;return Zt(this.year(),e.dow,e.doy)}function Qr(){var e=this.localeData()._week;return Zt(this.weekYear(),e.dow,e.doy)}function _r(e,t,n,o,r){var a;return null==e?yt(this,o,r).year:(t>(a=Zt(e,o,r))&&(t=a),qr.call(this,e,t,n,o,r))}function qr(e,t,n,o,r){var a=vt(e,t,n,o,r),i=At(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function $r(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),Be("N",Fr),Be("NN",Fr),Be("NNN",Fr),Be("NNNN",Kr),Be("NNNNN",Mr),Xe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,o){var r=n._locale.erasParse(e,o,n._strict);r?h(n).era=r:h(n).invalidEra=e})),Be("y",fe),Be("yy",fe),Be("yyy",fe),Be("yyyy",fe),Be("yo",Lr),Xe(["y","yy","yyy","yyyy"],He),Xe(["yo"],(function(e,t,n,o){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[He]=n._locale.eraYearOrdinalParse(e,r):t[He]=parseInt(e,10)})),K(0,["gg",2],0,(function(){return this.weekYear()%100})),K(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zr("gggg","weekYear"),zr("ggggg","weekYear"),zr("GGGG","isoWeekYear"),zr("GGGGG","isoWeekYear"),Be("G",Ae),Be("g",Ae),Be("GG",de,ce),Be("gg",de,ce),Be("GGGG",he,ge),Be("gggg",he,ge),Be("GGGGG",pe,ue),Be("ggggg",pe,ue),Ne(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,o){t[o.substr(0,2)]=We(e)})),Ne(["gg","GG"],(function(e,t,n,r){t[r]=o.parseTwoDigitYear(e)})),K("Q",0,"Qo","quarter"),Be("Q",le),Xe("Q",(function(e,t){t[Ye]=3*(We(e)-1)})),K("D",["DD",2],"Do","date"),Be("D",de,Se),Be("DD",de,ce),Be("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Xe(["D","DD"],Fe),Xe("Do",(function(e,t){t[Fe]=We(e.match(de)[0])}));var ea=Qe("Date",!0);function ta(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}K("DDD",["DDDD",3],"DDDo","dayOfYear"),Be("DDD",me),Be("DDDD",se),Xe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=We(e)})),K("m",["mm",2],0,"minute"),Be("m",de,Ge),Be("mm",de,ce),Xe(["m","mm"],Me);var na=Qe("Minutes",!1);K("s",["ss",2],0,"second"),Be("s",de,Ge),Be("ss",de,ce),Xe(["s","ss"],Le);var oa,ra,aa=Qe("Seconds",!1);for(K("S",0,0,(function(){return~~(this.millisecond()/100)})),K(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),K(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),K(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),K(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),K(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),K(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Be("S",me,le),Be("SS",me,ce),Be("SSS",me,se),oa="SSSS";oa.length<=9;oa+="S")Be(oa,fe);function ia(e,t){t[Te]=We(1e3*("0."+e))}for(oa="S";oa.length<=9;oa+="S")Xe(oa,ia);function la(){return this._isUTC?"UTC":""}function ca(){return this._isUTC?"Coordinated Universal Time":""}ra=Qe("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");var sa=y.prototype;function ga(e){return Pn(1e3*e)}function ua(){return Pn.apply(null,arguments).parseZone()}function da(e){return e}sa.add=Jo,sa.calendar=To,sa.clone=zo,sa.diff=_o,sa.endOf=fr,sa.format=nr,sa.from=or,sa.fromNow=rr,sa.to=ar,sa.toNow=ir,sa.get=$e,sa.invalidAt=kr,sa.isAfter=Do,sa.isBefore=Oo,sa.isBetween=jo,sa.isSame=Uo,sa.isSameOrAfter=Po,sa.isSameOrBefore=Qo,sa.isValid=Gr,sa.lang=cr,sa.locale=lr,sa.localeData=sr,sa.max=_n,sa.min=Qn,sa.parsingFlags=Br,sa.set=et,sa.startOf=pr,sa.subtract=Eo,sa.toArray=yr,sa.toObject=Zr,sa.toDate=vr,sa.toISOString=er,sa.inspect=tr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=Sr,sa.toString=$o,sa.unix=br,sa.valueOf=Ar,sa.creationData=wr,sa.eraName=xr,sa.eraNarrow=Xr,sa.eraAbbr=Nr,sa.eraYear=Jr,sa.year=Ue,sa.isLeapYear=Pe,sa.weekYear=Dr,sa.isoWeekYear=Or,sa.quarter=sa.quarters=$r,sa.month=It,sa.daysInMonth=Ct,sa.week=sa.weeks=wt,sa.isoWeek=sa.isoWeeks=Rt,sa.weeksInYear=Pr,sa.weeksInWeekYear=Qr,sa.isoWeeksInYear=jr,sa.isoWeeksInISOWeekYear=Ur,sa.date=ea,sa.day=sa.days=zt,sa.weekday=Dt,sa.isoWeekday=Ot,sa.dayOfYear=ta,sa.hour=sa.hours=on,sa.minute=sa.minutes=na,sa.second=sa.seconds=aa,sa.millisecond=sa.milliseconds=ra,sa.utcOffset=ho,sa.utc=fo,sa.local=Ao,sa.parseZone=bo,sa.hasAlignedHourOffset=vo,sa.isDST=yo,sa.isLocal=So,sa.isUtcOffset=Go,sa.isUtc=Bo,sa.isUTC=Bo,sa.zoneAbbr=la,sa.zoneName=ca,sa.dates=G("dates accessor is deprecated. Use date instead.",ea),sa.months=G("months accessor is deprecated. Use month instead",It),sa.years=G("years accessor is deprecated. Use year instead",Ue),sa.zone=G("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",po),sa.isDSTShifted=G("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Zo);var Ia=x.prototype;function Ca(e,t,n,o){var r=fn(),a=C().set(o,t);return r[n](a,e)}function ma(e,t,n){if(g(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ca(e,t,n,"month");var o,r=[];for(o=0;o<12;o++)r[o]=Ca(e,o,n,"month");return r}function ha(e,t,n,o){"boolean"===typeof e?(g(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,g(t)&&(n=t,t=void 0),t=t||"");var r,a=fn(),i=e?a._week.dow:0,l=[];if(null!=n)return Ca(t,(n+i)%7,o,"day");for(r=0;r<7;r++)l[r]=Ca(t,(r+i)%7,o,"day");return l}function pa(e,t){return ma(e,t,"months")}function fa(e,t){return ma(e,t,"monthsShort")}function Aa(e,t,n){return ha(e,t,n,"weekdays")}function ba(e,t,n){return ha(e,t,n,"weekdaysShort")}function va(e,t,n){return ha(e,t,n,"weekdaysMin")}Ia.calendar=N,Ia.longDateFormat=O,Ia.invalidDate=U,Ia.ordinal=_,Ia.preparse=da,Ia.postformat=da,Ia.relativeTime=$,Ia.pastFuture=ee,Ia.set=V,Ia.eras=Rr,Ia.erasParse=Vr,Ia.erasConvertYear=Wr,Ia.erasAbbrRegex=Hr,Ia.erasNameRegex=Er,Ia.erasNarrowRegex=Yr,Ia.months=ct,Ia.monthsShort=st,Ia.monthsParse=ut,Ia.monthsRegex=ht,Ia.monthsShortRegex=mt,Ia.week=St,Ia.firstDayOfYear=kt,Ia.firstDayOfWeek=Bt,Ia.weekdays=Ft,Ia.weekdaysMin=Mt,Ia.weekdaysShort=Kt,Ia.weekdaysParse=Tt,Ia.weekdaysRegex=jt,Ia.weekdaysShortRegex=Ut,Ia.weekdaysMinRegex=Pt,Ia.isPM=tn,Ia.meridiem=rn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===We(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=G("moment.lang is deprecated. Use moment.locale instead.",mn),o.langData=G("moment.langData is deprecated. Use moment.localeData instead.",fn);var ya=Math.abs;function Za(){var e=this._data;return this._milliseconds=ya(this._milliseconds),this._days=ya(this._days),this._months=ya(this._months),e.milliseconds=ya(e.milliseconds),e.seconds=ya(e.seconds),e.minutes=ya(e.minutes),e.hours=ya(e.hours),e.months=ya(e.months),e.years=ya(e.years),this}function Sa(e,t,n,o){var r=Ro(t,n);return e._milliseconds+=o*r._milliseconds,e._days+=o*r._days,e._months+=o*r._months,e._bubble()}function Ga(e,t){return Sa(this,e,t,1)}function Ba(e,t){return Sa(this,e,t,-1)}function ka(e){return e<0?Math.floor(e):Math.ceil(e)}function wa(){var e,t,n,o,r,a=this._milliseconds,i=this._days,l=this._months,c=this._data;return a>=0&&i>=0&&l>=0||a<=0&&i<=0&&l<=0||(a+=864e5*ka(Va(l)+i),i=0,l=0),c.milliseconds=a%1e3,e=Ve(a/1e3),c.seconds=e%60,t=Ve(e/60),c.minutes=t%60,n=Ve(t/60),c.hours=n%24,i+=Ve(n/24),l+=r=Ve(Ra(i)),i-=ka(Va(r)),o=Ve(l/12),l%=12,c.days=i,c.months=l,c.years=o,this}function Ra(e){return 4800*e/146097}function Va(e){return 146097*e/4800}function Wa(e){if(!this.isValid())return NaN;var t,n,o=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+o/864e5,n=this._months+Ra(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Va(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return 24*t+o/36e5;case"minute":return 1440*t+o/6e4;case"second":return 86400*t+o/1e3;case"millisecond":return Math.floor(864e5*t)+o;default:throw new Error("Unknown unit "+e)}}function xa(e){return function(){return this.as(e)}}var Xa=xa("ms"),Na=xa("s"),Ja=xa("m"),Ea=xa("h"),Ha=xa("d"),Ya=xa("w"),Fa=xa("M"),Ka=xa("Q"),Ma=xa("y"),La=Xa;function Ta(){return Ro(this)}function za(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Da(e){return function(){return this.isValid()?this._data[e]:NaN}}var Oa=Da("milliseconds"),ja=Da("seconds"),Ua=Da("minutes"),Pa=Da("hours"),Qa=Da("days"),_a=Da("months"),qa=Da("years");function $a(){return Ve(this.days()/7)}var ei=Math.round,ti={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ni(e,t,n,o,r){return r.relativeTime(t||1,!!n,e,o)}function oi(e,t,n,o){var r=Ro(e).abs(),a=ei(r.as("s")),i=ei(r.as("m")),l=ei(r.as("h")),c=ei(r.as("d")),s=ei(r.as("M")),g=ei(r.as("w")),u=ei(r.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||i<=1&&["m"]||i<n.m&&["mm",i]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(d=d||g<=1&&["w"]||g<n.w&&["ww",g]),(d=d||s<=1&&["M"]||s<n.M&&["MM",s]||u<=1&&["y"]||["yy",u])[2]=t,d[3]=+e>0,d[4]=o,ni.apply(null,d)}function ri(e){return void 0===e?ei:"function"===typeof e&&(ei=e,!0)}function ai(e,t){return void 0!==ti[e]&&(void 0===t?ti[e]:(ti[e]=t,"s"===e&&(ti.ss=t-1),!0))}function ii(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,o,r=!1,a=ti;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(a=Object.assign({},ti,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),o=oi(this,!r,a,n=this.localeData()),r&&(o=n.pastFuture(+this,o)),n.postformat(o)}var li=Math.abs;function ci(e){return(e>0)-(e<0)||+e}function si(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,o,r,a,i,l,c=li(this._milliseconds)/1e3,s=li(this._days),g=li(this._months),u=this.asSeconds();return u?(e=Ve(c/60),t=Ve(e/60),c%=60,e%=60,n=Ve(g/12),g%=12,o=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",a=ci(this._months)!==ci(u)?"-":"",i=ci(this._days)!==ci(u)?"-":"",l=ci(this._milliseconds)!==ci(u)?"-":"",r+"P"+(n?a+n+"Y":"")+(g?a+g+"M":"")+(s?i+s+"D":"")+(t||e||c?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(c?l+o+"S":"")):"P0D"}var gi=io.prototype;return gi.isValid=ro,gi.abs=Za,gi.add=Ga,gi.subtract=Ba,gi.as=Wa,gi.asMilliseconds=Xa,gi.asSeconds=Na,gi.asMinutes=Ja,gi.asHours=Ea,gi.asDays=Ha,gi.asWeeks=Ya,gi.asMonths=Fa,gi.asQuarters=Ka,gi.asYears=Ma,gi.valueOf=La,gi._bubble=wa,gi.clone=Ta,gi.get=za,gi.milliseconds=Oa,gi.seconds=ja,gi.minutes=Ua,gi.hours=Pa,gi.days=Qa,gi.weeks=$a,gi.months=_a,gi.years=qa,gi.humanize=ii,gi.toISOString=si,gi.toString=si,gi.toJSON=si,gi.locale=lr,gi.localeData=sr,gi.toIsoString=G("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",si),gi.lang=cr,K("X",0,0,"unix"),K("x",0,0,"valueOf"),Be("x",Ae),Be("X",ye),Xe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Xe("x",(function(e,t,n){n._d=new Date(We(e))})),o.version="2.30.1",r(Pn),o.fn=sa,o.min=$n,o.max=eo,o.now=to,o.utc=C,o.unix=ga,o.months=pa,o.isDate=u,o.locale=mn,o.invalid=f,o.duration=Ro,o.isMoment=Z,o.weekdays=Aa,o.parseZone=ua,o.localeData=fn,o.isDuration=lo,o.monthsShort=fa,o.weekdaysMin=va,o.defineLocale=hn,o.updateLocale=pn,o.locales=An,o.weekdaysShort=ba,o.normalizeUnits=ne,o.relativeTimeRounding=ri,o.relativeTimeThreshold=ai,o.calendarFormat=Lo,o.prototype=sa,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()},497:(e,t,n)=>{"use strict";var o=n(218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,i){if(i!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var o=n(43),r=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},C={};function m(e,t,n,o,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var p=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}function A(e,t,n,o){var r=h.hasOwnProperty(t)?h[t]:null;(null!==r?0!==r.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!u.call(C,e)||!u.call(I,e)&&(d.test(e)?C[e]=!0:(I[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(p,f);h[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(p,f);h[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(p,f);h[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),k=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var X=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function J(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var E,H=Object.assign;function Y(e){if(void 0===E)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return"\n"+E+e}var F=!1;function K(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var o=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){o=s}e.call(t.prototype)}else{try{throw Error()}catch(s){o=s}e()}}catch(s){if(s&&o&&"string"===typeof s.stack){for(var r=s.stack.split("\n"),a=o.stack.split("\n"),i=r.length-1,l=a.length-1;1<=i&&0<=l&&r[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==a[l]){var c="\n"+r[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=l);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Y(e):""}function M(e){switch(e.tag){case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 1:return e=K(e.type,!0);default:return""}}function L(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Z:return"Fragment";case y:return"Portal";case G:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case W:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}function T(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function D(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function O(e){e._valueTracker||(e._valueTracker=function(e){var t=D(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=D(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function U(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function P(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function _(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function q(e,t){_(e,t);var n=z(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&U(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),o=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ge,ue=(ge=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ie.hasOwnProperty(e)&&Ie[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=me(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(Ie).forEach((function(e){Ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ie[t]=Ie[e]}))}));var pe=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fe(e,t){if(t){if(pe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,Ze=null,Se=null;function Ge(e){if(e=br(e)){if("function"!==typeof ye)throw Error(a(280));var t=e.stateNode;t&&(t=yr(t),ye(e.stateNode,e.type,t))}}function Be(e){Ze?Se?Se.push(e):Se=[e]:Ze=e}function ke(){if(Ze){var e=Ze,t=Se;if(Se=Ze=null,Ge(e),t)for(e=0;e<t.length;e++)Ge(t[e])}}function we(e,t){return e(t)}function Re(){}var Ve=!1;function We(e,t,n){if(Ve)return e(t,n);Ve=!0;try{return we(e,t,n)}finally{Ve=!1,(null!==Ze||null!==Se)&&(Re(),ke())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var o=yr(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Xe=!1;if(g)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Xe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ge){Xe=!1}function Je(e,t,n,o,r,a,i,l,c){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(g){this.onError(g)}}var Ee=!1,He=null,Ye=!1,Fe=null,Ke={onError:function(e){Ee=!0,He=e}};function Me(e,t,n,o,r,a,i,l,c){Ee=!1,He=null,Je.apply(Ke,arguments)}function Le(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Te(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Le(e)!==e)throw Error(a(188))}function De(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Le(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return ze(r),e;if(i===o)return ze(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,c=r.child;c;){if(c===n){l=!0,n=r,o=i;break}if(c===o){l=!0,o=r,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,o=r;break}if(c===o){l=!0,o=i,n=r;break}c=c.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Oe(e):null}function Oe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Oe(e);if(null!==t)return t;e=e.sibling}return null}var je=r.unstable_scheduleCallback,Ue=r.unstable_cancelCallback,Pe=r.unstable_shouldYield,Qe=r.unstable_requestPaint,_e=r.unstable_now,qe=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,rt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var st=64,gt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,r=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~r;0!==l?o=ut(l):0!==(a&=i)&&(o=ut(a))}else 0!==(i=n&~r)?o=ut(i):0!==a&&(o=ut(a));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-it(t)),o|=e[n],t&=~r;return o}function It(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ct(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=st;return 0===(4194240&(st<<=1))&&(st=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-it(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var At=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,yt,Zt,St,Gt,Bt=!1,kt=[],wt=null,Rt=null,Vt=null,Wt=new Map,xt=new Map,Xt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jt(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Et(e,t,n,o,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&yt(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ht(e){var t=Ar(e.target);if(null!==t){var n=Le(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Te(n)))return e.blockedOn=t,void Gt(e.priority,(function(){Zt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&yt(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);be=o,n.target.dispatchEvent(o),be=null,t.shift()}return!0}function Ft(e,t,n){Yt(e)&&n.delete(t)}function Kt(){Bt=!1,null!==wt&&Yt(wt)&&(wt=null),null!==Rt&&Yt(Rt)&&(Rt=null),null!==Vt&&Yt(Vt)&&(Vt=null),Wt.forEach(Ft),xt.forEach(Ft)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Bt||(Bt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kt)))}function Lt(e){function t(t){return Mt(t,e)}if(0<kt.length){Mt(kt[0],e);for(var n=1;n<kt.length;n++){var o=kt[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==Rt&&Mt(Rt,e),null!==Vt&&Mt(Vt,e),Wt.forEach(t),xt.forEach(t),n=0;n<Xt.length;n++)(o=Xt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)Ht(n),null===n.blockedOn&&Xt.shift()}var Tt=b.ReactCurrentBatchConfig,zt=!0;function Dt(e,t,n,o){var r=At,a=Tt.transition;Tt.transition=null;try{At=1,jt(e,t,n,o)}finally{At=r,Tt.transition=a}}function Ot(e,t,n,o){var r=At,a=Tt.transition;Tt.transition=null;try{At=4,jt(e,t,n,o)}finally{At=r,Tt.transition=a}}function jt(e,t,n,o){if(zt){var r=Pt(e,t,n,o);if(null===r)Do(e,t,o,Ut,n),Jt(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return wt=Et(wt,e,t,n,o,r),!0;case"dragenter":return Rt=Et(Rt,e,t,n,o,r),!0;case"mouseover":return Vt=Et(Vt,e,t,n,o,r),!0;case"pointerover":var a=r.pointerId;return Wt.set(a,Et(Wt.get(a)||null,e,t,n,o,r)),!0;case"gotpointercapture":return a=r.pointerId,xt.set(a,Et(xt.get(a)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(Jt(e,o),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var a=br(r);if(null!==a&&vt(a),null===(a=Pt(e,t,n,o))&&Do(e,t,o,Ut,n),a===r)break;r=a}null!==r&&o.stopPropagation()}else Do(e,t,o,null,n)}}var Ut=null;function Pt(e,t,n,o){if(Ut=null,null!==(e=Ar(e=ve(o))))if(null===(t=Le(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Te(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ut=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var _t=null,qt=null,$t=null;function en(){if($t)return $t;var e,t,n=qt,o=n.length,r="value"in _t?_t.value:_t.textContent,a=r.length;for(e=0;e<o&&n[e]===r[e];e++);var i=o-e;for(t=1;t<=i&&n[o-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,o,r,a){for(var i in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:on,this.isPropagationStopped=on,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,cn,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gn=rn(sn),un=H({},sn,{view:0,detail:0}),dn=rn(un),In=H({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),Cn=rn(In),mn=rn(H({},In,{dataTransfer:0})),hn=rn(H({},un,{relatedTarget:0})),pn=rn(H({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=H({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=rn(fn),bn=rn(H({},sn,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Zn[e])&&!!t[e]}function Gn(){return Sn}var Bn=H({},un,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=rn(Bn),wn=rn(H({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=rn(H({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn})),Vn=rn(H({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Wn=H({},In,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=rn(Wn),Xn=[9,13,27,32],Nn=g&&"CompositionEvent"in window,Jn=null;g&&"documentMode"in document&&(Jn=document.documentMode);var En=g&&"TextEvent"in window&&!Jn,Hn=g&&(!Nn||Jn&&8<Jn&&11>=Jn),Yn=String.fromCharCode(32),Fn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Dn(e,t,n,o){Be(o),0<(t=jo(t,"onChange")).length&&(n=new gn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var On=null,jn=null;function Un(e){Fo(e,0)}function Pn(e){if(j(vr(e)))return e}function Qn(e,t){if("change"===e)return t}var _n=!1;if(g){var qn;if(g){var $n="oninput"in document;if(!$n){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),$n="function"===typeof eo.oninput}qn=$n}else qn=!1;_n=qn&&(!document.documentMode||9<document.documentMode)}function to(){On&&(On.detachEvent("onpropertychange",no),jn=On=null)}function no(e){if("value"===e.propertyName&&Pn(jn)){var t=[];Dn(t,jn,e,ve(e)),We(Un,t)}}function oo(e,t,n){"focusin"===e?(to(),jn=n,(On=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function ro(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pn(jn)}function ao(e,t){if("click"===e)return Pn(t)}function io(e,t){if("input"===e||"change"===e)return Pn(t)}var lo="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function co(e,t){if(lo(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!u.call(t,r)||!lo(e[r],t[r]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function go(e,t){var n,o=so(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=so(o)}}function uo(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?uo(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Io(){for(var e=window,t=U();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=U((e=t.contentWindow).document)}return t}function Co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=Io(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uo(n.ownerDocument.documentElement,n)){if(null!==o&&Co(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(o.start,r);o=void 0===o.end?a:Math.min(o.end,r),!e.extend&&a>o&&(r=o,o=a,a=r),r=go(n,a);var i=go(n,o);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ho=g&&"documentMode"in document&&11>=document.documentMode,po=null,fo=null,Ao=null,bo=!1;function vo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bo||null==po||po!==U(o)||("selectionStart"in(o=po)&&Co(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},Ao&&co(Ao,o)||(Ao=o,0<(o=jo(fo,"onSelect")).length&&(t=new gn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=po)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zo={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},So={},Go={};function Bo(e){if(So[e])return So[e];if(!Zo[e])return e;var t,n=Zo[e];for(t in n)if(n.hasOwnProperty(t)&&t in Go)return So[e]=n[t];return e}g&&(Go=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);var ko=Bo("animationend"),wo=Bo("animationiteration"),Ro=Bo("animationstart"),Vo=Bo("transitionend"),Wo=new Map,xo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(e,t){Wo.set(e,t),c(t,[e])}for(var No=0;No<xo.length;No++){var Jo=xo[No];Xo(Jo.toLowerCase(),"on"+(Jo[0].toUpperCase()+Jo.slice(1)))}Xo(ko,"onAnimationEnd"),Xo(wo,"onAnimationIteration"),Xo(Ro,"onAnimationStart"),Xo("dblclick","onDoubleClick"),Xo("focusin","onFocus"),Xo("focusout","onBlur"),Xo(Vo,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ho=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Yo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,i,l,c,s){if(Me.apply(this,arguments),Ee){if(!Ee)throw Error(a(198));var g=He;Ee=!1,He=null,Ye||(Ye=!0,Fe=g)}}(o,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var i=o.length-1;0<=i;i--){var l=o[i],c=l.instance,s=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Yo(r,l,s),a=c}else for(i=0;i<o.length;i++){if(c=(l=o[i]).instance,s=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Yo(r,l,s),a=c}}}if(Ye)throw e=Fe,Ye=!1,Fe=null,e}function Ko(e,t){var n=t[hr];void 0===n&&(n=t[hr]=new Set);var o=e+"__bubble";n.has(o)||(zo(t,e,2,!1),n.add(o))}function Mo(e,t,n){var o=0;t&&(o|=4),zo(n,e,o,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function To(e){if(!e[Lo]){e[Lo]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ho.has(t)||Mo(t,!1,e),Mo(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Lo]||(t[Lo]=!0,Mo("selectionchange",!1,t))}}function zo(e,t,n,o){switch(Qt(t)){case 1:var r=Dt;break;case 4:r=Ot;break;default:r=jt}n=r.bind(null,t,n,e),r=void 0,!Xe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Do(e,t,n,o,r){var a=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var i=o.tag;if(3===i||4===i){var l=o.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=o.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===r||8===c.nodeType&&c.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=Ar(l)))return;if(5===(c=i.tag)||6===c){o=a=i;continue e}l=l.parentNode}}o=o.return}We((function(){var o=a,r=ve(n),i=[];e:{var l=Wo.get(e);if(void 0!==l){var c=gn,s=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=kn;break;case"focusin":s="focus",c=hn;break;case"focusout":s="blur",c=hn;break;case"beforeblur":case"afterblur":c=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case ko:case wo:case Ro:c=pn;break;case Vo:c=Vn;break;case"scroll":c=dn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn}var g=0!==(4&t),u=!g&&"scroll"===e,d=g?null!==l?l+"Capture":null:l;g=[];for(var I,C=o;null!==C;){var m=(I=C).stateNode;if(5===I.tag&&null!==m&&(I=m,null!==d&&(null!=(m=xe(C,d))&&g.push(Oo(C,m,I)))),u)break;C=C.return}0<g.length&&(l=new c(l,s,null,n,r),i.push({event:l,listeners:g}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(s=n.relatedTarget||n.fromElement)||!Ar(s)&&!s[mr])&&(c||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=o,null!==(s=(s=n.relatedTarget||n.toElement)?Ar(s):null)&&(s!==(u=Le(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(c=null,s=o),c!==s)){if(g=Cn,m="onMouseLeave",d="onMouseEnter",C="mouse","pointerout"!==e&&"pointerover"!==e||(g=wn,m="onPointerLeave",d="onPointerEnter",C="pointer"),u=null==c?l:vr(c),I=null==s?l:vr(s),(l=new g(m,C+"leave",c,n,r)).target=u,l.relatedTarget=I,m=null,Ar(r)===o&&((g=new g(d,C+"enter",s,n,r)).target=I,g.relatedTarget=u,m=g),u=m,c&&s)e:{for(d=s,C=0,I=g=c;I;I=Uo(I))C++;for(I=0,m=d;m;m=Uo(m))I++;for(;0<C-I;)g=Uo(g),C--;for(;0<I-C;)d=Uo(d),I--;for(;C--;){if(g===d||null!==d&&g===d.alternate)break e;g=Uo(g),d=Uo(d)}g=null}else g=null;null!==c&&Po(i,l,c,g,!1),null!==s&&null!==u&&Po(i,u,s,g,!0)}if("select"===(c=(l=o?vr(o):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var h=Qn;else if(zn(l))if(_n)h=io;else{h=ro;var p=oo}else(c=l.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(h=ao);switch(h&&(h=h(e,o))?Dn(i,h,n,r):(p&&p(e,l,o),"focusout"===e&&(p=l._wrapperState)&&p.controlled&&"number"===l.type&&ee(l,"number",l.value)),p=o?vr(o):window,e){case"focusin":(zn(p)||"true"===p.contentEditable)&&(po=p,fo=o,Ao=null);break;case"focusout":Ao=fo=po=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,vo(i,n,r);break;case"selectionchange":if(ho)break;case"keydown":case"keyup":vo(i,n,r)}var f;if(Nn)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ln?Kn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Hn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==A?"onCompositionEnd"===A&&Ln&&(f=en()):(qt="value"in(_t=r)?_t.value:_t.textContent,Ln=!0)),0<(p=jo(o,A)).length&&(A=new bn(A,e,null,n,r),i.push({event:A,listeners:p}),f?A.data=f:null!==(f=Mn(n))&&(A.data=f))),(f=En?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Yn);case"textInput":return(e=t.data)===Yn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Nn&&Kn(e,t)?(e=en(),$t=qt=_t=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=jo(o,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:o}),r.data=f))}Fo(i,t)}))}function Oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jo(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=xe(e,n))&&o.unshift(Oo(e,a,r)),null!=(a=xe(e,t))&&o.push(Oo(e,a,r))),e=e.return}return o}function Uo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Po(e,t,n,o,r){for(var a=t._reactName,i=[];null!==n&&n!==o;){var l=n,c=l.alternate,s=l.stateNode;if(null!==c&&c===o)break;5===l.tag&&null!==s&&(l=s,r?null!=(c=xe(n,a))&&i.unshift(Oo(n,c,l)):r||null!=(c=xe(n,a))&&i.push(Oo(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qo=/\r\n?/g,_o=/\u0000|\uFFFD/g;function qo(e){return("string"===typeof e?e:""+e).replace(Qo,"\n").replace(_o,"")}function $o(e,t,n){if(t=qo(t),qo(e)!==t&&n)throw Error(a(425))}function er(){}var tr=null,nr=null;function or(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ar="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(cr)}:rr;function cr(e){setTimeout((function(){throw e}))}function sr(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return e.removeChild(r),void Lt(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Lt(t)}function gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Ir="__reactFiber$"+dr,Cr="__reactProps$"+dr,mr="__reactContainer$"+dr,hr="__reactEvents$"+dr,pr="__reactListeners$"+dr,fr="__reactHandles$"+dr;function Ar(e){var t=e[Ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[Ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[Ir])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[Ir]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yr(e){return e[Cr]||null}var Zr=[],Sr=-1;function Gr(e){return{current:e}}function Br(e){0>Sr||(e.current=Zr[Sr],Zr[Sr]=null,Sr--)}function kr(e,t){Sr++,Zr[Sr]=e.current,e.current=t}var wr={},Rr=Gr(wr),Vr=Gr(!1),Wr=wr;function xr(e,t){var n=e.type.contextTypes;if(!n)return wr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Nr(){Br(Vr),Br(Rr)}function Jr(e,t,n){if(Rr.current!==wr)throw Error(a(168));kr(Rr,t),kr(Vr,n)}function Er(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(a(108,T(e)||"Unknown",r));return H({},n,o)}function Hr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Wr=Rr.current,kr(Rr,e),kr(Vr,Vr.current),!0}function Yr(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=Er(e,t,Wr),o.__reactInternalMemoizedMergedChildContext=e,Br(Vr),Br(Rr),kr(Rr,e)):Br(Vr),kr(Vr,n)}var Fr=null,Kr=!1,Mr=!1;function Lr(e){null===Fr?Fr=[e]:Fr.push(e)}function Tr(){if(!Mr&&null!==Fr){Mr=!0;var e=0,t=At;try{var n=Fr;for(At=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Fr=null,Kr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),je($e,Tr),r}finally{At=t,Mr=!1}}return null}var zr=[],Dr=0,Or=null,jr=0,Ur=[],Pr=0,Qr=null,_r=1,qr="";function $r(e,t){zr[Dr++]=jr,zr[Dr++]=Or,Or=e,jr=t}function ea(e,t,n){Ur[Pr++]=_r,Ur[Pr++]=qr,Ur[Pr++]=Qr,Qr=e;var o=_r;e=qr;var r=32-it(o)-1;o&=~(1<<r),n+=1;var a=32-it(t)+r;if(30<a){var i=r-r%5;a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,_r=1<<32-it(t)+r|n<<r|o,qr=a+e}else _r=1<<a|n<<r|o,qr=e}function ta(e){null!==e.return&&($r(e,1),ea(e,1,0))}function na(e){for(;e===Or;)Or=zr[--Dr],zr[Dr]=null,jr=zr[--Dr],zr[Dr]=null;for(;e===Qr;)Qr=Ur[--Pr],Ur[Pr]=null,qr=Ur[--Pr],Ur[Pr]=null,_r=Ur[--Pr],Ur[Pr]=null}var oa=null,ra=null,aa=!1,ia=null;function la(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oa=e,ra=gr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:_r,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ws(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oa=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ga(e){if(aa){var t=ra;if(t){var n=t;if(!ca(e,t)){if(sa(e))throw Error(a(418));t=gr(n.nextSibling);var o=oa;t&&ca(e,t)?la(o,n):(e.flags=-4097&e.flags|2,aa=!1,oa=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,oa=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oa=e}function da(e){if(e!==oa)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!or(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw Ia(),Error(a(418));for(;t;)la(e,t),t=gr(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=oa?gr(e.stateNode.nextSibling):null;return!0}function Ia(){for(var e=ra;e;)e=gr(e.nextSibling)}function Ca(){ra=oa=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ha=b.ReactCurrentBatchConfig;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var r=o,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Aa(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Xs(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,o){return null===t||6!==t.tag?((t=Hs(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function s(e,t,n,o){var a=n.type;return a===Z?u(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===x&&Aa(a)===t.type)?((o=r(t,n.props)).ref=pa(e,t,n),o.return=e,o):((o=Ns(n.type,n.key,n.props,null,e.mode,o)).ref=pa(e,t,n),o.return=e,o)}function g(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,o,a){return null===t||7!==t.tag?((t=Js(n,e.mode,o,a)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Hs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(n=Ns(t.type,t.key,t.props,null,e.mode,n)).ref=pa(e,null,t),n.return=e,n;case y:return(t=Ys(t,e.mode,n)).return=e,t;case x:return d(e,(0,t._init)(t._payload),n)}if(te(t)||J(t))return(t=Js(t,e.mode,n,null)).return=e,t;fa(e,t)}return null}function I(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:c(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===r?s(e,t,n,o):null;case y:return n.key===r?g(e,t,n,o):null;case x:return I(e,t,(r=n._init)(n._payload),o)}if(te(n)||J(n))return null!==r?null:u(e,t,n,o,null);fa(e,n)}return null}function C(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return c(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case v:return s(t,e=e.get(null===o.key?n:o.key)||null,o,r);case y:return g(t,e=e.get(null===o.key?n:o.key)||null,o,r);case x:return C(e,t,n,(0,o._init)(o._payload),r)}if(te(o)||J(o))return u(t,e=e.get(n)||null,o,r,null);fa(t,o)}return null}function m(r,a,l,c){for(var s=null,g=null,u=a,m=a=0,h=null;null!==u&&m<l.length;m++){u.index>m?(h=u,u=null):h=u.sibling;var p=I(r,u,l[m],c);if(null===p){null===u&&(u=h);break}e&&u&&null===p.alternate&&t(r,u),a=i(p,a,m),null===g?s=p:g.sibling=p,g=p,u=h}if(m===l.length)return n(r,u),aa&&$r(r,m),s;if(null===u){for(;m<l.length;m++)null!==(u=d(r,l[m],c))&&(a=i(u,a,m),null===g?s=u:g.sibling=u,g=u);return aa&&$r(r,m),s}for(u=o(r,u);m<l.length;m++)null!==(h=C(u,r,m,l[m],c))&&(e&&null!==h.alternate&&u.delete(null===h.key?m:h.key),a=i(h,a,m),null===g?s=h:g.sibling=h,g=h);return e&&u.forEach((function(e){return t(r,e)})),aa&&$r(r,m),s}function h(r,l,c,s){var g=J(c);if("function"!==typeof g)throw Error(a(150));if(null==(c=g.call(c)))throw Error(a(151));for(var u=g=null,m=l,h=l=0,p=null,f=c.next();null!==m&&!f.done;h++,f=c.next()){m.index>h?(p=m,m=null):p=m.sibling;var A=I(r,m,f.value,s);if(null===A){null===m&&(m=p);break}e&&m&&null===A.alternate&&t(r,m),l=i(A,l,h),null===u?g=A:u.sibling=A,u=A,m=p}if(f.done)return n(r,m),aa&&$r(r,h),g;if(null===m){for(;!f.done;h++,f=c.next())null!==(f=d(r,f.value,s))&&(l=i(f,l,h),null===u?g=f:u.sibling=f,u=f);return aa&&$r(r,h),g}for(m=o(r,m);!f.done;h++,f=c.next())null!==(f=C(m,r,h,f.value,s))&&(e&&null!==f.alternate&&m.delete(null===f.key?h:f.key),l=i(f,l,h),null===u?g=f:u.sibling=f,u=f);return e&&m.forEach((function(e){return t(r,e)})),aa&&$r(r,h),g}return function e(o,a,i,c){if("object"===typeof i&&null!==i&&i.type===Z&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case v:e:{for(var s=i.key,g=a;null!==g;){if(g.key===s){if((s=i.type)===Z){if(7===g.tag){n(o,g.sibling),(a=r(g,i.props.children)).return=o,o=a;break e}}else if(g.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===x&&Aa(s)===g.type){n(o,g.sibling),(a=r(g,i.props)).ref=pa(o,g,i),a.return=o,o=a;break e}n(o,g);break}t(o,g),g=g.sibling}i.type===Z?((a=Js(i.props.children,o.mode,c,i.key)).return=o,o=a):((c=Ns(i.type,i.key,i.props,null,o.mode,c)).ref=pa(o,a,i),c.return=o,o=c)}return l(o);case y:e:{for(g=i.key;null!==a;){if(a.key===g){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(o,a.sibling),(a=r(a,i.children||[])).return=o,o=a;break e}n(o,a);break}t(o,a),a=a.sibling}(a=Ys(i,o.mode,c)).return=o,o=a}return l(o);case x:return e(o,a,(g=i._init)(i._payload),c)}if(te(i))return m(o,a,i,c);if(J(i))return h(o,a,i,c);fa(o,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(o,a.sibling),(a=r(a,i)).return=o,o=a):(n(o,a),(a=Hs(i,o.mode,c)).return=o,o=a),l(o)):n(o,a)}}var va=ba(!0),ya=ba(!1),Za=Gr(null),Sa=null,Ga=null,Ba=null;function ka(){Ba=Ga=Sa=null}function wa(e){var t=Za.current;Br(Za),e._currentValue=t}function Ra(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Va(e,t){Sa=e,Ba=Ga=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Al=!0),e.firstContext=null)}function Wa(e){var t=e._currentValue;if(Ba!==e)if(e={context:e,memoizedValue:t,next:null},null===Ga){if(null===Sa)throw Error(a(308));Ga=e,Sa.dependencies={lanes:0,firstContext:e}}else Ga=Ga.next=e;return t}var xa=null;function Xa(e){null===xa?xa=[e]:xa.push(e)}function Na(e,t,n,o){var r=t.interleaved;return null===r?(n.next=n,Xa(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ja(e,o)}function Ja(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ea=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&wc)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Ja(e,n)}return null===(r=o.interleaved)?(t.next=t,Xa(o)):(t.next=r.next,r.next=t),o.interleaved=t,Ja(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,ft(e,n)}}function La(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ta(e,t,n,o){var r=e.updateQueue;Ea=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var c=l,s=c.next;c.next=null,null===i?a=s:i.next=s,i=c;var g=e.alternate;null!==g&&((l=(g=g.updateQueue).lastBaseUpdate)!==i&&(null===l?g.firstBaseUpdate=s:l.next=s,g.lastBaseUpdate=c))}if(null!==a){var u=r.baseState;for(i=0,g=s=c=null,l=a;;){var d=l.lane,I=l.eventTime;if((o&d)===d){null!==g&&(g=g.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,m=l;switch(d=t,I=n,m.tag){case 1:if("function"===typeof(C=m.payload)){u=C.call(I,u,d);break e}u=C;break e;case 3:C.flags=-65537&C.flags|128;case 0:if(null===(d="function"===typeof(C=m.payload)?C.call(I,u,d):C)||void 0===d)break e;u=H({},u,d);break e;case 2:Ea=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[l]:d.push(l))}else I={eventTime:I,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===g?(s=g=I,c=u):g=g.next=I,i|=d;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(d=l).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===g&&(c=u),r.baseState=c,r.firstBaseUpdate=s,r.lastBaseUpdate=g,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Ec|=i,e.lanes=i,e.memoizedState=u}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(a(191,r));r.call(o)}}}var Da={},Oa=Gr(Da),ja=Gr(Da),Ua=Gr(Da);function Pa(e){if(e===Da)throw Error(a(174));return e}function Qa(e,t){switch(kr(Ua,t),kr(ja,e),kr(Oa,Da),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Br(Oa),kr(Oa,t)}function _a(){Br(Oa),Br(ja),Br(Ua)}function qa(e){Pa(Ua.current);var t=Pa(Oa.current),n=ce(t,e.type);t!==n&&(kr(ja,e),kr(Oa,n))}function $a(e){ja.current===e&&(Br(Oa),Br(ja))}var ei=Gr(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function oi(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ri=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,ii=0,li=null,ci=null,si=null,gi=!1,ui=!1,di=0,Ii=0;function Ci(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function hi(e,t,n,o,r,i){if(ii=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?$i:el,e=n(o,r),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(a(301));i+=1,si=ci=null,t.updateQueue=null,ri.current=tl,e=n(o,r)}while(ui)}if(ri.current=qi,t=null!==ci&&null!==ci.next,ii=0,si=ci=li=null,gi=!1,t)throw Error(a(300));return e}function pi(){var e=0!==di;return di=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===si?li.memoizedState=si=e:si=si.next=e,si}function Ai(){if(null===ci){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=ci.next;var t=null===si?li.memoizedState:si.next;if(null!==t)si=t,ci=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ci=e).memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},null===si?li.memoizedState=si=e:si=si.next=e}return si}function bi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=Ai(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=ci,r=o.baseQueue,i=n.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,o=o.baseState;var c=l=null,s=null,g=i;do{var u=g.lane;if((ii&u)===u)null!==s&&(s=s.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var d={lane:u,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};null===s?(c=s=d,l=o):s=s.next=d,li.lanes|=u,Ec|=u}g=g.next}while(null!==g&&g!==i);null===s?l=o:s.next=c,lo(o,t.memoizedState)||(Al=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=s,n.lastRenderedState=o}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,li.lanes|=i,Ec|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yi(e){var t=Ai(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);lo(i,t.memoizedState)||(Al=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Zi(){}function Si(e,t){var n=li,o=Ai(),r=t(),i=!lo(o.memoizedState,r);if(i&&(o.memoizedState=r,Al=!0),o=o.queue,Ei(ki.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||null!==si&&1&si.memoizedState.tag){if(n.flags|=2048,Wi(9,Bi.bind(null,n,o,r,t),void 0,null),null===Rc)throw Error(a(349));0!==(30&ii)||Gi(n,t,r)}return r}function Gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Bi(e,t,n,o){t.value=n,t.getSnapshot=o,wi(t)&&Ri(e)}function ki(e,t,n){return n((function(){wi(t)&&Ri(e)}))}function wi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch(o){return!0}}function Ri(e){var t=Ja(e,1);null!==t&&ns(t,e,1,-1)}function Vi(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ui.bind(null,li,e),[t.memoizedState,e]}function Wi(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function xi(){return Ai().memoizedState}function Xi(e,t,n,o){var r=fi();li.flags|=e,r.memoizedState=Wi(1|t,n,void 0,void 0===o?null:o)}function Ni(e,t,n,o){var r=Ai();o=void 0===o?null:o;var a=void 0;if(null!==ci){var i=ci.memoizedState;if(a=i.destroy,null!==o&&mi(o,i.deps))return void(r.memoizedState=Wi(t,n,a,o))}li.flags|=e,r.memoizedState=Wi(1|t,n,a,o)}function Ji(e,t){return Xi(8390656,8,e,t)}function Ei(e,t){return Ni(2048,8,e,t)}function Hi(e,t){return Ni(4,2,e,t)}function Yi(e,t){return Ni(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ki(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ni(4,4,Fi.bind(null,t,e),n)}function Mi(){}function Li(e,t){var n=Ai();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&mi(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ti(e,t){var n=Ai();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&mi(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function zi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,Al=!0),e.memoizedState=n):(lo(n,t)||(n=mt(),li.lanes|=n,Ec|=n,e.baseState=!0),t)}function Di(e,t){var n=At;At=0!==n&&4>n?n:4,e(!0);var o=ai.transition;ai.transition={};try{e(!1),t()}finally{At=n,ai.transition=o}}function Oi(){return Ai().memoizedState}function ji(e,t,n){var o=ts(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Pi(e))Qi(t,n);else if(null!==(n=Na(e,t,n,o))){ns(n,e,o,es()),_i(n,t,o)}}function Ui(e,t,n){var o=ts(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pi(e))Qi(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(r.hasEagerState=!0,r.eagerState=l,lo(l,i)){var c=t.interleaved;return null===c?(r.next=r,Xa(t)):(r.next=c.next,c.next=r),void(t.interleaved=r)}}catch(s){}null!==(n=Na(e,t,r,o))&&(ns(n,e,o,r=es()),_i(n,t,o))}}function Pi(e){var t=e.alternate;return e===li||null!==t&&t===li}function Qi(e,t){ui=gi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _i(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,ft(e,n)}}var qi={readContext:Wa,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},$i={readContext:Wa,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:Wa,useEffect:Ji,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xi(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xi(4,2,e,t)},useMemo:function(e,t){var n=fi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=fi();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ji.bind(null,li,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Vi,useDebugValue:Mi,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Vi(!1),t=e[0];return e=Di.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=li,r=fi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Rc)throw Error(a(349));0!==(30&ii)||Gi(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ji(ki.bind(null,o,i,e),[e]),o.flags|=2048,Wi(9,Bi.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=fi(),t=Rc.identifierPrefix;if(aa){var n=qr;t=":"+t+"R"+(n=(_r&~(1<<32-it(_r)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ii++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Wa,useCallback:Li,useContext:Wa,useEffect:Ei,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Yi,useMemo:Ti,useReducer:vi,useRef:xi,useState:function(){return vi(bi)},useDebugValue:Mi,useDeferredValue:function(e){return zi(Ai(),ci.memoizedState,e)},useTransition:function(){return[vi(bi)[0],Ai().memoizedState]},useMutableSource:Zi,useSyncExternalStore:Si,useId:Oi,unstable_isNewReconciler:!1},tl={readContext:Wa,useCallback:Li,useContext:Wa,useEffect:Ei,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Yi,useMemo:Ti,useReducer:yi,useRef:xi,useState:function(){return yi(bi)},useDebugValue:Mi,useDeferredValue:function(e){var t=Ai();return null===ci?t.memoizedState=e:zi(t,ci.memoizedState,e)},useTransition:function(){return[yi(bi)[0],Ai().memoizedState]},useMutableSource:Zi,useSyncExternalStore:Si,useId:Oi,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=H({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ol(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:H({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Le(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=es(),r=ts(e),a=Fa(o,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ka(e,a,r))&&(ns(t,e,r,o),Ma(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=es(),r=ts(e),a=Fa(o,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ka(e,a,r))&&(ns(t,e,r,o),Ma(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=es(),o=ts(e),r=Fa(n,o);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ka(e,r,o))&&(ns(t,e,o,n),Ma(t,e,o))}};function al(e,t,n,o,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!co(n,o)||!co(r,a))}function il(e,t,n){var o=!1,r=wr,a=t.contextType;return"object"===typeof a&&null!==a?a=Wa(a):(r=Xr(t)?Wr:Rr.current,a=(o=null!==(o=t.contextTypes)&&void 0!==o)?xr(e,r):wr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ll(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function cl(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ha(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Wa(a):(a=Xr(t)?Wr:Rr.current,r.context=xr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ol(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rl.enqueueReplaceState(r,r.state,null),Ta(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function sl(e,t){try{var n="",o=t;do{n+=M(o),o=o.return}while(o);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function gl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ul(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var dl="function"===typeof WeakMap?WeakMap:Map;function Il(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){zc||(zc=!0,Dc=o),ul(0,t)},n}function Cl(e,t,n){(n=Fa(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){ul(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ul(0,t),"function"!==typeof o&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new dl;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Gs.bind(null,e,t,n),t.then(e,e))}function hl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pl(e,t,n,o,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ka(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var fl=b.ReactCurrentOwner,Al=!1;function bl(e,t,n,o){t.child=null===e?ya(t,null,n,o):va(t,e.child,n,o)}function vl(e,t,n,o,r){n=n.render;var a=t.ref;return Va(t,r),o=hi(e,t,n,o,a,r),n=pi(),null===e||Al?(aa&&n&&ta(t),t.flags|=1,bl(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zl(e,t,r))}function yl(e,t,n,o,r){if(null===e){var a=n.type;return"function"!==typeof a||xs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ns(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Zl(e,t,a,o,r))}if(a=e.child,0===(e.lanes&r)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:co)(i,o)&&e.ref===t.ref)return zl(e,t,r)}return t.flags|=1,(e=Xs(a,o)).ref=t.ref,e.return=t,t.child=e}function Zl(e,t,n,o,r){if(null!==e){var a=e.memoizedProps;if(co(a,o)&&e.ref===t.ref){if(Al=!1,t.pendingProps=o=a,0===(e.lanes&r))return t.lanes=e.lanes,zl(e,t,r);0!==(131072&e.flags)&&(Al=!0)}}return Bl(e,t,n,o,r)}function Sl(e,t,n){var o=t.pendingProps,r=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Xc,xc),xc|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Xc,xc),xc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==a?a.baseLanes:n,kr(Xc,xc),xc|=o}else null!==a?(o=a.baseLanes|n,t.memoizedState=null):o=n,kr(Xc,xc),xc|=o;return bl(e,t,r,n),t.child}function Gl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bl(e,t,n,o,r){var a=Xr(n)?Wr:Rr.current;return a=xr(t,a),Va(t,r),n=hi(e,t,n,o,a,r),o=pi(),null===e||Al?(aa&&o&&ta(t),t.flags|=1,bl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zl(e,t,r))}function kl(e,t,n,o,r){if(Xr(n)){var a=!0;Hr(t)}else a=!1;if(Va(t,r),null===t.stateNode)Tl(e,t),il(t,n,o),cl(t,n,o,r),o=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,s=n.contextType;"object"===typeof s&&null!==s?s=Wa(s):s=xr(t,s=Xr(n)?Wr:Rr.current);var g=n.getDerivedStateFromProps,u="function"===typeof g||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==o||c!==s)&&ll(t,i,o,s),Ea=!1;var d=t.memoizedState;i.state=d,Ta(t,o,i,r),c=t.memoizedState,l!==o||d!==c||Vr.current||Ea?("function"===typeof g&&(ol(t,n,g,o),c=t.memoizedState),(l=Ea||al(t,n,l,o,d,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),i.props=o,i.state=c,i.context=s,o=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,Ya(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:nl(t.type,l),i.props=s,u=t.pendingProps,d=i.context,"object"===typeof(c=n.contextType)&&null!==c?c=Wa(c):c=xr(t,c=Xr(n)?Wr:Rr.current);var I=n.getDerivedStateFromProps;(g="function"===typeof I||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||d!==c)&&ll(t,i,o,c),Ea=!1,d=t.memoizedState,i.state=d,Ta(t,o,i,r);var C=t.memoizedState;l!==u||d!==C||Vr.current||Ea?("function"===typeof I&&(ol(t,n,I,o),C=t.memoizedState),(s=Ea||al(t,n,s,o,d,C,c)||!1)?(g||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(o,C,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,C,c)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=C),i.props=o,i.state=C,i.context=c,o=s):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),o=!1)}return wl(e,t,n,o,a,r)}function wl(e,t,n,o,r,a){Gl(e,t);var i=0!==(128&t.flags);if(!o&&!i)return r&&Yr(t,n,!1),zl(e,t,a);o=t.stateNode,fl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&i?(t.child=va(t,e.child,null,a),t.child=va(t,null,l,a)):bl(e,t,l,a),t.memoizedState=o.state,r&&Yr(t,n,!0),t.child}function Rl(e){var t=e.stateNode;t.pendingContext?Jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Jr(0,t.context,!1),Qa(e,t.containerInfo)}function Vl(e,t,n,o,r){return Ca(),ma(r),t.flags|=256,bl(e,t,n,o),t.child}var Wl,xl,Xl,Nl,Jl={dehydrated:null,treeContext:null,retryLane:0};function El(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hl(e,t,n){var o,r=t.pendingProps,i=ei.current,l=!1,c=0!==(128&t.flags);if((o=c)||(o=(null===e||null!==e.memoizedState)&&0!==(2&i)),o?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),kr(ei,1&i),null===e)return ga(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=r.children,e=r.fallback,l?(r=t.mode,l=t.child,c={mode:"hidden",children:c},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=c):l=Es(c,r,0,null),e=Js(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=El(n),t.memoizedState=Jl,e):Yl(t,c));if(null!==(i=e.memoizedState)&&null!==(o=i.dehydrated))return function(e,t,n,o,r,i,l){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,o=gl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Es({mode:"visible",children:o.children},r,0,null),(i=Js(i,r,l,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,0!==(1&t.mode)&&va(t,e.child,null,l),t.child.memoizedState=El(l),t.memoizedState=Jl,i);if(0===(1&t.mode))return Fl(e,t,l,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var c=o.dgst;return o=c,Fl(e,t,l,o=gl(i=Error(a(419)),o,void 0))}if(c=0!==(l&e.childLanes),Al||c){if(null!==(o=Rc)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ja(e,r),ns(o,e,r,-1))}return ms(),Fl(e,t,l,o=gl(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=ks.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ra=gr(r.nextSibling),oa=t,aa=!0,ia=null,null!==e&&(Ur[Pr++]=_r,Ur[Pr++]=qr,Ur[Pr++]=Qr,_r=e.id,qr=e.overflow,Qr=t),t=Yl(t,o.children),t.flags|=4096,t)}(e,t,c,r,o,i,n);if(l){l=r.fallback,c=t.mode,o=(i=e.child).sibling;var s={mode:"hidden",children:r.children};return 0===(1&c)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=s,t.deletions=null):(r=Xs(i,s)).subtreeFlags=14680064&i.subtreeFlags,null!==o?l=Xs(o,l):(l=Js(l,c,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,c=null===(c=e.child.memoizedState)?El(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~n,t.memoizedState=Jl,r}return e=(l=e.child).sibling,r=Xs(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yl(e,t){return(t=Es({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,o){return null!==o&&ma(o),va(t,e.child,null,n),(e=Yl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Kl(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Ra(e.return,t,n)}function Ml(e,t,n,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=r)}function Ll(e,t,n){var o=t.pendingProps,r=o.revealOrder,a=o.tail;if(bl(e,t,o.children,n),0!==(2&(o=ei.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Kl(e,n,t);else if(19===e.tag)Kl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(kr(ei,o),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ml(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ti(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ml(t,!0,n,null,a);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Xs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Dl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ol(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function jl(e,t,n){var o=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ol(t),null;case 1:case 17:return Xr(t.type)&&Nr(),Ol(t),null;case 3:return o=t.stateNode,_a(),Br(Vr),Br(Rr),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(is(ia),ia=null))),xl(e,t),Ol(t),null;case 5:$a(t);var r=Pa(Ua.current);if(n=t.type,null!==e&&null!=t.stateNode)Xl(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(a(166));return Ol(t),null}if(e=Pa(Oa.current),da(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Ir]=t,o[Cr]=i,e=0!==(1&t.mode),n){case"dialog":Ko("cancel",o),Ko("close",o);break;case"iframe":case"object":case"embed":Ko("load",o);break;case"video":case"audio":for(r=0;r<Eo.length;r++)Ko(Eo[r],o);break;case"source":Ko("error",o);break;case"img":case"image":case"link":Ko("error",o),Ko("load",o);break;case"details":Ko("toggle",o);break;case"input":Q(o,i),Ko("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ko("invalid",o);break;case"textarea":re(o,i),Ko("invalid",o)}for(var c in fe(n,i),r=null,i)if(i.hasOwnProperty(c)){var s=i[c];"children"===c?"string"===typeof s?o.textContent!==s&&(!0!==i.suppressHydrationWarning&&$o(o.textContent,s,e),r=["children",s]):"number"===typeof s&&o.textContent!==""+s&&(!0!==i.suppressHydrationWarning&&$o(o.textContent,s,e),r=["children",""+s]):l.hasOwnProperty(c)&&null!=s&&"onScroll"===c&&Ko("scroll",o)}switch(n){case"input":O(o),$(o,i,!0);break;case"textarea":O(o),ie(o);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(o.onclick=er)}o=r,t.updateQueue=o,null!==o&&(t.flags|=4)}else{c=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=c.createElement(n,{is:o.is}):(e=c.createElement(n),"select"===n&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,n),e[Ir]=t,e[Cr]=o,Wl(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ae(n,o),n){case"dialog":Ko("cancel",e),Ko("close",e),r=o;break;case"iframe":case"object":case"embed":Ko("load",e),r=o;break;case"video":case"audio":for(r=0;r<Eo.length;r++)Ko(Eo[r],e);r=o;break;case"source":Ko("error",e),r=o;break;case"img":case"image":case"link":Ko("error",e),Ko("load",e),r=o;break;case"details":Ko("toggle",e),r=o;break;case"input":Q(e,o),r=P(e,o),Ko("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=H({},o,{value:void 0}),Ko("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),Ko("invalid",e)}for(i in fe(n,r),s=r)if(s.hasOwnProperty(i)){var g=s[i];"style"===i?he(e,g):"dangerouslySetInnerHTML"===i?null!=(g=g?g.__html:void 0)&&ue(e,g):"children"===i?"string"===typeof g?("textarea"!==n||""!==g)&&de(e,g):"number"===typeof g&&de(e,""+g):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=g&&"onScroll"===i&&Ko("scroll",e):null!=g&&A(e,i,g,c))}switch(n){case"input":O(e),$(e,o,!1);break;case"textarea":O(e),ie(e);break;case"option":null!=o.value&&e.setAttribute("value",""+z(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?ne(e,!!o.multiple,i,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ol(t),null;case 6:if(e&&null!=t.stateNode)Nl(e,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));if(n=Pa(Ua.current),Pa(Oa.current),da(t)){if(o=t.stateNode,n=t.memoizedProps,o[Ir]=t,(i=o.nodeValue!==n)&&null!==(e=oa))switch(e.tag){case 3:$o(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$o(o.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[Ir]=t,t.stateNode=o}return Ol(t),null;case 13:if(Br(ei),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))Ia(),Ca(),t.flags|=98560,i=!1;else if(i=da(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ir]=t}else Ca(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ol(t),i=!1}else null!==ia&&(is(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Nc&&(Nc=3):ms())),null!==t.updateQueue&&(t.flags|=4),Ol(t),null);case 4:return _a(),xl(e,t),null===e&&To(t.stateNode.containerInfo),Ol(t),null;case 10:return wa(t.type._context),Ol(t),null;case 19:if(Br(ei),null===(i=t.memoizedState))return Ol(t),null;if(o=0!==(128&t.flags),null===(c=i.rendering))if(o)Dl(i,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ti(e))){for(t.flags|=128,Dl(i,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(i=n).flags&=14680066,null===(c=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&_e()>Lc&&(t.flags|=128,o=!0,Dl(i,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ti(c))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Dl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!aa)return Ol(t),null}else 2*_e()-i.renderingStartTime>Lc&&1073741824!==n&&(t.flags|=128,o=!0,Dl(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,n=ei.current,kr(ei,o?1&n|2:1&n),t):(Ol(t),null);case 22:case 23:return us(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&xc)&&(Ol(t),6&t.subtreeFlags&&(t.flags|=8192)):Ol(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ul(e,t){switch(na(t),t.tag){case 1:return Xr(t.type)&&Nr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _a(),Br(Vr),Br(Rr),oi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Br(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ca()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Br(ei),null;case 4:return _a(),null;case 10:return wa(t.type._context),null;case 22:case 23:return us(),null;default:return null}}Wl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xl=function(){},Xl=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Pa(Oa.current);var a,i=null;switch(n){case"input":r=P(e,r),o=P(e,o),i=[];break;case"select":r=H({},r,{value:void 0}),o=H({},o,{value:void 0}),i=[];break;case"textarea":r=oe(e,r),o=oe(e,o),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=er)}for(g in fe(n,o),n=null,r)if(!o.hasOwnProperty(g)&&r.hasOwnProperty(g)&&null!=r[g])if("style"===g){var c=r[g];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==g&&"children"!==g&&"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&"autoFocus"!==g&&(l.hasOwnProperty(g)?i||(i=[]):(i=i||[]).push(g,null));for(g in o){var s=o[g];if(c=null!=r?r[g]:void 0,o.hasOwnProperty(g)&&s!==c&&(null!=s||null!=c))if("style"===g)if(c){for(a in c)!c.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&c[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(i||(i=[]),i.push(g,n)),n=s;else"dangerouslySetInnerHTML"===g?(s=s?s.__html:void 0,c=c?c.__html:void 0,null!=s&&c!==s&&(i=i||[]).push(g,s)):"children"===g?"string"!==typeof s&&"number"!==typeof s||(i=i||[]).push(g,""+s):"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&(l.hasOwnProperty(g)?(null!=s&&"onScroll"===g&&Ko("scroll",e),i||c===s||(i=[])):(i=i||[]).push(g,s))}n&&(i=i||[]).push("style",n);var g=i;(t.updateQueue=g)&&(t.flags|=4)}},Nl=function(e,t,n,o){n!==o&&(t.flags|=4)};var Pl=!1,Ql=!1,_l="function"===typeof WeakSet?WeakSet:Set,ql=null;function $l(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){Ss(e,t,o)}else n.current=null}function ec(e,t,n){try{n()}catch(o){Ss(e,t,o)}}var tc=!1;function nc(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&ec(t,n,a)}r=r.next}while(r!==o)}}function oc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function rc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Ir],delete t[Cr],delete t[hr],delete t[pr],delete t[fr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ic(e){return 5===e.tag||3===e.tag||4===e.tag}function lc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==o&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function sc(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(sc(e,t,n),e=e.sibling;null!==e;)sc(e,t,n),e=e.sibling}var gc=null,uc=!1;function dc(e,t,n){for(n=n.child;null!==n;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(l){}switch(n.tag){case 5:Ql||$l(n,t);case 6:var o=gc,r=uc;gc=null,dc(e,t,n),uc=r,null!==(gc=o)&&(uc?(e=gc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gc.removeChild(n.stateNode));break;case 18:null!==gc&&(uc?(e=gc,n=n.stateNode,8===e.nodeType?sr(e.parentNode,n):1===e.nodeType&&sr(e,n),Lt(e)):sr(gc,n.stateNode));break;case 4:o=gc,r=uc,gc=n.stateNode.containerInfo,uc=!0,dc(e,t,n),gc=o,uc=r;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var a=r,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&ec(n,t,i),r=r.next}while(r!==o)}dc(e,t,n);break;case 1:if(!Ql&&($l(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(l){Ss(n,t,l)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Ql=(o=Ql)||null!==n.memoizedState,dc(e,t,n),Ql=o):dc(e,t,n);break;default:dc(e,t,n)}}function Cc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _l),t.forEach((function(t){var o=ws.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,c=l;e:for(;null!==c;){switch(c.tag){case 5:gc=c.stateNode,uc=!1;break e;case 3:case 4:gc=c.stateNode.containerInfo,uc=!0;break e}c=c.return}if(null===gc)throw Error(a(160));Ic(i,l,r),gc=null,uc=!1;var s=r.alternate;null!==s&&(s.return=null),r.return=null}catch(g){Ss(r,t,g)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hc(t,e),t=t.sibling}function hc(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),pc(e),4&o){try{nc(3,e,e.return),oc(3,e)}catch(h){Ss(e,e.return,h)}try{nc(5,e,e.return)}catch(h){Ss(e,e.return,h)}}break;case 1:mc(t,e),pc(e),512&o&&null!==n&&$l(n,n.return);break;case 5:if(mc(t,e),pc(e),512&o&&null!==n&&$l(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(h){Ss(e,e.return,h)}}if(4&o&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,c=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===c&&"radio"===i.type&&null!=i.name&&_(r,i),Ae(c,l);var g=Ae(c,i);for(l=0;l<s.length;l+=2){var u=s[l],d=s[l+1];"style"===u?he(r,d):"dangerouslySetInnerHTML"===u?ue(r,d):"children"===u?de(r,d):A(r,u,d,g)}switch(c){case"input":q(r,i);break;case"textarea":ae(r,i);break;case"select":var I=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var C=i.value;null!=C?ne(r,!!i.multiple,C,!1):I!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[Cr]=i}catch(h){Ss(e,e.return,h)}}break;case 6:if(mc(t,e),pc(e),4&o){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(h){Ss(e,e.return,h)}}break;case 3:if(mc(t,e),pc(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Lt(t.containerInfo)}catch(h){Ss(e,e.return,h)}break;case 4:default:mc(t,e),pc(e);break;case 13:mc(t,e),pc(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Mc=_e())),4&o&&Cc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ql=(g=Ql)||u,mc(t,e),Ql=g):mc(t,e),pc(e),8192&o){if(g=null!==e.memoizedState,(e.stateNode.isHidden=g)&&!u&&0!==(1&e.mode))for(ql=e,u=e.child;null!==u;){for(d=ql=u;null!==ql;){switch(C=(I=ql).child,I.tag){case 0:case 11:case 14:case 15:nc(4,I,I.return);break;case 1:$l(I,I.return);var m=I.stateNode;if("function"===typeof m.componentWillUnmount){o=I,n=I.return;try{t=o,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(h){Ss(o,n,h)}}break;case 5:$l(I,I.return);break;case 22:if(null!==I.memoizedState){vc(d);continue}}null!==C?(C.return=I,ql=C):vc(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,g?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(c=d.stateNode,l=void 0!==(s=d.memoizedProps.style)&&null!==s&&s.hasOwnProperty("display")?s.display:null,c.style.display=me("display",l))}catch(h){Ss(e,e.return,h)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=g?"":d.memoizedProps}catch(h){Ss(e,e.return,h)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mc(t,e),pc(e),4&o&&Cc(e);case 21:}}function pc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ic(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(de(r,""),o.flags&=-33),sc(e,lc(e),r);break;case 3:case 4:var i=o.stateNode.containerInfo;cc(e,lc(e),i);break;default:throw Error(a(161))}}catch(l){Ss(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fc(e,t,n){ql=e,Ac(e,t,n)}function Ac(e,t,n){for(var o=0!==(1&e.mode);null!==ql;){var r=ql,a=r.child;if(22===r.tag&&o){var i=null!==r.memoizedState||Pl;if(!i){var l=r.alternate,c=null!==l&&null!==l.memoizedState||Ql;l=Pl;var s=Ql;if(Pl=i,(Ql=c)&&!s)for(ql=r;null!==ql;)c=(i=ql).child,22===i.tag&&null!==i.memoizedState?yc(r):null!==c?(c.return=i,ql=c):yc(r);for(;null!==a;)ql=a,Ac(a,t,n),a=a.sibling;ql=r,Pl=l,Ql=s}bc(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,ql=a):bc(e)}}function bc(e){for(;null!==ql;){var t=ql;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ql||oc(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Ql)if(null===n)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&za(t,i,o);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,l,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var g=t.alternate;if(null!==g){var u=g.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Lt(d)}}}break;default:throw Error(a(163))}Ql||512&t.flags&&rc(t)}catch(I){Ss(t,t.return,I)}}if(t===e){ql=null;break}if(null!==(n=t.sibling)){n.return=t.return,ql=n;break}ql=t.return}}function vc(e){for(;null!==ql;){var t=ql;if(t===e){ql=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ql=n;break}ql=t.return}}function yc(e){for(;null!==ql;){var t=ql;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oc(4,t)}catch(c){Ss(t,n,c)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var r=t.return;try{o.componentDidMount()}catch(c){Ss(t,r,c)}}var a=t.return;try{rc(t)}catch(c){Ss(t,a,c)}break;case 5:var i=t.return;try{rc(t)}catch(c){Ss(t,i,c)}}}catch(c){Ss(t,t.return,c)}if(t===e){ql=null;break}var l=t.sibling;if(null!==l){l.return=t.return,ql=l;break}ql=t.return}}var Zc,Sc=Math.ceil,Gc=b.ReactCurrentDispatcher,Bc=b.ReactCurrentOwner,kc=b.ReactCurrentBatchConfig,wc=0,Rc=null,Vc=null,Wc=0,xc=0,Xc=Gr(0),Nc=0,Jc=null,Ec=0,Hc=0,Yc=0,Fc=null,Kc=null,Mc=0,Lc=1/0,Tc=null,zc=!1,Dc=null,Oc=null,jc=!1,Uc=null,Pc=0,Qc=0,_c=null,qc=-1,$c=0;function es(){return 0!==(6&wc)?_e():-1!==qc?qc:qc=_e()}function ts(e){return 0===(1&e.mode)?1:0!==(2&wc)&&0!==Wc?Wc&-Wc:null!==ha.transition?(0===$c&&($c=mt()),$c):0!==(e=At)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ns(e,t,n,o){if(50<Qc)throw Qc=0,_c=null,Error(a(185));pt(e,n,o),0!==(2&wc)&&e===Rc||(e===Rc&&(0===(2&wc)&&(Hc|=n),4===Nc&&ls(e,Wc)),os(e,o),1===n&&0===wc&&0===(1&t.mode)&&(Lc=_e()+500,Kr&&Tr()))}function os(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,c=r[i];-1===c?0!==(l&n)&&0===(l&o)||(r[i]=It(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var o=dt(e,e===Rc?Wc:0);if(0===o)null!==n&&Ue(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ue(n),1===t)0===e.tag?function(e){Kr=!0,Lr(e)}(cs.bind(null,e)):Lr(cs.bind(null,e)),lr((function(){0===(6&wc)&&Tr()})),n=null;else{switch(bt(o)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=Rs(n,rs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rs(e,t){if(qc=-1,$c=0,0!==(6&wc))throw Error(a(327));var n=e.callbackNode;if(ys()&&e.callbackNode!==n)return null;var o=dt(e,e===Rc?Wc:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=hs(e,o);else{t=o;var r=wc;wc|=2;var i=Cs();for(Rc===e&&Wc===t||(Tc=null,Lc=_e()+500,ds(e,t));;)try{fs();break}catch(c){Is(e,c)}ka(),Gc.current=i,wc=r,null!==Vc?t=0:(Rc=null,Wc=0,t=Nc)}if(0!==t){if(2===t&&(0!==(r=Ct(e))&&(o=r,t=as(e,r))),1===t)throw n=Jc,ds(e,0),ls(e,o),os(e,_e()),n;if(6===t)ls(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],a=r.getSnapshot;r=r.value;try{if(!lo(a(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=hs(e,o))&&(0!==(i=Ct(e))&&(o=i,t=as(e,i))),1===t))throw n=Jc,ds(e,0),ls(e,o),os(e,_e()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:case 5:vs(e,Kc,Tc);break;case 3:if(ls(e,o),(130023424&o)===o&&10<(t=Mc+500-_e())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&o)!==o){es(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(vs.bind(null,e,Kc,Tc),t);break}vs(e,Kc,Tc);break;case 4:if(ls(e,o),(4194240&o)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-it(o);i=1<<l,(l=t[l])>r&&(r=l),o&=~i}if(o=r,10<(o=(120>(o=_e()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sc(o/1960))-o)){e.timeoutHandle=rr(vs.bind(null,e,Kc,Tc),o);break}vs(e,Kc,Tc);break;default:throw Error(a(329))}}}return os(e,_e()),e.callbackNode===n?rs.bind(null,e):null}function as(e,t){var n=Fc;return e.current.memoizedState.isDehydrated&&(ds(e,t).flags|=256),2!==(e=hs(e,t))&&(t=Kc,Kc=n,null!==t&&is(t)),e}function is(e){null===Kc?Kc=e:Kc.push.apply(Kc,e)}function ls(e,t){for(t&=~Yc,t&=~Hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),o=1<<n;e[n]=-1,t&=~o}}function cs(e){if(0!==(6&wc))throw Error(a(327));ys();var t=dt(e,0);if(0===(1&t))return os(e,_e()),null;var n=hs(e,t);if(0!==e.tag&&2===n){var o=Ct(e);0!==o&&(t=o,n=as(e,o))}if(1===n)throw n=Jc,ds(e,0),ls(e,t),os(e,_e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vs(e,Kc,Tc),os(e,_e()),null}function ss(e,t){var n=wc;wc|=1;try{return e(t)}finally{0===(wc=n)&&(Lc=_e()+500,Kr&&Tr())}}function gs(e){null!==Uc&&0===Uc.tag&&0===(6&wc)&&ys();var t=wc;wc|=1;var n=kc.transition,o=At;try{if(kc.transition=null,At=1,e)return e()}finally{At=o,kc.transition=n,0===(6&(wc=t))&&Tr()}}function us(){xc=Xc.current,Br(Xc)}function ds(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ar(n)),null!==Vc)for(n=Vc.return;null!==n;){var o=n;switch(na(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Nr();break;case 3:_a(),Br(Vr),Br(Rr),oi();break;case 5:$a(o);break;case 4:_a();break;case 13:case 19:Br(ei);break;case 10:wa(o.type._context);break;case 22:case 23:us()}n=n.return}if(Rc=e,Vc=e=Xs(e.current,null),Wc=xc=t,Nc=0,Jc=null,Yc=Hc=Ec=0,Kc=Fc=null,null!==xa){for(t=0;t<xa.length;t++)if(null!==(o=(n=xa[t]).interleaved)){n.interleaved=null;var r=o.next,a=n.pending;if(null!==a){var i=a.next;a.next=r,o.next=i}n.pending=o}xa=null}return e}function Is(e,t){for(;;){var n=Vc;try{if(ka(),ri.current=qi,gi){for(var o=li.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}gi=!1}if(ii=0,si=ci=li=null,ui=!1,di=0,Bc.current=null,null===n||null===n.return){Nc=1,Jc=t,Vc=null;break}e:{var i=e,l=n.return,c=n,s=t;if(t=Wc,c.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){var g=s,u=c,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var I=u.alternate;I?(u.updateQueue=I.updateQueue,u.memoizedState=I.memoizedState,u.lanes=I.lanes):(u.updateQueue=null,u.memoizedState=null)}var C=hl(l);if(null!==C){C.flags&=-257,pl(C,l,c,0,t),1&C.mode&&ml(i,g,t),s=g;var m=(t=C).updateQueue;if(null===m){var h=new Set;h.add(s),t.updateQueue=h}else m.add(s);break e}if(0===(1&t)){ml(i,g,t),ms();break e}s=Error(a(426))}else if(aa&&1&c.mode){var p=hl(l);if(null!==p){0===(65536&p.flags)&&(p.flags|=256),pl(p,l,c,0,t),ma(sl(s,c));break e}}i=s=sl(s,c),4!==Nc&&(Nc=2),null===Fc?Fc=[i]:Fc.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,La(i,Il(0,s,t));break e;case 1:c=s;var f=i.type,A=i.stateNode;if(0===(128&i.flags)&&("function"===typeof f.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Oc||!Oc.has(A)))){i.flags|=65536,t&=-t,i.lanes|=t,La(i,Cl(i,c,t));break e}}i=i.return}while(null!==i)}bs(n)}catch(b){t=b,Vc===n&&null!==n&&(Vc=n=n.return);continue}break}}function Cs(){var e=Gc.current;return Gc.current=qi,null===e?qi:e}function ms(){0!==Nc&&3!==Nc&&2!==Nc||(Nc=4),null===Rc||0===(268435455&Ec)&&0===(268435455&Hc)||ls(Rc,Wc)}function hs(e,t){var n=wc;wc|=2;var o=Cs();for(Rc===e&&Wc===t||(Tc=null,ds(e,t));;)try{ps();break}catch(r){Is(e,r)}if(ka(),wc=n,Gc.current=o,null!==Vc)throw Error(a(261));return Rc=null,Wc=0,Nc}function ps(){for(;null!==Vc;)As(Vc)}function fs(){for(;null!==Vc&&!Pe();)As(Vc)}function As(e){var t=Zc(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?bs(e):Vc=t,Bc.current=null}function bs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=jl(n,t,xc)))return void(Vc=n)}else{if(null!==(n=Ul(n,t)))return n.flags&=32767,void(Vc=n);if(null===e)return Nc=6,void(Vc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vc=t);Vc=t=e}while(null!==t);0===Nc&&(Nc=5)}function vs(e,t,n){var o=At,r=kc.transition;try{kc.transition=null,At=1,function(e,t,n,o){do{ys()}while(null!==Uc);if(0!==(6&wc))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),a=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~a}}(e,i),e===Rc&&(Vc=Rc=null,Wc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||jc||(jc=!0,Rs(tt,(function(){return ys(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=kc.transition,kc.transition=null;var l=At;At=1;var c=wc;wc|=4,Bc.current=null,function(e,t){if(tr=zt,Co(e=Io())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch(v){n=null;break e}var l=0,c=-1,s=-1,g=0,u=0,d=e,I=null;t:for(;;){for(var C;d!==n||0!==r&&3!==d.nodeType||(c=l+r),d!==i||0!==o&&3!==d.nodeType||(s=l+o),3===d.nodeType&&(l+=d.nodeValue.length),null!==(C=d.firstChild);)I=d,d=C;for(;;){if(d===e)break t;if(I===n&&++g===r&&(c=l),I===i&&++u===o&&(s=l),null!==(C=d.nextSibling))break;I=(d=I).parentNode}d=C}n=-1===c||-1===s?null:{start:c,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},zt=!1,ql=t;null!==ql;)if(e=(t=ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ql=e;else for(;null!==ql;){t=ql;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var h=m.memoizedProps,p=m.memoizedState,f=t.stateNode,A=f.getSnapshotBeforeUpdate(t.elementType===t.type?h:nl(t.type,h),p);f.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(v){Ss(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,ql=e;break}ql=t.return}m=tc,tc=!1}(e,n),hc(n,e),mo(nr),zt=!!tr,nr=tr=null,e.current=n,fc(n,e,r),Qe(),wc=c,At=l,kc.transition=i}else e.current=n;if(jc&&(jc=!1,Uc=e,Pc=r),i=e.pendingLanes,0===i&&(Oc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),os(e,_e()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(zc)throw zc=!1,e=Dc,Dc=null,e;0!==(1&Pc)&&0!==e.tag&&ys(),i=e.pendingLanes,0!==(1&i)?e===_c?Qc++:(Qc=0,_c=e):Qc=0,Tr()}(e,t,n,o)}finally{kc.transition=r,At=o}return null}function ys(){if(null!==Uc){var e=bt(Pc),t=kc.transition,n=At;try{if(kc.transition=null,At=16>e?16:e,null===Uc)var o=!1;else{if(e=Uc,Uc=null,Pc=0,0!==(6&wc))throw Error(a(331));var r=wc;for(wc|=4,ql=e.current;null!==ql;){var i=ql,l=i.child;if(0!==(16&ql.flags)){var c=i.deletions;if(null!==c){for(var s=0;s<c.length;s++){var g=c[s];for(ql=g;null!==ql;){var u=ql;switch(u.tag){case 0:case 11:case 15:nc(8,u,i)}var d=u.child;if(null!==d)d.return=u,ql=d;else for(;null!==ql;){var I=(u=ql).sibling,C=u.return;if(ac(u),u===g){ql=null;break}if(null!==I){I.return=C,ql=I;break}ql=C}}}var m=i.alternate;if(null!==m){var h=m.child;if(null!==h){m.child=null;do{var p=h.sibling;h.sibling=null,h=p}while(null!==h)}}ql=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,ql=l;else e:for(;null!==ql;){if(0!==(2048&(i=ql).flags))switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var f=i.sibling;if(null!==f){f.return=i.return,ql=f;break e}ql=i.return}}var A=e.current;for(ql=A;null!==ql;){var b=(l=ql).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,ql=b;else e:for(l=A;null!==ql;){if(0!==(2048&(c=ql).flags))try{switch(c.tag){case 0:case 11:case 15:oc(9,c)}}catch(y){Ss(c,c.return,y)}if(c===l){ql=null;break e}var v=c.sibling;if(null!==v){v.return=c.return,ql=v;break e}ql=c.return}}if(wc=r,Tr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(y){}o=!0}return o}finally{At=n,kc.transition=t}}return!1}function Zs(e,t,n){e=Ka(e,t=Il(0,t=sl(n,t),1),1),t=es(),null!==e&&(pt(e,1,t),os(e,t))}function Ss(e,t,n){if(3===e.tag)Zs(e,e,n);else for(;null!==t;){if(3===t.tag){Zs(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Oc||!Oc.has(o))){t=Ka(t,e=Cl(t,e=sl(n,e),1),1),e=es(),null!==t&&(pt(t,1,e),os(t,e));break}}t=t.return}}function Gs(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=es(),e.pingedLanes|=e.suspendedLanes&n,Rc===e&&(Wc&n)===n&&(4===Nc||3===Nc&&(130023424&Wc)===Wc&&500>_e()-Mc?ds(e,0):Yc|=n),os(e,t)}function Bs(e,t){0===t&&(0===(1&e.mode)?t=1:(t=gt,0===(130023424&(gt<<=1))&&(gt=4194304)));var n=es();null!==(e=Ja(e,t))&&(pt(e,t,n),os(e,n))}function ks(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Bs(e,n)}function ws(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}null!==o&&o.delete(t),Bs(e,n)}function Rs(e,t){return je(e,t)}function Vs(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,o){return new Vs(e,t,n,o)}function xs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ns(e,t,n,o,r,i){var l=2;if(o=e,"function"===typeof e)xs(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case Z:return Js(n.children,r,i,t);case S:l=8,r|=8;break;case G:return(e=Ws(12,n,t,2|r)).elementType=G,e.lanes=i,e;case R:return(e=Ws(13,n,t,r)).elementType=R,e.lanes=i,e;case V:return(e=Ws(19,n,t,r)).elementType=V,e.lanes=i,e;case X:return Es(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case B:l=10;break e;case k:l=9;break e;case w:l=11;break e;case W:l=14;break e;case x:l=16,o=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ws(l,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function Js(e,t,n,o){return(e=Ws(7,e,o,t)).lanes=n,e}function Es(e,t,n,o){return(e=Ws(22,e,o,t)).elementType=X,e.lanes=n,e.stateNode={isHidden:!1},e}function Hs(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fs(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ks(e,t,n,o,r,a,i,l,c){return e=new Fs(e,t,n,l,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ws(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(a),e}function Ms(e){if(!e)return wr;e:{if(Le(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Xr(n))return Er(e,n,t)}return t}function Ls(e,t,n,o,r,a,i,l,c){return(e=Ks(n,o,!0,e,0,a,0,l,c)).context=Ms(null),n=e.current,(a=Fa(o=es(),r=ts(n))).callback=void 0!==t&&null!==t?t:null,Ka(n,a,r),e.current.lanes=r,pt(e,r,o),os(e,o),e}function Ts(e,t,n,o){var r=t.current,a=es(),i=ts(r);return n=Ms(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,i)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=Ka(r,t,i))&&(ns(e,r,i,a),Ma(e,r,i)),i}function zs(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ds(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Os(e,t){Ds(e,t),(e=e.alternate)&&Ds(e,t)}Zc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Vr.current)Al=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Al=!1,function(e,t,n){switch(t.tag){case 3:Rl(t),Ca();break;case 5:qa(t);break;case 1:Xr(t.type)&&Hr(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;kr(Za,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(kr(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Hl(e,t,n):(kr(ei,1&ei.current),null!==(e=zl(e,t,n))?e.sibling:null);kr(ei,1&ei.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Ll(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(ei,ei.current),o)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return zl(e,t,n)}(e,t,n);Al=0!==(131072&e.flags)}else Al=!1,aa&&0!==(1048576&t.flags)&&ea(t,jr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Tl(e,t),e=t.pendingProps;var r=xr(t,Rr.current);Va(t,n),r=hi(null,t,o,e,r,n);var i=pi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xr(o)?(i=!0,Hr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ha(t),r.updater=rl,t.stateNode=r,r._reactInternals=t,cl(t,o,e,n),t=wl(null,t,o,!0,i,n)):(t.tag=0,aa&&i&&ta(t),bl(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Tl(e,t),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return xs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===w)return 11;if(e===W)return 14}return 2}(o),e=nl(o,e),r){case 0:t=Bl(null,t,o,e,n);break e;case 1:t=kl(null,t,o,e,n);break e;case 11:t=vl(null,t,o,e,n);break e;case 14:t=yl(null,t,o,nl(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,Bl(e,t,o,r=t.elementType===o?r:nl(o,r),n);case 1:return o=t.type,r=t.pendingProps,kl(e,t,o,r=t.elementType===o?r:nl(o,r),n);case 3:e:{if(Rl(t),null===e)throw Error(a(387));o=t.pendingProps,r=(i=t.memoizedState).element,Ya(e,t),Ta(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Vl(e,t,o,n,r=sl(Error(a(423)),t));break e}if(o!==r){t=Vl(e,t,o,n,r=sl(Error(a(424)),t));break e}for(ra=gr(t.stateNode.containerInfo.firstChild),oa=t,aa=!0,ia=null,n=ya(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ca(),o===r){t=zl(e,t,n);break e}bl(e,t,o,n)}t=t.child}return t;case 5:return qa(t),null===e&&ga(t),o=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,or(o,r)?l=null:null!==i&&or(o,i)&&(t.flags|=32),Gl(e,t),bl(e,t,l,n),t.child;case 6:return null===e&&ga(t),null;case 13:return Hl(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=va(t,null,o,n):bl(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,vl(e,t,o,r=t.elementType===o?r:nl(o,r),n);case 7:return bl(e,t,t.pendingProps,n),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,kr(Za,o._currentValue),o._currentValue=l,null!==i)if(lo(i.value,l)){if(i.children===r.children&&!Vr.current){t=zl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var c=i.dependencies;if(null!==c){l=i.child;for(var s=c.firstContext;null!==s;){if(s.context===o){if(1===i.tag){(s=Fa(-1,n&-n)).tag=2;var g=i.updateQueue;if(null!==g){var u=(g=g.shared).pending;null===u?s.next=s:(s.next=u.next,u.next=s),g.pending=s}}i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Ra(i.return,n,t),c.lanes|=n;break}s=s.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ra(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}bl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Va(t,n),o=o(r=Wa(r)),t.flags|=1,bl(e,t,o,n),t.child;case 14:return r=nl(o=t.type,t.pendingProps),yl(e,t,o,r=nl(o.type,r),n);case 15:return Zl(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:nl(o,r),Tl(e,t),t.tag=1,Xr(o)?(e=!0,Hr(t)):e=!1,Va(t,n),il(t,o,r),cl(t,o,r,n),wl(null,t,o,!0,e,n);case 19:return Ll(e,t,n);case 22:return Sl(e,t,n)}throw Error(a(156,t.tag))};var js="function"===typeof reportError?reportError:function(e){console.error(e)};function Us(e){this._internalRoot=e}function Ps(e){this._internalRoot=e}function Qs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function _s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qs(){}function $s(e,t,n,o,r){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof r){var l=r;r=function(){var e=zs(i);l.call(e)}}Ts(t,i,e,r)}else i=function(e,t,n,o,r){if(r){if("function"===typeof o){var a=o;o=function(){var e=zs(i);a.call(e)}}var i=Ls(t,o,e,0,null,!1,0,"",qs);return e._reactRootContainer=i,e[mr]=i.current,To(8===e.nodeType?e.parentNode:e),gs(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var l=o;o=function(){var e=zs(c);l.call(e)}}var c=Ks(e,0,!1,null,0,!1,0,"",qs);return e._reactRootContainer=c,e[mr]=c.current,To(8===e.nodeType?e.parentNode:e),gs((function(){Ts(t,c,n,o)})),c}(n,t,e,r,o);return zs(i)}Ps.prototype.render=Us.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ts(e,t,null,null)},Ps.prototype.unmount=Us.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gs((function(){Ts(null,e,null,null)})),t[mr]=null}},Ps.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&0!==t&&t<Xt[n].priority;n++);Xt.splice(n,0,e),0===n&&Ht(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(ft(t,1|n),os(t,_e()),0===(6&wc)&&(Lc=_e()+500,Tr()))}break;case 13:gs((function(){var t=Ja(e,1);if(null!==t){var n=es();ns(t,e,1,n)}})),Os(e,1)}},yt=function(e){if(13===e.tag){var t=Ja(e,134217728);if(null!==t)ns(t,e,134217728,es());Os(e,134217728)}},Zt=function(e){if(13===e.tag){var t=ts(e),n=Ja(e,t);if(null!==n)ns(n,e,t,es());Os(e,t)}},St=function(){return At},Gt=function(e,t){var n=At;try{return At=e,t()}finally{At=n}},ye=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=yr(o);if(!r)throw Error(a(90));j(o),q(o,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},we=ss,Re=gs;var eg={usingClientEntryPoint:!1,Events:[br,vr,yr,Be,ke,ss]},tg={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ng={bundleType:tg.bundleType,version:tg.version,rendererPackageName:tg.rendererPackageName,rendererConfig:tg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=De(e))?null:e.stateNode},findFiberByHostInstance:tg.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{rt=og.inject(ng),at=og}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qs(t))throw Error(a(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qs(e))throw Error(a(299));var n=!1,o="",r=js;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Ks(e,1,!1,null,0,n,0,o,r),e[mr]=t.current,To(8===e.nodeType?e.parentNode:e),new Us(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=De(t))?null:e.stateNode},t.flushSync=function(e){return gs(e)},t.hydrate=function(e,t,n){if(!_s(t))throw Error(a(200));return $s(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qs(e))throw Error(a(405));var o=null!=n&&n.hydratedSources||null,r=!1,i="",l=js;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Ls(t,null,e,1,null!=n?n:null,r,0,i,l),e[mr]=t.current,To(e),o)for(e=0;e<o.length;e++)r=(r=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ps(t)},t.render=function(e,t,n){if(!_s(t))throw Error(a(200));return $s(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!_s(e))throw Error(a(40));return!!e._reactRootContainer&&(gs((function(){$s(null,null,e,!1,(function(){e._reactRootContainer=null,e[mr]=null}))})),!0)},t.unstable_batchedUpdates=ss,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!_s(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $s(e,t,n,!1,o)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var o=n(950);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},366:e=>{"use strict";var t=Array.isArray,n=Object.keys,o=Object.prototype.hasOwnProperty,r="undefined"!==typeof Element;function a(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){var l,c,s,g=t(e),u=t(i);if(g&&u){if((c=e.length)!=i.length)return!1;for(l=c;0!==l--;)if(!a(e[l],i[l]))return!1;return!0}if(g!=u)return!1;var d=e instanceof Date,I=i instanceof Date;if(d!=I)return!1;if(d&&I)return e.getTime()==i.getTime();var C=e instanceof RegExp,m=i instanceof RegExp;if(C!=m)return!1;if(C&&m)return e.toString()==i.toString();var h=n(e);if((c=h.length)!==n(i).length)return!1;for(l=c;0!==l--;)if(!o.call(i,h[l]))return!1;if(r&&e instanceof Element&&i instanceof Element)return e===i;for(l=c;0!==l--;)if(("_owner"!==(s=h[l])||!e.$$typeof)&&!a(e[s],i[s]))return!1;return!0}return e!==e&&i!==i}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},82:(e,t)=>{"use strict";var n,o=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),s=Symbol.for("react.context"),g=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function p(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case a:case l:case i:case d:case I:return e;default:switch(e=e&&e.$$typeof){case g:case s:case u:case m:case C:case c:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=u,t.isFragment=function(e){return p(e)===a},t.isMemo=function(e){return p(e)===C}},86:(e,t,n)=>{"use strict";e.exports=n(82)},309:function(e,t,n){e.exports=function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e))return e}function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return a}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){return a(e)||i(e,t)||c(e,t)||s()}function u(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function d(e,t){if(null==e)return{};var n,o,r=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var I={exports:{}},C={exports:{}},m={},h="function"===typeof Symbol&&Symbol.for,p=h?Symbol.for("react.element"):60103,f=h?Symbol.for("react.portal"):60106,A=h?Symbol.for("react.fragment"):60107,b=h?Symbol.for("react.strict_mode"):60108,v=h?Symbol.for("react.profiler"):60114,y=h?Symbol.for("react.provider"):60109,Z=h?Symbol.for("react.context"):60110,S=h?Symbol.for("react.async_mode"):60111,G=h?Symbol.for("react.concurrent_mode"):60111,B=h?Symbol.for("react.forward_ref"):60112,k=h?Symbol.for("react.suspense"):60113,w=h?Symbol.for("react.suspense_list"):60120,R=h?Symbol.for("react.memo"):60115,V=h?Symbol.for("react.lazy"):60116,W=h?Symbol.for("react.block"):60121,x=h?Symbol.for("react.fundamental"):60117,X=h?Symbol.for("react.responder"):60118,N=h?Symbol.for("react.scope"):60119;function J(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case p:switch(e=e.type){case S:case G:case A:case v:case b:case k:return e;default:switch(e=e&&e.$$typeof){case Z:case B:case V:case R:case y:return e;default:return t}}case f:return t}}}function E(e){return J(e)===G}m.AsyncMode=S,m.ConcurrentMode=G,m.ContextConsumer=Z,m.ContextProvider=y,m.Element=p,m.ForwardRef=B,m.Fragment=A,m.Lazy=V,m.Memo=R,m.Portal=f,m.Profiler=v,m.StrictMode=b,m.Suspense=k,m.isAsyncMode=function(e){return E(e)||J(e)===S},m.isConcurrentMode=E,m.isContextConsumer=function(e){return J(e)===Z},m.isContextProvider=function(e){return J(e)===y},m.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===p},m.isForwardRef=function(e){return J(e)===B},m.isFragment=function(e){return J(e)===A},m.isLazy=function(e){return J(e)===V},m.isMemo=function(e){return J(e)===R},m.isPortal=function(e){return J(e)===f},m.isProfiler=function(e){return J(e)===v},m.isStrictMode=function(e){return J(e)===b},m.isSuspense=function(e){return J(e)===k},m.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===A||e===G||e===v||e===b||e===k||e===w||"object"===typeof e&&null!==e&&(e.$$typeof===V||e.$$typeof===R||e.$$typeof===y||e.$$typeof===Z||e.$$typeof===B||e.$$typeof===x||e.$$typeof===X||e.$$typeof===N||e.$$typeof===W)},m.typeOf=J,C.exports=m;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function H(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==o.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}H()&&Object.assign;var Y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function F(e,t,n,o,r){}Function.call.bind(Object.prototype.hasOwnProperty),F.resetWarningCache=function(){},C.exports;var K=Y;function M(){}function L(){}L.resetWarningCache=M;var T=function(){function e(e,t,n,o,r,a){if(a!==K){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:L,resetWarningCache:M};return n.PropTypes=n,n};I.exports=T();var z=I.exports;function D(e,t){var n=atob(e);if(t){for(var o=new Uint8Array(n.length),r=0,a=n.length;r<a;++r)o[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return n}function O(e,t,n){var o=void 0===t?null:t,r=D(e,void 0!==n&&n),a=r.indexOf("\n",10)+1,i=r.substring(a)+(o?"//# sourceMappingURL="+o:""),l=new Blob([i],{type:"application/javascript"});return URL.createObjectURL(l)}function j(e,t,n){var o;return function(r){return o=o||O(e,t,n),new Worker(o,r)}}var U=j("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",null,!1),P=["constraints","onError","onLoad","onScan","resolution","qrArea"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(){return new U},$=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().forEach((function(t){e.removeTrack(t),t.stop()}))):e.stop())},ee=function(e){var t=e.constraints,r=e.onError,a=e.onLoad,i=e.onScan,l=e.resolution,c=e.qrArea,s=d(e,P),u=n.useRef(null),I=n.useRef(null),C=n.useRef(document.createElement("canvas")),m=n.useRef(null),h=n.useRef(),p=g(n.useState(null),2),f=p[0],A=p[1],b=n.useRef(!1),v=n.useRef();n.useEffect((function(){v.current=q();var e=v.current;return e.onmessage=function(e){i&&i(e.data?_(_({},e.data),{},{canvas:C.current}):null),b.current=!1},function(){e.terminate()}}),[i]);var y=JSON.stringify(c),Z=n.useCallback((function(){var e=JSON.parse(y),t=v.current,n=I.current&&I.current.readyState===I.current.HAVE_ENOUGH_DATA;if(!b.current&&n){b.current=!0;var o,r=I.current.videoWidth,a=I.current.videoHeight,i=r>a?r:a,c=Math.floor(l/i*100)/100;a=Math.floor(c*a),r=Math.floor(c*r),C.current.width=r,C.current.height=a,m.current=C.current.getContext("2d"),m.current.drawImage(I.current,0,0,r,a),o=e&&2===e.length&&e[0]>0&&e[1]>0?m.current.getImageData(Math.floor((r-e[0])/2),Math.floor((a-e[1])/2),e[0],e[1]):m.current.getImageData(0,0,r,a),t.postMessage(o)}h.current=requestAnimationFrame(Z)}),[l,y]),S=JSON.stringify(t);return n.useEffect((function(){var e=JSON.parse(S),t=!0;return navigator.mediaDevices.getUserMedia(e).then((function(e){if(t){u.current=e;try{I.current&&(I.current.srcObject=e,I.current.setAttribute("playsinline",!0))}catch(n){A(window.URL.createObjectURL(e))}a&&a(),h.current=requestAnimationFrame(Z)}else $(e)})).catch((function(e){return t?r(e):null})),function(){cancelAnimationFrame(h.current),t=!1,$(u.current),f&&window.URL.revokeObjectURL(f)}}),[Z,S,r,a,f]),n.createElement("video",o({autoPlay:!0,playsInline:!0,src:f,ref:I},s))};return ee.propTypes={constraints:z.object,onError:z.func.isRequired,onLoad:z.func,onScan:z.func.isRequired,resolution:z.number,qrArea:z.array},ee.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]},ee}(n(43))},153:(e,t,n)=>{"use strict";var o=n(43),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var o,a={},s=null,g=null;for(o in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(g=t.ref),t)i.call(t,o)&&!c.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:s,ref:g,props:a,_owner:l.current}}t.Fragment=a,t.jsx=s,t.jsxs=s},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),I=Symbol.iterator;var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,h={};function p(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||C}function f(){}function A(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||C}p.prototype.isReactComponent={},p.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=p.prototype;var b=A.prototype=new f;b.constructor=A,m(b,p.prototype),b.isPureReactComponent=!0;var v=Array.isArray,y=Object.prototype.hasOwnProperty,Z={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function G(e,t,o){var r,a={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)y.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(1===c)a.children=o;else if(1<c){for(var s=Array(c),g=0;g<c;g++)s[g]=arguments[g+2];a.children=s}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===a[r]&&(a[r]=c[r]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:Z.current}}function B(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function w(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,r,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var c=!1;if(null===e)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case o:c=!0}}if(c)return i=i(c=e),e=""===a?"."+w(c,0):a,v(i)?(r="",null!=e&&(r=e.replace(k,"$&/")+"/"),R(i,t,r,"",(function(e){return e}))):null!=i&&(B(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(c=0,a=""===a?".":a+":",v(e))for(var s=0;s<e.length;s++){var g=a+w(l=e[s],s);c+=R(l,t,r,g,i)}else if(g=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}(e),"function"===typeof g)for(e=g.call(e),s=0;!(l=e.next()).done;)c+=R(l=l.value,t,r,g=a+w(l,s++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function V(e,t,n){if(null==e)return e;var o=[],r=0;return R(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function W(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},X={transition:null},N={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:X,ReactCurrentOwner:Z};function J(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:V,forEach:function(e,t,n){V(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return V(e,(function(){t++})),t},toArray:function(e){return V(e,(function(e){return e}))||[]},only:function(e){if(!B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=p,t.Fragment=r,t.Profiler=i,t.PureComponent=A,t.StrictMode=a,t.Suspense=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=J,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=Z.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(s in t)y.call(t,s)&&!S.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==c?c[s]:t[s])}var s=arguments.length-2;if(1===s)r.children=o;else if(1<s){c=Array(s);for(var g=0;g<s;g++)c[g]=arguments[g+2];r.children=c}return{$$typeof:n,type:e.type,key:a,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=G,t.createFactory=function(e){var t=G.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=B,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:W}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=X.transition;X.transition={};try{e()}finally{X.transition=t}},t.unstable_act=J,t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<a(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,i=r>>>1;o<i;){var l=2*(o+1)-1,c=e[l],s=l+1,g=e[s];if(0>a(c,n))s<r&&0>a(g,c)?(e[o]=g,e[s]=n,o=s):(e[o]=c,e[l]=n,o=l);else{if(!(s<r&&0>a(g,n)))break e;e[o]=g,e[s]=n,o=s}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var s=[],g=[],u=1,d=null,I=3,C=!1,m=!1,h=!1,p="function"===typeof setTimeout?setTimeout:null,f="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=o(g);null!==t;){if(null===t.callback)r(g);else{if(!(t.startTime<=e))break;r(g),t.sortIndex=t.expirationTime,n(s,t)}t=o(g)}}function v(e){if(h=!1,b(e),!m)if(null!==o(s))m=!0,X(y);else{var t=o(g);null!==t&&N(v,t.startTime-e)}}function y(e,n){m=!1,h&&(h=!1,f(B),B=-1),C=!0;var a=I;try{for(b(n),d=o(s);null!==d&&(!(d.expirationTime>n)||e&&!R());){var i=d.callback;if("function"===typeof i){d.callback=null,I=d.priorityLevel;var l=i(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?d.callback=l:d===o(s)&&r(s),b(n)}else r(s);d=o(s)}if(null!==d)var c=!0;else{var u=o(g);null!==u&&N(v,u.startTime-n),c=!1}return c}finally{d=null,I=a,C=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Z,S=!1,G=null,B=-1,k=5,w=-1;function R(){return!(t.unstable_now()-w<k)}function V(){if(null!==G){var e=t.unstable_now();w=e;var n=!0;try{n=G(!0,e)}finally{n?Z():(S=!1,G=null)}}else S=!1}if("function"===typeof A)Z=function(){A(V)};else if("undefined"!==typeof MessageChannel){var W=new MessageChannel,x=W.port2;W.port1.onmessage=V,Z=function(){x.postMessage(null)}}else Z=function(){p(V,0)};function X(e){G=e,S||(S=!0,Z())}function N(e,n){B=p((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||C||(m=!0,X(y))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return o(s)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(g,e),null===o(s)&&e===o(g)&&(h?(f(B),B=-1):h=!0,N(v,a-i))):(e.sortIndex=l,n(s,e),m||C||(m=!0,X(y))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},520:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},956:(e,t,n)=>{"use strict";var o=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useState,i=o.useEffect,l=o.useLayoutEffect,c=o.useDebugValue;function s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var g="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),r=o[0].inst,g=o[1];return l((function(){r.value=n,r.getSnapshot=t,s(r)&&g({inst:r})}),[e,n,t]),i((function(){return s(r)&&g({inst:r}),e((function(){s(r)&&g({inst:r})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:g},39:(e,t,n)=>{"use strict";var o=n(43),r=n(461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,l=o.useRef,c=o.useEffect,s=o.useMemo,g=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var u=l(null);if(null===u.current){var d={hasValue:!1,value:null};u.current=d}else d=u.current;u=s((function(){function e(e){if(!c){if(c=!0,i=e,e=o(e),void 0!==r&&d.hasValue){var t=d.value;if(r(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?t:(i=e,l=n)}var i,l,c=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]}),[t,n,o,r]);var I=i(e,u[0],u[1]);return c((function(){d.hasValue=!0,d.value=I}),[I]),g(I),I}},461:(e,t,n)=>{"use strict";e.exports=n(956)},443:(e,t,n)=>{"use strict";e.exports=n(39)},139:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>o[e]));return i.default=()=>o,n.d(a,i),a}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>"static/js/"+e+".9c701c37.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="src:";n.l=(o,r,a,i)=>{if(e[o])e[o].push(r);else{var l,c;if(void 0!==a)for(var s=document.getElementsByTagName("script"),g=0;g<s.length;g++){var u=s[g];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){l=u;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+a),l.src=o),e[o]=[r];var d=(t,n)=>{l.onerror=l.onload=null,clearTimeout(I);var r=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(n))),t)return t(n)},I=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),c&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/pharma-track-fe/",(()=>{var e={792:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise(((n,o)=>r=e[t]=[n,o]));o.push(r[2]=a);var i=n.p+n.u(t),l=new Error;n.l(i,(o=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,r[1](l)}}),"chunk-"+t,t)}};var t=(t,o)=>{var r,a,i=o[0],l=o[1],c=o[2],s=0;if(i.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(c)c(n)}for(t&&t(o);s<i.length;s++)a=i[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},o=self.webpackChunksrc=self.webpackChunksrc||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";var e=n(43),t=n.t(e,2),o=n(391),r=n(461),a=n(443),i=n(950),l=n.t(i,2);let c=function(e){e()};const s=()=>c,g=Symbol.for("react-redux-context"),u="undefined"!==typeof globalThis?globalThis:{};function d(){var t;if(!e.createContext)return{};const n=null!=(t=u[g])?t:u[g]=new Map;let o=n.get(e.createContext);return o||(o=e.createContext(null),n.set(e.createContext,o)),o}const I=d();function C(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return function(){return(0,e.useContext)(t)}}const m=C();let h=()=>{throw new Error("uSES not initialized!")};const p=(e,t)=>e===t;function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const n=t===I?m:C(t);return function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=p,stabilityCheck:a,noopCheck:i}="function"===typeof o?{equalityFn:o}:o;const{store:l,subscription:c,getServerState:s,stabilityCheck:g,noopCheck:u}=n(),d=((0,e.useRef)(!0),(0,e.useCallback)({[t.name]:e=>t(e)}[t.name],[t,g,a])),I=h(c.addNestedSub,l.getState,s||l.getState,d,r);return(0,e.useDebugValue)(I),I}}const A=f();n(219);var b=n(86);const v={notify(){},get:()=>[]};function y(e,t){let n,o=v,r=0,a=!1;function i(){g.onStateChange&&g.onStateChange()}function l(){r++,n||(n=t?t.addNestedSub(i):e.subscribe(i),o=function(){const e=s();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let o=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){o&&null!==t&&(o=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}function c(){r--,n&&0===r&&(n(),n=void 0,o.clear(),o=v)}const g={addNestedSub:function(e){l();const t=o.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),c())}},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:i,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,l())},tryUnsubscribe:function(){a&&(a=!1,c())},getListeners:()=>o};return g}const Z=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;let S=null;const G=function(t){let{store:n,context:o,children:r,serverState:a,stabilityCheck:i="once",noopCheck:l="once"}=t;const c=e.useMemo((()=>{const e=y(n);return{store:n,subscription:e,getServerState:a?()=>a:void 0,stabilityCheck:i,noopCheck:l}}),[n,a,i,l]),s=e.useMemo((()=>n.getState()),[n]);Z((()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,s]);const g=o||I;return e.createElement(g.Provider,{value:c},r)};function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const t=e===I?m:C(e);return function(){const{store:e}=t();return e}}const k=B();function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const t=e===I?k:B(e);return function(){return t().dispatch}}const R=w();var V,W;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},x.apply(this,arguments)}(e=>{h=e})(a.useSyncExternalStoreWithSelector),(e=>{S=e})(r.useSyncExternalStore),V=i.unstable_batchedUpdates,c=V,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(W||(W={}));const X="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function J(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function H(e,t,n,o){return void 0===n&&(n=null),x({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function Y(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function F(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function K(e,t,n,o){void 0===o&&(o={});let{window:r=document.defaultView,v5Compat:a=!1}=o,i=r.history,l=W.Pop,c=null,s=g();function g(){return(i.state||{idx:null}).idx}function u(){l=W.Pop;let e=g(),t=null==e?null:e-s;s=e,c&&c({action:l,location:I.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:Y(e);return n=n.replace(/ $/,"%20"),N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==s&&(s=0,i.replaceState(x({},i.state,{idx:s}),""));let I={get action(){return l},get location(){return e(r,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(X,u),c=e,()=>{r.removeEventListener(X,u),c=null}},createHref:e=>t(r,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=W.Push;let o=H(I.location,e,t);n&&n(o,e),s=g()+1;let u=E(o,s),d=I.createHref(o);try{i.pushState(u,"",d)}catch(C){if(C instanceof DOMException&&"DataCloneError"===C.name)throw C;r.location.assign(d)}a&&c&&c({action:l,location:I.location,delta:1})},replace:function(e,t){l=W.Replace;let o=H(I.location,e,t);n&&n(o,e),s=g();let r=E(o,s),u=I.createHref(o);i.replaceState(r,"",u),a&&c&&c({action:l,location:I.location,delta:0})},go:e=>i.go(e)};return I}var M;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(M||(M={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function L(e,t,n){void 0===n&&(n="/");let o=ne(("string"===typeof t?F(t):t).pathname||"/",n);if(null==o)return null;let r=T(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let a=null;for(let i=0;null==a&&i<r.length;++i){let e=te(o);a=$(r[i],e)}return a}function T(e,t,n,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===o&&(o="");let r=(e,r,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(N(i.relativePath.startsWith(o),'Absolute route path "'+i.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(o.length));let l=le([o,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),T(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:q(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let o of z(e.path))r(e,t,o);else r(e,t)})),t}function z(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===o.length)return r?[a,""]:[a];let i=z(o.join("/")),l=[];return l.push(...i.map((e=>""===e?a:[a,e].join("/")))),r&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const D=/^:[\w-]+$/,O=3,j=2,U=1,P=10,Q=-2,_=e=>"*"===e;function q(e,t){let n=e.split("/"),o=n.length;return n.some(_)&&(o+=Q),t&&(o+=j),n.filter((e=>!_(e))).reduce(((e,t)=>e+(D.test(t)?O:""===t?U:P)),o)}function $(e,t){let{routesMeta:n}=e,o={},r="/",a=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===r?t:t.slice(r.length)||"/",s=ee({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c);if(!s)return null;Object.assign(o,s.params);let g=e.route;a.push({params:o,pathname:le([r,s.pathname]),pathnameBase:ce(le([r,s.pathnameBase])),route:g}),"/"!==s.pathnameBase&&(r=le([r,s.pathnameBase]))}return a}function ee(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);J("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(o.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(o.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,o]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),l=r.slice(1),c=o.reduce(((e,t,n)=>{let{paramName:o,isOptional:r}=t;if("*"===o){let e=l[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const c=l[n];return e[o]=r&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:a,pathnameBase:i,pattern:e}}function te(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return J(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ne(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function oe(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function re(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ae(e,t){let n=re(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function ie(e,t,n,o){let r;void 0===o&&(o=!1),"string"===typeof e?r=F(e):(r=x({},e),N(!r.pathname||!r.pathname.includes("?"),oe("?","pathname","search",r)),N(!r.pathname||!r.pathname.includes("#"),oe("#","pathname","hash",r)),N(!r.search||!r.search.includes("#"),oe("#","search","hash",r)));let a,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:o="",hash:r=""}="string"===typeof e?F(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:se(o),hash:ge(r)}}(r,a),s=l&&"/"!==l&&l.endsWith("/"),g=(i||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!s&&!g||(c.pathname+="/"),c}const le=e=>e.join("/").replace(/\/\/+/g,"/"),ce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),se=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ge=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const de=["post","put","patch","delete"],Ie=(new Set(de),["get",...de]);new Set(Ie),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ce.apply(this,arguments)}const me=e.createContext(null);const he=e.createContext(null);const pe=e.createContext(null);const fe=e.createContext(null);const Ae=e.createContext({outlet:null,matches:[],isDataRoute:!1});const be=e.createContext(null);function ve(){return null!=e.useContext(fe)}function ye(){return ve()||N(!1),e.useContext(fe).location}function Ze(t){e.useContext(pe).static||e.useLayoutEffect(t)}function Se(){let{isDataRoute:t}=e.useContext(Ae);return t?function(){let{router:t}=Je(Xe.UseNavigateStable),n=He(Ne.UseNavigateStable),o=e.useRef(!1);Ze((()=>{o.current=!0}));let r=e.useCallback((function(e,r){void 0===r&&(r={}),o.current&&("number"===typeof e?t.navigate(e):t.navigate(e,Ce({fromRouteId:n},r)))}),[t,n]);return r}():function(){ve()||N(!1);let t=e.useContext(me),{basename:n,future:o,navigator:r}=e.useContext(pe),{matches:a}=e.useContext(Ae),{pathname:i}=ye(),l=JSON.stringify(ae(a,o.v7_relativeSplatPath)),c=e.useRef(!1);Ze((()=>{c.current=!0}));let s=e.useCallback((function(e,o){if(void 0===o&&(o={}),!c.current)return;if("number"===typeof e)return void r.go(e);let a=ie(e,JSON.parse(l),i,"path"===o.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:le([n,a.pathname])),(o.replace?r.replace:r.push)(a,o.state,o)}),[n,r,l,i,t]);return s}()}function Ge(){let{matches:t}=e.useContext(Ae),n=t[t.length-1];return n?n.params:{}}function Be(t,n){let{relative:o}=void 0===n?{}:n,{future:r}=e.useContext(pe),{matches:a}=e.useContext(Ae),{pathname:i}=ye(),l=JSON.stringify(ae(a,r.v7_relativeSplatPath));return e.useMemo((()=>ie(t,JSON.parse(l),i,"path"===o)),[t,l,i,o])}function ke(t,n,o,r){ve()||N(!1);let{navigator:a}=e.useContext(pe),{matches:i}=e.useContext(Ae),l=i[i.length-1],c=l?l.params:{},s=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let g,u=ye();if(n){var d;let e="string"===typeof n?F(n):n;"/"===s||(null==(d=e.pathname)?void 0:d.startsWith(s))||N(!1),g=e}else g=u;let I=g.pathname||"/",C=I;if("/"!==s){let e=s.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=L(t,{pathname:C});let h=xe(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:le([s,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:le([s,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,o,r);return n&&h?e.createElement(fe.Provider,{value:{location:Ce({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:W.Pop}},h):h}function we(){let t=function(){var t;let n=e.useContext(be),o=Ee(Ne.UseRouteError),r=He(Ne.UseRouteError);if(void 0!==n)return n;return null==(t=o.errors)?void 0:t[r]}(),n=ue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),o?e.createElement("pre",{style:a},o):null,null)}const Re=e.createElement(we,null);class Ve extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Ae.Provider,{value:this.props.routeContext},e.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function We(t){let{routeContext:n,match:o,children:r}=t,a=e.useContext(me);return a&&a.static&&a.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=o.route.id),e.createElement(Ae.Provider,{value:n},r)}function xe(t,n,o,r){var a;if(void 0===n&&(n=[]),void 0===o&&(o=null),void 0===r&&(r=null),null==t){var i;if(null==(i=o)||!i.errors)return null;t=o.matches}let l=t,c=null==(a=o)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||N(!1),l=l.slice(0,Math.min(l.length,e+1))}let s=!1,g=-1;if(o&&r&&r.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(g=e),t.route.id){let{loaderData:e,errors:n}=o,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){s=!0,l=g>=0?l.slice(0,g+1):[l[0]];break}}}return l.reduceRight(((t,r,a)=>{let i,u=!1,d=null,I=null;var C;o&&(i=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||Re,s&&(g<0&&0===a?(C="route-fallback",!1||Ye[C]||(Ye[C]=!0),u=!0,I=null):g===a&&(u=!0,I=r.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,a+1)),h=()=>{let n;return n=i?d:u?I:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(We,{match:r,routeContext:{outlet:t,matches:m,isDataRoute:null!=o},children:n})};return o&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?e.createElement(Ve,{location:o.location,revalidation:o.revalidation,component:d,error:i,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()}),null)}var Xe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xe||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Je(t){let n=e.useContext(me);return n||N(!1),n}function Ee(t){let n=e.useContext(he);return n||N(!1),n}function He(t){let n=function(t){let n=e.useContext(Ae);return n||N(!1),n}(),o=n.matches[n.matches.length-1];return o.route.id||N(!1),o.route.id}const Ye={};t.startTransition;function Fe(t){let{to:n,replace:o,state:r,relative:a}=t;ve()||N(!1);let{future:i,static:l}=e.useContext(pe),{matches:c}=e.useContext(Ae),{pathname:s}=ye(),g=Se(),u=ie(n,ae(c,i.v7_relativeSplatPath),s,"path"===a),d=JSON.stringify(u);return e.useEffect((()=>g(JSON.parse(d),{replace:o,state:r,relative:a})),[g,d,a,o,r]),null}function Ke(e){N(!1)}function Me(t){let{basename:n="/",children:o=null,location:r,navigationType:a=W.Pop,navigator:i,static:l=!1,future:c}=t;ve()&&N(!1);let s=n.replace(/^\/*/,"/"),g=e.useMemo((()=>({basename:s,navigator:i,static:l,future:Ce({v7_relativeSplatPath:!1},c)})),[s,c,i,l]);"string"===typeof r&&(r=F(r));let{pathname:u="/",search:d="",hash:I="",state:C=null,key:m="default"}=r,h=e.useMemo((()=>{let e=ne(u,s);return null==e?null:{location:{pathname:e,search:d,hash:I,state:C,key:m},navigationType:a}}),[s,u,d,I,C,m,a]);return null==h?null:e.createElement(pe.Provider,{value:g},e.createElement(fe.Provider,{children:o,value:h}))}function Le(e){let{children:t,location:n}=e;return ke(Te(t),n)}new Promise((()=>{}));e.Component;function Te(t,n){void 0===n&&(n=[]);let o=[];return e.Children.forEach(t,((t,r)=>{if(!e.isValidElement(t))return;let a=[...n,r];if(t.type===e.Fragment)return void o.push.apply(o,Te(t.props.children,a));t.type!==Ke&&N(!1),t.props.index&&t.props.children&&N(!1);let i={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=Te(t.props.children,a)),o.push(i)})),o}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ze.apply(this,arguments)}function De(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Tie){}new Map;const je=t.startTransition;l.flushSync,t.useId;function Ue(t){let{basename:n,children:o,future:r,window:a}=t,i=e.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),K((function(e,t){let{pathname:n="/",search:o="",hash:r=""}=F(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),H("",{pathname:n,search:o,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),o="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");o=-1===n?t:t.slice(0,n)}return o+"#"+("string"===typeof t?t:Y(t))}),(function(e,t){J("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:a,v5Compat:!0}));let l=i.current,[c,s]=e.useState({action:l.action,location:l.location}),{v7_startTransition:g}=r||{},u=e.useCallback((e=>{g&&je?je((()=>s(e))):s(e)}),[s,g]);return e.useLayoutEffect((()=>l.listen(u)),[l,u]),e.createElement(Me,{basename:n,children:o,location:c.location,navigationType:c.action,navigator:l,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=e.forwardRef((function(t,n){let o,{onClick:r,relative:a,reloadDocument:i,replace:l,state:c,target:s,to:g,preventScrollReset:u,unstable_viewTransition:d}=t,I=De(t,Oe),{basename:C}=e.useContext(pe),m=!1;if("string"===typeof g&&Qe.test(g)&&(o=g,Pe))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=ne(t.pathname,C);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:m=!0}catch(Tie){}let h=function(t,n){let{relative:o}=void 0===n?{}:n;ve()||N(!1);let{basename:r,navigator:a}=e.useContext(pe),{hash:i,pathname:l,search:c}=Be(t,{relative:o}),s=l;return"/"!==r&&(s="/"===l?r:le([r,l])),a.createHref({pathname:s,search:c,hash:i})}(g,{relative:a}),p=function(t,n){let{target:o,replace:r,state:a,preventScrollReset:i,relative:l,unstable_viewTransition:c}=void 0===n?{}:n,s=Se(),g=ye(),u=Be(t,{relative:l});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,o)){e.preventDefault();let n=void 0!==r?r:Y(g)===Y(u);s(t,{replace:n,state:a,preventScrollReset:i,relative:l,unstable_viewTransition:c})}}),[g,s,u,r,a,o,t,i,l,c])}(g,{replace:l,state:c,target:s,preventScrollReset:u,relative:a,unstable_viewTransition:d});return e.createElement("a",ze({},I,{href:o||h,onClick:m||i?r:function(e){r&&r(e),e.defaultPrevented||p(e)},ref:n,target:s}))}));var qe,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qe||(qe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));var et=n(579);const tt=e=>(0,et.jsx)("div",{className:"Footer tw-mt-6",children:(0,et.jsx)("div",{className:"tw-pl-20 tw-pt-4 tw-pb-4 tw-pr-20 tw-flex tw-flex-col tw-items-center",children:(0,et.jsx)("ul",{className:"tw-self-start",children:["Copyright","About","Contact"].map((e=>(0,et.jsx)("li",{className:"tw-text-white ",children:e})))})})});function nt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ot(e){return!!e&&!!e[Ot]}function rt(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===jt}(e)||Array.isArray(e)||!!e[Dt]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Dt])||ut(e)||dt(e))}function at(e,t,n){void 0===n&&(n=!1),0===it(e)?(n?Object.keys:Ut)(e).forEach((function(o){n&&"symbol"==typeof o||t(o,e[o],e)})):e.forEach((function(n,o){return t(o,n,e)}))}function it(e){var t=e[Ot];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ut(e)?2:dt(e)?3:0}function lt(e,t){return 2===it(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ct(e,t){return 2===it(e)?e.get(t):e[t]}function st(e,t,n){var o=it(e);2===o?e.set(t,n):3===o?e.add(n):e[t]=n}function gt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ut(e){return Mt&&e instanceof Map}function dt(e){return Lt&&e instanceof Set}function It(e){return e.o||e.t}function Ct(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Pt(e);delete t[Ot];for(var n=Ut(t),o=0;o<n.length;o++){var r=n[o],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function mt(e,t){return void 0===t&&(t=!1),pt(e)||ot(e)||!rt(e)||(it(e)>1&&(e.set=e.add=e.clear=e.delete=ht),Object.freeze(e),t&&at(e,(function(e,t){return mt(t,!0)}),!0)),e}function ht(){nt(2)}function pt(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ft(e){var t=Qt[e];return t||nt(18,e),t}function At(e,t){Qt[e]||(Qt[e]=t)}function bt(){return Ft}function vt(e,t){t&&(ft("Patches"),e.u=[],e.s=[],e.v=t)}function yt(e){Zt(e),e.p.forEach(Gt),e.p=null}function Zt(e){e===Ft&&(Ft=e.l)}function St(e){return Ft={p:[],l:Ft,h:e,m:!0,_:0}}function Gt(e){var t=e[Ot];0===t.i||1===t.i?t.j():t.g=!0}function Bt(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.O||ft("ES5").S(t,e,o),o?(n[Ot].P&&(yt(t),nt(4)),rt(e)&&(e=kt(t,e),t.l||Rt(t,e)),t.u&&ft("Patches").M(n[Ot].t,e,t.u,t.s)):e=kt(t,n,[]),yt(t),t.u&&t.v(t.u,t.s),e!==zt?e:void 0}function kt(e,t,n){if(pt(t))return t;var o=t[Ot];if(!o)return at(t,(function(r,a){return wt(e,o,t,r,a,n)}),!0),t;if(o.A!==e)return t;if(!o.P)return Rt(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var r=4===o.i||5===o.i?o.o=Ct(o.k):o.o,a=r,i=!1;3===o.i&&(a=new Set(r),r.clear(),i=!0),at(a,(function(t,a){return wt(e,o,r,t,a,n,i)})),Rt(e,r,!1),n&&e.u&&ft("Patches").N(o,n,e.u,e.s)}return o.o}function wt(e,t,n,o,r,a,i){if(ot(r)){var l=kt(e,r,a&&t&&3!==t.i&&!lt(t.R,o)?a.concat(o):void 0);if(st(n,o,l),!ot(l))return;e.m=!1}else i&&n.add(r);if(rt(r)&&!pt(r)){if(!e.h.D&&e._<1)return;kt(e,r),t&&t.A.l||Rt(e,r)}}function Rt(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&mt(t,n)}function Vt(e,t){var n=e[Ot];return(n?It(n):e)[t]}function Wt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function xt(e){e.P||(e.P=!0,e.l&&xt(e.l))}function Xt(e){e.o||(e.o=Ct(e.t))}function Nt(e,t,n){var o=ut(t)?ft("MapSet").F(t,n):dt(t)?ft("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),o={i:n?1:0,A:t?t.A:bt(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=o,a=_t;n&&(r=[o],a=qt);var i=Proxy.revocable(r,a),l=i.revoke,c=i.proxy;return o.k=c,o.j=l,c}(t,n):ft("ES5").J(t,n);return(n?n.A:bt()).p.push(o),o}function Jt(e){return ot(e)||nt(22,e),function e(t){if(!rt(t))return t;var n,o=t[Ot],r=it(t);if(o){if(!o.P&&(o.i<4||!ft("ES5").K(o)))return o.t;o.I=!0,n=Et(t,r),o.I=!1}else n=Et(t,r);return at(n,(function(t,r){o&&ct(o.t,t)===r||st(n,t,e(r))})),3===r?new Set(n):n}(e)}function Et(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ct(e)}function Ht(){function e(e,t){var n=r[e];return n?n.enumerable=t:r[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ot];return _t.get(t,e)},set:function(t){var n=this[Ot];_t.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][Ot];if(!r.P)switch(r.i){case 5:o(r)&&xt(r);break;case 4:n(r)&&xt(r)}}}function n(e){for(var t=e.t,n=e.k,o=Ut(n),r=o.length-1;r>=0;r--){var a=o[r];if(a!==Ot){var i=t[a];if(void 0===i&&!lt(t,a))return!0;var l=n[a],c=l&&l[Ot];if(c?c.t!==i:!gt(l,i))return!0}}var s=!!t[Ot];return o.length!==Ut(t).length+(s?0:1)}function o(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var o=0;o<t.length;o++)if(!t.hasOwnProperty(o))return!0;return!1}var r={};At("ES5",{J:function(t,n){var o=Array.isArray(t),r=function(t,n){if(t){for(var o=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(o,""+r,e(r,!0));return o}var a=Pt(n);delete a[Ot];for(var i=Ut(a),l=0;l<i.length;l++){var c=i[l];a[c]=e(c,t||!!a[c].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(o,t),a={i:o?5:4,A:n?n.A:bt(),P:!1,I:!1,R:{},l:n,t:t,k:r,o:null,g:!1,C:!1};return Object.defineProperty(r,Ot,{value:a,writable:!0}),r},S:function(e,n,r){r?ot(n)&&n[Ot].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ot];if(n){var r=n.t,a=n.k,i=n.R,l=n.i;if(4===l)at(a,(function(t){t!==Ot&&(void 0!==r[t]||lt(r,t)?i[t]||e(a[t]):(i[t]=!0,xt(n)))})),at(r,(function(e){void 0!==a[e]||lt(a,e)||(i[e]=!1,xt(n))}));else if(5===l){if(o(n)&&(xt(n),i.length=!0),a.length<r.length)for(var c=a.length;c<r.length;c++)i[c]=!1;else for(var s=r.length;s<a.length;s++)i[s]=!0;for(var g=Math.min(a.length,r.length),u=0;u<g;u++)a.hasOwnProperty(u)||(i[u]=!0),void 0===i[u]&&e(a[u])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):o(e)}})}var Yt,Ft,Kt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Mt="undefined"!=typeof Map,Lt="undefined"!=typeof Set,Tt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,zt=Kt?Symbol.for("immer-nothing"):((Yt={})["immer-nothing"]=!0,Yt),Dt=Kt?Symbol.for("immer-draftable"):"__$immer_draftable",Ot=Kt?Symbol.for("immer-state"):"__$immer_state",jt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ut="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Pt=Object.getOwnPropertyDescriptors||function(e){var t={};return Ut(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Qt={},_t={get:function(e,t){if(t===Ot)return e;var n=It(e);if(!lt(n,t))return function(e,t,n){var o,r=Wt(t,n);return r?"value"in r?r.value:null===(o=r.get)||void 0===o?void 0:o.call(e.k):void 0}(e,n,t);var o=n[t];return e.I||!rt(o)?o:o===Vt(e.t,t)?(Xt(e),e.o[t]=Nt(e.A.h,o,e)):o},has:function(e,t){return t in It(e)},ownKeys:function(e){return Reflect.ownKeys(It(e))},set:function(e,t,n){var o=Wt(It(e),t);if(null==o?void 0:o.set)return o.set.call(e.k,n),!0;if(!e.P){var r=Vt(It(e),t),a=null==r?void 0:r[Ot];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(gt(n,r)&&(void 0!==n||lt(e.t,t)))return!0;Xt(e),xt(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Vt(e.t,t)||t in e.t?(e.R[t]=!1,Xt(e),xt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=It(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:o.enumerable,value:n[t]}:o},defineProperty:function(){nt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nt(12)}},qt={};at(_t,(function(e,t){qt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),qt.deleteProperty=function(e,t){return qt.set.call(this,e,t,void 0)},qt.set=function(e,t,n){return _t.set.call(this,e[0],t,n,e[0])};var $t=function(){function e(e){var t=this;this.O=Tt,this.D=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=r);for(var o=arguments.length,i=Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return a.produce(e,(function(e){var o;return(o=n).call.apply(o,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&nt(6),void 0!==o&&"function"!=typeof o&&nt(7),rt(e)){var l=St(t),c=Nt(t,e,void 0),s=!0;try{i=n(c),s=!1}finally{s?yt(l):Zt(l)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return vt(l,o),Bt(e,l)}),(function(e){throw yt(l),e})):(vt(l,o),Bt(i,l))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===zt&&(i=void 0),t.D&&mt(i,!0),o){var g=[],u=[];ft("Patches").M(e,i,g,u),o(g,u)}return i}nt(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var o,r,a=t.produce(e,n,(function(e,t){o=e,r=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,o,r]})):[a,o,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){rt(e)||nt(8),ot(e)&&(e=Jt(e));var t=St(this),n=Nt(this,e,void 0);return n[Ot].C=!0,Zt(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ot]).A;return vt(n,t),Bt(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Tt&&nt(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}n>-1&&(t=t.slice(n+1));var r=ft("Patches").$;return ot(e)?r(e,t):this.produce(e,(function(e){return r(e,t)}))},e}(),en=new $t,tn=en.produce;en.produceWithPatches.bind(en),en.setAutoFreeze.bind(en),en.setUseProxies.bind(en),en.applyPatches.bind(en),en.createDraft.bind(en),en.finishDraft.bind(en);const nn=tn;function on(e){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function rn(e){var t=function(e,t){if("object"!=on(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=on(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==on(t)?t:t+""}function an(e,t,n){return(t=rn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gn="function"===typeof Symbol&&Symbol.observable||"@@observable",un=function(){return Math.random().toString(36).substring(7).split("").join(".")},dn={INIT:"@@redux/INIT"+un(),REPLACE:"@@redux/REPLACE"+un(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+un()}};function In(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Cn(e,t,n){var o;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(sn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(sn(1));return n(Cn)(e,t)}if("function"!==typeof e)throw new Error(sn(2));var r=e,a=t,i=[],l=i,c=!1;function s(){l===i&&(l=i.slice())}function g(){if(c)throw new Error(sn(3));return a}function u(e){if("function"!==typeof e)throw new Error(sn(4));if(c)throw new Error(sn(5));var t=!0;return s(),l.push(e),function(){if(t){if(c)throw new Error(sn(6));t=!1,s();var n=l.indexOf(e);l.splice(n,1),i=null}}}function d(e){if(!In(e))throw new Error(sn(7));if("undefined"===typeof e.type)throw new Error(sn(8));if(c)throw new Error(sn(9));try{c=!0,a=r(a,e)}finally{c=!1}for(var t=i=l,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:dn.INIT}),(o={dispatch:d,subscribe:u,getState:g,replaceReducer:function(e){if("function"!==typeof e)throw new Error(sn(10));r=e,d({type:dn.REPLACE})}})[gn]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(sn(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[gn]=function(){return this},e},o}function mn(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}var a,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:dn.INIT}))throw new Error(sn(12));if("undefined"===typeof n(void 0,{type:dn.PROBE_UNKNOWN_ACTION()}))throw new Error(sn(13))}))}(n)}catch(Tie){a=Tie}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var o=!1,r={},l=0;l<i.length;l++){var c=i[l],s=n[c],g=e[c],u=s(g,t);if("undefined"===typeof u){t&&t.type;throw new Error(sn(14))}r[c]=u,o=o||u!==g}return(o=o||i.length!==Object.keys(e).length)?r:e}}function hn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function pn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(sn(15))},r={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map((function(e){return e(r)}));return o=hn.apply(void 0,a)(n.dispatch),cn(cn({},n),{},{dispatch:o})}}}function fn(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(r){return"function"===typeof r?r(n,o,e):t(r)}}}}var An=fn();An.withExtraArgument=fn;const bn=An;var vn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yn=function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Tie){a=[6,Tie],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Zn=function(e,t){for(var n=0,o=t.length,r=e.length;n<o;n++,r++)e[r]=t[n];return e},Sn=Object.defineProperty,Gn=Object.defineProperties,Bn=Object.getOwnPropertyDescriptors,kn=Object.getOwnPropertySymbols,wn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Vn=function(e,t,n){return t in e?Sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Wn=function(e,t){for(var n in t||(t={}))wn.call(t,n)&&Vn(e,n,t[n]);if(kn)for(var o=0,r=kn(t);o<r.length;o++){n=r[o];Rn.call(t,n)&&Vn(e,n,t[n])}return e},xn=function(e,t){return Gn(e,Bn(t))},Xn=function(e,t,n){return new Promise((function(o,r){var a=function(e){try{l(n.next(e))}catch(Tie){r(Tie)}},i=function(e){try{l(n.throw(e))}catch(Tie){r(Tie)}},l=function(e){return e.done?o(e.value):Promise.resolve(e.value).then(a,i)};l((n=n.apply(e,t)).next())}))},Nn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?hn:hn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Jn(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function En(e,t){function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return Wn(Wn({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var Hn=function(e){function t(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return vn(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Zn([void 0],e[0].concat(this)))):new(t.bind.apply(t,Zn([void 0],e.concat(this))))},t}(Array),Yn=function(e){function t(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return vn(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Zn([void 0],e[0].concat(this)))):new(t.bind.apply(t,Zn([void 0],e.concat(this))))},t}(Array);function Fn(e){return rt(e)?nn(e,(function(){})):e}function Kn(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,o=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Hn);n&&(!function(e){return"boolean"===typeof e}(n)?o.push(bn.withExtraArgument(n.extraArgument)):o.push(bn));0;return o}(e)}}function Mn(e){var t,n={},o=[],r={addCase:function(e,t){var o="string"===typeof e?e:e.type;if(!o)throw new Error("`builder.addCase` cannot be called with an empty action type");if(o in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[o]=t,r},addMatcher:function(e,t){return o.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,o,t]}var Ln=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Tn=["name","message","stack","code"],zn=function(e,t){this.payload=e,this.meta=t},Dn=function(e,t){this.payload=e,this.meta=t},On=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,o=Tn;n<o.length;n++){var r=o[n];"string"===typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}};!function(){function e(e,t,n){var o=En(e+"/fulfilled",(function(e,t,n,o){return{payload:e,meta:xn(Wn({},o||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),r=En(e+"/pending",(function(e,t,n){return{payload:void 0,meta:xn(Wn({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=En(e+"/rejected",(function(e,t,o,r,a){return{payload:r,error:(n&&n.serializeError||On)(e||"Rejected"),meta:xn(Wn({},a||{}),{arg:o,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),i="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(l,c,s){var g,u=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Ln(),d=new i;function I(e){g=e,d.abort()}var C=function(){return Xn(this,null,(function(){var i,C,m,h,p,f;return yn(this,(function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),h=null==(i=null==n?void 0:n.condition)?void 0:i.call(n,e,{getState:c,extra:s}),null===(b=h)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,h];case 1:h=A.sent(),A.label=2;case 2:if(!1===h||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:g||"Aborted"})}))})),l(r(u,e,null==(C=null==n?void 0:n.getPendingMeta)?void 0:C.call(n,{requestId:u,arg:e},{getState:c,extra:s}))),[4,Promise.race([p,Promise.resolve(t(e,{dispatch:l,getState:c,extra:s,requestId:u,signal:d.signal,abort:I,rejectWithValue:function(e,t){return new zn(e,t)},fulfillWithValue:function(e,t){return new Dn(e,t)}})).then((function(t){if(t instanceof zn)throw t;return t instanceof Dn?o(t.payload,u,e,t.meta):o(t,u,e)}))])];case 3:return m=A.sent(),[3,5];case 4:return f=A.sent(),m=f instanceof zn?a(null,u,e,f.payload,f.meta):a(f,u,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(m)&&m.meta.condition||l(m),[2,m]}var b}))}))}();return Object.assign(C,{abort:I,requestId:u,arg:e,unwrap:function(){return C.then(jn)}})}}),{pending:r,rejected:a,fulfilled:o,typePrefix:e})}e.withTypes=function(){return e}}();function jn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Un="listenerMiddleware";En(Un+"/add"),En(Un+"/removeAll"),En(Un+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Pn,Qn=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Qn(10);Ht();const _n=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,o="function"==typeof e.initialState?e.initialState:Fn(e.initialState),r=e.reducers||{},a=Object.keys(r),i={},l={},c={};function s(){var t="function"===typeof e.extraReducers?Mn(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,a=t[1],i=void 0===a?[]:a,c=t[2],s=void 0===c?void 0:c,g=Wn(Wn({},r),l);return function(e,t,n,o){void 0===n&&(n=[]);var r,a="function"===typeof t?Mn(t):[t,n,o],i=a[0],l=a[1],c=a[2];if(function(e){return"function"===typeof e}(e))r=function(){return Fn(e())};else{var s=Fn(e);r=function(){return s}}function g(e,t){void 0===e&&(e=r());var n=Zn([i[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var o;if(ot(e))return void 0===(o=n(e,t))?e:o;if(rt(e))return nn(e,(function(e){return n(e,t)}));if(void 0===(o=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return o}return e}),e)}return g.getInitialState=r,g}(o,(function(e){for(var t in g)e.addCase(t,g[t]);for(var n=0,o=i;n<o.length;n++){var r=o[n];e.addMatcher(r.matcher,r.reducer)}s&&e.addDefaultCase(s)}))}return a.forEach((function(e){var n,o,a=r[e],s=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,o=a.prepare):n=a,i[e]=n,l[s]=n,c[e]=o?En(s,o):En(s)})),{name:t,reducer:function(e,t){return n||(n=s()),n(e,t)},actions:c,caseReducers:i,getInitialState:function(){return n||(n=s()),n.getInitialState()}}}({name:"authentication",initialState:{isAuthUser:!!localStorage.getItem("user"),user:JSON.parse(localStorage.getItem("user"))||{}},reducers:{setUser:(e,t)=>({...e,isAuthUser:!0,user:t.payload}),logout:e=>({...e,isAuthUser:!1,user:{}})}}),{setUser:qn,logout:$n}=_n.actions,eo=_n.reducer,to=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&o+1<e.length&&56320===(64512&e.charCodeAt(o+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++o)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},no={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const t=e[r],a=r+1<e.length,i=a?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,s=t>>2,g=(3&t)<<4|i>>4;let u=(15&i)<<2|c>>6,d=63&c;l||(d=64,a||(u=64)),o.push(n[s],n[g],n[u],n[d])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(to(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,o=0;for(;n<e.length;){const r=e[n++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[o++]=String.fromCharCode((31&r)<<6|63&a)}else if(r>239&&r<365){const a=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[o++]=String.fromCharCode(55296+(a>>10)),t[o++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],i=e[n++];t[o++]=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const i=r<e.length?n[e.charAt(r)]:64;++r;const l=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==a||null==i||null==l)throw new oo;const c=t<<2|a>>4;if(o.push(c),64!==i){const e=a<<4&240|i>>2;if(o.push(e),64!==l){const e=i<<6&192|l;o.push(e)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class oo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ro=function(e){return function(e){const t=to(e);return no.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ao=function(e){try{return no.decodeString(e,!0)}catch(Tie){console.error("base64Decode failed: ",Tie)}return null};const io=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,lo=()=>{try{return io()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pharma-track-fe",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Tie){return}const t=e&&ao(e[1]);return t&&JSON.parse(t)})()}catch(Tie){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Tie))}},co=e=>{var t,n;return null===(n=null===(t=lo())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},so=()=>{var e;return null===(e=lo())||void 0===e?void 0:e.config},go=e=>{var t;return null===(t=lo())||void 0===t?void 0:t["_".concat(e)]};class uo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Io(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Co(){try{return"object"===typeof indexedDB}catch(Tie){return!1}}class mo extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),o=this.errors[e],r=o?function(e,t){return e.replace(po,((e,n)=>{const o=t[n];return null!=o?String(o):"<".concat(n,"?>")}))}(o,t):"Error",a="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new mo(n,a,t)}}const po=/\{\$([^}]+)}/g;function fo(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const r of n){if(!o.includes(r))return!1;const n=e[r],a=t[r];if(Ao(n)&&Ao(a)){if(!fo(n,a))return!1}else if(n!==a)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function Ao(e){return null!==e&&"object"===typeof e}function bo(e){const t=[];for(const[n,o]of Object.entries(e))Array.isArray(o)?o.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function vo(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,o]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(o)}})),t}function yo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Zo{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let o;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");o=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===o.next&&(o.next=So),void 0===o.error&&(o.error=So),void 0===o.complete&&(o.complete=So);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(Tie){}})),this.observers.push(o),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Tie){"undefined"!==typeof console&&console.error&&console.error(Tie)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function So(){}function Go(e){return e&&e._delegate?e._delegate:e}class Bo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ko="[DEFAULT]";class wo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new uo;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Tie){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),o=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(o)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Tie){if(o)return null;throw Tie}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch(Tie){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Tie){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&a.resolve(o)}return o}onInit(e,t){var n;const o=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(o))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(o,r);const a=this.instances.get(o);return a&&e(a,o),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(o){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Ro(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch(r){}return o||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko;return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Ro(e){return e===ko?void 0:e}class Vo{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wo=[];var xo;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xo||(xo={}));const Xo={debug:xo.DEBUG,verbose:xo.VERBOSE,info:xo.INFO,warn:xo.WARN,error:xo.ERROR,silent:xo.SILENT},No=xo.INFO,Jo={[xo.DEBUG]:"log",[xo.VERBOSE]:"log",[xo.INFO]:"info",[xo.WARN]:"warn",[xo.ERROR]:"error"},Eo=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),o=Jo[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];console[o]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Ho{constructor(e){this.name=e,this._logLevel=No,this._logHandler=Eo,this._userLogHandler=null,Wo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Xo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xo.DEBUG,...t),this._logHandler(this,xo.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xo.VERBOSE,...t),this._logHandler(this,xo.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xo.INFO,...t),this._logHandler(this,xo.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xo.WARN,...t),this._logHandler(this,xo.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xo.ERROR,...t),this._logHandler(this,xo.ERROR,...t)}}const Yo=(e,t)=>t.some((t=>e instanceof t));let Fo,Ko;const Mo=new WeakMap,Lo=new WeakMap,To=new WeakMap,zo=new WeakMap,Do=new WeakMap;let Oo={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Lo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||To.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function jo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ko||(Ko=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.apply(Qo(this),n),Po(Mo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Po(e.apply(Qo(this),n))}:function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];const a=e.call(Qo(this),t,...o);return To.set(a,t.sort?t.sort():[t]),Po(a)}}function Uo(e){return"function"===typeof e?jo(e):(e instanceof IDBTransaction&&function(e){if(Lo.has(e))return;const t=new Promise(((t,n)=>{const o=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{t(),o()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)}));Lo.set(e,t)}(e),Yo(e,Fo||(Fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Oo):e)}function Po(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const o=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{t(Po(e.result)),o()},a=()=>{n(e.error),o()};e.addEventListener("success",r),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Mo.set(t,e)})).catch((()=>{})),Do.set(t,e),t}(e);if(zo.has(e))return zo.get(e);const t=Uo(e);return t!==e&&(zo.set(e,t),Do.set(t,e)),t}const Qo=e=>Do.get(e);const _o=["get","getKey","getAll","getAllKeys","count"],qo=["put","add","delete","clear"],$o=new Map;function er(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($o.get(t))return $o.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=qo.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!r&&!_o.includes(n))return;const a=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let a=t.store;for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];return o&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),r&&t.done]))[0]};return $o.set(t,a),a}Oo=(e=>({...e,get:(t,n,o)=>er(t,n)||e.get(t,n,o),has:(t,n)=>!!er(t,n)||e.has(t,n)}))(Oo);class tr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const nr="@firebase/app",or="0.9.13",rr=new Ho("@firebase/app"),ar="@firebase/app-compat",ir="@firebase/analytics-compat",lr="@firebase/analytics",cr="@firebase/app-check-compat",sr="@firebase/app-check",gr="@firebase/auth",ur="@firebase/auth-compat",dr="@firebase/database",Ir="@firebase/database-compat",Cr="@firebase/functions",mr="@firebase/functions-compat",hr="@firebase/installations",pr="@firebase/installations-compat",fr="@firebase/messaging",Ar="@firebase/messaging-compat",br="@firebase/performance",vr="@firebase/performance-compat",yr="@firebase/remote-config",Zr="@firebase/remote-config-compat",Sr="@firebase/storage",Gr="@firebase/storage-compat",Br="@firebase/firestore",kr="@firebase/firestore-compat",wr="firebase",Rr="[DEFAULT]",Vr={[nr]:"fire-core",[ar]:"fire-core-compat",[lr]:"fire-analytics",[ir]:"fire-analytics-compat",[sr]:"fire-app-check",[cr]:"fire-app-check-compat",[gr]:"fire-auth",[ur]:"fire-auth-compat",[dr]:"fire-rtdb",[Ir]:"fire-rtdb-compat",[Cr]:"fire-fn",[mr]:"fire-fn-compat",[hr]:"fire-iid",[pr]:"fire-iid-compat",[fr]:"fire-fcm",[Ar]:"fire-fcm-compat",[br]:"fire-perf",[vr]:"fire-perf-compat",[yr]:"fire-rc",[Zr]:"fire-rc-compat",[Sr]:"fire-gcs",[Gr]:"fire-gcs-compat",[Br]:"fire-fst",[kr]:"fire-fst-compat","fire-js":"fire-js",[wr]:"fire-js-all"},Wr=new Map,xr=new Map;function Xr(e,t){try{e.container.addComponent(t)}catch(Tie){rr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Tie)}}function Nr(e){const t=e.name;if(xr.has(t))return rr.debug("There were multiple attempts to register component ".concat(t,".")),!1;xr.set(t,e);for(const n of Wr.values())Xr(n,e);return!0}function Jr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Er=new ho("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bo("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Yr="9.23.0";function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const o=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},t),r=o.name;if("string"!==typeof r||!r)throw Er.create("bad-app-name",{appName:String(r)});if(n||(n=so()),!n)throw Er.create("no-options");const a=Wr.get(r);if(a){if(fo(n,a.options)&&fo(o,a.config))return a;throw Er.create("duplicate-app",{appName:r})}const i=new Vo(r);for(const c of xr.values())i.addComponent(c);const l=new Hr(n,o,i);return Wr.set(r,l),l}function Kr(e,t,n){var o;let r=null!==(o=Vr[e])&&void 0!==o?o:e;n&&(r+="-".concat(n));const a=r.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),a&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rr.warn(e.join(" "))}Nr(new Bo("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const Mr="firebase-heartbeat-database",Lr=1,Tr="firebase-heartbeat-store";let zr=null;function Dr(){return zr||(zr=function(e,t){let{blocked:n,upgrade:o,blocking:r,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),l=Po(i);return o&&i.addEventListener("upgradeneeded",(e=>{o(Po(i.result),e.oldVersion,e.newVersion,Po(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),l.then((e=>{a&&e.addEventListener("close",(()=>a())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),l}(Mr,Lr,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Tr)}}).catch((e=>{throw Er.create("idb-open",{originalErrorMessage:e.message})}))),zr}async function Or(e,t){try{const n=(await Dr()).transaction(Tr,"readwrite"),o=n.objectStore(Tr);await o.put(t,jr(e)),await n.done}catch(Tie){if(Tie instanceof mo)rr.warn(Tie.message);else{const t=Er.create("idb-set",{originalErrorMessage:null===Tie||void 0===Tie?void 0:Tie.message});rr.warn(t.message)}}}function jr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ur{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Pr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Pr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let o=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),_r(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_r(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}(this._heartbeatsCache.heartbeats),o=ro(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Pr(){return(new Date).toISOString().substring(0,10)}class Qr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Co()&&new Promise(((e,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Dr();return await t.transaction(Tr).objectStore(Tr).get(jr(e))}catch(Tie){if(Tie instanceof mo)rr.warn(Tie.message);else{const t=Er.create("idb-get",{originalErrorMessage:null===Tie||void 0===Tie?void 0:Tie.message});rr.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Or(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Or(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _r(e){return ro(JSON.stringify({version:2,heartbeats:e})).length}var qr;qr="",Nr(new Bo("platform-logger",(e=>new tr(e)),"PRIVATE")),Nr(new Bo("heartbeat",(e=>new Ur(e)),"PRIVATE")),Kr(nr,or,qr),Kr(nr,or,"esm2017"),Kr("fire-js","");Kr("firebase","9.23.0","app");function $r(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ea(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ta=ea,na=new ho("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oa=new Ho("@firebase/auth");function ra(e){if(oa.logLevel<=xo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];oa.error("Auth (".concat(Yr,"): ").concat(e),...n)}}function aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw sa(e,...n)}function ia(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return sa(e,...n)}function la(e,t,n){const o=Object.assign(Object.assign({},ta()),{[t]:n});return new ho("auth","Firebase",o).create(t,{appName:e.name})}function ca(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&aa(e,"argument-error"),la(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function sa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if("string"!==typeof e){const t=n[0],o=[...n.slice(1)];return o[0]&&(o[0].appName=e.name),e._errorFactory.create(t,...o)}return na.create(e,...n)}function ga(e,t){if(!e){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];throw sa(t,...o)}}function ua(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ra(t),new Error(t)}function da(e,t){e||ua(t)}function Ia(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ca(){return"http:"===ma()||"https:"===ma()}function ma(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ha(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ca()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class pa{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Io())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return ha()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fa(e,t){da(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Aa{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ba={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},va=new pa(3e4,6e4);function ya(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Za(e,t,n,o){return Sa(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},a={};o&&("GET"===t?a=o:r={body:JSON.stringify(o)});const i=bo(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),Aa.fetch()(Ba(e,e.config.apiHost,n,i),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))}))}async function Sa(e,t,n){e._canInitEmulator=!1;const o=Object.assign(Object.assign({},ba),t);try{const t=new ka(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw wa(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const t=r.ok?a.errorMessage:a.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw wa(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw wa(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw wa(e,"user-disabled",a);const l=o[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw la(e,l,i);aa(e,l)}}catch(Tie){if(Tie instanceof mo)throw Tie;aa(e,"network-request-failed",{message:String(Tie)})}}async function Ga(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Za(e,t,n,o,r);return"mfaPendingCredential"in a&&aa(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Ba(e,t,n,o){const r="".concat(t).concat(n,"?").concat(o);return e.config.emulator?fa(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}class ka{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ia(this.auth,"network-request-failed"))),va.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function wa(e,t,n){const o={appName:e.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const r=ia(e,t,o);return r.customData._tokenResponse=n,r}function Ra(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Tie){}}function Va(e){return 1e3*Number(e)}function Wa(e){const[t,n,o]=e.split(".");if(void 0===t||void 0===n||void 0===o)return ra("JWT malformed, contained fewer than 3 sections"),null;try{const e=ao(n);return e?JSON.parse(e):(ra("Failed to decode base64 JWT payload"),null)}catch(Tie){return ra("Caught error parsing JWT payload as JSON",null===Tie||void 0===Tie?void 0:Tie.toString()),null}}async function xa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Tie){throw Tie instanceof mo&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Tie)&&e.auth.currentUser===e&&await e.auth.signOut(),Tie}}class Xa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Tie){return void((null===Tie||void 0===Tie?void 0:Tie.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Na{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ja(e){var t;const n=e.auth,o=await e.getIdToken(),r=await xa(e,async function(e,t){return Za(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:o}));ga(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const i=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=$r(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(a.providerUserInfo):[],l=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,i),c=e.isAnonymous,s=!(e.email&&a.passwordHash)&&!(null===l||void 0===l?void 0:l.length),g=!!c&&s,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Na(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,u)}class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ga(e.idToken,"internal-error"),ga("undefined"!==typeof e.idToken,"internal-error"),ga("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Wa(e);return ga(t,"internal-error"),ga("undefined"!==typeof t.exp,"internal-error"),ga("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ga(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:r}=await async function(e,t){const n=await Sa(e,{},(async()=>{const n=bo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:r}=e.config,a=Ba(e,o,"/v1/token","key=".concat(r)),i=await e._getAdditionalHeaders();return i["Content-Type"]="application/x-www-form-urlencoded",Aa.fetch()(a,{method:"POST",headers:i,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,o,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:r}=t,a=new Ea;return n&&(ga("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),o&&(ga("string"===typeof o,"internal-error",{appName:e}),a.accessToken=o),r&&(ga("number"===typeof r,"internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return ua("not implemented")}}function Ha(e,t){ga("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ya{constructor(e){var{uid:t,auth:n,stsTokenManager:o}=e,r=$r(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Na(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await xa(this,this.stsTokenManager.getToken(this.auth,e));return ga(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Go(e),o=await n.getIdToken(t),r=Wa(o);ga(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a="object"===typeof r.firebase?r.firebase:void 0,i=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:r,token:o,authTime:Ra(Va(r.auth_time)),issuedAtTime:Ra(Va(r.iat)),expirationTime:Ra(Va(r.exp)),signInProvider:i||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Go(e);await Ja(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ga(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ga(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ja(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xa(this,async function(e,t){return Za(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,o,r,a,i,l,c,s;const g=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(o=t.email)&&void 0!==o?o:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,I=null!==(a=t.photoURL)&&void 0!==a?a:void 0,C=null!==(i=t.tenantId)&&void 0!==i?i:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,h=null!==(c=t.createdAt)&&void 0!==c?c:void 0,p=null!==(s=t.lastLoginAt)&&void 0!==s?s:void 0,{uid:f,emailVerified:A,isAnonymous:b,providerData:v,stsTokenManager:y}=t;ga(f&&y,e,"internal-error");const Z=Ea.fromJSON(this.name,y);ga("string"===typeof f,e,"internal-error"),Ha(g,e.name),Ha(u,e.name),ga("boolean"===typeof A,e,"internal-error"),ga("boolean"===typeof b,e,"internal-error"),Ha(d,e.name),Ha(I,e.name),Ha(C,e.name),Ha(m,e.name),Ha(h,e.name),Ha(p,e.name);const S=new Ya({uid:f,auth:e,email:u,emailVerified:A,displayName:g,isAnonymous:b,photoURL:I,phoneNumber:d,tenantId:C,stsTokenManager:Z,createdAt:h,lastLoginAt:p});return v&&Array.isArray(v)&&(S.providerData=v.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=new Ea;o.updateFromServerResponse(t);const r=new Ya({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await Ja(r),r}}const Fa=new Map;function Ka(e){da(e instanceof Function,"Expected a class definition");let t=Fa.get(e);return t?(da(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fa.set(e,t),t)}class Ma{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ma.type="NONE";const La=Ma;function Ta(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class za{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:r}=this.auth;this.fullUserKey=Ta(this.userKey,o.apiKey,r),this.fullPersistenceKey=Ta("persistence",o.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ya._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new za(Ka(La),e,n);const o=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=o[0]||Ka(La);const a=Ta(n,e.config.apiKey,e.name);let i=null;for(const s of t)try{const t=await s._get(a);if(t){const n=Ya._fromJSON(e,t);s!==r&&(i=n),r=s;break}}catch(c){}const l=o.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&l.length?(r=l[0],i&&await r._set(a,i.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(a)}catch(c){}}))),new za(r,e,n)):new za(r,e,n)}}function Da(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_a(t))return"Blackberry";if(qa(t))return"Webos";if(ja(t))return"Safari";if((t.includes("chrome/")||Ua(t))&&!t.includes("edge/"))return"Chrome";if(Qa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/firefox\//i.test(e)}function ja(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/crios\//i.test(e)}function Pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/iemobile/i.test(e)}function Qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/android/i.test(e)}function _a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/blackberry/i.test(e)}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/webos/i.test(e)}function $a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ei(){return function(){const e=Io();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return $a(e)||Qa(e)||qa(e)||_a(e)||/windows phone/i.test(e)||Pa(e)}function ni(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Da(Io());break;case"Worker":t="".concat(Da(Io()),"-").concat(e);break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yr,"/").concat(o)}async function oi(e,t){return Za(e,"GET","/v2/recaptchaConfig",ya(e,t))}function ri(e){return void 0!==e&&void 0!==e.enterprise}class ai{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function ii(e){return new Promise(((t,n)=>{const o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=e=>{const t=ia("internal-error");t.customData=e,n(t)},o.type="text/javascript",o.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(o)}))}function li(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ci{constructor(e){this.type="recaptcha-enterprise",this.auth=di(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,o){const r=window.grecaptcha;ri(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,o)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{oi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((o=>{if(void 0!==o.recaptchaKey){const n=new ai(o);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&ri(window.grecaptcha))n(r,e,o);else{if("undefined"===typeof window)return void o(new Error("RecaptchaVerifier is only supported in browser"));ii("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,o)})).catch((e=>{o(e)}))}})).catch((e=>{o(e)}))}))}}async function si(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new ci(e);let a;try{a=await r.verify(n)}catch(l){a=await r.verify(n,!0)}const i=Object.assign({},t);return o?Object.assign(i,{captchaResp:a}):Object.assign(i,{captchaResponse:a}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}class gi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,o)=>{try{n(e(t))}catch(Tie){o(Tie)}}));n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Tie){t.reverse();for(const n of t)try{n()}catch(bt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Tie||void 0===Tie?void 0:Tie.message})}}}class ui{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.beforeStateQueue=new gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=na,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ka(t)),this._initializationPromise=this.queue((async()=>{var n,o;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Tie){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let o=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===o||void 0===o?void 0:o._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==a||!(null===i||void 0===i?void 0:i.user)||(o=i.user,r=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(o)}catch(Tie){o=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Tie)))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ga(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Tie){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ja(e)}catch(Tie){if((null===Tie||void 0===Tie?void 0:Tie.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Go(e):null;return t&&ga(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ga(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ka(e))}))}async initializeRecaptchaConfig(){const e=await oi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new ai(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ci(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ka(e)||this._popupRedirectResolver;ga(t,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Ka(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return ga(a,this,"internal-error"),a.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,o):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ga(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(oa.logLevel<=xo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];oa.warn("Auth (".concat(Yr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function di(e){return Go(e)}class Ii{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Zo(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return ga(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ci(e,t,n){const o=di(e);ga(o._canInitEmulator,o,"emulator-config-failed"),ga(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mi(t),{host:i,port:l}=function(e){const t=mi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(o);if(r){const e=r[1];return{host:e,port:hi(o.substr(e.length+1))}}{const[e,t]=o.split(":");return{host:e,port:hi(t)}}}(t),c=null===l?"":":".concat(l);o.config.emulator={url:"".concat(a,"//").concat(i).concat(c,"/")},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:i,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function hi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class pi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ua("not implemented")}_getIdTokenResponse(e){return ua("not implemented")}_linkToIdToken(e,t){return ua("not implemented")}_getReauthenticationResolver(e){return ua("not implemented")}}async function fi(e,t){return Za(e,"POST","/v1/accounts:update",t)}async function Ai(e,t){return Ga(e,"POST","/v1/accounts:signInWithPassword",ya(e,t))}async function bi(e,t){return Za(e,"POST","/v1/accounts:sendOobCode",ya(e,t))}async function vi(e,t){return bi(e,t)}class yi extends pi{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new yi(e,t,"password")}static _fromEmailAndCode(e,t){return new yi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await si(e,n,"signInWithPassword");return Ai(e,t)}return Ai(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await si(e,n,"signInWithPassword");return Ai(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Ga(e,"POST","/v1/accounts:signInWithEmailLink",ya(e,t))}(e,{email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ga(e,"POST","/v1/accounts:signInWithEmailLink",ya(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zi(e,t){return Ga(e,"POST","/v1/accounts:signInWithIdp",ya(e,t))}class Si extends pi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):aa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:o}=t,r=$r(t,["providerId","signInMethod"]);if(!n||!o)return null;const a=new Si(n,o);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){return Zi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bo(t)}return e}}const Gi={USER_NOT_FOUND:"user-not-found"};class Bi extends pi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ga(e,"POST","/v1/accounts:signInWithPhoneNumber",ya(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ga(e,"POST","/v1/accounts:signInWithPhoneNumber",ya(e,t));if(n.temporaryProof)throw wa(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ga(e,"POST","/v1/accounts:signInWithPhoneNumber",ya(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Gi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:o,temporaryProof:r}=e;return n||t||o||r?new Bi({verificationId:t,verificationCode:n,phoneNumber:o,temporaryProof:r}):null}}class ki{constructor(e){var t,n,o,r,a,i;const l=vo(yo(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,s=null!==(n=l.oobCode)&&void 0!==n?n:null,g=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=l.mode)&&void 0!==o?o:null);ga(c&&s&&g,"argument-error"),this.apiKey=c,this.operation=g,this.code=s,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(i=l.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=vo(yo(e)).link,n=t?vo(yo(t)).deep_link_id:null,o=vo(yo(e)).deep_link_id;return(o?vo(yo(o)).link:null)||o||n||t||e}(e);try{return new ki(t)}catch(n){return null}}}class wi{constructor(){this.providerId=wi.PROVIDER_ID}static credential(e,t){return yi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ki.parseLink(t);return ga(n,"argument-error"),yi._fromEmailAndCode(e,n.code,n.tenantId)}}wi.PROVIDER_ID="password",wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ri{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vi extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wi extends Vi{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wi.credential(t.oauthAccessToken)}catch(n){return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wi.PROVIDER_ID="facebook.com";class xi extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Si._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return xi.credential(n,o)}catch(r){return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com",xi.PROVIDER_ID="google.com";class Xi extends Vi{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xi.credential(t.oauthAccessToken)}catch(n){return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com",Xi.PROVIDER_ID="github.com";class Ni extends Vi{constructor(){super("twitter.com")}static credential(e,t){return Si._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return Ni.credential(n,o)}catch(r){return null}}}async function Ji(e,t){return Ga(e,"POST","/v1/accounts:signUp",ya(e,t))}Ni.TWITTER_SIGN_IN_METHOD="twitter.com",Ni.PROVIDER_ID="twitter.com";class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Ya._fromIdTokenResponse(e,n,o),a=Hi(n);return new Ei({user:r,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=Hi(n);return new Ei({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function Hi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Yi extends mo{constructor(e,t,n,o){var r;super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,Yi.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new Yi(e,t,n,o)}}function Fi(e,t,n,o){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Yi._fromErrorAndOperation(e,n,t,o);throw n}))}async function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=await xa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ei._forOperation(e,"link",o)}async function Mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:o}=e,r="reauthenticate";try{const a=await xa(e,Fi(o,r,t,e),n);ga(a.idToken,o,"internal-error");const i=Wa(a.idToken);ga(i,o,"internal-error");const{sub:l}=i;return ga(e.uid===l,o,"user-mismatch"),Ei._forOperation(e,r,a)}catch(Tie){throw(null===Tie||void 0===Tie?void 0:Tie.code)==="auth/".concat("user-not-found")&&aa(o,"user-mismatch"),Tie}}async function Li(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o="signIn",r=await Fi(e,o,t),a=await Ei._fromIdTokenResponse(e,o,r);return n||await e._updateCurrentUser(a.user),a}async function Ti(e,t){return Li(di(e),t)}function zi(e,t,n){var o;ga((null===(o=n.url)||void 0===o?void 0:o.length)>0,e,"invalid-continue-uri"),ga("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ga(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ga(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const Di="__sak";class Oi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Di,"1"),this.storage.removeItem(Di),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ji extends Oi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Io();return ja(e)||$a(e)}()&&function(){try{return!(!window||window===window.top)}catch(Tie){return!1}}(),this.fallbackToPolling=ti(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(e.newValue!==o)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const o=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);ei()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ji.type="LOCAL";const Ui=ji;class Pi extends Oi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pi.type="SESSION";const Qi=Pi;class _i{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _i(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:r}=t.data,a=this.handlersMap[o];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const i=Array.from(a).map((async e=>e(t.origin,r))),l=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:l})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let o=0;o<t;o++)n+=Math.floor(10*Math.random());return e+n}_i.receivers=[];class $i{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const o="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let r,a;return new Promise(((i,l)=>{const c=qi("",20);o.port1.start();const s=setTimeout((()=>{l(new Error("unsupported_event"))}),n);a={messageChannel:o,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(s),r=setTimeout((()=>{l(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),i(t.data.response);break;default:clearTimeout(s),clearTimeout(r),l(new Error("invalid_response"))}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[o.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function el(){return window}function tl(){return"undefined"!==typeof el().WorkerGlobalScope&&"function"===typeof el().importScripts}const nl="firebaseLocalStorageDb",ol="firebaseLocalStorage",rl="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function il(e,t){return e.transaction([ol],t?"readwrite":"readonly").objectStore(ol)}function ll(){const e=indexedDB.open(nl,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ol,{keyPath:rl})}catch(Tie){n(Tie)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ol)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(nl);return new al(e).toPromise()}(),t(await ll()))}))}))}async function cl(e,t,n){const o=il(e,!0).put({[rl]:t,value:n});return new al(o).toPromise()}function sl(e,t){const n=il(e,!0).delete(t);return new al(n).toPromise()}class gl{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ll()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Tie){if(t++>3)throw Tie;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_i._getInstance(tl()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new $i(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ll();return await cl(e,Di,"1"),await sl(e,Di),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cl(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=il(e,!1).get(t),o=await new al(n).toPromise();return void 0===o?null:o.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sl(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=il(e,!1).getAll();return new al(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:o,value:r}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(r)&&(this.notifyListeners(o,r),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}gl.type="LOCAL";const ul=gl;li("rcb"),new pa(3e4,6e4);const dl="recaptcha";async function Il(e,t,n){var o;const r=await n.verify();try{let a;if(ga("string"===typeof r,e,"argument-error"),ga(n.type===dl,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){ga("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Za(e,"POST","/v2/accounts/mfaEnrollment:start",ya(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{ga("signin"===t.type,e,"internal-error");const n=(null===(o=a.multiFactorHint)||void 0===o?void 0:o.uid)||a.multiFactorUid;ga(n,e,"missing-multi-factor-info");const i=await function(e,t){return Za(e,"POST","/v2/accounts/mfaSignIn:start",ya(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return i.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Za(e,"POST","/v1/accounts:sendVerificationCode",ya(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Cl{constructor(e){this.providerId=Cl.PROVIDER_ID,this.auth=di(e)}verifyPhoneNumber(e,t){return Il(this.auth,e,Go(t))}static credential(e,t){return Bi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Cl.credentialFromTaggedObject(t)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:o}=t;return n&&o?Bi._fromTokenResponse(n,o):null}}function ml(e,t){return t?Ka(t):(ga(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cl.PROVIDER_ID="phone",Cl.PHONE_SIGN_IN_METHOD="phone";class hl extends pi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pl(e){return Li(e.auth,new hl(e),e.bypassAuthState)}function fl(e){const{auth:t,user:n}=e;return ga(n,t,"internal-error"),Mi(n,new hl(e),e.bypassAuthState)}async function Al(e){const{auth:t,user:n}=e;return ga(n,t,"internal-error"),Ki(n,new hl(e),e.bypassAuthState)}class bl{constructor(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Tie){this.reject(Tie)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:r,error:a,type:i}=e;if(a)return void this.reject(a);const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(l))}catch(Tie){this.reject(Tie)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pl;case"linkViaPopup":case"linkViaRedirect":return Al;case"reauthViaPopup":case"reauthViaRedirect":return fl;default:aa(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vl=new pa(2e3,1e4);async function yl(e,t,n){const o=di(e);ca(e,t,Ri);const r=ml(o,n);return new Zl(o,"signInViaPopup",t,r).executeNotNull()}class Zl extends bl{constructor(e,t,n,o,r){super(e,t,o,r),this.provider=n,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ga(e,this.auth,"internal-error"),e}async onExecution(){da(1===this.filter.length,"Popup operations only handle one event");const e=qi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ia(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ia(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,vl.get())};e()}}Zl.currentPopupAction=null;const Sl="pendingRedirect",Gl=new Map;class Bl extends bl{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rl(t),o=wl(e);if(!await o._isAvailable())return!1;const r="true"===await o._get(n);return await o._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Tie){e=()=>Promise.reject(Tie)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function kl(e,t){Gl.set(e._key(),t)}function wl(e){return Ka(e._redirectPersistence)}function Rl(e){return Ta(Sl,e.config.apiKey,e.name)}async function Vl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=di(e),r=ml(o,t),a=new Bl(o,r,n),i=await a.execute();return i&&!n&&(delete i.user._redirectEventId,await o._persistUserIfCurrent(i.user),await o._setRedirectUser(null,t)),i}class Wl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xl(e)){const o=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xl(e))}saveEventToCache(e){this.cachedEventUids.add(xl(e)),this.lastProcessedEventTime=Date.now()}}function xl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xl(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Nl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jl=/^https?/;async function El(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Za(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const o of t)try{if(Hl(o))return}catch(n){}aa(e,"unauthorized-domain")}function Hl(e){const t=Ia(),{protocol:n,hostname:o}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===o?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===o}if(!Jl.test(n))return!1;if(Nl.test(e))return o===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(o)}const Yl=new pa(3e4,6e4);function Fl(){const e=el().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Kl=null;function Ml(e){return Kl=Kl||function(e){return new Promise(((t,n)=>{var o,r,a;function i(){Fl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fl(),n(ia(e,"network-request-failed"))},timeout:Yl.get()})}if(null===(r=null===(o=el().gapi)||void 0===o?void 0:o.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=el().gapi)||void 0===a?void 0:a.load)){const t=li("iframefcb");return el()[t]=()=>{gapi.load?i():n(ia(e,"network-request-failed"))},ii("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}i()}})).catch((e=>{throw Kl=null,e}))}(e),Kl}const Ll=new pa(5e3,15e3),Tl="__/auth/iframe",zl="emulator/auth/iframe",Dl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ol=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(e){const t=e.config;ga(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fa(t,zl):"https://".concat(e.config.authDomain,"/").concat(Tl),o={apiKey:t.apiKey,appName:e.name,v:Yr},r=Ol.get(e.config.apiHost);r&&(o.eid=r);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),"".concat(n,"?").concat(bo(o).slice(1))}const Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Tie){}}}function Ql(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-r)/2,0).toString(),i=Math.max((window.screen.availWidth-o)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Ul),{width:o.toString(),height:r.toString(),top:a,left:i}),s=Io().toLowerCase();n&&(l=Ua(s)?"_blank":n),Oa(s)&&(t=t||"http://localhost",c.scrollbars="yes");const g=Object.entries(c).reduce(((e,t)=>{let[n,o]=t;return"".concat(e).concat(n,"=").concat(o,",")}),"");if(function(){var e;return $a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(s)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}(t||"",l),new Pl(null);const u=window.open(t||"",l,g);ga(u,e,"popup-blocked");try{u.focus()}catch(Tie){}return new Pl(u)}const _l="__/auth/handler",ql="emulator/auth/handler",$l=encodeURIComponent("fac");async function ec(e,t,n,o,r,a){ga(e.config.authDomain,e,"auth-domain-config-required"),ga(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:Yr,eventId:r};if(t instanceof Ri){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))i[e]=t}if(t instanceof Vi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const l=i;for(const g of Object.keys(l))void 0===l[g]&&delete l[g];const c=await e._getAppCheckToken(),s=c?"#".concat($l,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(_l);return fa(t,ql)}(e),"?").concat(bo(l).slice(1)).concat(s)}const tc="webStorageSupport";const nc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qi,this._completeRedirectFn=Vl,this._overrideRedirectResult=kl}async _openPopup(e,t,n,o){var r;da(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Ql(e,await ec(e,t,n,Ia(),o),qi())}async _openRedirect(e,t,n,o){await this._originValidation(e);return function(e){el().location.href=e}(await ec(e,t,n,Ia(),o)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(da(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ml(e),n=el().gapi;return ga(n,e,"internal-error"),t.open({where:document.body,url:jl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dl,dontclear:!0},(t=>new Promise((async(n,o)=>{await t.restyle({setHideOnLeave:!1});const r=ia(e,"network-request-failed"),a=el().setTimeout((()=>{o(r)}),Ll.get());function i(){el().clearTimeout(a),n(t)}t.ping(i).then(i,(()=>{o(r)}))}))))}(e),n=new Wl(e);return t.register("authEvent",(t=>{ga(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tc,{type:tc},(n=>{var o;const r=null===(o=null===n||void 0===n?void 0:n[0])||void 0===o?void 0:o[tc];void 0!==r&&t(!!r),aa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=El(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ti()||ja()||$a()}};var oc="@firebase/auth",rc="0.23.2";class ac{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ga(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ic=go("authIdTokenMaxAge")||300;let lc=null;var cc;cc="Browser",Nr(new Bo("auth",((e,t)=>{let{options:n}=t;const o=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=o.options;ga(i&&!i.includes(":"),"invalid-api-key",{appName:o.name});const c={apiKey:i,authDomain:l,clientPlatform:cc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ni(cc)},s=new ui(o,r,a,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],o=(Array.isArray(n)?n:[n]).map(Ka);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(o,null===t||void 0===t?void 0:t.popupRedirectResolver)}(s,n),s}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Nr(new Bo("auth-internal",(e=>(e=>new ac(e))(di(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(oc,rc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cc)),Kr(oc,rc,"esm2017");var sc,gc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},uc={},dc=dc||{},Ic=gc||self;function Cc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function mc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hc="closure_uid_"+(1e9*Math.random()>>>0),pc=0;function fc(e,t,n){return e.call.apply(e.bind,arguments)}function Ac(e,t,n){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bc(e,t,n){return(bc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fc:Ac).apply(null,arguments)}function vc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yc(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,o){for(var r=Array(arguments.length-2),a=2;a<arguments.length;a++)r[a-2]=arguments[a];return t.prototype[n].apply(e,r)}}function Zc(){this.s=this.s,this.o=this.o}Zc.prototype.s=!1,Zc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,hc)&&e[hc]||(e[hc]=++pc)}(this)},Zc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Gc(e){const t=e.length;if(0<t){const n=Array(t);for(let o=0;o<t;o++)n[o]=e[o];return n}return[]}function Bc(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Cc(t)){const n=e.length||0,o=t.length||0;e.length=n+o;for(let r=0;r<o;r++)e[n+r]=t[r]}else e.push(t)}}function kc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kc.prototype.h=function(){this.defaultPrevented=!0};var wc=function(){if(!Ic.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ic.addEventListener("test",(()=>{}),t),Ic.removeEventListener("test",(()=>{}),t)}catch(gt){}return e}();function Rc(e){return/^[\s\xa0]*$/.test(e)}function Vc(){var e=Ic.navigator;return e&&(e=e.userAgent)?e:""}function Wc(e){return-1!=Vc().indexOf(e)}function xc(e){return xc[" "](e),e}xc[" "]=function(){};var Xc,Nc,Jc=Wc("Opera"),Ec=Wc("Trident")||Wc("MSIE"),Hc=Wc("Edge"),Yc=Hc||Ec,Fc=Wc("Gecko")&&!(-1!=Vc().toLowerCase().indexOf("webkit")&&!Wc("Edge"))&&!(Wc("Trident")||Wc("MSIE"))&&!Wc("Edge"),Kc=-1!=Vc().toLowerCase().indexOf("webkit")&&!Wc("Edge");function Mc(){var e=Ic.document;return e?e.documentMode:void 0}e:{var Lc="",Tc=function(){var e=Vc();return Fc?/rv:([^\);]+)(\)|;)/.exec(e):Hc?/Edge\/([\d\.]+)/.exec(e):Ec?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Kc?/WebKit\/(\S+)/.exec(e):Jc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tc&&(Lc=Tc?Tc[1]:""),Ec){var zc=Mc();if(null!=zc&&zc>parseFloat(Lc)){Xc=String(zc);break e}}Xc=Lc}if(Ic.document&&Ec){var Dc=Mc();Nc=Dc||(parseInt(Xc,10)||void 0)}else Nc=void 0;var Oc=Nc;function jc(e,t){if(kc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fc){e:{try{xc(t.nodeName);var r=!0;break e}catch(st){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Uc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&jc.$.h.call(this)}}yc(jc,kc);var Uc={2:"touch",3:"pen",4:"mouse"};jc.prototype.h=function(){jc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Pc="closure_listenable_"+(1e6*Math.random()|0),Qc=0;function _c(e,t,n,o,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!o,this.la=r,this.key=++Qc,this.fa=this.ia=!1}function qc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function $c(e,t,n){for(const o in e)t.call(n,e[o],o,e)}function es(e){const t={};for(const n in e)t[n]=e[n];return t}const ts="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ns(e,t){let n,o;for(let r=1;r<arguments.length;r++){for(n in o=arguments[r],o)e[n]=o[n];for(let t=0;t<ts.length;t++)n=ts[t],Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}}function os(e){this.src=e,this.g={},this.h=0}function rs(e,t){var n=t.type;if(n in e.g){var o,r=e.g[n],a=Sc(r,t);(o=0<=a)&&Array.prototype.splice.call(r,a,1),o&&(qc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function as(e,t,n,o){for(var r=0;r<e.length;++r){var a=e[r];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==o)return r}return-1}os.prototype.add=function(e,t,n,o,r){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var i=as(e,t,o,r);return-1<i?(t=e[i],n||(t.ia=!1)):((t=new _c(t,this.src,a,!!o,r)).ia=n,e.push(t)),t};var is="closure_lm_"+(1e6*Math.random()|0),ls={};function cs(e,t,n,o,r){if(o&&o.once)return gs(e,t,n,o,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)cs(e,t[a],n,o,r);return null}return n=ps(n),e&&e[Pc]?e.O(t,n,mc(o)?!!o.capture:!!o,r):ss(e,t,n,!1,o,r)}function ss(e,t,n,o,r,a){if(!t)throw Error("Invalid event type");var i=mc(r)?!!r.capture:!!r,l=ms(e);if(l||(e[is]=l=new os(e)),(n=l.add(t,n,o,i,a)).proxy)return n;if(o=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Cs;return e}(),n.proxy=o,o.src=e,o.listener=n,e.addEventListener)wc||(r=i),void 0===r&&(r=!1),e.addEventListener(t.toString(),o,r);else if(e.attachEvent)e.attachEvent(Is(t.toString()),o);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(o)}return n}function gs(e,t,n,o,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gs(e,t[a],n,o,r);return null}return n=ps(n),e&&e[Pc]?e.P(t,n,mc(o)?!!o.capture:!!o,r):ss(e,t,n,!0,o,r)}function us(e,t,n,o,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)us(e,t[a],n,o,r);else o=mc(o)?!!o.capture:!!o,n=ps(n),e&&e[Pc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=as(a=e.g[t],n,o,r))&&(qc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ms(e))&&(t=e.g[t.toString()],e=-1,t&&(e=as(t,n,o,r)),(n=-1<e?t[e]:null)&&ds(n))}function ds(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Pc])rs(t.i,e);else{var n=e.type,o=e.proxy;t.removeEventListener?t.removeEventListener(n,o,e.capture):t.detachEvent?t.detachEvent(Is(n),o):t.addListener&&t.removeListener&&t.removeListener(o),(n=ms(t))?(rs(n,e),0==n.h&&(n.src=null,t[is]=null)):qc(e)}}}function Is(e){return e in ls?ls[e]:ls[e]="on"+e}function Cs(e,t){if(e.fa)e=!0;else{t=new jc(t,this);var n=e.listener,o=e.la||e.src;e.ia&&ds(e),e=n.call(o,t)}return e}function ms(e){return(e=e[is])instanceof os?e:null}var hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ps(e){return"function"===typeof e?e:(e[hs]||(e[hs]=function(t){return e.handleEvent(t)}),e[hs])}function fs(){Zc.call(this),this.i=new os(this),this.S=this,this.J=null}function As(e,t){var n,o=e.J;if(o)for(n=[];o;o=o.J)n.push(o);if(e=e.S,o=t.type||t,"string"===typeof t)t=new kc(t,e);else if(t instanceof kc)t.target=t.target||e;else{var r=t;ns(t=new kc(o,e),r)}if(r=!0,n)for(var a=n.length-1;0<=a;a--){var i=t.g=n[a];r=bs(i,o,!0,t)&&r}if(r=bs(i=t.g=e,o,!0,t)&&r,r=bs(i,o,!1,t)&&r,n)for(a=0;a<n.length;a++)r=bs(i=t.g=n[a],o,!1,t)&&r}function bs(e,t,n,o){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var i=t[a];if(i&&!i.fa&&i.capture==n){var l=i.listener,c=i.la||i.src;i.ia&&rs(e.i,i),r=!1!==l.call(c,o)&&r}}return r&&!o.defaultPrevented}yc(fs,Zc),fs.prototype[Pc]=!0,fs.prototype.removeEventListener=function(e,t,n,o){us(this,e,t,n,o)},fs.prototype.N=function(){if(fs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],o=0;o<n.length;o++)qc(n[o]);delete t.g[e],t.h--}}this.J=null},fs.prototype.O=function(e,t,n,o){return this.i.add(String(e),t,!1,n,o)},fs.prototype.P=function(e,t,n,o){return this.i.add(String(e),t,!0,n,o)};var vs=Ic.JSON.stringify;function ys(){var e=Rs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ss),(e=>e.reset()));class Ss{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Gs(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Bs(e){Ic.setTimeout((()=>{throw e}),0)}let ks,ws=!1,Rs=new class{constructor(){this.h=this.g=null}add(e,t){const n=Zs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Vs=()=>{const e=Ic.Promise.resolve(void 0);ks=()=>{e.then(Ws)}};var Ws=()=>{for(var e;e=ys();){try{e.h.call(e.g)}catch(gt){Bs(gt)}var t=Zs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ws=!1};function xs(e,t){fs.call(this),this.h=e||1,this.g=t||Ic,this.j=bc(this.qb,this),this.l=Date.now()}function Xs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ns(e,t,n){if("function"===typeof e)n&&(e=bc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ic.setTimeout(e,t||0)}function Js(e){e.g=Ns((()=>{e.g=null,e.i&&(e.i=!1,Js(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}yc(xs,fs),(sc=xs.prototype).ga=!1,sc.T=null,sc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),As(this,"tick"),this.ga&&(Xs(this),this.start()))}},sc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sc.N=function(){xs.$.N.call(this),Xs(this),delete this.g};class Es extends Zc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(Ic.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(e){Zc.call(this),this.h=e,this.g={}}yc(Hs,Zc);var Ys=[];function Fs(e,t,n,o){Array.isArray(n)||(n&&(Ys[0]=n.toString()),n=Ys);for(var r=0;r<n.length;r++){var a=cs(t,n[r],o||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ks(e){$c(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ds(e)}),e),e.g={}}function Ms(){this.g=!0}function Ls(e,t,n,o){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var o=n[e];if(!(2>o.length)){var r=o[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var i=1;i<r.length;i++)r[i]=""}}}return vs(n)}catch(nt){return t}}(e,n)+(o?" "+o:"")}))}Hs.prototype.N=function(){Hs.$.N.call(this),Ks(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ms.prototype.Ea=function(){this.g=!1},Ms.prototype.info=function(){};var Ts={},zs=null;function Ds(){return zs=zs||new fs}function Os(e){kc.call(this,Ts.Ta,e)}function js(e){const t=Ds();As(t,new Os(t))}function Us(e,t){kc.call(this,Ts.STAT_EVENT,e),this.stat=t}function Ps(e){const t=Ds();As(t,new Us(t,e))}function Qs(e,t){kc.call(this,Ts.Ua,e),this.size=t}function _s(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ic.setTimeout((function(){e()}),t)}Ts.Ta="serverreachability",yc(Os,kc),Ts.STAT_EVENT="statevent",yc(Us,kc),Ts.Ua="timingevent",yc(Qs,kc);var qs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$s={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eg(){}function tg(e){return e.h||(e.h=e.i())}function ng(){}eg.prototype.h=null;var og,rg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ag(){kc.call(this,"d")}function ig(){kc.call(this,"c")}function lg(){}function cg(e,t,n,o){this.l=e,this.j=t,this.m=n,this.W=o||1,this.U=new Hs(this),this.P=gg,e=Yc?125:void 0,this.V=new xs(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sg}function sg(){this.i=null,this.g="",this.h=!1}yc(ag,kc),yc(ig,kc),yc(lg,eg),lg.prototype.g=function(){return new XMLHttpRequest},lg.prototype.i=function(){return{}},og=new lg;var gg=45e3,ug={},dg={};function Ig(e,t,n){e.L=1,e.v=xg(kg(t)),e.s=n,e.S=!0,Cg(e,null)}function Cg(e,t){e.G=Date.now(),fg(e),e.A=kg(e.v);var n=e.A,o=e.W;Array.isArray(o)||(o=[String(o)]),Dg(n.i,"t",o),e.C=0,n=e.l.J,e.h=new sg,e.g=Du(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Es(bc(e.Pa,e,e.g),e.O)),Fs(e.U,e.g,"readystatechange",e.nb),t=e.I?es(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),js(),function(e,t,n,o,r,a){e.info((function(){if(e.g)if(a)for(var i="",l=a.split("&"),c=0;c<l.length;c++){var s=l[c].split("=");if(1<s.length){var g=s[0];s=s[1];var u=g.split("_");i=2<=u.length&&"type"==u[1]?i+(g+"=")+s+"&":i+(g+"=redacted&")}}else i=null;else i=a;return"XMLHTTP REQ ("+o+") [attempt "+r+"]: "+t+"\n"+n+"\n"+i}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function mg(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function hg(e,t,n){let o,r=!0;for(;!e.J&&e.C<n.length;){if(o=pg(e,n),o==dg){4==t&&(e.o=4,Ps(14),r=!1),Ls(e.j,e.m,null,"[Incomplete Response]");break}if(o==ug){e.o=4,Ps(15),Ls(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Ls(e.j,e.m,o,null),Zg(e,o)}mg(e)&&o!=dg&&o!=ug&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ps(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hu(t),t.M=!0,Ps(11))):(Ls(e.j,e.m,n,"[Invalid Chunked Response]"),yg(e),vg(e))}function pg(e,t){var n=e.C,o=t.indexOf("\n",n);return-1==o?dg:(n=Number(t.substring(n,o)),isNaN(n)?ug:(o+=1)+n>t.length?dg:(t=t.slice(o,o+n),e.C=o+n,t))}function fg(e){e.Y=Date.now()+e.P,Ag(e,e.P)}function Ag(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_s(bc(e.lb,e),t)}function bg(e){e.B&&(Ic.clearTimeout(e.B),e.B=null)}function vg(e){0==e.l.H||e.J||Ku(e.l,e)}function yg(e){bg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xs(e.V),Ks(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Zg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||qg(n.i,e)))if(!e.K&&qg(n.i,e)&&3==n.H){try{var o=n.Ja.g.parse(t)}catch(At){o=null}if(Array.isArray(o)&&3==o.length){var r=o;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Fu(n),Ru(n)}Eu(n),Ps(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=_s(bc(n.ib,n),6e3));if(1>=_g(n.i)&&n.oa){try{n.oa()}catch(At){}n.oa=void 0}}else Lu(n,11)}else if((e.K||n.g==e)&&Fu(n),!Rc(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let s=r[t];if(n.V=s[0],s=s[1],2==n.H)if("c"==s[0]){n.K=s[1],n.pa=s[2];const t=s[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const r=s[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const g=s[5];null!=g&&"number"===typeof g&&0<g&&(o=1.5*g,n.L=o,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=o.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&($g(a,a.h),a.h=null))}if(o.F){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(o.Da=e,Wg(o.I,o.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var i=e;if((o=n).wa=zu(o,o.J?o.pa:null,o.Y),i.K){eu(o.i,i);var l=i,c=o.L;c&&l.setTimeout(c),l.B&&(bg(l),fg(l)),o.g=i}else Ju(o);0<n.j.length&&Wu(n)}else"stop"!=s[0]&&"close"!=s[0]||Lu(n,7);else 3==n.H&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Lu(n,7):wu(n):"noop"!=s[0]&&n.h&&n.h.Aa(s),n.A=0)}js()}catch(At){}}function Sg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const o in e)t[n++]=o;return t}}}(e),o=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cc(e)){for(var t=[],n=e.length,o=0;o<n;o++)t.push(e[o]);return t}for(o in t=[],n=0,e)t[n++]=e[o];return t}(e),r=o.length,a=0;a<r;a++)t.call(void 0,o[a],n&&n[a],e)}(sc=cg.prototype).setTimeout=function(e){this.P=e},sc.nb=function(e){e=e.target;const t=this.M;t&&3==yu(e)?t.l():this.Pa(e)},sc.Pa=function(e){try{if(e==this.g)e:{const g=yu(this.g);var t=this.g.Ia();this.g.da();if(!(3>g)&&(3!=g||Yc||this.g&&(this.h.h||this.g.ja()||Zu(this.g)))){this.J||4!=g||7==t||js(),bg(this);var n=this.g.da();this.ca=n;t:if(mg(this)){var o=Zu(this.g);e="";var r=o.length,a=4==yu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yg(this),vg(this);var i="";break t}this.h.i=new Ic.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(o[t],{stream:a&&t==r-1});o.splice(0,r),this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=200==n,function(e,t,n,o,r,a,i){e.info((function(){return"XMLHTTP RESP ("+o+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+a+" "+i}))}(this.j,this.u,this.A,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rc(l)){var s=l;break t}}s=null}if(!(n=s)){this.i=!1,this.o=3,Ps(12),yg(this),vg(this);break e}Ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zg(this,n)}this.S?(hg(this,g,i),Yc&&this.i&&3==g&&(Fs(this.U,this.V,"tick",this.mb),this.V.start())):(Ls(this.j,this.m,i,null),Zg(this,i)),4==g&&yg(this),this.i&&!this.J&&(4==g?Ku(this.l,this):(this.i=!1,fg(this)))}else(function(e){const t={};e=(e.g&&2<=yu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<e.length;o++){if(Rc(e[o]))continue;var n=Gs(e[o]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[r]||[];t[r]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),yg(this),vg(this)}}}catch(lt){}},sc.mb=function(){if(this.g){var e=yu(this.g),t=this.g.ja();this.C<t.length&&(bg(this),hg(this,e,t),this.i&&4!=e&&fg(this))}},sc.cancel=function(){this.J=!0,yg(this)},sc.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(js(),Ps(17)),yg(this),this.o=2,vg(this)):Ag(this,this.Y-e)};var Gg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bg){this.h=e.h,wg(this,e.j),this.s=e.s,this.g=e.g,Rg(this,e.m),this.l=e.l;var t=e.i,n=new Mg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Vg(this,n),this.o=e.o}else e&&(t=String(e).match(Gg))?(this.h=!1,wg(this,t[1]||"",!0),this.s=Xg(t[2]||""),this.g=Xg(t[3]||"",!0),Rg(this,t[4]),this.l=Xg(t[5]||"",!0),Vg(this,t[6]||"",!0),this.o=Xg(t[7]||"")):(this.h=!1,this.i=new Mg(null,this.h))}function kg(e){return new Bg(e)}function wg(e,t,n){e.j=n?Xg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vg(e,t,n){t instanceof Mg?(e.i=t,function(e,t){t&&!e.j&&(Lg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tg(this,t),Dg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ng(t,Fg)),e.i=new Mg(t,e.h))}function Wg(e,t,n){e.i.set(t,n)}function xg(e){return Wg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ng(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ng(t,Eg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ng(t,Eg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ng(n,"/"==n.charAt(0)?Yg:Hg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ng(n,Kg)),e.join("")};var Eg=/[#\/\?@]/g,Hg=/[#\?:]/g,Yg=/[#\?]/g,Fg=/[#\?@]/g,Kg=/#/g;function Mg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Lg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var o=e[n].indexOf("="),r=null;if(0<=o){var a=e[n].substring(0,o);r=e[n].substring(o+1)}else a=e[n];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tg(e,t){Lg(e),t=Og(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zg(e,t){return Lg(e),t=Og(e,t),e.g.has(t)}function Dg(e,t,n){Tg(e,t),0<n.length&&(e.i=null,e.g.set(Og(e,t),Gc(n)),e.h+=n.length)}function Og(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sc=Mg.prototype).add=function(e,t){Lg(this),this.i=null,e=Og(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sc.forEach=function(e,t){Lg(this),this.g.forEach((function(n,o){n.forEach((function(n){e.call(t,n,o,this)}),this)}),this)},sc.ta=function(){Lg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let o=0;o<t.length;o++){const r=e[o];for(let e=0;e<r.length;e++)n.push(t[o])}return n},sc.Z=function(e){Lg(this);let t=[];if("string"===typeof e)zg(this,e)&&(t=t.concat(this.g.get(Og(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},sc.set=function(e,t){return Lg(this),this.i=null,zg(this,e=Og(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},sc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var o=t[n];const a=encodeURIComponent(String(o)),i=this.Z(o);for(o=0;o<i.length;o++){var r=a;""!==i[o]&&(r+="="+encodeURIComponent(String(i[o]))),e.push(r)}}return this.i=e.join("&")};var jg=class{constructor(e,t){this.g=e,this.map=t}};function Ug(e){this.l=e||Pg,Ic.PerformanceNavigationTiming?e=0<(e=Ic.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ic.g&&Ic.g.Ka&&Ic.g.Ka()&&Ic.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pg=10;function Qg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _g(e){return e.h?1:e.g?e.g.size:0}function qg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $g(e,t){e.g?e.g.add(t):e.h=t}function eu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Gc(e.i)}Ug.prototype.cancel=function(){if(this.i=tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nu=class{stringify(e){return Ic.JSON.stringify(e,void 0)}parse(e){return Ic.JSON.parse(e,void 0)}};function ou(){this.g=new nu}function ru(e,t,n){const o=n||"";try{Sg(e,(function(e,n){let r=e;mc(e)&&(r=vs(e)),t.push(o+n+"="+encodeURIComponent(r))}))}catch(Tie){throw t.push(o+"type="+encodeURIComponent("_badmap")),Tie}}function au(e,t,n,o,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(o)}catch(st){}}function iu(e){this.l=e.fc||null,this.j=e.ob||!1}function lu(e,t){fs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=cu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yc(iu,eg),iu.prototype.g=function(){return new lu(this.l,this.j)},iu.prototype.i=function(e){return function(){return e}}({}),yc(lu,fs);var cu=0;function su(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function gu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,uu(e)}function uu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sc=lu.prototype).open=function(e,t){if(this.readyState!=cu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,uu(this)},sc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ic).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},sc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gu(this)),this.readyState=cu},sc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ic.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;su(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},sc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gu(this):uu(this),3==this.readyState&&su(this)}},sc.Za=function(e){this.g&&(this.response=this.responseText=e,gu(this))},sc.Ya=function(e){this.g&&(this.response=e,gu(this))},sc.ka=function(){this.g&&gu(this)},sc.setRequestHeader=function(e,t){this.v.append(e,t)},sc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var du=Ic.JSON.parse;function Iu(e){fs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cu,this.L=this.M=!1}yc(Iu,fs);var Cu="",mu=/^https?$/i,hu=["POST","PUT"];function pu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fu(e),bu(e)}function fu(e){e.F||(e.F=!0,As(e,"complete"),As(e,"error"))}function Au(e){if(e.h&&"undefined"!=typeof dc&&(!e.C[1]||4!=yu(e)||2!=e.da()))if(e.v&&4==yu(e))Ns(e.La,0,e);else if(As(e,"readystatechange"),4==yu(e)){e.h=!1;try{const i=e.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===i){var r=String(e.I).match(Gg)[1]||null;!r&&Ic.self&&Ic.self.location&&(r=Ic.self.location.protocol.slice(0,-1)),o=!mu.test(r?r.toLowerCase():"")}n=o}if(n)As(e,"complete"),As(e,"success");else{e.m=6;try{var a=2<yu(e)?e.g.statusText:""}catch(nt){a=""}e.j=a+" ["+e.da()+"]",fu(e)}}finally{bu(e)}}}function bu(e,t){if(e.g){vu(e);const n=e.g,o=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||As(e,"ready");try{n.onreadystatechange=o}catch(Tie){}}}function vu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ic.clearTimeout(e.A),e.A=null)}function yu(e){return e.g?e.g.readyState:0}function Zu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Cu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ft){return null}}function Su(e){let t="";return $c(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Gu(e,t,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Su(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wg(e,t,n))}function Bu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ku(e){this.Ga=0,this.j=[],this.l=new Ms,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bu("baseRetryDelayMs",5e3,e),this.hb=Bu("retryDelaySeedMs",1e4,e),this.eb=Bu("forwardChannelMaxRetries",2,e),this.xa=Bu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ug(e&&e.concurrentRequestLimit),this.Ja=new ou,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wu(e){if(Vu(e),3==e.H){var t=e.W++,n=kg(e.I);if(Wg(n,"SID",e.K),Wg(n,"RID",t),Wg(n,"TYPE","terminate"),Xu(e,n),(t=new cg(e,e.l,t)).L=2,t.v=xg(kg(n)),n=!1,Ic.navigator&&Ic.navigator.sendBeacon)try{n=Ic.navigator.sendBeacon(t.v.toString(),"")}catch(mt){}!n&&Ic.Image&&((new Image).src=t.v,n=!0),n||(t.g=Du(t.l,null),t.g.ha(t.v)),t.G=Date.now(),fg(t)}Tu(e)}function Ru(e){e.g&&(Hu(e),e.g.cancel(),e.g=null)}function Vu(e){Ru(e),e.u&&(Ic.clearTimeout(e.u),e.u=null),Fu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ic.clearTimeout(e.m),e.m=null)}function Wu(e){if(!Qg(e.i)&&!e.m){e.m=!0;var t=e.Na;ks||Vs(),ws||(ks(),ws=!0),Rs.add(t,e),e.C=0}}function xu(e,t){var n;n=t?t.m:e.W++;const o=kg(e.I);Wg(o,"SID",e.K),Wg(o,"RID",n),Wg(o,"AID",e.V),Xu(e,o),e.o&&e.s&&Gu(o,e.o,e.s),n=new cg(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Nu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),$g(e.i,n),Ig(n,o,t)}function Xu(e,t){e.na&&$c(e.na,(function(e,n){Wg(t,n,e)})),e.h&&Sg({},(function(e,n){Wg(t,n,e)}))}function Nu(e,t,n){n=Math.min(e.j.length,n);var o=e.h?bc(e.h.Va,e.h,e):null;e:{var r=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let i=0;i<n;i++){let n=r[i].g;const l=r[i].map;if(n-=t,0>n)t=Math.max(0,r[i].g-100),a=!1;else try{ru(l,e,"req"+n+"_")}catch(Dt){o&&o(l)}}if(a){o=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,o}function Ju(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ks||Vs(),ws||(ks(),ws=!0),Rs.add(t,e),e.A=0}}function Eu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_s(bc(e.Ma,e),Mu(e,e.A)),e.A++,!0)}function Hu(e){null!=e.B&&(Ic.clearTimeout(e.B),e.B=null)}function Yu(e){e.g=new cg(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=kg(e.wa);Wg(t,"RID","rpc"),Wg(t,"SID",e.K),Wg(t,"AID",e.V),Wg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Wg(t,"TO",e.qa),Wg(t,"TYPE","xmlhttp"),Xu(e,t),e.o&&e.s&&Gu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=xg(kg(t)),n.s=null,n.S=!0,Cg(n,e)}function Fu(e){null!=e.v&&(Ic.clearTimeout(e.v),e.v=null)}function Ku(e,t){var n=null;if(e.g==t){Fu(e),Hu(e),e.g=null;var o=2}else{if(!qg(e.i,t))return;n=t.F,eu(e.i,t),o=1}if(0!=e.H)if(t.i)if(1==o){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;As(o=Ds(),new Qs(o,n)),Wu(e)}else Ju(e);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==o&&function(e,t){return!(_g(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_s(bc(e.Na,e,t),Mu(e,e.C)),e.C++,!0))}(e,t)||2==o&&Eu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Lu(e,5);break;case 4:Lu(e,10);break;case 3:Lu(e,6);break;default:Lu(e,2)}}function Mu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Lu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var o=bc(e.pb,e);n||(n=new Bg("//www.google.com/images/cleardot.gif"),Ic.location&&"http"==Ic.location.protocol||wg(n,"https"),xg(n)),function(e,t){const n=new Ms;if(Ic.Image){const o=new Image;o.onload=vc(au,n,o,"TestLoadImage: loaded",!0,t),o.onerror=vc(au,n,o,"TestLoadImage: error",!1,t),o.onabort=vc(au,n,o,"TestLoadImage: abort",!1,t),o.ontimeout=vc(au,n,o,"TestLoadImage: timeout",!1,t),Ic.setTimeout((function(){o.ontimeout&&o.ontimeout()}),1e4),o.src=e}else t(!1)}(n.toString(),o)}else Ps(2);e.H=0,e.h&&e.h.za(t),Tu(e),Vu(e)}function Tu(e){if(e.H=0,e.ma=[],e.h){const t=tu(e.i);0==t.length&&0==e.j.length||(Bc(e.ma,t),Bc(e.ma,e.j),e.i.i.length=0,Gc(e.j),e.j.length=0),e.h.ya()}}function zu(e,t,n){var o=n instanceof Bg?kg(n):new Bg(n);if(""!=o.g)t&&(o.g=t+"."+o.g),Rg(o,o.m);else{var r=Ic.location;o=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var a=new Bg(null);o&&wg(a,o),t&&(a.g=t),r&&Rg(a,r),n&&(a.l=n),o=a}return n=e.F,t=e.Da,n&&t&&Wg(o,n,t),Wg(o,"VER",e.ra),Xu(e,o),o}function Du(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Iu(new iu({ob:!0})):new Iu(e.va)).Oa(e.J),t}function Ou(){}function ju(){if(Ec&&!(10<=Number(Oc)))throw Error("Environmental error: no available transport.")}function Uu(e,t){fs.call(this),this.g=new ku(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Rc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _u(this)}function Pu(e){ag.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qu(){ig.call(this),this.status=1}function _u(e){this.g=e}function qu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $u(e,t,n){n||(n=0);var o=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)o[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)o[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var a=e.g[3],i=t+(a^n&(r^a))+o[0]+3614090360&4294967295;i=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=(n=(r=(a=(t=n+(i<<7&4294967295|i>>>25))+((i=a+(r^t&(n^r))+o[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^a&(t^n))+o[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(a^t))+o[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^n&(r^a))+o[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=a+(r^t&(n^r))+o[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^a&(t^n))+o[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(a^t))+o[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^n&(r^a))+o[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=a+(r^t&(n^r))+o[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^a&(t^n))+o[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(a^t))+o[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^n&(r^a))+o[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=a+(r^t&(n^r))+o[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^a&(t^n))+o[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(a^t))+o[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(r^a&(n^r))+o[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^r&(t^n))+o[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(a^t))+o[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(r^a))+o[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^a&(n^r))+o[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^r&(t^n))+o[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(a^t))+o[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(r^a))+o[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^a&(n^r))+o[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^r&(t^n))+o[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(a^t))+o[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(r^a))+o[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^a&(n^r))+o[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^r&(t^n))+o[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(a^t))+o[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(r^a))+o[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^r^a)+o[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^r)+o[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^n)+o[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^a^t)+o[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^r^a)+o[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^r)+o[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^n)+o[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^a^t)+o[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^r^a)+o[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^r)+o[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^n)+o[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^a^t)+o[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^r^a)+o[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^r)+o[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^n)+o[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^a^t)+o[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^(n|~a))+o[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~r))+o[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(a|~n))+o[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(a^(r|~t))+o[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(n|~a))+o[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~r))+o[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(a|~n))+o[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(a^(r|~t))+o[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(n|~a))+o[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~r))+o[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(a|~n))+o[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(a^(r|~t))+o[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((a=(t=n+((i=t+(r^(n|~a))+o[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~r))+o[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((r=a+((i=r+(t^(a|~n))+o[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+o[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+a&4294967295}function ed(e,t){this.h=t;for(var n=[],o=!0,r=e.length-1;0<=r;r--){var a=0|e[r];o&&a==t||(n[r]=a,o=!1)}this.g=n}(sc=Iu.prototype).Oa=function(e){this.M=e},sc.ha=function(e,t,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():og.g(),this.C=this.u?tg(this.u):tg(og),this.g.onreadystatechange=bc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(st){return void pu(this,st)}if(e=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var r in o)n.set(r,o[r]);else{if("function"!==typeof o.keys||"function"!==typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const e of o.keys())n.set(e,o.get(e))}o=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=Ic.FormData&&e instanceof Ic.FormData,!(0<=Sc(hu,t))||o||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,i]of n)this.g.setRequestHeader(a,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vu(this),0<this.B&&((this.L=function(e){return Ec&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bc(this.ua,this)):this.A=Ns(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(st){pu(this,st)}},sc.ua=function(){"undefined"!=typeof dc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,As(this,"timeout"),this.abort(8))},sc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,As(this,"complete"),As(this,"abort"),bu(this))},sc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bu(this,!0)),Iu.$.N.call(this)},sc.La=function(){this.s||(this.G||this.v||this.l?Au(this):this.kb())},sc.kb=function(){Au(this)},sc.isActive=function(){return!!this.g},sc.da=function(){try{return 2<yu(this)?this.g.status:-1}catch(ct){return-1}},sc.ja=function(){try{return this.g?this.g.responseText:""}catch(ct){return""}},sc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),du(t)}},sc.Ia=function(){return this.m},sc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sc=ku.prototype).ra=8,sc.H=1,sc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new cg(this,this.l,e);let a=this.s;if(this.U&&(a?(a=es(a),ns(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Nu(this,r,t),Wg(n=kg(this.I),"RID",e),Wg(n,"CVER",22),this.F&&Wg(n,"X-HTTP-Session-Id",this.F),Xu(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Su(a)))+"&"+t:this.o&&Gu(n,this.o,a)),$g(this.i,r),this.bb&&Wg(n,"TYPE","init"),this.P?(Wg(n,"$req",t),Wg(n,"SID","null"),r.aa=!0,Ig(r,n,null)):Ig(r,n,t),this.H=2}}else 3==this.H&&(e?xu(this,e):0==this.j.length||Qg(this.i)||xu(this))},sc.Ma=function(){if(this.u=null,Yu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_s(bc(this.jb,this),e)}},sc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ps(10),Ru(this),Yu(this))},sc.ib=function(){null!=this.v&&(this.v=null,Ru(this),Eu(this),Ps(19))},sc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ps(2)):(this.l.info("Failed to ping google.com"),Ps(1))},sc.isActive=function(){return!!this.h&&this.h.isActive(this)},(sc=Ou.prototype).Ba=function(){},sc.Aa=function(){},sc.za=function(){},sc.ya=function(){},sc.isActive=function(){return!0},sc.Va=function(){},ju.prototype.g=function(e,t){return new Uu(e,t)},yc(Uu,fs),Uu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ps(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zu(e,null,e.Y),Wu(e)},Uu.prototype.close=function(){wu(this.g)},Uu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=vs(e),e=n);t.j.push(new jg(t.fb++,e)),3==t.H&&Wu(t)},Uu.prototype.N=function(){this.g.h=null,delete this.j,wu(this.g),delete this.g,Uu.$.N.call(this)},yc(Pu,ag),yc(Qu,ig),yc(_u,Ou),_u.prototype.Ba=function(){As(this.g,"a")},_u.prototype.Aa=function(e){As(this.g,new Pu(e))},_u.prototype.za=function(e){As(this.g,new Qu)},_u.prototype.ya=function(){As(this.g,"b")},yc(qu,(function(){this.blockSize=-1})),qu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,o=this.m,r=this.h,a=0;a<t;){if(0==r)for(;a<=n;)$u(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(o[r++]=e.charCodeAt(a++),r==this.blockSize){$u(this,o),r=0;break}}else for(;a<t;)if(o[r++]=e[a++],r==this.blockSize){$u(this,o),r=0;break}}this.h=r,this.i+=t},qu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var o=0;32>o;o+=8)e[n++]=this.g[t]>>>o&255;return e};var td={};function nd(e){return-128<=e&&128>e?function(e,t){var n=td;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ed([0|e],0>e?-1:0)})):new ed([0|e],0>e?-1:0)}function od(e){if(isNaN(e)||!isFinite(e))return ad;if(0>e)return gd(od(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=rd;return new ed(t,0)}var rd=4294967296,ad=nd(0),id=nd(1),ld=nd(16777216);function cd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function sd(e){return-1==e.h}function gd(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new ed(n,~e.h).add(id)}function ud(e,t){return e.add(gd(t))}function dd(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Id(e,t){this.g=e,this.h=t}function Cd(e,t){if(cd(t))throw Error("division by zero");if(cd(e))return new Id(ad,ad);if(sd(e))return t=Cd(gd(e),t),new Id(gd(t.g),gd(t.h));if(sd(t))return t=Cd(e,gd(t)),new Id(gd(t.g),t.h);if(30<e.g.length){if(sd(e)||sd(t))throw Error("slowDivide_ only works with positive integers.");for(var n=id,o=t;0>=o.X(e);)n=md(n),o=md(o);var r=hd(n,1),a=hd(o,1);for(o=hd(o,2),n=hd(n,2);!cd(o);){var i=a.add(o);0>=i.X(e)&&(r=r.add(n),a=i),o=hd(o,1),n=hd(n,1)}return t=ud(e,r.R(t)),new Id(r,t)}for(r=ad;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),i=(a=od(n)).R(t);sd(i)||0<i.X(e);)i=(a=od(n-=o)).R(t);cd(a)&&(a=id),r=r.add(a),e=ud(e,i)}return new Id(r,e)}function md(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.D(o)<<1|e.D(o-1)>>>31;return new ed(n,e.h)}function hd(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,r=[],a=0;a<o;a++)r[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new ed(r,e.h)}(sc=ed.prototype).ea=function(){if(sd(this))return-gd(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var o=this.D(n);e+=(0<=o?o:rd+o)*t,t*=rd}return e},sc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(cd(this))return"0";if(sd(this))return"-"+gd(this).toString(e);for(var t=od(Math.pow(e,6)),n=this,o="";;){var r=Cd(n,t).g,a=((0<(n=ud(n,r.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(cd(n=r))return a+o;for(;6>a.length;)a="0"+a;o=a+o}},sc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},sc.X=function(e){return sd(e=ud(this,e))?-1:cd(e)?0:1},sc.abs=function(){return sd(this)?gd(this):this},sc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,r=0;r<=t;r++){var a=o+(65535&this.D(r))+(65535&e.D(r)),i=(a>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);o=i>>>16,a&=65535,i&=65535,n[r]=i<<16|a}return new ed(n,-2147483648&n[n.length-1]?-1:0)},sc.R=function(e){if(cd(this)||cd(e))return ad;if(sd(this))return sd(e)?gd(this).R(gd(e)):gd(gd(this).R(e));if(sd(e))return gd(this.R(gd(e)));if(0>this.X(ld)&&0>e.X(ld))return od(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var r=0;r<e.g.length;r++){var a=this.D(o)>>>16,i=65535&this.D(o),l=e.D(r)>>>16,c=65535&e.D(r);n[2*o+2*r]+=i*c,dd(n,2*o+2*r),n[2*o+2*r+1]+=a*c,dd(n,2*o+2*r+1),n[2*o+2*r+1]+=i*l,dd(n,2*o+2*r+1),n[2*o+2*r+2]+=a*l,dd(n,2*o+2*r+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new ed(n,0)},sc.gb=function(e){return Cd(this,e).h},sc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.D(o)&e.D(o);return new ed(n,this.h&e.h)},sc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.D(o)|e.D(o);return new ed(n,this.h|e.h)},sc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.D(o)^e.D(o);return new ed(n,this.h^e.h)},ju.prototype.createWebChannel=ju.prototype.g,Uu.prototype.send=Uu.prototype.u,Uu.prototype.open=Uu.prototype.m,Uu.prototype.close=Uu.prototype.close,qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,$s.COMPLETE="complete",ng.EventType=rg,rg.OPEN="a",rg.CLOSE="b",rg.ERROR="c",rg.MESSAGE="d",fs.prototype.listen=fs.prototype.O,Iu.prototype.listenOnce=Iu.prototype.P,Iu.prototype.getLastError=Iu.prototype.Sa,Iu.prototype.getLastErrorCode=Iu.prototype.Ia,Iu.prototype.getStatus=Iu.prototype.da,Iu.prototype.getResponseJson=Iu.prototype.Wa,Iu.prototype.getResponseText=Iu.prototype.ja,Iu.prototype.send=Iu.prototype.ha,Iu.prototype.setWithCredentials=Iu.prototype.Oa,qu.prototype.digest=qu.prototype.l,qu.prototype.reset=qu.prototype.reset,qu.prototype.update=qu.prototype.j,ed.prototype.add=ed.prototype.add,ed.prototype.multiply=ed.prototype.R,ed.prototype.modulo=ed.prototype.gb,ed.prototype.compare=ed.prototype.X,ed.prototype.toNumber=ed.prototype.ea,ed.prototype.toString=ed.prototype.toString,ed.prototype.getBits=ed.prototype.D,ed.fromNumber=od,ed.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return gd(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=od(Math.pow(n,8)),r=ad,a=0;a<t.length;a+=8){var i=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+i),n);8>i?(i=od(Math.pow(n,i)),r=r.R(i).add(od(l))):r=(r=r.R(o)).add(od(l))}return r};var pd=uc.createWebChannelTransport=function(){return new ju},fd=uc.getStatEventTarget=function(){return Ds()},Ad=uc.ErrorCode=qs,bd=uc.EventType=$s,vd=uc.Event=Ts,yd=uc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zd=uc.FetchXmlHttpFactory=iu,Sd=uc.WebChannel=ng,Gd=uc.XhrIo=Iu,Bd=uc.Md5=qu,kd=uc.Integer=ed;const wd="@firebase/firestore";class Rd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rd.UNAUTHENTICATED=new Rd(null),Rd.GOOGLE_CREDENTIALS=new Rd("google-credentials-uid"),Rd.FIRST_PARTY=new Rd("first-party-uid"),Rd.MOCK_USER=new Rd("mock-user");let Vd="9.23.0";const Wd=new Ho("@firebase/firestore");function xd(){return Wd.logLevel}function Xd(e){if(Wd.logLevel<=xo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=n.map(Ed);Wd.debug("Firestore (".concat(Vd,"): ").concat(e),...r)}}function Nd(e){if(Wd.logLevel<=xo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=n.map(Ed);Wd.error("Firestore (".concat(Vd,"): ").concat(e),...r)}}function Jd(e){if(Wd.logLevel<=xo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=n.map(Ed);Wd.warn("Firestore (".concat(Vd,"): ").concat(e),...r)}}function Ed(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Vd,") INTERNAL ASSERTION FAILED: ")+e;throw Nd(t),new Error(t)}function Yd(e,t){e||Hd()}function Fd(e,t){return e}const Kd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Md extends mo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ld{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Td{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class zd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rd.UNAUTHENTICATED)))}shutdown(){}}class Dd{constructor(e){this.t=e,this.currentUser=Rd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const o=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Ld;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ld,e.enqueueRetryable((()=>o(this.currentUser)))};const a=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await o(this.currentUser)}))},i=e=>{Xd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(Xd("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ld)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yd("string"==typeof t.accessToken),new Td(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yd(null===e||"string"==typeof e),new Rd(e)}}class Od{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Rd.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jd{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Od(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Rd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ud{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pd{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Xd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Xd("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const o=e=>{Xd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>o(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?o(e):Xd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Yd("string"==typeof e.token),this.T=e.token,new Ud(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let o=0;o<e;o++)n[o]=Math.floor(256*Math.random());return n}class _d{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const o=Qd(40);for(let r=0;r<o.length;++r)n.length<20&&o[r]<t&&(n+=e.charAt(o[r]%62))}return n}}function qd(e,t){return e<t?-1:e>t?1:0}function $d(e,t,n){return e.length===t.length&&e.every(((e,o)=>n(e,t[o])))}class eI{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Md(Kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Md(Kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Md(Kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Md(Kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return eI.fromMillis(Date.now())}static fromDate(e){return eI.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new eI(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qd(this.nanoseconds,e.nanoseconds):qd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tI{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tI(e)}static min(){return new tI(new eI(0,0))}static max(){return new tI(new eI(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nI{constructor(e,t,n){void 0===t?t=0:t>e.length&&Hd(),void 0===n?n=e.length-t:n>e.length-t&&Hd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===nI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nI?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const n=e.get(o),r=t.get(o);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oI extends nI{construct(e,t,n){return new oI(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(const r of n){if(r.indexOf("//")>=0)throw new Md(Kd.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new oI(e)}static emptyPath(){return new oI([])}}const rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class aI extends nI{construct(e,t,n){return new aI(e,t,n)}static isValidIdentifier(e){return rI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),aI.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new aI(["__name__"])}static fromServerFormat(e){const t=[];let n="",o=0;const r=()=>{if(0===n.length)throw new Md(Kd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;o<e.length;){const t=e[o];if("\\"===t){if(o+1===e.length)throw new Md(Kd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[o+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Md(Kd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,o+=2}else"`"===t?(a=!a,o++):"."!==t||a?(n+=t,o++):(r(),o++)}if(r(),a)throw new Md(Kd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new aI(t)}static emptyPath(){return new aI([])}}class iI{constructor(e){this.path=e}static fromPath(e){return new iI(oI.fromString(e))}static fromName(e){return new iI(oI.fromString(e).popFirst(5))}static empty(){return new iI(oI.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oI.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oI.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new iI(new oI(e.slice()))}}class lI{constructor(e,t,n,o){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=o}}lI.UNKNOWN_ID=-1;function cI(e,t){const n=e.toTimestamp().seconds,o=e.toTimestamp().nanoseconds+1,r=tI.fromTimestamp(1e9===o?new eI(n+1,0):new eI(n,o));return new gI(r,iI.empty(),t)}function sI(e){return new gI(e.readTime,e.key,-1)}class gI{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gI(tI.min(),iI.empty(),-1)}static max(){return new gI(tI.max(),iI.empty(),-1)}}function uI(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=iI.comparator(e.documentKey,t.documentKey),0!==n?n:qd(e.largestBatchId,t.largestBatchId))}const dI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class II{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function CI(e){if(e.code!==Kd.FAILED_PRECONDITION||e.message!==dI)throw e;Xd("LocalStore","Unexpectedly lost primary lease")}class mI{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mI(((n,o)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,o)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof mI?t:mI.resolve(t)}catch(e){return mI.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):mI.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):mI.reject(t)}static resolve(e){return new mI(((t,n)=>{t(e)}))}static reject(e){return new mI(((t,n)=>{n(e)}))}static waitFor(e){return new mI(((t,n)=>{let o=0,r=0,a=!1;e.forEach((e=>{++o,e.next((()=>{++r,a&&r===o&&t()}),(e=>n(e)))})),a=!0,r===o&&t()}))}static or(e){let t=mI.resolve(!1);for(const n of e)t=t.next((e=>e?mI.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,o)=>{n.push(t.call(this,e,o))})),this.waitFor(n)}static mapArray(e,t){return new mI(((n,o)=>{const r=e.length,a=new Array(r);let i=0;for(let l=0;l<r;l++){const c=l;t(e[c]).next((e=>{a[c]=e,++i,i===r&&n(a)}),(e=>o(e)))}}))}static doWhile(e,t){return new mI(((n,o)=>{const r=()=>{!0===e()?t().next((()=>{r()}),o):n()};r()}))}}function hI(e){return"IndexedDbTransactionError"===e.name}class pI{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function fI(e){return null==e}function AI(e){return 0===e&&1/e==-1/0}function bI(e){return"number"==typeof e&&Number.isInteger(e)&&!AI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}pI.ct=-1;const vI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZI=yI;function SI(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function GI(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class kI{constructor(e,t){this.comparator=e,this.root=t||RI.EMPTY}insert(e,t){return new kI(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,RI.BLACK,null,null))}remove(e){return new kI(this.comparator,this.root.remove(e,this.comparator).copy(null,null,RI.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wI(this.root,e,this.comparator,!1)}getReverseIterator(){return new wI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wI(this.root,e,this.comparator,!0)}}class wI{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&o&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class RI{constructor(e,t,n,o,r){this.key=e,this.value=t,this.color=null!=n?n:RI.RED,this.left=null!=o?o:RI.EMPTY,this.right=null!=r?r:RI.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,r){return new RI(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=o?o:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const r=n(e,o.key);return o=r<0?o.copy(null,null,null,o.left.insert(e,t,n),null):0===r?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return RI.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return RI.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,RI.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,RI.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hd();if(this.right.isRed())throw Hd();const e=this.left.check();if(e!==this.right.check())throw Hd();return e+(this.isRed()?0:1)}}RI.EMPTY=null,RI.RED=!0,RI.BLACK=!1,RI.EMPTY=new class{constructor(){this.size=0}get key(){throw Hd()}get value(){throw Hd()}get color(){throw Hd()}get left(){throw Hd()}get right(){throw Hd()}copy(e,t,n,o,r){return this}insert(e,t,n){return new RI(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class VI{constructor(e){this.comparator=e,this.data=new kI(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WI(this.data.getIterator())}getIteratorFrom(e){return new WI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof VI))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,o=n.getNext().key;if(0!==this.comparator(e,o))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new VI(this.comparator);return t.data=e,t}}class WI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xI{constructor(e){this.fields=e,e.sort(aI.comparator)}static empty(){return new xI([])}unionWith(e){let t=new VI(aI.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xI(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $d(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class XI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class NI{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new XI("Invalid base64 string: "+e):e}}(e);return new NI(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new NI(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}NI.EMPTY_BYTE_STRING=new NI("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function EI(e){if(Yd(!!e),"string"==typeof e){let t=0;const n=JI.exec(e);if(Yd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:HI(e.seconds),nanos:HI(e.nanos)}}function HI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function YI(e){return"string"==typeof e?NI.fromBase64String(e):NI.fromUint8Array(e)}function FI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function KI(e){const t=e.mapValue.fields.__previous_value__;return FI(t)?KI(t):t}function MI(e){const t=EI(e.mapValue.fields.__local_write_time__.timestampValue);return new eI(t.seconds,t.nanos)}class LI{constructor(e,t,n,o,r,a,i,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=i,this.longPollingOptions=l,this.useFetchStreams=c}}class TI{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new TI("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof TI&&e.projectId===this.projectId&&e.database===this.database}}const zI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function DI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?FI(e)?4:aC(e)?9007199254740991:10:Hd()}function OI(e,t){if(e===t)return!0;const n=DI(e);if(n!==DI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return MI(e).isEqual(MI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=EI(e.timestampValue),o=EI(t.timestampValue);return n.seconds===o.seconds&&n.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return YI(e.bytesValue).isEqual(YI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return HI(e.geoPointValue.latitude)===HI(t.geoPointValue.latitude)&&HI(e.geoPointValue.longitude)===HI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return HI(e.integerValue)===HI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=HI(e.doubleValue),o=HI(t.doubleValue);return n===o?AI(n)===AI(o):isNaN(n)&&isNaN(o)}return!1}(e,t);case 9:return $d(e.arrayValue.values||[],t.arrayValue.values||[],OI);case 10:return function(e,t){const n=e.mapValue.fields||{},o=t.mapValue.fields||{};if(SI(n)!==SI(o))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===o[r]||!OI(n[r],o[r])))return!1;return!0}(e,t);default:return Hd()}}function jI(e,t){return void 0!==(e.values||[]).find((e=>OI(e,t)))}function UI(e,t){if(e===t)return 0;const n=DI(e),o=DI(t);if(n!==o)return qd(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return qd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=HI(e.integerValue||e.doubleValue),o=HI(t.integerValue||t.doubleValue);return n<o?-1:n>o?1:n===o?0:isNaN(n)?isNaN(o)?0:-1:1}(e,t);case 3:return PI(e.timestampValue,t.timestampValue);case 4:return PI(MI(e),MI(t));case 5:return qd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=YI(e),o=YI(t);return n.compareTo(o)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),o=t.split("/");for(let r=0;r<n.length&&r<o.length;r++){const e=qd(n[r],o[r]);if(0!==e)return e}return qd(n.length,o.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qd(HI(e.latitude),HI(t.latitude));return 0!==n?n:qd(HI(e.longitude),HI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],o=t.values||[];for(let r=0;r<n.length&&r<o.length;++r){const e=UI(n[r],o[r]);if(e)return e}return qd(n.length,o.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zI.mapValue&&t===zI.mapValue)return 0;if(e===zI.mapValue)return 1;if(t===zI.mapValue)return-1;const n=e.fields||{},o=Object.keys(n),r=t.fields||{},a=Object.keys(r);o.sort(),a.sort();for(let i=0;i<o.length&&i<a.length;++i){const e=qd(o[i],a[i]);if(0!==e)return e;const t=UI(n[o[i]],r[a[i]]);if(0!==t)return t}return qd(o.length,a.length)}(e.mapValue,t.mapValue);default:throw Hd()}}function PI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qd(e,t);const n=EI(e),o=EI(t),r=qd(n.seconds,o.seconds);return 0!==r?r:qd(n.nanos,o.nanos)}function QI(e){return _I(e)}function _I(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=EI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?YI(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,iI.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const o of e.values||[])n?n=!1:t+=",",t+=_I(o);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",o=!0;for(const r of t)o?o=!1:n+=",",n+="".concat(r,":").concat(_I(e.fields[r]));return n+"}"}(e.mapValue):Hd();var t,n}function qI(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $I(e){return!!e&&"integerValue"in e}function eC(e){return!!e&&"arrayValue"in e}function tC(e){return!!e&&"nullValue"in e}function nC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oC(e){return!!e&&"mapValue"in e}function rC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return GI(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=rC(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=rC(e.arrayValue.values[n]);return t}return Object.assign({},e)}function aC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class iC{constructor(e){this.value=e}static empty(){return new iC({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rC(t)}setAll(e){let t=aI.emptyPath(),n={},o=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,o),n={},o=[],t=r.popLast()}e?n[r.lastSegment()]=rC(e):o.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,o)}delete(e){const t=this.field(e.popLast());oC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return OI(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];oC(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){GI(t,((t,n)=>e[t]=n));for(const o of n)delete e[o]}clone(){return new iC(rC(this.value))}}function lC(e){const t=[];return GI(e.fields,((e,n)=>{const o=new aI([e]);if(oC(n)){const e=lC(n.mapValue).fields;if(0===e.length)t.push(o);else for(const n of e)t.push(o.child(n))}else t.push(o)})),new xI(t)}class cC{constructor(e,t,n,o,r,a,i){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=r,this.data=a,this.documentState=i}static newInvalidDocument(e){return new cC(e,0,tI.min(),tI.min(),tI.min(),iC.empty(),0)}static newFoundDocument(e,t,n,o){return new cC(e,1,t,tI.min(),n,o,0)}static newNoDocument(e,t){return new cC(e,2,t,tI.min(),tI.min(),iC.empty(),0)}static newUnknownDocument(e,t){return new cC(e,3,t,tI.min(),tI.min(),iC.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=iC.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=iC.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tI.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cC&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cC(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class sC{constructor(e,t){this.position=e,this.inclusive=t}}function gC(e,t,n){let o=0;for(let r=0;r<e.position.length;r++){const a=t[r],i=e.position[r];if(o=a.field.isKeyField()?iI.comparator(iI.fromName(i.referenceValue),n.key):UI(i,n.data.field(a.field)),"desc"===a.dir&&(o*=-1),0!==o)break}return o}function uC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!OI(e.position[n],t.position[n]))return!1;return!0}class dC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function IC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class CC{}class mC extends CC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ZC(e,t,n):"array-contains"===t?new kC(e,n):"in"===t?new wC(e,n):"not-in"===t?new RC(e,n):"array-contains-any"===t?new VC(e,n):new mC(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new SC(e,n):new GC(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(UI(t,this.value)):null!==t&&DI(this.value)===DI(t)&&this.matchesComparison(UI(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hC extends CC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hC(e,t)}matches(e){return pC(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pC(e){return"and"===e.op}function fC(e){return AC(e)&&pC(e)}function AC(e){for(const t of e.filters)if(t instanceof hC)return!1;return!0}function bC(e){if(e instanceof mC)return e.field.canonicalString()+e.op.toString()+QI(e.value);if(fC(e))return e.filters.map((e=>bC(e))).join(",");{const t=e.filters.map((e=>bC(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function vC(e,t){return e instanceof mC?function(e,t){return t instanceof mC&&e.op===t.op&&e.field.isEqual(t.field)&&OI(e.value,t.value)}(e,t):e instanceof hC?function(e,t){return t instanceof hC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,o)=>e&&vC(n,t.filters[o])),!0)}(e,t):void Hd()}function yC(e){return e instanceof mC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(QI(e.value))}(e):e instanceof hC?function(e){return e.op.toString()+" {"+e.getFilters().map(yC).join(" ,")+"}"}(e):"Filter"}class ZC extends mC{constructor(e,t,n){super(e,t,n),this.key=iI.fromName(n.referenceValue)}matches(e){const t=iI.comparator(e.key,this.key);return this.matchesComparison(t)}}class SC extends mC{constructor(e,t){super(e,"in",t),this.keys=BC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GC extends mC{constructor(e,t){super(e,"not-in",t),this.keys=BC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function BC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>iI.fromName(e.referenceValue)))}class kC extends mC{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eC(t)&&jI(t.arrayValue,this.value)}}class wC extends mC{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jI(this.value.arrayValue,t)}}class RC extends mC{constructor(e,t){super(e,"not-in",t)}matches(e){if(jI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jI(this.value.arrayValue,t)}}class VC extends mC{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eC(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>jI(this.value.arrayValue,e)))}}class WC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=r,this.startAt=a,this.endAt=i,this.dt=null}}function xC(e){return new WC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function XC(e){const t=Fd(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bC(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),fI(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>QI(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>QI(e))).join(",")),t.dt=e}return t.dt}function NC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!uC(e.startAt,t.startAt)&&uC(e.endAt,t.endAt)}function JC(e){return iI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class EC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=r,this.limitType=a,this.startAt=i,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function HC(e,t,n,o,r,a,i,l){return new EC(e,t,n,o,r,a,i,l)}function YC(e){return new EC(e)}function FC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function KC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function MC(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function LC(e){return null!==e.collectionGroup}function TC(e){const t=Fd(e);if(null===t.wt){t.wt=[];const e=MC(t),n=KC(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new dC(e)),t.wt.push(new dC(aI.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new dC(aI.keyField(),e))}}}return t.wt}function zC(e){const t=Fd(e);if(!t._t)if("F"===t.limitType)t._t=xC(t.path,t.collectionGroup,TC(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of TC(t)){const t="desc"===r.dir?"asc":"desc";e.push(new dC(r.field,t))}const n=t.endAt?new sC(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new sC(t.startAt.position,t.startAt.inclusive):null;t._t=xC(t.path,t.collectionGroup,e,t.filters,t.limit,n,o)}return t._t}function DC(e,t){t.getFirstInequalityField(),MC(e);const n=e.filters.concat([t]);return new EC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function OC(e,t,n){return new EC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jC(e,t){return NC(zC(e),zC(t))&&e.limitType===t.limitType}function UC(e){return"".concat(XC(zC(e)),"|lt:").concat(e.limitType)}function PC(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>yC(e))).join(", "),"]")),fI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>QI(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>QI(e))).join(",")),"Target(".concat(t,")")}(zC(e)),"; limitType=").concat(e.limitType,")")}function QC(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):iI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of TC(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const o=gC(e,t,n);return e.inclusive?o<=0:o<0}(e.startAt,TC(e),t))&&!(e.endAt&&!function(e,t,n){const o=gC(e,t,n);return e.inclusive?o>=0:o>0}(e.endAt,TC(e),t))}(e,t)}function _C(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qC(e){return(t,n)=>{let o=!1;for(const r of TC(e)){const e=$C(r,t,n);if(0!==e)return e;o=o||r.field.isKeyField()}return 0}}function $C(e,t,n){const o=e.field.isKeyField()?iI.comparator(t.key,n.key):function(e,t,n){const o=t.data.field(e),r=n.data.field(e);return null!==o&&null!==r?UI(o,r):Hd()}(e.field,t,n);switch(e.dir){case"asc":return o;case"desc":return-1*o;default:return Hd()}}class em{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[o,r]of n)if(this.equalsFn(o,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<o.length;r++)if(this.equalsFn(o[r][0],e))return void(o[r]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return 1===n.length?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){GI(this.inner,((t,n)=>{for(const[o,r]of n)e(o,r)}))}isEmpty(){return BI(this.inner)}size(){return this.innerSize}}const tm=new kI(iI.comparator);function nm(){return tm}const om=new kI(iI.comparator);function rm(){let e=om;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(const r of n)e=e.insert(r.key,r);return e}function am(e){let t=om;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function im(){return cm()}function lm(){return cm()}function cm(){return new em((e=>e.toString()),((e,t)=>e.isEqual(t)))}const sm=new kI(iI.comparator),gm=new VI(iI.comparator);function um(){let e=gm;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(const r of n)e=e.add(r);return e}const dm=new VI(qd);function Im(){return dm}function Cm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:AI(t)?"-0":t}}function mm(e){return{integerValue:""+e}}function hm(e,t){return bI(t)?mm(t):Cm(e,t)}class pm{constructor(){this._=void 0}}function fm(e,t,n){return e instanceof vm?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&FI(t)&&(t=KI(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ym?Zm(e,t):e instanceof Sm?Gm(e,t):function(e,t){const n=bm(e,t),o=km(n)+km(e.gt);return $I(n)&&$I(e.gt)?mm(o):Cm(e.serializer,o)}(e,t)}function Am(e,t,n){return e instanceof ym?Zm(e,t):e instanceof Sm?Gm(e,t):n}function bm(e,t){return e instanceof Bm?$I(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class vm extends pm{}class ym extends pm{constructor(e){super(),this.elements=e}}function Zm(e,t){const n=wm(t);for(const o of e.elements)n.some((e=>OI(e,o)))||n.push(o);return{arrayValue:{values:n}}}class Sm extends pm{constructor(e){super(),this.elements=e}}function Gm(e,t){let n=wm(t);for(const o of e.elements)n=n.filter((e=>!OI(e,o)));return{arrayValue:{values:n}}}class Bm extends pm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function km(e){return HI(e.integerValue||e.doubleValue)}function wm(e){return eC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Rm{constructor(e,t){this.version=e,this.transformResults=t}}class Vm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vm}static exists(e){return new Vm(void 0,e)}static updateTime(e){return new Vm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xm{}function Xm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Tm(e.key,Vm.none()):new Ym(e.key,e.data,Vm.none());{const n=e.data,o=iC.empty();let r=new VI(aI.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?o.delete(e):o.set(e,t),r=r.add(e)}return new Fm(e.key,o,new xI(r.toArray()),Vm.none())}}function Nm(e,t,n){e instanceof Ym?function(e,t,n){const o=e.value.clone(),r=Mm(e.fieldTransforms,t,n.transformResults);o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Fm?function(e,t,n){if(!Wm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const o=Mm(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Km(e)),r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jm(e,t,n,o){return e instanceof Ym?function(e,t,n,o){if(!Wm(e.precondition,t))return n;const r=e.value.clone(),a=Lm(e.fieldTransforms,o,t);return r.setAll(a),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,o):e instanceof Fm?function(e,t,n,o){if(!Wm(e.precondition,t))return n;const r=Lm(e.fieldTransforms,o,t),a=t.data;return a.setAll(Km(e)),a.setAll(r),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,o):function(e,t,n){return Wm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Em(e,t){let n=null;for(const o of e.fieldTransforms){const e=t.data.field(o.field),r=bm(o.transform,e||null);null!=r&&(null===n&&(n=iC.empty()),n.set(o.field,r))}return n||null}function Hm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$d(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ym&&t instanceof ym||e instanceof Sm&&t instanceof Sm?$d(e.elements,t.elements,OI):e instanceof Bm&&t instanceof Bm?OI(e.gt,t.gt):e instanceof vm&&t instanceof vm}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ym extends xm{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fm extends xm{constructor(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Km(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const o=e.data.field(n);t.set(n,o)}})),t}function Mm(e,t,n){const o=new Map;Yd(e.length===n.length);for(let r=0;r<n.length;r++){const a=e[r],i=a.transform,l=t.data.field(a.field);o.set(a.field,Am(i,l,n[r]))}return o}function Lm(e,t,n){const o=new Map;for(const r of e){const e=r.transform,a=n.data.field(r.field);o.set(r.field,fm(e,a,t))}return o}class Tm extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zm extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dm{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const t=this.mutations[o];t.key.isEqual(e.key)&&Nm(t,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Jm(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Jm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lm();return this.mutations.forEach((o=>{const r=e.get(o.key),a=r.overlayedDocument;let i=this.applyToLocalView(a,r.mutatedFields);i=t.has(o.key)?null:i;const l=Xm(a,i);null!==l&&n.set(o.key,l),a.isValidDocument()||a.convertToNoDocument(tI.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),um())}isEqual(e){return this.batchId===e.batchId&&$d(this.mutations,e.mutations,((e,t)=>Hm(e,t)))&&$d(this.baseMutations,e.baseMutations,((e,t)=>Hm(e,t)))}}class Om{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){Yd(e.mutations.length===n.length);let o=sm;const r=e.mutations;for(let a=0;a<r.length;a++)o=o.insert(r[a].key,n[a].version);return new Om(e,t,n,o)}}class jm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Um{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pm,Qm;function _m(e){switch(e){default:return Hd();case Kd.CANCELLED:case Kd.UNKNOWN:case Kd.DEADLINE_EXCEEDED:case Kd.RESOURCE_EXHAUSTED:case Kd.INTERNAL:case Kd.UNAVAILABLE:case Kd.UNAUTHENTICATED:return!1;case Kd.INVALID_ARGUMENT:case Kd.NOT_FOUND:case Kd.ALREADY_EXISTS:case Kd.PERMISSION_DENIED:case Kd.FAILED_PRECONDITION:case Kd.ABORTED:case Kd.OUT_OF_RANGE:case Kd.UNIMPLEMENTED:case Kd.DATA_LOSS:return!0}}function qm(e){if(void 0===e)return Nd("GRPC error has no .code"),Kd.UNKNOWN;switch(e){case Pm.OK:return Kd.OK;case Pm.CANCELLED:return Kd.CANCELLED;case Pm.UNKNOWN:return Kd.UNKNOWN;case Pm.DEADLINE_EXCEEDED:return Kd.DEADLINE_EXCEEDED;case Pm.RESOURCE_EXHAUSTED:return Kd.RESOURCE_EXHAUSTED;case Pm.INTERNAL:return Kd.INTERNAL;case Pm.UNAVAILABLE:return Kd.UNAVAILABLE;case Pm.UNAUTHENTICATED:return Kd.UNAUTHENTICATED;case Pm.INVALID_ARGUMENT:return Kd.INVALID_ARGUMENT;case Pm.NOT_FOUND:return Kd.NOT_FOUND;case Pm.ALREADY_EXISTS:return Kd.ALREADY_EXISTS;case Pm.PERMISSION_DENIED:return Kd.PERMISSION_DENIED;case Pm.FAILED_PRECONDITION:return Kd.FAILED_PRECONDITION;case Pm.ABORTED:return Kd.ABORTED;case Pm.OUT_OF_RANGE:return Kd.OUT_OF_RANGE;case Pm.UNIMPLEMENTED:return Kd.UNIMPLEMENTED;case Pm.DATA_LOSS:return Kd.DATA_LOSS;default:return Hd()}}(Qm=Pm||(Pm={}))[Qm.OK=0]="OK",Qm[Qm.CANCELLED=1]="CANCELLED",Qm[Qm.UNKNOWN=2]="UNKNOWN",Qm[Qm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qm[Qm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qm[Qm.NOT_FOUND=5]="NOT_FOUND",Qm[Qm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qm[Qm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qm[Qm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qm[Qm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qm[Qm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qm[Qm.ABORTED=10]="ABORTED",Qm[Qm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qm[Qm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qm[Qm.INTERNAL=13]="INTERNAL",Qm[Qm.UNAVAILABLE=14]="UNAVAILABLE",Qm[Qm.DATA_LOSS=15]="DATA_LOSS";class $m{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return eh}static getOrCreateInstance(){return null===eh&&(eh=new $m),eh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let eh=null;function th(){return new TextEncoder}const nh=new kd([4294967295,4294967295],0);function oh(e){const t=th().encode(e),n=new Bd;return n.update(t),new Uint8Array(n.digest())}function rh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),o=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new kd([n,o],0),new kd([r,a],0)]}class ah{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ih("Invalid padding: ".concat(t));if(n<0)throw new ih("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ih("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ih("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=kd.fromNumber(this.It)}Et(e,t,n){let o=e.add(t.multiply(kd.fromNumber(n)));return 1===o.compare(nh)&&(o=new kd([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=oh(e),[n,o]=rh(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,o,r);if(!this.At(e))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new ah(r,o,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.It)return;const t=oh(e),[n,o]=rh(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,o,r);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(e,t,n,o,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,ch.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lh(tI.min(),o,new kI(qd),nm(),um())}}class ch{constructor(e,t,n,o,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ch(n,t,um(),um(),um())}}class sh{constructor(e,t,n,o){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=o}}class gh{constructor(e,t){this.targetId=e,this.Vt=t}}class uh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NI.EMPTY_BYTE_STRING,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class dh{constructor(){this.St=0,this.Dt=mh(),this.Ct=NI.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=um(),t=um(),n=um();return this.Dt.forEach(((o,r)=>{switch(r){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Hd()}})),new ch(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=mh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ih{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=nm(),this.zt=Ch(),this.Wt=new kI(qd)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Hd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,o=e.Vt.count,r=this.se(n);if(r){const a=r.target;if(JC(a))if(0===o){const e=new iI(a.path);this.Yt(n,e,cC.newNoDocument(e,tI.min()))}else Yd(1===o);else{const r=this.ie(n);if(r!==o){const o=this.re(e,r);if(0!==o){this.ee(n);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=$m.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var o,r,a,i,l,c;const s={localCacheCount:t,existenceFilterCount:n.count},g=n.unchangedNames;return g&&(s.bloomFilter={applied:0===e,hashCount:null!==(o=null==g?void 0:g.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(i=null===(a=null===(r=null==g?void 0:g.bits)||void 0===r?void 0:r.bitmap)||void 0===a?void 0:a.length)&&void 0!==i?i:0,padding:null!==(c=null===(l=null==g?void 0:g.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0}),s}(o,r,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:o}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let l,c;try{l=YI(r).toUint8Array()}catch(e){if(e instanceof XI)return Jd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{c=new ah(l,a,i)}catch(e){return Jd(e instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===c.It?1:o!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let o=0;return n.forEach((n=>{const r=this.Gt.ue(),a="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.vt(a)||(this.Yt(e,n,null),o++)})),o}ce(e){const t=new Map;this.Qt.forEach(((n,o)=>{const r=this.se(o);if(r){if(n.current&&JC(r.target)){const t=new iI(r.target.path);null!==this.jt.get(t)||this.ae(o,t)||this.Yt(o,t,cC.newNoDocument(t,e))}n.Mt&&(t.set(o,n.Ot()),n.Ft())}}));let n=um();this.zt.forEach(((e,t)=>{let o=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(o=!1,!1)})),o&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const o=new lh(e,t,this.Wt,this.jt,n);return this.jt=nm(),this.zt=Ch(),this.Wt=new kI(qd),o}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new dh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new VI(qd),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Xd("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new dh),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Ch(){return new kI(iI.comparator)}function mh(){return new kI(iI.comparator)}const hh={asc:"ASCENDING",desc:"DESCENDING"},ph={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fh={and:"AND",or:"OR"};class Ah{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bh(e,t){return e.useProto3Json||fI(t)?t:{value:t}}function vh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zh(e,t){return vh(e,t.toTimestamp())}function Sh(e){return Yd(!!e),tI.fromTimestamp(function(e){const t=EI(e);return new eI(t.seconds,t.nanos)}(e))}function Gh(e,t){return function(e){return new oI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bh(e){const t=oI.fromString(e);return Yd(Oh(t)),t}function kh(e,t){return Gh(e.databaseId,t.path)}function wh(e,t){const n=Bh(t);if(n.get(1)!==e.databaseId.projectId)throw new Md(Kd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Md(Kd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new iI(xh(n))}function Rh(e,t){return Gh(e.databaseId,t)}function Vh(e){const t=Bh(e);return 4===t.length?oI.emptyPath():xh(t)}function Wh(e){return new oI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xh(e){return Yd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xh(e,t,n){return{name:kh(e,t),fields:n.value.mapValue.fields}}function Nh(e,t){let n;if(t instanceof Ym)n={update:Xh(e,t.key,t.value)};else if(t instanceof Tm)n={delete:kh(e,t.key)};else if(t instanceof Fm)n={update:Xh(e,t.key,t.data),updateMask:Dh(t.fieldMask)};else{if(!(t instanceof zm))return Hd();n={verify:kh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof vm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ym)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bm)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Hd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hd()}(e,t.precondition)),n}function Jh(e,t){return{documents:[Rh(e,t.path)]}}function Eh(e,t){const n={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(n.parent=Rh(e,o),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rh(e,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const r=function(e){if(0!==e.length)return zh(hC.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Lh(e.field),direction:Fh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const i=bh(e,t.limit);var l;return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hh(e){let t=Vh(e.parent);const n=e.structuredQuery,o=n.from?n.from.length:0;let r=null;if(o>0){Yd(1===o);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Yh(e);return t instanceof hC&&fC(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map((e=>function(e){return new dC(Th(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let l=null;n.limit&&(l=function(e){let t;return t="object"==typeof e?e.value:e,fI(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new sC(n,t)}(n.startAt));let s=null;return n.endAt&&(s=function(e){const t=!e.before,n=e.values||[];return new sC(n,t)}(n.endAt)),HC(t,r,i,a,l,"F",c,s)}function Yh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Th(e.unaryFilter.field);return mC.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Th(e.unaryFilter.field);return mC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Th(e.unaryFilter.field);return mC.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Th(e.unaryFilter.field);return mC.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Hd()}}(e):void 0!==e.fieldFilter?function(e){return mC.create(Th(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hC.create(e.compositeFilter.filters.map((e=>Yh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Hd()}}(e.compositeFilter.op))}(e):Hd()}function Fh(e){return hh[e]}function Kh(e){return ph[e]}function Mh(e){return fh[e]}function Lh(e){return{fieldPath:e.canonicalString()}}function Th(e){return aI.fromServerFormat(e.fieldPath)}function zh(e){return e instanceof mC?function(e){if("=="===e.op){if(nC(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NAN"}};if(tC(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nC(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NOT_NAN"}};if(tC(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(e.field),op:Kh(e.op),value:e.value}}}(e):e instanceof hC?function(e){const t=e.getFilters().map((e=>zh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Mh(e.op),filters:t}}}(e):Hd()}function Dh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Oh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class jh{constructor(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tI.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tI.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:NI.EMPTY_BYTE_STRING,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=i,this.expectedCount=l}withSequenceNumber(e){return new jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Uh{constructor(e){this.fe=e}}function Ph(e){const t=Hh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?OC(t,t.limit,"L"):t}class Qh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(HI(e.integerValue));else if("doubleValue"in e){const n=HI(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),AI(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(YI(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?aC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Hd()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const o of Object.keys(n))this.Te(o,t),this.me(n[o],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const o of n)this.me(o,t)}ve(e,t){this.ye(t,37),iI.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Qh.Ve=new Qh;class _h{constructor(){this.rn=new qh}addToCollectionParentIndex(e,t){return this.rn.add(t),mI.resolve()}getCollectionParents(e,t){return mI.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return mI.resolve()}deleteFieldIndex(e,t){return mI.resolve()}getDocumentsMatchingTarget(e,t){return mI.resolve(null)}getIndexType(e,t){return mI.resolve(0)}getFieldIndexes(e,t){return mI.resolve([])}getNextCollectionGroupToUpdate(e){return mI.resolve(null)}getMinOffset(e,t){return mI.resolve(gI.min())}getMinOffsetFromCollectionGroup(e,t){return mI.resolve(gI.min())}updateCollectionGroup(e,t,n){return mI.resolve()}updateIndexEntries(e,t){return mI.resolve()}}class qh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new VI(oI.comparator),r=!o.has(n);return this.index[t]=o.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new VI(oI.comparator)).toArray()}}new Uint8Array(0);class $h{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $h(e,$h.DEFAULT_COLLECTION_PERCENTILE,$h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$h.DEFAULT_COLLECTION_PERCENTILE=10,$h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$h.DEFAULT=new $h(41943040,$h.DEFAULT_COLLECTION_PERCENTILE,$h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$h.DISABLED=new $h(-1,0,0);class ep{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ep(0)}static Mn(){return new ep(-1)}}class tp{constructor(){this.changes=new em((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cC.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?mI.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class np{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class op{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Jm(n.mutation,e,xI.empty(),eI.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,um()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:um();const o=im();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((e=>{let t=rm();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=im();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,um())))}populateOverlays(e,t,n){const o=[];return n.forEach((e=>{t.has(e)||o.push(e)})),this.documentOverlayCache.getOverlays(e,o).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,o){let r=nm();const a=cm(),i=cm();return t.forEach(((e,t)=>{const i=n.get(t.key);o.has(t.key)&&(void 0===i||i.mutation instanceof Fm)?r=r.insert(t.key,t):void 0!==i?(a.set(t.key,i.mutation.getFieldMask()),Jm(i.mutation,t,i.mutation.getFieldMask(),eI.now())):a.set(t.key,xI.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return i.set(e,new np(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),i)))}recalculateAndSaveOverlays(e,t){const n=cm();let o=new kI(((e,t)=>e-t)),r=um();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let i=n.get(e)||xI.empty();i=r.applyToLocalView(a,i),n.set(e,i);const l=(o.get(r.batchId)||um()).add(e);o=o.insert(r.batchId,l)}))})).next((()=>{const a=[],i=o.getReverseIterator();for(;i.hasNext();){const o=i.getNext(),l=o.key,c=o.value,s=lm();c.forEach((e=>{if(!r.has(e)){const o=Xm(t.get(e),n.get(e));null!==o&&s.set(e,o),r=r.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,l,s))}return mI.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return iI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((r=>{const a=o-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-r.size):mI.resolve(im());let i=-1,l=r;return a.next((t=>mI.forEach(t,((t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),r.get(t)?mI.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{l=l.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,l,t,um()))).next((e=>({batchId:i,changes:am(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new iI(t)).next((e=>{let t=rm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const o=t.collectionGroup;let r=rm();return this.indexManager.getCollectionParents(e,o).next((a=>mI.forEach(a,(a=>{const i=function(e,t){return new EC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,i,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(e,t,n){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((r=>(o=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o)))).next((e=>{o.forEach(((t,n)=>{const o=n.getKey();null===e.get(o)&&(e=e.insert(o,cC.newInvalidDocument(o)))}));let n=rm();return e.forEach(((e,r)=>{const a=o.get(e);void 0!==a&&Jm(a.mutation,r,xI.empty(),eI.now()),QC(t,r)&&(n=n.insert(e,r))})),n}))}}class rp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return mI.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Sh(n.createTime)}),mI.resolve()}getNamedQuery(e,t){return mI.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ph(e.bundledQuery),readTime:Sh(e.readTime)}}(t)),mI.resolve()}}class ap{constructor(){this.overlays=new kI(iI.comparator),this.ls=new Map}getOverlay(e,t){return mI.resolve(this.overlays.get(t))}getOverlays(e,t){const n=im();return mI.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,o)=>{this.we(e,t,o)})),mI.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.ls.get(n);return void 0!==o&&(o.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),mI.resolve()}getOverlaysForCollection(e,t,n){const o=im(),r=t.length+1,a=new iI(t.child("")),i=this.overlays.getIteratorFrom(a);for(;i.hasNext();){const e=i.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===r&&e.largestBatchId>n&&o.set(e.getKey(),e)}return mI.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let r=new kI(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=im(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=im(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=o)););return mI.resolve(i)}we(e,t,n){const o=this.overlays.get(n.key);if(null!==o){const e=this.ls.get(o.largestBatchId).delete(n.key);this.ls.set(o.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jm(t,n));let r=this.ls.get(t);void 0===r&&(r=um(),this.ls.set(t,r)),this.ls.set(t,r.add(n.key))}}class ip{constructor(){this.fs=new VI(lp.ds),this.ws=new VI(lp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new lp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new lp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new iI(new oI([])),n=new lp(t,e),o=new lp(t,e+1),r=[];return this.ws.forEachInRange([n,o],(e=>{this.ys(e),r.push(e.key)})),r}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new iI(new oI([])),n=new lp(t,e),o=new lp(t,e+1);let r=um();return this.ws.forEachInRange([n,o],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new lp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class lp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return iI.comparator(e.key,t.key)||qd(e.As,t.As)}static _s(e,t){return qd(e.As,t.As)||iI.comparator(e.key,t.key)}}class cp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new VI(lp.ds)}checkEmpty(e){return mI.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,o){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Dm(r,t,n,o);this.mutationQueue.push(a);for(const i of o)this.Rs=this.Rs.add(new lp(i.key,r)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return mI.resolve(a)}lookupMutationBatch(e,t){return mI.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.bs(n),r=o<0?0:o;return mI.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return mI.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return mI.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lp(t,0),o=new lp(t,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,o],(e=>{const t=this.Ps(e.As);r.push(t)})),mI.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new VI(qd);return t.forEach((e=>{const t=new lp(e,0),o=new lp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,o],(e=>{n=n.add(e.As)}))})),mI.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let r=n;iI.isDocumentKey(r)||(r=r.child(""));const a=new lp(new iI(r),0);let i=new VI(qd);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===o&&(i=i.add(e.As)),!0)}),a),mI.resolve(this.Vs(i))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Yd(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return mI.forEach(t.mutations,(o=>{const r=new lp(o.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new lp(t,0),o=this.Rs.firstAfterOrEqual(n);return mI.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,mI.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sp{constructor(e){this.Ds=e,this.docs=new kI(iI.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),r=o?o.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return mI.resolve(n?n.document.mutableCopy():cC.newInvalidDocument(t))}getEntries(e,t){let n=nm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cC.newInvalidDocument(e))})),mI.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let r=nm();const a=t.path,i=new iI(a.child("")),l=this.docs.getIteratorFrom(i);for(;l.hasNext();){const{key:e,value:{document:i}}=l.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||uI(sI(i),n)<=0||(o.has(i.key)||QC(t,i))&&(r=r.insert(i.key,i.mutableCopy()))}return mI.resolve(r)}getAllFromCollectionGroup(e,t,n,o){Hd()}Cs(e,t){return mI.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new gp(this)}getSize(e){return mI.resolve(this.size)}}class gp extends tp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(n)})),mI.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class up{constructor(e){this.persistence=e,this.xs=new em((e=>XC(e)),NC),this.lastRemoteSnapshotVersion=tI.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ip,this.targetCount=0,this.Ms=ep.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),mI.resolve()}getLastRemoteSnapshotVersion(e){return mI.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mI.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),mI.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),mI.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ep(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,mI.resolve()}updateTargetData(e,t){return this.Fn(t),mI.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,mI.resolve()}removeTargets(e,t,n){let o=0;const r=[];return this.xs.forEach(((a,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.xs.delete(a),r.push(this.removeMatchingKeysForTargetId(e,i.targetId)),o++)})),mI.waitFor(r).next((()=>o))}getTargetCount(e){return mI.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return mI.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),mI.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const o=this.persistence.referenceDelegate,r=[];return o&&t.forEach((t=>{r.push(o.markPotentiallyOrphaned(e,t))})),mI.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),mI.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return mI.resolve(n)}containsKey(e,t){return mI.resolve(this.ks.containsKey(t))}}class dp{constructor(e,t){this.$s={},this.overlays={},this.Os=new pI(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new up(this),this.indexManager=new _h,this.remoteDocumentCache=function(e){return new sp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Uh(t),this.qs=new rp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ap,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new cp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Xd("MemoryPersistence","Starting transaction:",e);const o=new Ip(this.Os.next());return this.referenceDelegate.Us(),n(o).next((e=>this.referenceDelegate.Ks(o).next((()=>e)))).toPromise().then((e=>(o.raiseOnCommittedEvent(),e)))}Gs(e,t){return mI.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Ip extends II{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Qs=new ip,this.js=null}static zs(e){return new Cp(e)}get Ws(){if(this.js)return this.js;throw Hd()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),mI.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),mI.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),mI.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mI.forEach(this.Ws,(n=>{const o=iI.fromPath(n);return this.Hs(e,o).next((e=>{e||t.removeEntry(o,tI.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return mI.or([()=>mI.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class mp{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=o}static Li(e,t){let n=um(),o=um();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:o=o.add(r.doc.key)}return new mp(e,t.fromCache,n,o)}}class hp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,o){return this.Ki(e,t).next((r=>r||this.Gi(e,t,o,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(FC(t))return mI.resolve(null);let n=zC(t);return this.indexManager.getIndexType(e,n).next((o=>0===o?null:(null!==t.limit&&1===o&&(t=OC(t,null,"F"),n=zC(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const r=um(...o);return this.Ui.getDocuments(e,r).next((o=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.ji(t,o);return this.zi(t,a,r,n.readTime)?this.Ki(e,OC(t,null,"F")):this.Wi(e,a,t,n)}))))})))))}Gi(e,t,n,o){return FC(t)||o.isEqual(tI.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((r=>{const a=this.ji(t,r);return this.zi(t,a,n,o)?this.Qi(e,t):(xd()<=xo.DEBUG&&Xd("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),PC(t)),this.Wi(e,a,t,cI(o,-1)))}))}ji(e,t){let n=new VI(qC(e));return t.forEach(((t,o)=>{QC(e,o)&&(n=n.add(o))})),n}zi(e,t,n,o){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(o)>0)}Qi(e,t){return xd()<=xo.DEBUG&&Xd("QueryEngine","Using full collection scan to execute query:",PC(t)),this.Ui.getDocumentsMatchingQuery(e,t,gI.min())}Wi(e,t,n,o){return this.Ui.getDocumentsMatchingQuery(e,n,o).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class pp{constructor(e,t,n,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new kI(qd),this.Yi=new em((e=>XC(e)),NC),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new op(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function fp(e,t,n,o){return new pp(e,t,n,o)}async function Ap(e,t){const n=Fd(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.mutationQueue.getAllMutationBatches(e).next((r=>(o=r,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],a=[];let i=um();for(const e of o){r.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next((e=>({er:e,removedBatchIds:r,addedBatchIds:a})))}))}))}function bp(e){const t=Fd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function vp(e,t,n){let o=um(),r=um();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=nm();return n.forEach(((n,a)=>{const i=e.get(n);a.isFoundDocument()!==i.isFoundDocument()&&(r=r.add(n)),a.isNoDocument()&&a.version.isEqual(tI.min())?(t.removeEntry(n,a.readTime),o=o.insert(n,a)):!i.isValidDocument()||a.version.compareTo(i.version)>0||0===a.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(a),o=o.insert(n,a)):Xd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",a.version)})),{nr:o,sr:r}}))}function yp(e,t){const n=Fd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Zp(e,t){const n=Fd(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let o;return n.Bs.getTargetData(e,t).next((r=>r?(o=r,mI.resolve(o)):n.Bs.allocateTargetId(e).next((r=>(o=new jh(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,o).next((()=>o)))))))})).then((e=>{const o=n.Ji.get(e.targetId);return(null===o||e.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Sp(e,t,n){const o=Fd(e),r=o.Ji.get(t),a=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",a,(e=>o.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!hI(e))throw e;Xd("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}o.Ji=o.Ji.remove(t),o.Yi.delete(r.target)}function Gp(e,t,n){const o=Fd(e);let r=tI.min(),a=um();return o.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const o=Fd(e),r=o.Yi.get(n);return void 0!==r?mI.resolve(o.Ji.get(r)):o.Bs.getTargetData(t,n)}(o,e,zC(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>o.Hi.getDocumentsMatchingQuery(e,t,n?r:tI.min(),n?a:um()))).next((e=>(Bp(o,_C(t),e),{documents:e,ir:a})))))}function Bp(e,t,n){let o=e.Xi.get(t)||tI.min();n.forEach(((e,t)=>{t.readTime.compareTo(o)>0&&(o=t.readTime)})),e.Xi.set(t,o)}class kp{constructor(){this.activeTargetIds=Im()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wp{constructor(){this.Hr=new kp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rp{Yr(e){}shutdown(){}}class Vp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wp=null;function xp(){return null===Wp?Wp=268435456+Math.round(2147483648*Math.random()):Wp++,"0x"+Wp.toString(16)}const Xp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Np{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Jp="WebChannelConnection";class Ep extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,o,r){const a=xp(),i=this.To(e,t);Xd("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),i,n);const l={};return this.Eo(l,o,r),this.Ao(e,i,l,n).then((t=>(Xd("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw Jd("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",i,"request:",n),t}))}vo(e,t,n,o,r,a){return this.Io(e,t,n,o,r)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Xp[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,o){const r=xp();return new Promise(((a,i)=>{const l=new Gd;l.setWithCredentials(!0),l.listenOnce(bd.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case Ad.NO_ERROR:const t=l.getResponseJson();Xd(Jp,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),a(t);break;case Ad.TIMEOUT:Xd(Jp,"RPC '".concat(e,"' ").concat(r," timed out")),i(new Md(Kd.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const n=l.getStatus();if(Xd(Jp,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",l.getResponseText()),n>0){let e=l.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kd).indexOf(t)>=0?t:Kd.UNKNOWN}(t.status);i(new Md(e,t.message))}else i(new Md(Kd.UNKNOWN,"Server responded with status "+l.getStatus()))}else i(new Md(Kd.UNAVAILABLE,"Connection failed."));break;default:Hd()}}finally{Xd(Jp,"RPC '".concat(e,"' ").concat(r," completed."))}}));const c=JSON.stringify(o);Xd(Jp,"RPC '".concat(e,"' ").concat(r," sending request:"),o),l.send(t,"POST",c,n,15)}))}Ro(e,t,n){const o=xp(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pd(),i=fd(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Zd({})),this.Eo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const s=r.join("");Xd(Jp,"Creating RPC '".concat(e,"' stream ").concat(o,": ").concat(s),l);const g=a.createWebChannel(s,l);let u=!1,d=!1;const I=new Np({ro:t=>{d?Xd(Jp,"Not sending because RPC '".concat(e,"' stream ").concat(o," is closed:"),t):(u||(Xd(Jp,"Opening RPC '".concat(e,"' stream ").concat(o," transport.")),g.open(),u=!0),Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," sending:"),t),g.send(t))},oo:()=>g.close()}),C=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return C(g,Sd.EventType.OPEN,(()=>{d||Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," transport opened."))})),C(g,Sd.EventType.CLOSE,(()=>{d||(d=!0,Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," transport closed")),I.wo())})),C(g,Sd.EventType.ERROR,(t=>{d||(d=!0,Jd(Jp,"RPC '".concat(e,"' stream ").concat(o," transport errored:"),t),I.wo(new Md(Kd.UNAVAILABLE,"The operation could not be completed")))})),C(g,Sd.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];Yd(!!r);const a=r,i=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(i){Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," received error:"),i);const t=i.status;let n=function(e){const t=Pm[e];if(void 0!==t)return qm(t)}(t),r=i.message;void 0===n&&(n=Kd.INTERNAL,r="Unknown error status: "+t+" with message "+i.message),d=!0,I.wo(new Md(n,r)),g.close()}else Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," received:"),r),I._o(r)}})),C(i,vd.STAT_EVENT,(t=>{t.stat===yd.PROXY?Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," detected buffering proxy")):t.stat===yd.NOPROXY&&Xd(Jp,"RPC '".concat(e,"' stream ").concat(o," detected no buffering proxy"))})),setTimeout((()=>{I.fo()}),0),I}}function Hp(){return"undefined"!=typeof document?document:null}function Yp(e){return new Ah(e,!0)}class Fp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=o,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-n);o>0&&Xd("ExponentialBackoff","Backing off for ".concat(o," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Kp{constructor(e,t,n,o,r,a,i,l){this.ii=e,this.$o=n,this.Oo=o,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=i,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Fp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Kd.RESOURCE_EXHAUSTED?(Nd(t.toString()),Nd("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Kd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,o]=e;this.Fo===t&&this.Zo(n,o)}),(t=>{e((()=>{const e=new Md(Kd.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Xd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Xd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mp extends Kp{constructor(e,t,n,o,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,a),this.serializer=r}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const o=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hd()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Yd(void 0===t||"string"==typeof t),NI.fromBase64String(t||"")):(Yd(void 0===t||t instanceof Uint8Array),NI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,l=i&&function(e){const t=void 0===e.code?Kd.UNKNOWN:qm(e.code);return new Md(t,e.message||"")}(i);n=new uh(o,r,a,l||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const r=wh(e,o.document.name),a=Sh(o.document.updateTime),i=o.document.createTime?Sh(o.document.createTime):tI.min(),l=new iC({mapValue:{fields:o.document.fields}}),c=cC.newFoundDocument(r,a,i,l),s=o.targetIds||[],g=o.removedTargetIds||[];n=new sh(s,g,c.key,c)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const r=wh(e,o.document),a=o.readTime?Sh(o.readTime):tI.min(),i=cC.newNoDocument(r,a),l=o.removedTargetIds||[];n=new sh([],l,i.key,i)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const r=wh(e,o.document),a=o.removedTargetIds||[];n=new sh([],a,r,null)}else{if(!("filter"in t))return Hd();{t.filter;const e=t.filter;e.targetId;const{count:o=0,unchangedNames:r}=e,a=new Um(o,r),i=e.targetId;n=new gh(i,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return tI.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?tI.min():t.readTime?Sh(t.readTime):tI.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Wh(this.serializer),t.addTarget=function(e,t){let n;const o=t.target;if(n=JC(o)?{documents:Jh(e,o)}:{query:Eh(e,o)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yh(e,t.resumeToken);const o=bh(e,t.expectedCount);null!==o&&(n.expectedCount=o)}else if(t.snapshotVersion.compareTo(tI.min())>0){n.readTime=vh(e,t.snapshotVersion.toTimestamp());const o=bh(e,t.expectedCount);null!==o&&(n.expectedCount=o)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Hd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Wh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Lp extends Kp{constructor(e,t,n,o,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,a),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Yd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Yd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Sh(e.updateTime):Sh(t);return n.isEqual(tI.min())&&(n=Sh(t)),new Rm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Sh(e.commitTime);return this.listener.cu(n,t)}return Yd(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Nh(this.serializer,e)))};this.Wo(t)}}class Tp extends class{}{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Md(Kd.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[r,a]=o;return this.connection.Io(e,t,n,r,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Kd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Md(Kd.UNKNOWN,e.toString())}))}vo(e,t,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[a,i]=r;return this.connection.vo(e,t,n,a,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Kd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Md(Kd.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class zp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Nd(t),this.mu=!1):Xd("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Dp{constructor(e,t,n,o,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{ef(this)&&(Xd("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Fd(e);t.vu.add(4),await jp(t),t.bu.set("Unknown"),t.vu.delete(4),await Op(t)}(this))}))})),this.bu=new zp(n,o)}}async function Op(e){if(ef(e))for(const t of e.Ru)await t(!0)}async function jp(e){for(const t of e.Ru)await t(!1)}function Up(e,t){const n=Fd(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),$p(n)?qp(n):Af(n).Ko()&&Qp(n,t))}function Pp(e,t){const n=Fd(e),o=Af(n);n.Au.delete(t),o.Ko()&&_p(n,t),0===n.Au.size&&(o.Ko()?o.jo():ef(n)&&n.bu.set("Unknown"))}function Qp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tI.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Af(e).su(t)}function _p(e,t){e.Vu.qt(t),Af(e).iu(t)}function qp(e){e.Vu=new Ih({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Af(e).start(),e.bu.gu()}function $p(e){return ef(e)&&!Af(e).Uo()&&e.Au.size>0}function ef(e){return 0===Fd(e).vu.size}function tf(e){e.Vu=void 0}async function nf(e){e.Au.forEach(((t,n)=>{Qp(e,t)}))}async function of(e,t){tf(e),$p(e)?(e.bu.Iu(t),qp(e)):e.bu.set("Unknown")}async function rf(e,t,n){if(e.bu.set("Online"),t instanceof uh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const o of t.targetIds)e.Au.has(o)&&(await e.remoteSyncer.rejectListen(o,n),e.Au.delete(o),e.Vu.removeTarget(o))}(e,t)}catch(n){Xd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await af(e,n)}else if(t instanceof sh?e.Vu.Ht(t):t instanceof gh?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(tI.min()))try{const t=await bp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,o)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Au.get(o);r&&e.Au.set(o,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const o=e.Au.get(t);if(!o)return;e.Au.set(t,o.withResumeToken(NI.EMPTY_BYTE_STRING,o.snapshotVersion)),_p(e,t);const r=new jh(o.target,t,n,o.sequenceNumber);Qp(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xd("RemoteStore","Failed to raise snapshot:",t),await af(e,t)}}async function af(e,t,n){if(!hI(t))throw t;e.vu.add(1),await jp(e),e.bu.set("Offline"),n||(n=()=>bp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xd("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Op(e)}))}function lf(e,t){return t().catch((n=>af(e,n,t)))}async function cf(e){const t=Fd(e),n=bf(t);let o=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;sf(t);)try{const e=await yp(t.localStore,o);if(null===e){0===t.Eu.length&&n.jo();break}o=e.batchId,gf(t,e)}catch(e){await af(t,e)}uf(t)&&df(t)}function sf(e){return ef(e)&&e.Eu.length<10}function gf(e,t){e.Eu.push(t);const n=bf(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function uf(e){return ef(e)&&!bf(e).Uo()&&e.Eu.length>0}function df(e){bf(e).start()}async function If(e){bf(e).hu()}async function Cf(e){const t=bf(e);for(const n of e.Eu)t.uu(n.mutations)}async function mf(e,t,n){const o=e.Eu.shift(),r=Om.from(o,t,n);await lf(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await cf(e)}async function hf(e,t){t&&bf(e).ou&&await async function(e,t){if(_m(n=t.code)&&n!==Kd.ABORTED){const n=e.Eu.shift();bf(e).Qo(),await lf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cf(e)}var n}(e,t),uf(e)&&df(e)}async function pf(e,t){const n=Fd(e);n.asyncQueue.verifyOperationInProgress(),Xd("RemoteStore","RemoteStore received new credentials");const o=ef(n);n.vu.add(3),await jp(n),o&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Op(n)}async function ff(e,t){const n=Fd(e);t?(n.vu.delete(2),await Op(n)):t||(n.vu.add(2),await jp(n),n.bu.set("Unknown"))}function Af(e){return e.Su||(e.Su=function(e,t,n){const o=Fd(e);return o.fu(),new Mp(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,n)}(e.datastore,e.asyncQueue,{uo:nf.bind(null,e),ao:of.bind(null,e),nu:rf.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),$p(e)?qp(e):e.bu.set("Unknown")):(await e.Su.stop(),tf(e))}))),e.Su}function bf(e){return e.Du||(e.Du=function(e,t,n){const o=Fd(e);return o.fu(),new Lp(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,n)}(e.datastore,e.asyncQueue,{uo:If.bind(null,e),ao:hf.bind(null,e),au:Cf.bind(null,e),cu:mf.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await cf(e)):(await e.Du.stop(),e.Eu.length>0&&(Xd("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class vf{constructor(e,t,n,o,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=r,this.deferred=new Ld,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,o,r){const a=Date.now()+n,i=new vf(e,t,a,o,r);return i.start(n),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Md(Kd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yf(e,t){if(Nd("AsyncQueue","".concat(t,": ").concat(e)),hI(e))return new Md(Kd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Zf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||iI.comparator(t.key,n.key):(e,t)=>iI.comparator(e.key,t.key),this.keyedMap=rm(),this.sortedSet=new kI(this.comparator)}static emptySet(e){return new Zf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,o=n.getNext().key;if(!e.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Zf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sf{constructor(){this.Cu=new kI(iI.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Hd():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Gf{constructor(e,t,n,o,r,a,i,l,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=i,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,o,r){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Gf(e,t,Zf.emptySet(t),a,n,o,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}class Bf{constructor(){this.Nu=void 0,this.listeners=[]}}class kf{constructor(){this.queries=new em((e=>UC(e)),jC),this.onlineState="Unknown",this.ku=new Set}}async function wf(e,t){const n=Fd(e),o=t.query;let r=!1,a=n.queries.get(o);if(a||(r=!0,a=new Bf),r)try{a.Nu=await n.onListen(o)}catch(e){const n=yf(e,"Initialization of query '".concat(PC(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,a),a.listeners.push(t),t.Mu(n.onlineState),a.Nu&&t.$u(a.Nu)&&xf(n)}async function Rf(e,t){const n=Fd(e),o=t.query;let r=!1;const a=n.queries.get(o);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),r=0===a.listeners.length)}if(r)return n.queries.delete(o),n.onUnlisten(o)}function Vf(e,t){const n=Fd(e);let o=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(r)&&(o=!0);t.Nu=r}}o&&xf(n)}function Wf(e,t,n){const o=Fd(e),r=o.queries.get(t);if(r)for(const a of r.listeners)a.onError(n);o.queries.delete(t)}function xf(e){e.ku.forEach((e=>{e.next()}))}class Xf{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Gf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Nf{constructor(e){this.key=e}}class Jf{constructor(e){this.key=e}}class Ef{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=um(),this.mutatedKeys=um(),this.tc=qC(e),this.ec=new Zf(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Sf,o=t?t.ec:this.ec;let r=t?t.mutatedKeys:this.mutatedKeys,a=o,i=!1;const l="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,c="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((e,t)=>{const s=o.get(e),g=QC(this.query,t)?t:null,u=!!s&&this.mutatedKeys.has(s.key),d=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;s&&g?s.data.isEqual(g.data)?u!==d&&(n.track({type:3,doc:g}),I=!0):this.rc(s,g)||(n.track({type:2,doc:g}),I=!0,(l&&this.tc(g,l)>0||c&&this.tc(g,c)<0)&&(i=!0)):!s&&g?(n.track({type:0,doc:g}),I=!0):s&&!g&&(n.track({type:1,doc:s}),I=!0,(l||c)&&(i=!0)),I&&(g?(a=a.add(g),r=d?r.add(e):r.delete(e)):(a=a.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{ec:a,ic:n,zi:i,mutatedKeys:r}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hd()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const a=t?this.uc():[],i=0===this.Zu.size&&this.current?1:0,l=i!==this.Xu;return this.Xu=i,0!==r.length||l?{snapshot:new Gf(this.query,e.ec,o,r,e.mutatedKeys,0===i,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Sf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=um(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Jf(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Nf(n))})),t}hc(e){this.Yu=e.ir,this.Zu=um();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Gf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Hf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Yf{constructor(e){this.key=e,this.fc=!1}}class Ff{constructor(e,t,n,o,r,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new em((e=>UC(e)),jC),this._c=new Map,this.mc=new Set,this.gc=new kI(iI.comparator),this.yc=new Map,this.Ic=new ip,this.Tc={},this.Ec=new Map,this.Ac=ep.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Kf(e,t){const n=rA(e);let o,r;const a=n.wc.get(t);if(a)o=a.targetId,n.sharedClientState.addLocalQueryTarget(o),r=a.view.lc();else{const e=await Zp(n.localStore,zC(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);o=e.targetId,r=await Mf(n,t,o,"current"===a,e.resumeToken),n.isPrimaryClient&&Up(n.remoteStore,e)}return r}async function Mf(e,t,n,o,r){e.Rc=(t,n,o)=>async function(e,t,n,o){let r=t.view.sc(n);r.zi&&(r=await Gp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,r)})));const a=o&&o.targetChanges.get(t.targetId),i=t.view.applyChanges(r,e.isPrimaryClient,a);return qf(e,t.targetId,i.cc),i.snapshot}(e,t,n,o);const a=await Gp(e.localStore,t,!0),i=new Ef(t,a.ir),l=i.sc(a.documents),c=ch.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==e.onlineState,r),s=i.applyChanges(l,e.isPrimaryClient,c);qf(e,n,s.cc);const g=new Hf(t,n,i);return e.wc.set(t,g),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),s.snapshot}async function Lf(e,t){const n=Fd(e),o=n.wc.get(t),r=n._c.get(o.targetId);if(r.length>1)return n._c.set(o.targetId,r.filter((e=>!jC(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await Sp(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),Pp(n.remoteStore,o.targetId),Qf(n,o.targetId)})).catch(CI)):(Qf(n,o.targetId),await Sp(n.localStore,o.targetId,!0))}async function Tf(e,t){const n=Fd(e);try{const e=await function(e,t){const n=Fd(e),o=t.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const i=[];t.targetChanges.forEach(((a,l)=>{const c=r.get(l);if(!c)return;i.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,l).next((()=>n.Bs.addMatchingKeys(e,a.addedDocuments,l))));let s=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(l)?s=s.withResumeToken(NI.EMPTY_BYTE_STRING,tI.min()).withLastLimboFreeSnapshotVersion(tI.min()):a.resumeToken.approximateByteSize()>0&&(s=s.withResumeToken(a.resumeToken,o)),r=r.insert(l,s),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,s,a)&&i.push(n.Bs.updateTargetData(e,s))}));let l=nm(),c=um();if(t.documentUpdates.forEach((o=>{t.resolvedLimboDocuments.has(o)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,o))})),i.push(vp(e,a,t.documentUpdates).next((e=>{l=e.nr,c=e.sr}))),!o.isEqual(tI.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,o)));i.push(t)}return mI.waitFor(i).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,l,c))).next((()=>l))})).then((e=>(n.Ji=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const o=n.yc.get(t);o&&(Yd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?o.fc=!0:e.modifiedDocuments.size>0?Yd(o.fc):e.removedDocuments.size>0&&(Yd(o.fc),o.fc=!1))})),await tA(n,e,t)}catch(e){await CI(e)}}function zf(e,t,n){const o=Fd(e);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const e=[];o.wc.forEach(((n,o)=>{const r=o.view.Mu(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Fd(e);n.onlineState=t;let o=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Mu(t)&&(o=!0)})),o&&xf(n)}(o.eventManager,t),e.length&&o.dc.nu(e),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function Df(e,t,n){const o=Fd(e);o.sharedClientState.updateQueryState(t,"rejected",n);const r=o.yc.get(t),a=r&&r.key;if(a){let e=new kI(iI.comparator);e=e.insert(a,cC.newNoDocument(a,tI.min()));const n=um().add(a),r=new lh(tI.min(),new Map,new kI(qd),e,n);await Tf(o,r),o.gc=o.gc.remove(a),o.yc.delete(t),eA(o)}else await Sp(o.localStore,t,!1).then((()=>Qf(o,t,n))).catch(CI)}async function Of(e,t){const n=Fd(e),o=t.batch.batchId;try{const e=await function(e,t){const n=Fd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const o=t.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,o){const r=n.batch,a=r.keys();let i=mI.resolve();return a.forEach((e=>{i=i.next((()=>o.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);Yd(null!==a),t.version.compareTo(a)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),o.addEntry(t)))}))})),i.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=um();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,o)))}))}(n.localStore,t);Pf(n,o,null),Uf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await tA(n,e)}catch(e){await CI(e)}}async function jf(e,t,n){const o=Fd(e);try{const e=await function(e,t){const n=Fd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let o;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Yd(null!==t),o=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,o,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,o))).next((()=>n.localDocuments.getDocuments(e,o)))}))}(o.localStore,t);Pf(o,t,n),Uf(o,t),o.sharedClientState.updateMutationState(t,"rejected",n),await tA(o,e)}catch(n){await CI(n)}}function Uf(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Pf(e,t,n){const o=Fd(e);let r=o.Tc[o.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),o.Tc[o.currentUser.toKey()]=r}}function Qf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const o of e._c.get(t))e.wc.delete(o),n&&e.dc.Pc(o,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||_f(e,t)}))}function _f(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Pp(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),eA(e))}function qf(e,t,n){for(const o of n)o instanceof Nf?(e.Ic.addReference(o.key,t),$f(e,o)):o instanceof Jf?(Xd("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||_f(e,o.key)):Hd()}function $f(e,t){const n=t.key,o=n.path.canonicalString();e.gc.get(n)||e.mc.has(o)||(Xd("SyncEngine","New document in limbo: "+n),e.mc.add(o),eA(e))}function eA(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new iI(oI.fromString(t)),o=e.Ac.next();e.yc.set(o,new Yf(n)),e.gc=e.gc.insert(n,o),Up(e.remoteStore,new jh(zC(YC(n.path)),o,"TargetPurposeLimboResolution",pI.ct))}}async function tA(e,t,n){const o=Fd(e),r=[],a=[],i=[];o.wc.isEmpty()||(o.wc.forEach(((e,l)=>{i.push(o.Rc(l,t,n).then((e=>{if((e||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(l.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=mp.Li(l.targetId,e);a.push(t)}})))})),await Promise.all(i),o.dc.nu(r),await async function(e,t){const n=Fd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>mI.forEach(t,(t=>mI.forEach(t.Fi,(o=>n.persistence.referenceDelegate.addReference(e,t.targetId,o))).next((()=>mI.forEach(t.Bi,(o=>n.persistence.referenceDelegate.removeReference(e,t.targetId,o)))))))))}catch(e){if(!hI(e))throw e;Xd("LocalStore","Failed to update sequence numbers: "+e)}for(const o of t){const e=o.targetId;if(!o.fromCache){const t=n.Ji.get(e),o=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(o);n.Ji=n.Ji.insert(e,r)}}}(o.localStore,a))}async function nA(e,t){const n=Fd(e);if(!n.currentUser.isEqual(t)){Xd("SyncEngine","User change. New user:",t.toKey());const e=await Ap(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Md(Kd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await tA(n,e.er)}}function oA(e,t){const n=Fd(e),o=n.yc.get(t);if(o&&o.fc)return um().add(o.key);{let e=um();const o=n._c.get(t);if(!o)return e;for(const t of o){const o=n.wc.get(t);e=e.unionWith(o.view.nc)}return e}}function rA(e){const t=Fd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Df.bind(null,t),t.dc.nu=Vf.bind(null,t.eventManager),t.dc.Pc=Wf.bind(null,t.eventManager),t}function aA(e){const t=Fd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Of.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jf.bind(null,t),t}class iA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return fp(this.persistence,new hp,e.initialUser,this.serializer)}createPersistence(e){return new dp(Cp.zs,this.serializer)}createSharedClientState(e){return new wp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lA{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=nA.bind(null,this.syncEngine),await ff(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kf}createDatastore(e){const t=Yp(e.databaseInfo.databaseId),n=(o=e.databaseInfo,new Ep(o));var o;return function(e,t,n,o){return new Tp(e,t,n,o)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,o=e.asyncQueue,r=e=>zf(this.syncEngine,e,0),a=Vp.D()?new Vp:new Rp,new Dp(t,n,o,r,a);var t,n,o,r,a}createSyncEngine(e,t){return function(e,t,n,o,r,a,i){const l=new Ff(e,t,n,o,r,a);return i&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Fd(e);Xd("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await jp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class cA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Nd("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class sA{constructor(e,t,n,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=Rd.UNAUTHENTICATED,this.clientId=_d.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xd("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xd("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Md(Kd.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ld;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Tie){const n=yf(Tie,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gA(e,t){e.asyncQueue.verifyOperationInProgress(),Xd("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let o=n.initialUser;e.setCredentialChangeListener((async e=>{o.isEqual(e)||(await Ap(t.localStore,e),o=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await IA(e);Xd("FirestoreClient","Initializing OnlineComponentProvider");const o=await e.getConfiguration();await t.initialize(n,o),e.setCredentialChangeListener((e=>pf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pf(t.remoteStore,n))),e._onlineComponents=t}function dA(e){return"FirebaseError"===e.name?e.code===Kd.FAILED_PRECONDITION||e.code===Kd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function IA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xd("FirestoreClient","Using user provided OfflineComponentProvider");try{await gA(e,e._uninitializedComponentsProvider._offline)}catch(Tie){const n=Tie;if(!dA(n))throw n;Jd("Error using user provided cache. Falling back to memory cache: "+n),await gA(e,new iA)}}else Xd("FirestoreClient","Using default OfflineComponentProvider"),await gA(e,new iA);return e._offlineComponents}async function CA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xd("FirestoreClient","Using user provided OnlineComponentProvider"),await uA(e,e._uninitializedComponentsProvider._online)):(Xd("FirestoreClient","Using default OnlineComponentProvider"),await uA(e,new lA))),e._onlineComponents}function mA(e){return CA(e).then((e=>e.syncEngine))}async function hA(e){const t=await CA(e),n=t.eventManager;return n.onListen=Kf.bind(null,t.syncEngine),n.onUnlisten=Lf.bind(null,t.syncEngine),n}function pA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new Ld;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,o,r){const a=new cA({next:a=>{t.enqueueAndForget((()=>Rf(e,i)));const l=a.docs.has(n);!l&&a.fromCache?r.reject(new Md(Kd.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&o&&"server"===o.source?r.reject(new Md(Kd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(a)},error:e=>r.reject(e)}),i=new Xf(YC(n.path),a,{includeMetadataChanges:!0,Ku:!0});return wf(e,i)}(await hA(e),e.asyncQueue,t,n,o))),o.promise}function fA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new Ld;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,o,r){const a=new cA({next:n=>{t.enqueueAndForget((()=>Rf(e,i))),n.fromCache&&"server"===o.source?r.reject(new Md(Kd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),i=new Xf(n,a,{includeMetadataChanges:!0,Ku:!0});return wf(e,i)}(await hA(e),e.asyncQueue,t,n,o))),o.promise}function AA(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bA=new Map;function vA(e,t,n){if(!n)throw new Md(Kd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yA(e){if(!iI.isDocumentKey(e))throw new Md(Kd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZA(e){if(iI.isDocumentKey(e))throw new Md(Kd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function SA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Hd()}function GA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Md(Kd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SA(e);throw new Md(Kd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class BA{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Md(Kd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Md(Kd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,o){if(!0===t&&!0===o)throw new Md(Kd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AA(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Md(Kd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Md(Kd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Md(Kd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class kA{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Md(Kd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Md(Kd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zd;switch(e.type){case"firstParty":return new jd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Md(Kd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bA.get(e);t&&(Xd("ComponentProvider","Removing Datastore"),bA.delete(e),t.terminate())}(this),Promise.resolve()}}class wA{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new VA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wA(this.firestore,e,this._key)}}class RA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new RA(this.firestore,e,this._query)}}class VA extends RA{constructor(e,t,n){super(e,t,YC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wA(this.firestore,null,new iI(e))}withConverter(e){return new VA(this.firestore,e,this._path)}}function WA(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];if(e=Go(e),1===arguments.length&&(t=_d.A()),vA("doc","path",t),e instanceof kA){const n=oI.fromString(t,...o);return yA(n),new wA(e,null,new iI(n))}{if(!(e instanceof wA||e instanceof VA))throw new Md(Kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oI.fromString(t,...o));return yA(n),new wA(e.firestore,e instanceof VA?e.converter:null,new iI(n))}}class xA{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Fp(this,"async_queue_retry"),this.Xc=()=>{const e=Hp();e&&Xd("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Hp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Hp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Ld;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(rt){if(!hI(rt))throw rt;Xd("AsyncQueue","Operation failed with retryable error: "+rt)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Nd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=vf.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(o),o}Zc(){this.Wc&&Hd()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class XA extends kA{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new xA,this._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JA(this),this._firestoreClient.terminate()}}function NA(e){return e._firestoreClient||JA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JA(e){var t,n,o;const r=e._freezeSettings(),a=function(e,t,n,o){return new LI(e,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,AA(o.experimentalLongPollingOptions),o.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new sA(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(o=r.cache)||void 0===o?void 0:o._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class EA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new EA(NI.fromBase64String(e))}catch(e){throw new Md(Kd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new EA(NI.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class HA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let o=0;o<t.length;++o)if(0===t[o].length)throw new Md(Kd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new aI(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class YA{constructor(e){this._methodName=e}}class FA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Md(Kd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Md(Kd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qd(this._lat,e._lat)||qd(this._long,e._long)}}const KA=/^__.*__$/;class MA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Fm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ym(e,this.data,t,this.fieldTransforms)}}class LA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Fm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hd()}}class zA{constructor(e,t,n,o,r,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,void 0===r&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:n,la:!1});return o.fa(e),o}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:n,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ab(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(TA(this.ca)&&KA.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class DA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Yp(e)}ya(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zA({ca:e,methodName:t,ga:n,path:aI.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OA(e){const t=e._freezeSettings(),n=Yp(e._databaseId);return new DA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jA(e,t,n,o,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.ya(a.merge||a.mergeFields?2:0,t,n,r);tb("Data must be an object, but it was:",i,o);const l=$A(o,i);let c,s;if(a.merge)c=new xI(i.fieldMask),s=i.fieldTransforms;else if(a.mergeFields){const e=[];for(const o of a.mergeFields){const r=nb(t,o,n);if(!i.contains(r))throw new Md(Kd.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));ib(e,r)||e.push(r)}c=new xI(e),s=i.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,s=i.fieldTransforms;return new MA(new iC(l),c,s)}class UA extends YA{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof UA}}function PA(e,t,n,o){const r=e.ya(1,t,n);tb("Data must be an object, but it was:",r,o);const a=[],i=iC.empty();GI(o,((e,o)=>{const l=rb(t,e,n);o=Go(o);const c=r.da(l);if(o instanceof UA)a.push(l);else{const e=qA(o,c);null!=e&&(a.push(l),i.set(l,e))}}));const l=new xI(a);return new LA(i,l,r.fieldTransforms)}function QA(e,t,n,o,r,a){const i=e.ya(1,t,n),l=[nb(t,o,n)],c=[r];if(a.length%2!=0)throw new Md(Kd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<a.length;d+=2)l.push(nb(t,a[d])),c.push(a[d+1]);const s=[],g=iC.empty();for(let d=l.length-1;d>=0;--d)if(!ib(s,l[d])){const e=l[d];let t=c[d];t=Go(t);const n=i.da(e);if(t instanceof UA)s.push(e);else{const o=qA(t,n);null!=o&&(s.push(e),g.set(e,o))}}const u=new xI(s);return new LA(g,u,i.fieldTransforms)}function _A(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qA(n,e.ya(o?4:3,t))}function qA(e,t){if(eb(e=Go(e)))return tb("Unsupported field value:",t,e),$A(e,t);if(e instanceof YA)return function(e,t){if(!TA(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let o=0;for(const r of e){let e=qA(r,t.wa(o));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),o++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Go(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=eI.fromDate(e);return{timestampValue:vh(t.serializer,n)}}if(e instanceof eI){const n=new eI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vh(t.serializer,n)}}if(e instanceof FA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof EA)return{bytesValue:yh(t.serializer,e._byteString)};if(e instanceof wA){const n=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(n))throw t._a("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Gh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(SA(e)))}(e,t)}function $A(e,t){const n={};return BI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):GI(e,((e,o)=>{const r=qA(o,t.ha(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function eb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof eI||e instanceof FA||e instanceof EA||e instanceof wA||e instanceof YA)}function tb(e,t,n){if(!eb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const o=SA(n);throw"an object"===o?t._a(e+" a custom object"):t._a(e+" "+o)}}function nb(e,t,n){if((t=Go(t))instanceof HA)return t._internalPath;if("string"==typeof t)return rb(e,t);throw ab("Field path arguments must be of type string or ",e,!1,void 0,n)}const ob=new RegExp("[~\\*/\\[\\]]");function rb(e,t,n){if(t.search(ob)>=0)throw ab("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new HA(...t.split("."))._internalPath}catch(ut){throw ab("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ab(e,t,n,o,r){const a=o&&!o.isEmpty(),i=void 0!==r;let l="Function ".concat(t,"() called with invalid data");n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||i)&&(c+=" (found",a&&(c+=" in field ".concat(o)),i&&(c+=" in document ".concat(r)),c+=")"),new Md(Kd.INVALID_ARGUMENT,l+e+c)}function ib(e,t){return e.some((e=>e.isEqual(t)))}class lb{constructor(e,t,n,o,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new wA(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cb extends lb{data(){return super.data()}}function sb(e,t){return"string"==typeof t?rb(e,t):t instanceof HA?t._internalPath:t._delegate._internalPath}function gb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Md(Kd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ub{}class db extends ub{}class Ib extends db{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ib(e,t,n)}_apply(e){const t=this._parse(e);return pb(e._query,t),new RA(e.firestore,e.converter,DC(e._query,t))}_parse(e){const t=OA(e.firestore),n=function(e,t,n,o,r,a,i){let l;if(r.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Md(Kd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hb(i,a);const t=[];for(const n of i)t.push(mb(o,e,n));l={arrayValue:{values:t}}}else l=mb(o,e,i)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hb(i,a),l=_A(n,"where",i,"in"===a||"not-in"===a);return mC.create(r,a,l)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Cb extends ub{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cb(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:hC.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const o=t.getFlattenedFilters();for(const r of o)pb(n,r),n=DC(n,r)}(e._query,t),new RA(e.firestore,e.converter,DC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function mb(e,t,n){if("string"==typeof(n=Go(n))){if(""===n)throw new Md(Kd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LC(t)&&-1!==n.indexOf("/"))throw new Md(Kd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const o=t.path.child(oI.fromString(n));if(!iI.isDocumentKey(o))throw new Md(Kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(o,"' is not because it has an odd number of segments (").concat(o.length,")."));return qI(e,new iI(o))}if(n instanceof wA)return qI(e,n._key);throw new Md(Kd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(SA(n),"."))}function hb(e,t){if(!Array.isArray(e)||0===e.length)throw new Md(Kd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pb(e,t){if(t.isInequality()){const n=MC(e),o=t.field;if(null!==n&&!n.isEqual(o))throw new Md(Kd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(o.toString(),"'"));const r=KC(e);null!==r&&fb(e,o,r)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Md(Kd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Md(Kd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function fb(e,t,n){if(!n.isEqual(t))throw new Md(Kd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Ab{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(DI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return HI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(YI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return GI(e,((e,o)=>{n[e]=this.convertValue(o,t)})),n}convertGeoPoint(e){return new FA(HI(e.latitude),HI(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=KI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(MI(e));default:return null}}convertTimestamp(e){const t=EI(e);return new eI(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oI.fromString(e);Yd(Oh(n));const o=new TI(n.get(1),n.get(3)),r=new iI(n.popFirst(5));return o.isEqual(t)||Nd("Document ".concat(r," contains a document reference within a different database (").concat(o.projectId,"/").concat(o.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function bb(e,t,n){let o;return o=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,o}class vb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yb extends lb{constructor(e,t,n,o,r,a){super(e,t,n,o,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Zb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(sb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Zb extends yb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Sb{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vb(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Zb(this._firestore,this._userDataWriter,n.key,n,new vb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Md(Kd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const o=new Zb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:o,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const o=new Zb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,a=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Gb(t.type),doc:o,oldIndex:r,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Gb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hd()}}function Bb(e){e=GA(e,wA);const t=GA(e.firestore,XA);return pA(NA(t),e._key).then((n=>Vb(t,e,n)))}class kb extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new EA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wA(this.firestore,null,t)}}function wb(e,t,n){e=GA(e,wA);const o=GA(e.firestore,XA),r=bb(e.converter,t,n);return Rb(o,[jA(OA(o),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Vm.none())])}function Rb(e,t){return function(e,t){const n=new Ld;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const o=aA(e);try{const e=await function(e,t){const n=Fd(e),o=eI.now(),r=t.reduce(((e,t)=>e.add(t.key)),um());let a,i;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let l=nm(),c=um();return n.Zi.getEntries(e,r).next((e=>{l=e,l.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,l))).next((r=>{a=r;const i=[];for(const e of t){const t=Em(e,a.get(e.key).overlayedDocument);null!=t&&i.push(new Fm(e.key,t,lC(t.value.mapValue),Vm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,o,i,t)})).next((t=>{i=t;const o=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((()=>({batchId:i.batchId,changes:am(a)})))}(o.localStore,t);o.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let o=e.Tc[e.currentUser.toKey()];o||(o=new kI(qd)),o=o.insert(t,n),e.Tc[e.currentUser.toKey()]=o}(o,e.batchId,n),await tA(o,e.changes),await cf(o.remoteStore)}catch(e){const t=yf(e,"Failed to persist write");n.reject(t)}}(await mA(e),t,n))),n.promise}(NA(e),t)}function Vb(e,t,n){const o=n.docs.get(t._key),r=new kb(e);return new yb(e,r,t._key,o,new vb(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Vd=e}(Yr),Nr(new Bo("firestore",((e,n)=>{let{instanceIdentifier:o,options:r}=n;const a=e.getProvider("app").getImmediate(),i=new XA(new Dd(e.getProvider("auth-internal")),new Pd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Md(Kd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new TI(e.options.projectId,t)}(a,o),a);return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i}),"PUBLIC").setMultipleInstances(!0)),Kr(wd,"3.13.0",e),Kr(wd,"3.13.0","esm2017")}();const Wb=Fr({apiKey:"AIzaSyBSFGGWAyiRJw-Y0epjvqwXVZY7PwXuVyA",authDomain:"pharma-track-5affa.firebaseapp.com",projectId:"pharma-track-5affa",storageBucket:"pharma-track-5affa.appspot.com",messagingSenderId:"526216682993",appId:"1:526216682993:web:89933dc18ecc1d67e87850",measurementId:"G-1J1B3S6C72"}),xb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;const t=Wr.get(e);if(!t&&e===Rr&&so())return Fr();if(!t)throw Er.create("no-app",{appName:e});return t}();const t=Jr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Jr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(fo(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;aa(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:nc,persistence:[ul,Ui,Qi]}),o=go("authTokenSyncURL");if(o){const e=(r=o,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ic)return;const o=null===t||void 0===t?void 0:t.token;lc!==o&&(lc=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}}))});!function(e,t,n){Go(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,o){Go(e).onIdTokenChanged(t,n,o)}(n,(t=>e(t)))}var r;const a=co("auth");return a&&Ci(n,"http://".concat(a)),n}(Wb),Xb=function(e,t,n){n||(n="(default)");const o=Jr(e,"firestore");if(o.isInitialized(n)){const e=o.getImmediate({identifier:n});if(fo(o.getOptions(n),t))return e;throw new Md(Kd.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new Md(Kd.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Md(Kd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return o.initialize({options:t,instanceIdentifier:n})}(Wb,{experimentalAutoDetectLongPolling:!0}),Nb=new xi,Jb=new Wi,Eb=async e=>{const t=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];if(e=Go(e),vA("collection","path",t),e instanceof kA){const n=oI.fromString(t,...o);return ZA(n),new VA(e,null,n)}{if(!(e instanceof wA||e instanceof VA))throw new Md(Kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oI.fromString(t,...o));return ZA(n),new VA(e.firestore,null,n)}}(Xb,"users"),n=function(e,t){let n=[];for(var o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];t instanceof ub&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof Cb)).length,n=e.filter((e=>e instanceof Ib)).length;if(t>1||t>0&&n>0)throw new Md(Kd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}(t,function(e,t,n){const o=t,r=sb("where",e);return Ib._create(r,o,n)}("id_staff","==",e)),o=await function(e){e=GA(e,RA);const t=GA(e.firestore,XA),n=NA(t),o=new kb(t);return gb(e._query),fA(n,e._query).then((n=>new Sb(t,o,e,n)))}(n),r=[];return o.forEach((e=>r.push(e.data()))),r[0]},Hb=async(e,t)=>{const n=WA(Xb,"users/".concat(e));await wb(n,t)},Yb=async e=>{const t=WA(Xb,"users/".concat(e));return(await Bb(t)).exists()},Fb=async e=>{const t=WA(Xb,"users/".concat(e));return(await Bb(t)).data()},Kb=async(e,t)=>{const n=WA(Xb,"users/".concat(e));await function(e,t,n){e=GA(e,wA);const o=GA(e.firestore,XA),r=OA(o);let a;for(var i=arguments.length,l=new Array(i>3?i-3:0),c=3;c<i;c++)l[c-3]=arguments[c];return a="string"==typeof(t=Go(t))||t instanceof HA?QA(r,"updateDoc",e._key,t,n,l):PA(r,"updateDoc",e._key,t),Rb(o,[a.toMutation(e._key,Vm.exists(!0))])}(n,{[t]:new UA("deleteField")})},Mb=async()=>{const{user:e}=await yl(xb,Nb),{uid:t}=e;return{user:e,isExist:await Yb(t)}},Lb=async()=>{const{user:e}=await yl(xb,Jb),{uid:t}=e;return{user:e,isExist:await Yb(t)}},Tb=async e=>{let{email:t,password:n,role:o,...r}=e;if(!t||!n||!o)return;const{user:a}=await async function(e,t,n){var o;const r=di(e),a={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(null===(o=r._getRecaptchaConfig())||void 0===o?void 0:o.emailPasswordEnabled){const e=await si(r,a,"signUpPassword");i=Ji(r,e)}else i=Ji(r,a).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await si(r,a,"signUpPassword");return Ji(r,e)}return Promise.reject(e)}));const l=await i.catch((e=>Promise.reject(e))),c=await Ei._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}(xb,t,n),{uid:i}=a;return await Hb(i,{uid:i,role:o,email:t,...r}),a},zb=async(e,t)=>{if(!e||!t)return;const{user:n}=await function(e,t,n){return Ti(Go(e),wi.credential(t,n))}(xb,e,t);return n},Db=async()=>{await function(e){return Go(e).signOut()}(xb)};function Ob(){Ob=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function g(e,t,n,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),l=new V(o||[]);return r(i,"_invoke",{value:B(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=g;var d="suspendedStart",I="suspendedYield",C="executing",m="completed",h={};function p(){}function f(){}function A(){}var b={};s(b,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(W([])));y&&y!==n&&o.call(y,i)&&(b=y);var Z=A.prototype=p.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function G(e,t){function n(r,a,i,l){var c=u(e[r],e,a);if("throw"!==c.type){var s=c.arg,g=s.value;return g&&"object"==on(g)&&o.call(g,"__await")?t.resolve(g.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(g).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var a;r(this,"_invoke",{value:function(e,o){function r(){return new t((function(t,r){n(e,o,t,r)}))}return a=a?a.then(r,r):r()}})}function B(t,n,o){var r=d;return function(a,i){if(r===C)throw Error("Generator is already running");if(r===m){if("throw"===a)throw i;return{value:e,done:!0}}for(o.method=a,o.arg=i;;){var l=o.delegate;if(l){var c=k(l,o);if(c){if(c===h)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=C;var s=u(t,n,o);if("normal"===s.type){if(r=o.done?m:I,s.arg===h)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(r=m,o.method="throw",o.arg=s.arg)}}}function k(t,n){var o=n.method,r=t.iterator[o];if(r===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function V(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function W(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(on(t)+" is not iterable")}return f.prototype=A,r(Z,"constructor",{value:A,configurable:!0}),r(A,"constructor",{value:f,configurable:!0}),f.displayName=s(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,s(e,c,"GeneratorFunction")),e.prototype=Object.create(Z),e},t.awrap=function(e){return{__await:e}},S(G.prototype),s(G.prototype,l,(function(){return this})),t.AsyncIterator=G,t.async=function(e,n,o,r,a){void 0===a&&(a=Promise);var i=new G(g(e,n,o,r),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(Z),s(Z,c,"Generator"),s(Z,i,(function(){return this})),s(Z,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=W,V.prototype={constructor:V,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(o,r){return l.type="throw",l.arg=t,n.next=o,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;R(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:W(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),h}},t}function jb(e,t,n,o,r,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,r)}function Ub(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){jb(a,o,r,i,l,"next",e)}function l(e){jb(a,o,r,i,l,"throw",e)}i(void 0)}))}}var Pb,Qb=cn({},l),_b=Qb.version,qb=Qb.render,$b=Qb.unmountComponentAtNode;try{Number((_b||"").split(".")[0])>=18&&(Pb=Qb.createRoot)}catch(Tie){}function ev(e){var t=Qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===on(t)&&(t.usingClientEntryPoint=e)}var tv="__rc_react_root__";function nv(e,t){Pb?function(e,t){ev(!0);var n=t[tv]||Pb(t);ev(!1),n.render(e),t[tv]=n}(e,t):function(e,t){qb(e,t)}(e,t)}function ov(e){return rv.apply(this,arguments)}function rv(){return(rv=Ub(Ob().mark((function e(t){return Ob().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[tv])||void 0===e||e.unmount(),delete t[tv]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function av(e){$b(e)}function iv(e){return lv.apply(this,arguments)}function lv(){return(lv=Ub(Ob().mark((function e(t){return Ob().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Pb){e.next=2;break}return e.abrupt("return",ov(t));case 2:av(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const cv=e.createContext({}),sv="anticon",gv=e.createContext({getPrefixCls:(e,t)=>t||(e?"ant-".concat(e):"ant"),iconPrefixCls:sv}),{Consumer:uv}=gv;function dv(e){if(Array.isArray(e))return e}function Iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Cv(e,t){if(e){if("string"==typeof e)return Iv(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iv(e,t):void 0}}function mv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hv(e,t){return dv(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||Cv(e,t)||mv()}function pv(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fv(e){return function(e){if(Array.isArray(e))return Iv(e)}(e)||pv(e)||Cv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Av=function(e){for(var t,n=0,o=0,r=e.length;r>=4;++o,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function bv(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function vv(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var yv="data-rc-order",Zv="data-rc-priority",Sv="rc-util-key",Gv=new Map;function Bv(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):Sv}function kv(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function wv(e){return Array.from((Gv.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function Rv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!bv())return null;var n=t.csp,o=t.prepend,r=t.priority,a=void 0===r?0:r,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(o),l="prependQueue"===i,c=document.createElement("style");c.setAttribute(yv,i),l&&a&&c.setAttribute(Zv,"".concat(a)),null!==n&&void 0!==n&&n.nonce&&(c.nonce=null===n||void 0===n?void 0:n.nonce),c.innerHTML=e;var s=kv(t),g=s.firstChild;if(o){if(l){var u=(t.styles||wv(s)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(yv)))return!1;var t=Number(e.getAttribute(Zv)||0);return a>=t}));if(u.length)return s.insertBefore(c,u[u.length-1].nextSibling),c}s.insertBefore(c,g)}else s.appendChild(c);return c}function Vv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=kv(t);return(t.styles||wv(n)).find((function(n){return n.getAttribute(Bv(t))===e}))}function Wv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Vv(e,t);n&&kv(t).removeChild(n)}function xv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=kv(n),r=wv(o),a=cn(cn({},n),{},{styles:r});!function(e,t){var n=Gv.get(e);if(!n||!vv(document,n)){var o=Rv("",t),r=o.parentNode;Gv.set(e,r),e.removeChild(o)}}(o,a);var i=Vv(t,a);if(i){var l,c,s;if(null!==(l=a.csp)&&void 0!==l&&l.nonce&&i.nonce!==(null===(c=a.csp)||void 0===c?void 0:c.nonce))i.nonce=null===(s=a.csp)||void 0===s?void 0:s.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var g=Rv(e,a);return g.setAttribute(Bv(a),t),g}function Xv(t,n,o){var r=e.useRef({});return"value"in r.current&&!o(r.current.condition,n)||(r.current.value=t(),r.current.condition=n),r.current.value}var Nv={},Jv=[];function Ev(e,t){}function Hv(e,t){}function Yv(e,t,n){t||Nv[n]||(e(!1,n),Nv[n]=!0)}function Fv(e,t){Yv(Ev,e,t)}function Kv(e,t){Yv(Hv,e,t)}Fv.preMessage=function(e){Jv.push(e)},Fv.resetWarned=function(){Nv={}},Fv.noteOnce=Kv;const Mv=Fv;const Lv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Set;return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=o.has(t);if(Mv(!i,"Warning: There may be circular references"),i)return!1;if(t===r)return!0;if(n&&a>1)return!1;o.add(t);var l=a+1;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],r[c],l))return!1;return!0}if(t&&r&&"object"===on(t)&&"object"===on(r)){var s=Object.keys(t);return s.length===Object.keys(r).length&&s.every((function(n){return e(t[n],r[n],l)}))}return!1}(e,t)};function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,rn(o.key),o)}}function Dv(e,t,n){return t&&zv(e.prototype,t),n&&zv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ov="%";function jv(e){return e.join(Ov)}var Uv=function(){function e(t){Tv(this,e),an(this,"instanceId",void 0),an(this,"cache",new Map),this.instanceId=t}return Dv(e,[{key:"get",value:function(e){return this.opGet(jv(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(jv(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const Pv=Uv;var Qv="data-token-hash",_v="data-css-hash",qv="__cssinjs_instance__";function $v(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(_v,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[qv]=t[qv]||e,t[qv]===e&&document.head.insertBefore(t,n)}));var o={};Array.from(document.querySelectorAll("style[".concat(_v,"]"))).forEach((function(t){var n,r=t.getAttribute(_v);o[r]?t[qv]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):o[r]=!0}))}return new Pv(e)}var ey=e.createContext({hashPriority:"low",cache:$v(),defaultCache:!0});const ty=ey;var ny=function(){function e(){Tv(this,e),an(this,"cache",void 0),an(this,"keys",void 0),an(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Dv(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={map:this.cache};return e.forEach((function(e){var t;r?r=null===(t=r)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):r=void 0})),null!==(t=r)&&void 0!==t&&t.value&&o&&(r.value[1]=this.cacheCallTimes++),null===(n=r)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var o=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var r=this.keys.reduce((function(e,t){var n=hv(e,2)[1];return o.internalGet(t)[1]<n?[t,o.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=hv(r,1)[0];this.delete(a)}this.keys.push(t)}var i=this.cache;t.forEach((function(e,r){if(r===t.length-1)i.set(e,{value:[n,o.cacheCallTimes++]});else{var a=i.get(e);a?a.map||(a.map=new Map):i.set(e,{map:new Map}),i=i.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,o=e.get(t[0]);if(1===t.length)return o.map?e.set(t[0],{map:o.map}):e.delete(t[0]),null===(n=o.value)||void 0===n?void 0:n[0];var r=this.deleteByPath(o.map,t.slice(1));return o.map&&0!==o.map.size||o.value||e.delete(t[0]),r}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();an(ny,"MAX_CACHE_SIZE",20),an(ny,"MAX_CACHE_OFFSET",5);var oy=0,ry=function(){function e(t){Tv(this,e),an(this,"derivatives",void 0),an(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=oy,0===t.length&&t.length,oy+=1}return Dv(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),ay=new ny;function iy(e){var t=Array.isArray(e)?e:[e];return ay.has(t)||ay.set(t,new ry(t)),ay.get(t)}var ly=new WeakMap,cy={};var sy=new WeakMap;function gy(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=sy.get(e)||"";return n||(Object.keys(e).forEach((function(o){var r=e[o];n+=o,r instanceof ry?n+=r.id:r&&"object"===on(r)?n+=gy(r,t):n+=r})),t&&(n=Av(n)),sy.set(e,n)),n}function uy(e,t){return Av("".concat(t,"_").concat(gy(e,!0)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var dy=bv();function Iy(e){return"number"===typeof e?"".concat(e,"px"):e}function Cy(e,t,n){var o;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var r=cn(cn({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(an(o={},Qv,t),an(o,_v,n),o)),a=Object.keys(r).map((function(e){var t=r[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var my=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},hy=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=hv(e,2),n=t[0],o=t[1];return"".concat(n,":").concat(o,";")})).join(""),"}"):""},py=function(e,t,n){var o={},r={};return Object.entries(e).forEach((function(e){var t,a,i=hv(e,2),l=i[0],c=i[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[l])r[l]=c;else if(("string"===typeof c||"number"===typeof c)&&(null===n||void 0===n||null===(a=n.ignore)||void 0===a||!a[l])){var s,g=my(l,null===n||void 0===n?void 0:n.prefix);o[g]="number"!==typeof c||null!==n&&void 0!==n&&null!==(s=n.unitless)&&void 0!==s&&s[l]?String(c):"".concat(c,"px"),r[l]="var(".concat(g,")")}})),[r,hy(o,t,{scope:null===n||void 0===n?void 0:n.scope})]},fy=bv()?e.useLayoutEffect:e.useEffect,Ay=function(t,n){var o=e.useRef(!0);fy((function(){return t(o.current)}),n),fy((function(){return o.current=!1,function(){o.current=!0}}),[])},by=function(e,t){Ay((function(t){if(!t)return e()}),t)};const vy=Ay;var yy=cn({},t).useInsertionEffect;const Zy=yy?function(e,t,n){return yy((function(){return e(),t()}),n)}:function(t,n,o){e.useMemo(t,o),vy((function(){return n(!0)}),o)};var Sy="undefined"!==typeof cn({},t).useInsertionEffect?function(t){var n=[],o=!1;return e.useEffect((function(){return o=!1,function(){o=!0,n.length&&n.forEach((function(e){return e()}))}}),t),function(e){o||n.push(e)}}:function(){return function(e){e()}};const Gy=Sy;const By=function(){return!1};function ky(t,n,o,r,a){var i=e.useContext(ty).cache,l=jv([t].concat(fv(n))),c=Gy([l]),s=(By(),function(e){i.opUpdate(l,(function(t){var n=hv(t||[void 0,void 0],2),r=n[0];var a=[void 0===r?0:r,n[1]||o()];return e?e(a):a}))});e.useMemo((function(){s()}),[l]);var g=i.opGet(l)[1];return Zy((function(){null===a||void 0===a||a(g)}),(function(e){return s((function(t){var n=hv(t,2),o=n[0],r=n[1];return e&&0===o&&(null===a||void 0===a||a(g)),[o+1,r]})),function(){i.opUpdate(l,(function(t){var n=hv(t||[],2),o=n[0],a=void 0===o?0:o,s=n[1];return 0===a-1?(c((function(){!e&&i.opGet(l)||null===r||void 0===r||r(s,!1)})),null):[a-1,s]}))}}),[l]),g}var wy={},Ry="css",Vy=new Map;var Wy=0;function xy(e,t){Vy.set(e,(Vy.get(e)||0)-1);var n=Array.from(Vy.keys()),o=n.filter((function(e){return(Vy.get(e)||0)<=0}));n.length-o.length>Wy&&o.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Qv,'="').concat(e,'"]')).forEach((function(e){var n;e[qv]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),Vy.delete(e)}))}var Xy=function(e,t,n,o){var r=cn(cn({},n.getDerivativeToken(e)),t);return o&&(r=o(r)),r},Ny="token";function Jy(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,e.useContext)(ty),a=r.cache.instanceId,i=r.container,l=o.salt,c=void 0===l?"":l,s=o.override,g=void 0===s?wy:s,u=o.formatToken,d=o.getComputedToken,I=o.cssVar,C=function(e,t){for(var n=ly,o=0;o<t.length;o+=1){var r=t[o];n.has(r)||n.set(r,new WeakMap),n=n.get(r)}return n.has(cy)||n.set(cy,e()),n.get(cy)}((function(){return Object.assign.apply(Object,[{}].concat(fv(n)))}),n),m=gy(C),h=gy(g),p=I?gy(I):"",f=ky(Ny,[c,t.id,m,h,p],(function(){var e,n=d?d(C,g,t):Xy(C,g,t,u),o=cn({},n),r="";if(I){var a=hv(py(n,I.key,{prefix:I.prefix,ignore:I.ignore,unitless:I.unitless,preserve:I.preserve}),2);n=a[0],r=a[1]}var i=uy(n,c);n._tokenKey=i,o._tokenKey=uy(o,c);var l=null!==(e=null===I||void 0===I?void 0:I.key)&&void 0!==e?e:i;n._themeKey=l,function(e){Vy.set(e,(Vy.get(e)||0)+1)}(l);var s="".concat(Ry,"-").concat(Av(i));return n._hashId=s,[n,s,o,r,(null===I||void 0===I?void 0:I.key)||""]}),(function(e){xy(e[0]._themeKey,a)}),(function(e){var t=hv(e,4),n=t[0],o=t[3];if(I&&o){var r=xv(o,Av("css-variables-".concat(n._themeKey)),{mark:_v,prepend:"queue",attachTo:i,priority:-999});r[qv]=a,r.setAttribute(Qv,n._themeKey)}}));return f}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ey.apply(null,arguments)}const Hy={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Yy="comm",Fy="rule",Ky="decl",My="@import",Ly="@keyframes",Ty="@layer",zy=Math.abs,Dy=String.fromCharCode;Object.assign;function Oy(e){return e.trim()}function jy(e,t,n){return e.replace(t,n)}function Uy(e,t,n){return e.indexOf(t,n)}function Py(e,t){return 0|e.charCodeAt(t)}function Qy(e,t,n){return e.slice(t,n)}function _y(e){return e.length}function qy(e,t){return t.push(e),e}function $y(e,t){for(var n="",o=0;o<e.length;o++)n+=t(e[o],o,e,t)||"";return n}function eZ(e,t,n,o){switch(e.type){case Ty:if(e.children.length)break;case My:case Ky:return e.return=e.return||e.value;case Yy:return"";case Ly:return e.return=e.value+"{"+$y(e.children,o)+"}";case Fy:if(!_y(e.value=e.props.join(",")))return""}return _y(n=$y(e.children,o))?e.return=e.value+"{"+n+"}":""}var tZ=1,nZ=1,oZ=0,rZ=0,aZ=0,iZ="";function lZ(e,t,n,o,r,a,i,l){return{value:e,root:t,parent:n,type:o,props:r,children:a,line:tZ,column:nZ,length:i,return:"",siblings:l}}function cZ(){return aZ=rZ>0?Py(iZ,--rZ):0,nZ--,10===aZ&&(nZ=1,tZ--),aZ}function sZ(){return aZ=rZ<oZ?Py(iZ,rZ++):0,nZ++,10===aZ&&(nZ=1,tZ++),aZ}function gZ(){return Py(iZ,rZ)}function uZ(){return rZ}function dZ(e,t){return Qy(iZ,e,t)}function IZ(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CZ(e){return tZ=nZ=1,oZ=_y(iZ=e),rZ=0,[]}function mZ(e){return iZ="",e}function hZ(e){return Oy(dZ(rZ-1,AZ(91===e?e+2:40===e?e+1:e)))}function pZ(e){for(;(aZ=gZ())&&aZ<33;)sZ();return IZ(e)>2||IZ(aZ)>3?"":" "}function fZ(e,t){for(;--t&&sZ()&&!(aZ<48||aZ>102||aZ>57&&aZ<65||aZ>70&&aZ<97););return dZ(e,uZ()+(t<6&&32==gZ()&&32==sZ()))}function AZ(e){for(;sZ();)switch(aZ){case e:return rZ;case 34:case 39:34!==e&&39!==e&&AZ(aZ);break;case 40:41===e&&AZ(e);break;case 92:sZ()}return rZ}function bZ(e,t){for(;sZ()&&e+aZ!==57&&(e+aZ!==84||47!==gZ()););return"/*"+dZ(t,rZ-1)+"*"+Dy(47===e?e:sZ())}function vZ(e){for(;!IZ(gZ());)sZ();return dZ(e,rZ)}function yZ(e){return mZ(ZZ("",null,null,null,[""],e=CZ(e),0,[0],e))}function ZZ(e,t,n,o,r,a,i,l,c){for(var s=0,g=0,u=i,d=0,I=0,C=0,m=1,h=1,p=1,f=0,A="",b=r,v=a,y=o,Z=A;h;)switch(C=f,f=sZ()){case 40:if(108!=C&&58==Py(Z,u-1)){-1!=Uy(Z+=jy(hZ(f),"&","&\f"),"&\f",zy(s?l[s-1]:0))&&(p=-1);break}case 34:case 39:case 91:Z+=hZ(f);break;case 9:case 10:case 13:case 32:Z+=pZ(C);break;case 92:Z+=fZ(uZ()-1,7);continue;case 47:switch(gZ()){case 42:case 47:qy(GZ(bZ(sZ(),uZ()),t,n,c),c);break;default:Z+="/"}break;case 123*m:l[s++]=_y(Z)*p;case 125*m:case 59:case 0:switch(f){case 0:case 125:h=0;case 59+g:-1==p&&(Z=jy(Z,/\f/g,"")),I>0&&_y(Z)-u&&qy(I>32?BZ(Z+";",o,n,u-1,c):BZ(jy(Z," ","")+";",o,n,u-2,c),c);break;case 59:Z+=";";default:if(qy(y=SZ(Z,t,n,s,g,r,l,A,b=[],v=[],u,a),a),123===f)if(0===g)ZZ(Z,t,y,y,b,a,u,l,v);else switch(99===d&&110===Py(Z,3)?100:d){case 100:case 108:case 109:case 115:ZZ(e,y,y,o&&qy(SZ(e,y,y,0,0,r,l,A,r,b=[],u,v),v),r,v,u,l,o?b:v);break;default:ZZ(Z,y,y,y,[""],v,0,l,v)}}s=g=I=0,m=p=1,A=Z="",u=i;break;case 58:u=1+_y(Z),I=C;default:if(m<1)if(123==f)--m;else if(125==f&&0==m++&&125==cZ())continue;switch(Z+=Dy(f),f*m){case 38:p=g>0?1:(Z+="\f",-1);break;case 44:l[s++]=(_y(Z)-1)*p,p=1;break;case 64:45===gZ()&&(Z+=hZ(sZ())),d=gZ(),g=u=_y(A=Z+=vZ(uZ())),f++;break;case 45:45===C&&2==_y(Z)&&(m=0)}}return a}function SZ(e,t,n,o,r,a,i,l,c,s,g,u){for(var d=r-1,I=0===r?a:[""],C=function(e){return e.length}(I),m=0,h=0,p=0;m<o;++m)for(var f=0,A=Qy(e,d+1,d=zy(h=i[m])),b=e;f<C;++f)(b=Oy(h>0?I[f]+" "+A:jy(A,/&\f/g,I[f])))&&(c[p++]=b);return lZ(e,t,n,0===r?Fy:l,c,s,g,u)}function GZ(e,t,n,o){return lZ(e,t,n,Yy,Dy(aZ),Qy(e,2,-2),0,o)}function BZ(e,t,n,o,r){return lZ(e,t,n,Ky,Qy(e,0,o),Qy(e,o+1,-1),o,r)}var kZ,wZ="data-ant-cssinjs-cache-path",RZ="_FILE_STYLE__";var VZ=!0;function WZ(e){return function(){if(!kZ&&(kZ={},bv())){var e=document.createElement("div");e.className=wZ,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=hv(e.split(":"),2),n=t[0],o=t[1];kZ[n]=o}));var n,o=document.querySelector("style[".concat(wZ,"]"));o&&(VZ=!1,null===(n=o.parentNode)||void 0===n||n.removeChild(o)),document.body.removeChild(e)}}(),!!kZ[e]}var xZ="_multi_value_";function XZ(e){return $y(yZ(e),eZ).replace(/\{%%%\:[^;];}/g,";")}var NZ=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},r=o.root,a=o.injectHash,i=o.parentSelectors,l=n.hashId,c=n.layer,s=(n.path,n.hashPriority),g=n.transformers,u=void 0===g?[]:g,d=(n.linters,""),I={};function C(t){var o=t.getName(l);if(!I[o]){var r=hv(e(t.style,n,{root:!1,parentSelectors:i}),1)[0];I[o]="@keyframes ".concat(t.getName(l)).concat(r)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return m.forEach((function(t){var o="string"!==typeof t||r?t:{};if("string"===typeof o)d+="".concat(o,"\n");else if(o._keyframe)C(o);else{var c=u.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),o);Object.keys(c).forEach((function(t){var o=c[t];if("object"!==on(o)||!o||"animationName"===t&&o._keyframe||function(e){return"object"===on(e)&&e&&("_skip_check_"in e||xZ in e)}(o)){var g;function v(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),o=t;Hy[e]||"number"!==typeof o||0===o||(o="".concat(o,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(C(t),o=t.getName(l)),d+="".concat(n,":").concat(o,";")}var u=null!==(g=null===o||void 0===o?void 0:o.value)&&void 0!==g?g:o;"object"===on(o)&&null!==o&&void 0!==o&&o[xZ]&&Array.isArray(u)?u.forEach((function(e){v(t,e)})):v(t,u)}else{var m=!1,h=t.trim(),p=!1;(r||a)&&l?h.startsWith("@")?m=!0:h=function(e,t,n){if(!t)return e;var o=".".concat(t),r="low"===n?":where(".concat(o,")"):o,a=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),o=n[0]||"",a=(null===(t=o.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[o="".concat(a).concat(r).concat(o.slice(a.length))].concat(fv(n.slice(1))).join(" ")}));return a.join(",")}(t,l,s):!r||l||"&"!==h&&""!==h||(h="",p=!0);var f=hv(e(o,n,{root:p,injectHash:m,parentSelectors:[].concat(fv(i),[h])}),2),A=f[0],b=f[1];I=cn(cn({},I),b),d+="".concat(h).concat(A)}}))}})),r?c&&(d="@layer ".concat(c.name," {").concat(d,"}"),c.dependencies&&(I["@layer ".concat(c.name)]=c.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(c.name,";")})).join("\n"))):d="{".concat(d,"}"),[d,I]};function JZ(e,t){return Av("".concat(e.join("%")).concat(t))}function EZ(){return null}var HZ="style";function YZ(t,n){var o=t.token,r=t.path,a=t.hashId,i=t.layer,l=t.nonce,c=t.clientOnly,s=t.order,g=void 0===s?0:s,u=e.useContext(ty),d=u.autoClear,I=(u.mock,u.defaultCache),C=u.hashPriority,m=u.container,h=u.ssrInline,p=u.transformers,f=u.linters,A=u.cache,b=u.layer,v=o._tokenKey,y=[v];b&&y.push("layer"),y.push.apply(y,fv(r));var Z=dy;var S=ky(HZ,y,(function(){var e=y.join("|");if(WZ(e)){var t=function(e){var t=kZ[e],n=null;if(t&&bv())if(VZ)n=RZ;else{var o=document.querySelector("style[".concat(_v,'="').concat(kZ[e],'"]'));o?n=o.innerHTML:delete kZ[e]}return[n,t]}(e),o=hv(t,2),l=o[0],s=o[1];if(l)return[l,v,s,{},c,g]}var u=n(),d=hv(NZ(u,{hashId:a,hashPriority:C,layer:b?i:void 0,path:r.join("-"),transformers:p,linters:f}),2),I=d[0],m=d[1],h=XZ(I),A=JZ(y,h);return[h,v,A,m,c,g]}),(function(e,t){var n=hv(e,3)[2];(t||d)&&dy&&Wv(n,{mark:_v})}),(function(e){var t=hv(e,4),n=t[0],o=(t[1],t[2]),r=t[3];if(Z&&n!==RZ){var a={mark:_v,prepend:!b&&"queue",attachTo:m,priority:g},i="function"===typeof l?l():l;i&&(a.csp={nonce:i});var c=[],s=[];Object.keys(r).forEach((function(e){e.startsWith("@layer")?c.push(e):s.push(e)})),c.forEach((function(e){xv(XZ(r[e]),"_layer-".concat(e),cn(cn({},a),{},{prepend:!0}))}));var u=xv(n,o,a);u[qv]=A.instanceId,u.setAttribute(Qv,v),s.forEach((function(e){xv(XZ(r[e]),"_effect-".concat(e),a)}))}})),G=hv(S,3),B=G[0],k=G[1],w=G[2];return function(t){var n,o;h&&!Z&&I?n=e.createElement("style",Ey({},(an(o={},Qv,k),an(o,_v,w),o),{dangerouslySetInnerHTML:{__html:B}})):n=e.createElement(EZ,null);return e.createElement(e.Fragment,null,n,t)}}var FZ="cssVar";const KZ=function(t,n){var o=t.key,r=t.prefix,a=t.unitless,i=t.ignore,l=t.token,c=t.scope,s=void 0===c?"":c,g=(0,e.useContext)(ty),u=g.cache.instanceId,d=g.container,I=l._tokenKey,C=[].concat(fv(t.path),[o,s,I]),m=ky(FZ,C,(function(){var e=n(),t=hv(py(e,o,{prefix:r,unitless:a,ignore:i,scope:s}),2),l=t[0],c=t[1];return[l,c,JZ(C,c),o]}),(function(e){var t=hv(e,3)[2];dy&&Wv(t,{mark:_v})}),(function(e){var t=hv(e,3),n=t[1],r=t[2];if(n){var a=xv(n,r,{mark:_v,prepend:"queue",attachTo:d,priority:-999});a[qv]=u,a.setAttribute(Qv,o)}}));return m};var MZ;an(MZ={},HZ,(function(e,t,n){var o=hv(e,6),r=o[0],a=o[1],i=o[2],l=o[3],c=o[4],s=o[5],g=(n||{}).plain;if(c)return null;var u=r,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(s)};return u=Cy(r,a,i,d,g),l&&Object.keys(l).forEach((function(e){if(!t[e]){t[e]=!0;var n=Cy(XZ(l[e]),a,"_effect-".concat(e),d,g);e.startsWith("@layer")?u=n+u:u+=n}})),[s,i,u]})),an(MZ,Ny,(function(e,t,n){var o=hv(e,5),r=o[2],a=o[3],i=o[4],l=(n||{}).plain;if(!a)return null;var c=r._tokenKey;return[-999,c,Cy(a,i,c,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},l)]})),an(MZ,FZ,(function(e,t,n){var o=hv(e,4),r=o[1],a=o[2],i=o[3],l=(n||{}).plain;if(!r)return null;return[-999,a,Cy(r,i,a,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},l)]}));var LZ=function(){function e(t,n){Tv(this,e),an(this,"name",void 0),an(this,"style",void 0),an(this,"_keyframe",!0),this.name=t,this.style=n}return Dv(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const TZ=LZ;function zZ(e){return e.notSplit=!0,e}zZ(["borderTop","borderBottom"]),zZ(["borderTop"]),zZ(["borderBottom"]),zZ(["borderLeft","borderRight"]),zZ(["borderLeft"]),zZ(["borderRight"]);const DZ=(0,e.createContext)({});function OZ(e){return dv(e)||pv(e)||Cv(e)||mv()}function jZ(e,t){for(var n=e,o=0;o<t.length;o+=1){if(null===n||void 0===n)return;n=n[t[o]]}return n}function UZ(e,t,n,o){if(!t.length)return n;var r,a=OZ(t),i=a[0],l=a.slice(1);return r=e||"number"!==typeof i?Array.isArray(e)?fv(e):cn({},e):[],o&&void 0===n&&1===l.length?delete r[i][l[0]]:r[i]=UZ(r[i],l,n,o),r}function PZ(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&o&&void 0===n&&!jZ(e,t.slice(0,-1))?e:UZ(e,t,n,o)}function QZ(e){return Array.isArray(e)?[]:{}}var _Z="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function qZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=QZ(t[0]);return t.forEach((function(e){!function t(n,r){var a,i=new Set(r),l=jZ(e,n),c=Array.isArray(l);if(c||"object"===on(a=l)&&null!==a&&Object.getPrototypeOf(a)===Object.prototype){if(!i.has(l)){i.add(l);var s=jZ(o,n);c?o=PZ(o,n,[]):s&&"object"===on(s)||(o=PZ(o,n,QZ(l))),_Z(l).forEach((function(e){t([].concat(fv(n),[e]),i)}))}}else o=PZ(o,n,l)}([])})),o}function $Z(){}const eS=e.createContext({}),tS=()=>{const e=()=>{};return e.deprecated=$Z,e},nS=(0,e.createContext)(void 0);const oS={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const rS={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},aS={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},iS={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},rS),timePickerLocale:Object.assign({},aS)},lS="${label} is not a valid ${type}",cS={locale:"en",Pagination:oS,DatePicker:iS,TimePicker:aS,Calendar:iS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:lS,method:lS,array:lS,object:lS,number:lS,date:lS,boolean:lS,integer:lS,float:lS,regexp:lS,email:lS,url:lS,hex:lS},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};let sS=Object.assign({},cS.Modal),gS=[];const uS=()=>gS.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),cS.Modal);function dS(){return sS}const IS=(0,e.createContext)(void 0);const CS=t=>{const{locale:n={},children:o,_ANT_MARK__:r}=t;e.useEffect((()=>{const e=function(e){if(e){const t=Object.assign({},e);return gS.push(t),sS=uS(),()=>{gS=gS.filter((e=>e!==t)),sS=uS()}}sS=Object.assign({},cS.Modal)}(n&&n.Modal);return e}),[n]);const a=e.useMemo((()=>Object.assign(Object.assign({},n),{exist:!0})),[n]);return e.createElement(IS.Provider,{value:a},o)};function mS(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function hS(e){return Math.min(1,Math.max(0,e))}function pS(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function fS(e){return e<=1?"".concat(100*Number(e),"%"):e}function AS(e){return 1===e.length?"0"+e:String(e)}function bS(e,t,n){e=mS(e,255),t=mS(t,255),n=mS(n,255);var o=Math.max(e,t,n),r=Math.min(e,t,n),a=0,i=0,l=(o+r)/2;if(o===r)i=0,a=0;else{var c=o-r;switch(i=l>.5?c/(2-o-r):c/(o+r),o){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4}a/=6}return{h:a,s:i,l:l}}function vS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yS(e,t,n){e=mS(e,255),t=mS(t,255),n=mS(n,255);var o=Math.max(e,t,n),r=Math.min(e,t,n),a=0,i=o,l=o-r,c=0===o?0:l/o;if(o===r)a=0;else{switch(o){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:c,v:i}}function ZS(e,t,n,o){var r=[AS(Math.round(e).toString(16)),AS(Math.round(t).toString(16)),AS(Math.round(n).toString(16))];return o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function SS(e){return Math.round(255*parseFloat(e)).toString(16)}function GS(e){return BS(e)/255}function BS(e){return parseInt(e,16)}var kS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wS(e){var t={r:0,g:0,b:0},n=1,o=null,r=null,a=null,i=!1,l=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(kS[e])e=kS[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=xS.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=xS.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=xS.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=xS.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=xS.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=xS.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=xS.hex8.exec(e),n)return{r:BS(n[1]),g:BS(n[2]),b:BS(n[3]),a:GS(n[4]),format:t?"name":"hex8"};if(n=xS.hex6.exec(e),n)return{r:BS(n[1]),g:BS(n[2]),b:BS(n[3]),format:t?"name":"hex"};if(n=xS.hex4.exec(e),n)return{r:BS(n[1]+n[1]),g:BS(n[2]+n[2]),b:BS(n[3]+n[3]),a:GS(n[4]+n[4]),format:t?"name":"hex8"};if(n=xS.hex3.exec(e),n)return{r:BS(n[1]+n[1]),g:BS(n[2]+n[2]),b:BS(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(XS(e.r)&&XS(e.g)&&XS(e.b)?(t=function(e,t,n){return{r:255*mS(e,255),g:255*mS(t,255),b:255*mS(n,255)}}(e.r,e.g,e.b),i=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):XS(e.h)&&XS(e.s)&&XS(e.v)?(o=fS(e.s),r=fS(e.v),t=function(e,t,n){e=6*mS(e,360),t=mS(t,100),n=mS(n,100);var o=Math.floor(e),r=e-o,a=n*(1-t),i=n*(1-r*t),l=n*(1-(1-r)*t),c=o%6;return{r:255*[n,i,a,a,l,n][c],g:255*[l,n,n,i,a,a][c],b:255*[a,a,l,n,n,i][c]}}(e.h,o,r),i=!0,l="hsv"):XS(e.h)&&XS(e.s)&&XS(e.l)&&(o=fS(e.s),a=fS(e.l),t=function(e,t,n){var o,r,a;if(e=mS(e,360),t=mS(t,100),n=mS(n,100),0===t)r=n,a=n,o=n;else{var i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;o=vS(l,i,e+1/3),r=vS(l,i,e),a=vS(l,i,e-1/3)}return{r:255*o,g:255*r,b:255*a}}(e.h,o,a),i=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=pS(n),{ok:i,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var RS="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),VS="[\\s|\\(]+(".concat(RS,")[,|\\s]+(").concat(RS,")[,|\\s]+(").concat(RS,")\\s*\\)?"),WS="[\\s|\\(]+(".concat(RS,")[,|\\s]+(").concat(RS,")[,|\\s]+(").concat(RS,")[,|\\s]+(").concat(RS,")\\s*\\)?"),xS={CSS_UNIT:new RegExp(RS),rgb:new RegExp("rgb"+VS),rgba:new RegExp("rgba"+WS),hsl:new RegExp("hsl"+VS),hsla:new RegExp("hsla"+WS),hsv:new RegExp("hsv"+VS),hsva:new RegExp("hsva"+WS),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function XS(e){return Boolean(xS.CSS_UNIT.exec(String(e)))}var NS=2,JS=.16,ES=.05,HS=.05,YS=.15,FS=5,KS=4,MS=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function LS(e){var t=yS(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function TS(e){var t=e.r,n=e.g,o=e.b;return"#".concat(ZS(t,n,o,!1))}function zS(e,t,n){var o;return(o=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-NS*t:Math.round(e.h)+NS*t:n?Math.round(e.h)+NS*t:Math.round(e.h)-NS*t)<0?o+=360:o>=360&&(o-=360),o}function DS(e,t,n){return 0===e.h&&0===e.s?e.s:((o=n?e.s-JS*t:t===KS?e.s+JS:e.s+ES*t)>1&&(o=1),n&&t===FS&&o>.1&&(o=.1),o<.06&&(o=.06),Number(o.toFixed(2)));var o}function OS(e,t,n){var o;return(o=n?e.v+HS*t:e.v-YS*t)>1&&(o=1),Number(o.toFixed(2))}function jS(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=wS(e),r=FS;r>0;r-=1){var a=LS(o),i=TS(wS({h:zS(a,r,!0),s:DS(a,r,!0),v:OS(a,r,!0)}));n.push(i)}n.push(TS(o));for(var l=1;l<=KS;l+=1){var c=LS(o),s=TS(wS({h:zS(c,l),s:DS(c,l),v:OS(c,l)}));n.push(s)}return"dark"===t.theme?MS.map((function(e){var o=e.index,r=e.opacity,a=TS(function(e,t,n){var o=n/100;return{r:(t.r-e.r)*o+e.r,g:(t.g-e.g)*o+e.g,b:(t.b-e.b)*o+e.b}}(wS(t.backgroundColor||"#141414"),wS(n[o]),100*r));return a})):n}var US={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},PS={},QS={};Object.keys(US).forEach((function(e){PS[e]=jS(US[e]),PS[e].primary=PS[e][5],QS[e]=jS(US[e],{theme:"dark",backgroundColor:"#141414"}),QS[e].primary=QS[e][5]}));PS.red,PS.volcano;var _S=PS.gold,qS=(PS.orange,PS.yellow,PS.lime,PS.green,PS.cyan,PS.blue);PS.geekblue,PS.purple,PS.magenta,PS.grey,PS.grey;const $S={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},eG=Object.assign(Object.assign({},$S),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var tG=function(){function e(t,n){var o;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=wS(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=n.format)&&void 0!==o?o:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,o=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=pS(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=yS(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=yS(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=bS(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=bS(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),ZS(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,o,r){var a=[AS(Math.round(e).toString(16)),AS(Math.round(t).toString(16)),AS(Math.round(n).toString(16)),AS(SS(o))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*mS(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*mS(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+ZS(this.r,this.g,this.b,!1),t=0,n=Object.entries(kS);t<n.length;t++){var o=n[t],r=o[0];if(e===o[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,o=this.a<1&&this.a>=0;return t||!o||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=hS(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=hS(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=hS(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=hS(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var o=this.toRgb(),r=new e(t).toRgb(),a=n/100;return new e({r:(r.r-o.r)*a+o.r,g:(r.g-o.g)*a+o.g,b:(r.b-o.b)*a+o.b,a:(r.a-o.a)*a+o.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var o=this.toHsl(),r=360/n,a=[this];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,a.push(new e(o));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),o=n.h,r=n.s,a=n.v,i=[],l=1/t;t--;)i.push(new e({h:o,s:r,v:a})),a=(a+l)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),o=new e(t).toRgb(),r=n.a+o.a*(1-n.a);return new e({r:(n.r*n.a+o.r*o.a*(1-n.a))/r,g:(n.g*n.a+o.g*o.a*(1-n.a))/r,b:(n.b*n.a+o.b*o.a*(1-n.a))/r,a:r})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),o=n.h,r=[this],a=360/t,i=1;i<t;i++)r.push(new e({h:(o+i*a)%360,s:n.s,l:n.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const nG=e=>{let t=e,n=e,o=e,r=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?o=1:e>=6&&(o=2),e>4&&e<8?r=4:e>=8&&(r=6),{borderRadius:e,borderRadiusXS:o,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:r}};const oG=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function rG(e){return(e+8)/e}const aG=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const o=n-1,r=e*Math.pow(2.71828,o/5),a=n>1?Math.floor(r):Math.ceil(r);return 2*Math.floor(a/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:rG(e)})))}(e),n=t.map((e=>e.size)),o=t.map((e=>e.lineHeight)),r=n[1],a=n[0],i=n[2],l=o[1],c=o[0],s=o[2];return{fontSizeSM:a,fontSize:r,fontSizeLG:i,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:s,lineHeightSM:c,fontHeight:Math.round(l*r),fontHeightLG:Math.round(s*i),fontHeightSM:Math.round(c*a),lineHeightHeading1:o[6],lineHeightHeading2:o[5],lineHeightHeading3:o[4],lineHeightHeading4:o[3],lineHeightHeading5:o[2]}};const iG=(e,t)=>new tG(e).setAlpha(t).toRgbString(),lG=(e,t)=>new tG(e).darken(t).toHexString(),cG=e=>{const t=jS(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},sG=(e,t)=>{const n=e||"#fff",o=t||"#000";return{colorBgBase:n,colorTextBase:o,colorText:iG(o,.88),colorTextSecondary:iG(o,.65),colorTextTertiary:iG(o,.45),colorTextQuaternary:iG(o,.25),colorFill:iG(o,.15),colorFillSecondary:iG(o,.06),colorFillTertiary:iG(o,.04),colorFillQuaternary:iG(o,.02),colorBgLayout:lG(n,4),colorBgContainer:lG(n,0),colorBgElevated:lG(n,0),colorBgSpotlight:iG(o,.85),colorBgBlur:"transparent",colorBorder:lG(n,15),colorBorderSecondary:lG(n,6)}};const gG=iy((function(e){const t=Object.keys($S).map((t=>{const n=jS(e[t]);return new Array(10).fill(1).reduce(((e,o,r)=>(e["".concat(t,"-").concat(r+1)]=n[r],e["".concat(t).concat(r+1)]=n[r],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:o}=t;const{colorSuccess:r,colorWarning:a,colorError:i,colorInfo:l,colorPrimary:c,colorBgBase:s,colorTextBase:g}=e,u=n(c),d=n(r),I=n(a),C=n(i),m=n(l),h=o(s,g),p=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},h),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:C[1],colorErrorBgHover:C[2],colorErrorBgActive:C[3],colorErrorBorder:C[3],colorErrorBorderHover:C[4],colorErrorHover:C[5],colorError:C[6],colorErrorActive:C[7],colorErrorTextHover:C[8],colorErrorText:C[9],colorErrorTextActive:C[10],colorWarningBg:I[1],colorWarningBgHover:I[2],colorWarningBorder:I[3],colorWarningBorderHover:I[4],colorWarningHover:I[4],colorWarning:I[6],colorWarningActive:I[7],colorWarningTextHover:I[8],colorWarningText:I[9],colorWarningTextActive:I[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:p[4],colorLink:p[6],colorLinkActive:p[7],colorBgMask:new tG("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:cG,generateNeutralColorPalettes:sG})),aG(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),oG(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:o,lineWidth:r}=e;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:r+1},nG(o))}(e))})),uG={token:eG,override:{override:eG},hashed:!0},dG=e.createContext(uG),IG="-ant-".concat(Date.now(),"-").concat(Math.random());function CG(e,t){const n=function(e,t){const n={},o=(e,t)=>{let n=e.clone();return n=(null===t||void 0===t?void 0:t(n))||n,n.toRgbString()},r=(e,t)=>{const r=new tG(e),a=jS(r.toRgbString());n["".concat(t,"-color")]=o(r),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=r.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){r(t.primaryColor,"primary");const e=new tG(t.primaryColor),a=jS(e.toRgbString());a.forEach(((e,t)=>{n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=o(e,(e=>e.lighten(35))),n["primary-color-deprecated-l-20"]=o(e,(e=>e.lighten(20))),n["primary-color-deprecated-t-20"]=o(e,(e=>e.tint(20))),n["primary-color-deprecated-t-50"]=o(e,(e=>e.tint(50))),n["primary-color-deprecated-f-12"]=o(e,(e=>e.setAlpha(.12*e.getAlpha())));const i=new tG(a[0]);n["primary-color-active-deprecated-f-30"]=o(i,(e=>e.setAlpha(.3*e.getAlpha()))),n["primary-color-active-deprecated-d-02"]=o(i,(e=>e.darken(2)))}t.successColor&&r(t.successColor,"success"),t.warningColor&&r(t.warningColor,"warning"),t.errorColor&&r(t.errorColor,"error"),t.infoColor&&r(t.infoColor,"info");const a=Object.keys(n).map((t=>"--".concat(e,"-").concat(t,": ").concat(n[t],";")));return"\n  :root {\n    ".concat(a.join("\n"),"\n  }\n  ").trim()}(e,t);bv()&&xv(n,"".concat(IG,"-dynamic-theme"))}const mG=e.createContext(!1),hG=t=>{let{children:n,disabled:o}=t;const r=e.useContext(mG);return e.createElement(mG.Provider,{value:null!==o&&void 0!==o?o:r},n)},pG=mG,fG=e.createContext(void 0),AG=t=>{let{children:n,size:o}=t;const r=e.useContext(fG);return e.createElement(fG.Provider,{value:o||r},n)},bG=fG;const vG=function(){return{componentDisabled:(0,e.useContext)(pG),componentSize:(0,e.useContext)(bG)}},yG=Object.assign({},t),{useId:ZG}=yG,SG="undefined"===typeof ZG?()=>"":ZG;var GG=n(139),BG=n.n(GG);function kG(e){return e instanceof HTMLElement||e instanceof SVGElement}function wG(e){return e&&"object"===on(e)&&kG(e.nativeElement)?e.nativeElement:kG(e)?e:null}function RG(t){var n,o=wG(t);return o||(t instanceof e.Component?null===(n=i.findDOMNode)||void 0===n?void 0:n.call(i,t):null)}var VG=function(e,t){"function"===typeof e?e(t):"object"===on(e)&&e&&"current"in e&&(e.current=t)},WG=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.filter(Boolean);return o.length<=1?o[0]:function(e){t.forEach((function(t){VG(t,e)}))}},xG=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xv((function(){return WG.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},XG=function(e){var t,n,o=(0,b.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof o||null!==(t=o.prototype)&&void 0!==t&&t.render||o.$$typeof===b.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===b.ForwardRef)};function NG(t){return(0,e.isValidElement)(t)&&!(0,b.isFragment)(t)}Number(e.version.split(".")[0]);function JG(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var EG=["children"],HG=e.createContext({});function YG(t){var n=t.children,o=JG(t,EG);return e.createElement(HG.Provider,{value:o},n)}function FG(e,t){return FG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FG(e,t)}function KG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FG(e,t)}function MG(e){return MG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MG(e)}function LG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LG=function(){return!!e})()}function TG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zG(e,t){if(t&&("object"==on(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TG(e)}function DG(e){var t=LG();return function(){var n,o=MG(e);if(t){var r=MG(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return zG(this,n)}}const OG=function(e){KG(n,e);var t=DG(n);function n(){return Tv(this,n),t.apply(this,arguments)}return Dv(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component);function jG(t){var n=e.useRef();n.current=t;var o=e.useCallback((function(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(o))}),[]);return o}function UG(t){var n=e.useRef(!1),o=hv(e.useState(t),2),r=o[0],a=o[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[r,function(e,t){t&&n.current||a(e)}]}function PG(e){return void 0!==e}function QG(e,t){var n=t||{},o=n.defaultValue,r=n.value,a=n.onChange,i=n.postState,l=hv(UG((function(){return PG(r)?r:PG(o)?"function"===typeof o?o():o:"function"===typeof e?e():e})),2),c=l[0],s=l[1],g=void 0!==r?r:c,u=i?i(g):g,d=jG(a),I=hv(UG([g]),2),C=I[0],m=I[1];return by((function(){var e=C[0];c!==e&&d(c,e)}),[C]),by((function(){PG(r)||s(r)}),[r]),[u,jG((function(e,t){s(e,t),m([g],t)}))]}var _G="none",qG="appear",$G="enter",eB="leave",tB="none",nB="prepare",oB="start",rB="active",aB="end",iB="prepared";function lB(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var cB=function(e,t){var n={animationend:lB("Animation","AnimationEnd"),transitionend:lB("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(bv(),"undefined"!==typeof window?window:{}),sB={};if(bv()){var gB=document.createElement("div");sB=gB.style}var uB={};function dB(e){if(uB[e])return uB[e];var t=cB[e];if(t)for(var n=Object.keys(t),o=n.length,r=0;r<o;r+=1){var a=n[r];if(Object.prototype.hasOwnProperty.call(t,a)&&a in sB)return uB[e]=t[a],uB[e]}return""}var IB=dB("animationend"),CB=dB("transitionend"),mB=!(!IB||!CB),hB=IB||"animationend",pB=CB||"transitionend";function fB(e,t){if(!e)return null;if("object"===on(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const AB=function(t){var n=(0,e.useRef)();function o(e){e&&(e.removeEventListener(pB,t),e.removeEventListener(hB,t))}return e.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(pB,t),e.addEventListener(hB,t),n.current=e)},o]};const bB=bv()?e.useLayoutEffect:e.useEffect;var vB=function(e){return+setTimeout(e,16)},yB=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(vB=function(e){return window.requestAnimationFrame(e)},yB=function(e){return window.cancelAnimationFrame(e)});var ZB=0,SB=new Map;function GB(e){SB.delete(e)}var BB=function(e){var t=ZB+=1;return function n(o){if(0===o)GB(t),e();else{var r=vB((function(){n(o-1)}));SB.set(t,r)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};BB.cancel=function(e){var t=SB.get(e);return GB(e),yB(t)};const kB=BB;var wB=[nB,oB,rB,aB],RB=[nB,iB],VB=!1,WB=!0;function xB(e){return e===rB||e===aB}const XB=function(t,n,o){var r=hv(UG(tB),2),a=r[0],i=r[1],l=function(){var t=e.useRef(null);function n(){kB.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=kB((function(){r<=1?o({isCanceled:function(){return a!==t.current}}):e(o,r-1)}));t.current=a},n]}(),c=hv(l,2),s=c[0],g=c[1];var u=n?RB:wB;return bB((function(){if(a!==tB&&a!==aB){var e=u.indexOf(a),t=u[e+1],n=o(a);n===VB?i(t,!0):t&&s((function(e){function o(){e.isCanceled()||i(t,!0)}!0===n?o():Promise.resolve(n).then(o)}))}}),[t,a]),e.useEffect((function(){return function(){g()}}),[]),[function(){i(nB,!0)},a]};const NB=function(t){var n=t;"object"===on(t)&&(n=t.transitionSupport);var o=e.forwardRef((function(t,o){var r=t.visible,a=void 0===r||r,i=t.removeOnLeave,l=void 0===i||i,c=t.forceRender,s=t.children,g=t.motionName,u=t.leavedClassName,d=t.eventProps,I=function(e,t){return!(!e.motionName||!n||!1===t)}(t,e.useContext(HG).motion),C=(0,e.useRef)(),m=(0,e.useRef)();var h=function(t,n,o,r){var a=r.motionEnter,i=void 0===a||a,l=r.motionAppear,c=void 0===l||l,s=r.motionLeave,g=void 0===s||s,u=r.motionDeadline,d=r.motionLeaveImmediately,I=r.onAppearPrepare,C=r.onEnterPrepare,m=r.onLeavePrepare,h=r.onAppearStart,p=r.onEnterStart,f=r.onLeaveStart,A=r.onAppearActive,b=r.onEnterActive,v=r.onLeaveActive,y=r.onAppearEnd,Z=r.onEnterEnd,S=r.onLeaveEnd,G=r.onVisibleChanged,B=hv(UG(),2),k=B[0],w=B[1],R=hv(UG(_G),2),V=R[0],W=R[1],x=hv(UG(null),2),X=x[0],N=x[1],J=(0,e.useRef)(!1),E=(0,e.useRef)(null);function H(){return o()}var Y=(0,e.useRef)(!1);function F(){W(_G,!0),N(null,!0)}var K=jG((function(e){if(V!==_G){var t=H();if(!e||e.deadline||e.target===t){var n,o=Y.current;V===qG&&o?n=null===y||void 0===y?void 0:y(t,e):V===$G&&o?n=null===Z||void 0===Z?void 0:Z(t,e):V===eB&&o&&(n=null===S||void 0===S?void 0:S(t,e)),o&&!1!==n&&F()}}})),M=hv(AB(K),1)[0],L=function(e){switch(e){case qG:return an(an(an({},nB,I),oB,h),rB,A);case $G:return an(an(an({},nB,C),oB,p),rB,b);case eB:return an(an(an({},nB,m),oB,f),rB,v);default:return{}}},T=e.useMemo((function(){return L(V)}),[V]),z=hv(XB(V,!t,(function(e){if(e===nB){var t=T[nB];return t?t(H()):VB}var n;return O in T&&N((null===(n=T[O])||void 0===n?void 0:n.call(T,H(),null))||null),O===rB&&V!==_G&&(M(H()),u>0&&(clearTimeout(E.current),E.current=setTimeout((function(){K({deadline:!0})}),u))),O===iB&&F(),WB})),2),D=z[0],O=z[1],j=xB(O);Y.current=j,bB((function(){w(n);var e,o=J.current;J.current=!0,!o&&n&&c&&(e=qG),o&&n&&i&&(e=$G),(o&&!n&&g||!o&&d&&!n&&g)&&(e=eB);var r=L(e);e&&(t||r[nB])?(W(e),D()):W(_G)}),[n]),(0,e.useEffect)((function(){(V===qG&&!c||V===$G&&!i||V===eB&&!g)&&W(_G)}),[c,i,g]),(0,e.useEffect)((function(){return function(){J.current=!1,clearTimeout(E.current)}}),[]);var U=e.useRef(!1);(0,e.useEffect)((function(){k&&(U.current=!0),void 0!==k&&V===_G&&((U.current||k)&&(null===G||void 0===G||G(k)),U.current=!0)}),[k,V]);var P=X;return T[nB]&&O===oB&&(P=cn({transition:"none"},P)),[V,O,P,null!==k&&void 0!==k?k:n]}(I,a,(function(){try{return C.current instanceof HTMLElement?C.current:RG(m.current)}catch(Tie){return null}}),t),p=hv(h,4),f=p[0],A=p[1],b=p[2],v=p[3],y=e.useRef(v);v&&(y.current=!0);var Z,S=e.useCallback((function(e){C.current=e,VG(o,e)}),[o]),G=cn(cn({},d),{},{visible:a});if(s)if(f===_G)Z=v?s(cn({},G),S):!l&&y.current&&u?s(cn(cn({},G),{},{className:u}),S):c||!l&&!u?s(cn(cn({},G),{},{style:{display:"none"}}),S):null;else{var B;A===nB?B="prepare":xB(A)?B="active":A===oB&&(B="start");var k=fB(g,"".concat(f,"-").concat(B));Z=s(cn(cn({},G),{},{className:BG()(fB(g,f),an(an({},k,k&&B),g,"string"===typeof g)),style:b}),S)}else Z=null;e.isValidElement(Z)&&XG(Z)&&(Z.ref||(Z=e.cloneElement(Z,{ref:S})));return e.createElement(OG,{ref:m},Z)}));return o.displayName="CSSMotion",o}(mB);var JB="add",EB="keep",HB="remove",YB="removed";function FB(e){var t;return cn(cn({},t=e&&"object"===on(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function KB(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(FB)}var MB=["component","children","onVisibleChanged","onAllRemoved"],LB=["status"],TB=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const zB=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NB,o=function(t){KG(r,t);var o=DG(r);function r(){var e;Tv(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return an(TG(e=o.call.apply(o,[this].concat(n))),"state",{keyEntities:[]}),an(TG(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:cn(cn({},e),{},{status:YB})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==YB})).length})),e}return Dv(r,[{key:"render",value:function(){var t=this,o=this.state.keyEntities,r=this.props,a=r.component,i=r.children,l=r.onVisibleChanged,c=r.onAllRemoved,s=JG(r,MB),g=a||e.Fragment,u={};return TB.forEach((function(e){u[e]=s[e],delete s[e]})),delete s.keys,e.createElement(g,s,o.map((function(o,r){var a=o.status,s=JG(o,LB),g=a===JB||a===EB;return e.createElement(n,Ey({},u,{key:s.key,visible:g,eventProps:s,onVisibleChanged:function(e){(null===l||void 0===l||l(e,{key:s.key}),e)||0===t.removeKey(s.key)&&c&&c()}}),(function(e,t){return i(cn(cn({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,o=t.keyEntities,r=KB(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],o=0,r=t.length,a=KB(e),i=KB(t);a.forEach((function(e){for(var t=!1,a=o;a<r;a+=1){var l=i[a];if(l.key===e.key){o<a&&(n=n.concat(i.slice(o,a).map((function(e){return cn(cn({},e),{},{status:JB})}))),o=a),n.push(cn(cn({},l),{},{status:EB})),o+=1,t=!0;break}}t||n.push(cn(cn({},e),{},{status:HB}))})),o<r&&(n=n.concat(i.slice(o).map((function(e){return cn(cn({},e),{},{status:JB})}))));var l={};return n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1})),Object.keys(l).filter((function(e){return l[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,o=t.status;return n!==e||o!==HB}))).forEach((function(t){t.key===e&&(t.status=EB)}))})),n}(o,r);return{keyEntities:a.filter((function(e){var t=o.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==YB||e.status!==HB}))}}}]),r}(e.Component);return an(o,"defaultProps",{component:"div"}),o}(mB),DB=NB,OB="5.18.0";function jB(e){return e>=0&&e<=255}const UB=function(e,t){const{r:n,g:o,b:r,a:a}=new tG(e).toRgb();if(a<1)return e;const{r:i,g:l,b:c}=new tG(t).toRgb();for(let s=.01;s<=1;s+=.01){const e=Math.round((n-i*(1-s))/s),t=Math.round((o-l*(1-s))/s),a=Math.round((r-c*(1-s))/s);if(jB(e)&&jB(t)&&jB(a))return new tG({r:e,g:t,b:a,a:Math.round(100*s)/100}).toRgbString()}return new tG({r:n,g:o,b:r,a:1}).toRgbString()};var PB=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function QB(e){const{override:t}=e,n=PB(e,["override"]),o=Object.assign({},t);Object.keys(eG).forEach((e=>{delete o[e]}));const r=Object.assign(Object.assign({},n),o),a=1200,i=1600;if(!1===r.motion){const e="0s";r.motionDurationFast=e,r.motionDurationMid=e,r.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:UB(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:UB(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:UB(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:4*r.lineWidth,lineWidth:r.lineWidth,controlOutlineWidth:2*r.lineWidth,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:UB(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:i,screenXXLMin:i,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new tG("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new tG("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new tG("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),o)}var _B=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const qB={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},$B={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},ek={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},tk=(e,t,n)=>{const o=n.getDerivativeToken(e),{override:r}=t,a=_B(t,["override"]);let i=Object.assign(Object.assign({},o),{override:r});return i=QB(i),a&&Object.entries(a).forEach((e=>{let[t,n]=e;const{theme:o}=n,r=_B(n,["theme"]);let a=r;o&&(a=tk(Object.assign(Object.assign({},i),r),{override:r},o)),i[t]=a})),i};function nk(){const{token:t,hashed:n,theme:o,override:r,cssVar:a}=e.useContext(dG),i="".concat(OB,"-").concat(n||""),l=o||gG,[c,s,g]=Jy(l,[eG,t],{salt:i,override:r,getComputedToken:tk,formatToken:QB,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:qB,ignore:$B,preserve:ek}});return[l,g,n?s:"",c,a]}function ok(t){const{children:n}=t,[,o]=nk(),{motion:r}=o,a=e.useRef(!1);return a.current=a.current||!1===r,a.current?e.createElement(YG,{motion:r},n):n}const rk=()=>null,ak={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ik=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},lk=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),ck=(e,t,n,o)=>{const r='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]'),a=n?".".concat(n):r,i={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return!1!==o&&(l={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},l),i),{[r]:i})}},sk=e=>({outline:"".concat(Iy(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),gk=e=>({"&:focus-visible":Object.assign({},sk(e))}),uk=(e,t)=>{const[n,o]=nk();return YZ({theme:n,token:o,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},(()=>[{[".".concat(e)]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[".".concat(e," .").concat(e,"-icon")]:{display:"block"}})}]))};var dk=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Ik=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Ck,mk,hk,pk;function fk(){return Ck||"ant"}function Ak(){return mk||sv}const bk=()=>({getPrefixCls:(e,t)=>t||(e?"".concat(fk(),"-").concat(e):fk()),getIconPrefixCls:Ak,getRootPrefixCls:()=>Ck||fk(),getTheme:()=>hk,holderRender:pk}),vk=t=>{const{children:n,csp:o,autoInsertSpaceInButton:r,alert:a,anchor:i,form:l,locale:c,componentSize:s,direction:g,space:u,virtual:d,dropdownMatchSelectWidth:I,popupMatchSelectWidth:C,popupOverflow:m,legacyLocale:h,parentContext:p,iconPrefixCls:f,theme:A,componentDisabled:b,segmented:v,statistic:y,spin:Z,calendar:S,carousel:G,cascader:B,collapse:k,typography:w,checkbox:R,descriptions:V,divider:W,drawer:x,skeleton:X,steps:N,image:J,layout:E,list:H,mentions:Y,modal:F,progress:K,result:M,slider:L,breadcrumb:T,menu:z,pagination:D,input:O,textArea:j,empty:U,badge:P,radio:Q,rate:_,switch:q,transfer:$,avatar:ee,message:te,tag:ne,table:oe,card:re,tabs:ae,timeline:ie,timePicker:le,upload:ce,notification:se,tree:ge,colorPicker:ue,datePicker:de,rangePicker:Ie,flex:Ce,wave:me,dropdown:he,warning:pe,tour:fe,floatButtonGroup:Ae}=t,be=e.useCallback(((e,n)=>{const{prefixCls:o}=t;if(n)return n;const r=o||p.getPrefixCls("");return e?"".concat(r,"-").concat(e):r}),[p.getPrefixCls,t.prefixCls]),ve=f||p.iconPrefixCls||sv,ye=o||p.csp;uk(ve,ye);const Ze=function(e,t,n){var o;tS("ConfigProvider");const r=e||{},a=!1!==r.inherit&&t?t:Object.assign(Object.assign({},uG),{hashed:null!==(o=null===t||void 0===t?void 0:t.hashed)&&void 0!==o?o:uG.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),i=SG();return Xv((()=>{var o,l;if(!e)return t;const c=Object.assign({},a.components);Object.keys(e.components||{}).forEach((t=>{c[t]=Object.assign(Object.assign({},c[t]),e.components[t])}));const s="css-var-".concat(i.replace(/:/g,"")),g=(null!==(o=r.cssVar)&&void 0!==o?o:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===n||void 0===n?void 0:n.prefixCls},"object"===typeof a.cssVar?a.cssVar:{}),"object"===typeof r.cssVar?r.cssVar:{}),{key:"object"===typeof r.cssVar&&(null===(l=r.cssVar)||void 0===l?void 0:l.key)||s});return Object.assign(Object.assign(Object.assign({},a),r),{token:Object.assign(Object.assign({},a.token),r.token),components:c,cssVar:g})}),[r,a],((e,t)=>e.some(((e,n)=>{const o=t[n];return!Lv(e,o,!0)}))))}(A,p.theme,{prefixCls:be("")});const Se={csp:ye,autoInsertSpaceInButton:r,alert:a,anchor:i,locale:c||h,direction:g,space:u,virtual:d,popupMatchSelectWidth:null!==C&&void 0!==C?C:I,popupOverflow:m,getPrefixCls:be,iconPrefixCls:ve,theme:Ze,segmented:v,statistic:y,spin:Z,calendar:S,carousel:G,cascader:B,collapse:k,typography:w,checkbox:R,descriptions:V,divider:W,drawer:x,skeleton:X,steps:N,image:J,input:O,textArea:j,layout:E,list:H,mentions:Y,modal:F,progress:K,result:M,slider:L,breadcrumb:T,menu:z,pagination:D,empty:U,badge:P,radio:Q,rate:_,switch:q,transfer:$,avatar:ee,message:te,tag:ne,table:oe,card:re,tabs:ae,timeline:ie,timePicker:le,upload:ce,notification:se,tree:ge,colorPicker:ue,datePicker:de,rangePicker:Ie,flex:Ce,wave:me,dropdown:he,warning:pe,tour:fe,floatButtonGroup:Ae};const Ge=Object.assign({},p);Object.keys(Se).forEach((e=>{void 0!==Se[e]&&(Ge[e]=Se[e])})),Ik.forEach((e=>{const n=t[e];n&&(Ge[e]=n)})),"undefined"!==typeof r&&(Ge.button=Object.assign({autoInsertSpace:r},Ge.button));const Be=Xv((()=>Ge),Ge,((e,t)=>{const n=Object.keys(e),o=Object.keys(t);return n.length!==o.length||n.some((n=>e[n]!==t[n]))})),ke=e.useMemo((()=>({prefixCls:ve,csp:ye})),[ve,ye]);let we=e.createElement(e.Fragment,null,e.createElement(rk,{dropdownMatchSelectWidth:I}),n);const Re=e.useMemo((()=>{var e,t,n,o;return qZ((null===(e=cS.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Be.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(o=Be.form)||void 0===o?void 0:o.validateMessages)||{},(null===l||void 0===l?void 0:l.validateMessages)||{})}),[Be,null===l||void 0===l?void 0:l.validateMessages]);Object.keys(Re).length>0&&(we=e.createElement(nS.Provider,{value:Re},we)),c&&(we=e.createElement(CS,{locale:c,_ANT_MARK__:"internalMark"},we)),(ve||ye)&&(we=e.createElement(DZ.Provider,{value:ke},we)),s&&(we=e.createElement(AG,{size:s},we)),we=e.createElement(ok,null,we);const Ve=e.useMemo((()=>{const e=Ze||{},{algorithm:t,token:n,components:o,cssVar:r}=e,a=dk(e,["algorithm","token","components","cssVar"]),i=t&&(!Array.isArray(t)||t.length>0)?iy(t):gG,l={};Object.entries(o||{}).forEach((e=>{let[t,n]=e;const o=Object.assign({},n);"algorithm"in o&&(!0===o.algorithm?o.theme=i:(Array.isArray(o.algorithm)||"function"===typeof o.algorithm)&&(o.theme=iy(o.algorithm)),delete o.algorithm),l[t]=o}));const c=Object.assign(Object.assign({},eG),n);return Object.assign(Object.assign({},a),{theme:i,token:c,components:l,override:Object.assign({override:c},l),cssVar:r})}),[Ze]);return A&&(we=e.createElement(dG.Provider,{value:Ve},we)),Be.warning&&(we=e.createElement(eS.Provider,{value:Be.warning},we)),void 0!==b&&(we=e.createElement(hG,{disabled:b},we)),e.createElement(gv.Provider,{value:Be},we)},yk=t=>{const n=e.useContext(gv),o=e.useContext(IS);return e.createElement(vk,Object.assign({parentContext:n,legacyLocale:o},t))};yk.ConfigContext=gv,yk.SizeContext=bG,yk.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:o,holderRender:r}=e;void 0!==t&&(Ck=t),void 0!==n&&(mk=n),"holderRender"in e&&(pk=r),o&&(!function(e){return Object.keys(e).some((e=>e.endsWith("Color")))}(o)?hk=o:CG(fk(),o))},yk.useConfig=vG,Object.defineProperty(yk,"SizeContext",{get:()=>bG});const Zk=yk;const Sk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Gk(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Bk(e){return function(e){return Gk(e)instanceof ShadowRoot}(e)?Gk(e):null}function kk(e){return"object"===on(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===on(e.icon)||"function"===typeof e.icon)}function wk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var o=e[n];if("class"===n)t.className=o,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}(n)]=o;return t}),{})}function Rk(t,n,o){return o?e.createElement(t.tag,cn(cn({key:n},wk(t.attrs)),o),(t.children||[]).map((function(e,o){return Rk(e,"".concat(n,"-").concat(t.tag,"-").concat(o))}))):e.createElement(t.tag,cn({key:n},wk(t.attrs)),(t.children||[]).map((function(e,o){return Rk(e,"".concat(n,"-").concat(t.tag,"-").concat(o))})))}function Vk(e){return jS(e)[0]}function Wk(e){return e?Array.isArray(e)?e:[e]:[]}var xk=["icon","className","onClick","style","primaryColor","secondaryColor"],Xk={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Nk=function(t){var n,o,r=t.icon,a=t.className,i=t.onClick,l=t.style,c=t.primaryColor,s=t.secondaryColor,g=JG(t,xk),u=e.useRef(),d=Xk;if(c&&(d={primaryColor:c,secondaryColor:s||Vk(c)}),function(t){var n=(0,e.useContext)(DZ),o=n.csp,r=n.prefixCls,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(a=a.replace(/anticon/g,r)),(0,e.useEffect)((function(){var e=Bk(t.current);xv(a,"@ant-design-icons",{prepend:!0,csp:o,attachTo:e})}),[])}(u),n=kk(r),o="icon should be icon definiton, but got ".concat(r),Mv(n,"[@ant-design/icons] ".concat(o)),!kk(r))return null;var I=r;return I&&"function"===typeof I.icon&&(I=cn(cn({},I),{},{icon:I.icon(d.primaryColor,d.secondaryColor)})),Rk(I.icon,"svg-".concat(I.name),cn(cn({className:a,onClick:i,style:l,"data-icon":I.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},g),{},{ref:u}))};Nk.displayName="IconReact",Nk.getTwoToneColors=function(){return cn({},Xk)},Nk.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Xk.primaryColor=t,Xk.secondaryColor=n||Vk(t),Xk.calculated=!!n};const Jk=Nk;function Ek(e){var t=hv(Wk(e),2),n=t[0],o=t[1];return Jk.setTwoToneColors({primaryColor:n,secondaryColor:o})}var Hk=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ek(qS.primary);var Yk=e.forwardRef((function(t,n){var o=t.className,r=t.icon,a=t.spin,i=t.rotate,l=t.tabIndex,c=t.onClick,s=t.twoToneColor,g=JG(t,Hk),u=e.useContext(DZ),d=u.prefixCls,I=void 0===d?"anticon":d,C=u.rootClassName,m=BG()(C,I,an(an({},"".concat(I,"-").concat(r.name),!!r.name),"".concat(I,"-spin"),!!a||"loading"===r.name),o),h=l;void 0===h&&c&&(h=-1);var p=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,f=hv(Wk(s),2),A=f[0],b=f[1];return e.createElement("span",Ey({role:"img","aria-label":r.name},g,{ref:n,tabIndex:h,onClick:c,className:m}),e.createElement(Jk,{icon:r,primaryColor:A,secondaryColor:b,style:p}))}));Yk.displayName="AntdIcon",Yk.getTwoToneColor=function(){var e=Jk.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Yk.setTwoToneColor=Ek;const Fk=Yk;var Kk=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Sk}))};const Mk=e.forwardRef(Kk);const Lk={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var Tk=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Lk}))};const zk=e.forwardRef(Tk);const Dk={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var Ok=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Dk}))};const jk=e.forwardRef(Ok);const Uk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var Pk=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Uk}))};const Qk=e.forwardRef(Pk);const _k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var qk=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:_k}))};const $k=e.forwardRef(qk);const ew={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var tw=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:ew}))};const nw=e.forwardRef(tw);var ow={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=ow.F1&&t<=ow.F12)return!1;switch(t){case ow.ALT:case ow.CAPS_LOCK:case ow.CONTEXT_MENU:case ow.CTRL:case ow.DOWN:case ow.END:case ow.ESC:case ow.HOME:case ow.INSERT:case ow.LEFT:case ow.MAC_FF_META:case ow.META:case ow.NUMLOCK:case ow.NUM_CENTER:case ow.PAGE_DOWN:case ow.PAGE_UP:case ow.PAUSE:case ow.PRINT_SCREEN:case ow.RIGHT:case ow.SHIFT:case ow.UP:case ow.WIN_KEY:case ow.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ow.ZERO&&e<=ow.NINE)return!0;if(e>=ow.NUM_ZERO&&e<=ow.NUM_MULTIPLY)return!0;if(e>=ow.A&&e<=ow.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case ow.SPACE:case ow.QUESTION_MARK:case ow.NUM_PLUS:case ow.NUM_MINUS:case ow.NUM_PERIOD:case ow.NUM_DIVISION:case ow.SEMICOLON:case ow.DASH:case ow.EQUALS:case ow.COMMA:case ow.PERIOD:case ow.SLASH:case ow.APOSTROPHE:case ow.SINGLE_QUOTE:case ow.OPEN_SQUARE_BRACKET:case ow.BACKSLASH:case ow.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const rw=ow;var aw="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),iw="aria-",lw="data-";function cw(e,t){return 0===e.indexOf(t)}function sw(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:cn({},n);var o={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||cw(n,iw))||t.data&&cw(n,lw)||t.attr&&aw.includes(n))&&(o[n]=e[n])})),o}var gw=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.style,a=t.className,i=t.duration,l=void 0===i?4.5:i,c=t.showProgress,s=t.pauseOnHover,g=void 0===s||s,u=t.eventKey,d=t.content,I=t.closable,C=t.closeIcon,m=void 0===C?"x":C,h=t.props,p=t.onClick,f=t.onNoticeClose,A=t.times,b=t.hovering,v=hv(e.useState(!1),2),y=v[0],Z=v[1],S=hv(e.useState(0),2),G=S[0],B=S[1],k=hv(e.useState(0),2),w=k[0],R=k[1],V=b||y,W=l>0&&c,x=function(){f(u)};e.useEffect((function(){if(!V&&l>0){var e=Date.now()-w,t=setTimeout((function(){x()}),1e3*l-w);return function(){g&&clearTimeout(t),R(Date.now()-e)}}}),[l,V,A]),e.useEffect((function(){if(!V&&W&&(g||0===w)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame((function(e){var o=e+w-t,r=Math.min(o/(1e3*l),1);B(100*r),r<1&&n()}))}(),function(){g&&cancelAnimationFrame(e)}}}),[l,w,V,W,A]);var X=e.useMemo((function(){return"object"===on(I)&&null!==I?I:I?{closeIcon:m}:{}}),[I,m]),N=sw(X,!0),J=100-(!G||G<0?0:G>100?100:G),E="".concat(o,"-notice");return e.createElement("div",Ey({},h,{ref:n,className:BG()(E,a,an({},"".concat(E,"-closable"),I)),style:r,onMouseEnter:function(e){var t;Z(!0),null===h||void 0===h||null===(t=h.onMouseEnter)||void 0===t||t.call(h,e)},onMouseLeave:function(e){var t;Z(!1),null===h||void 0===h||null===(t=h.onMouseLeave)||void 0===t||t.call(h,e)},onClick:p}),e.createElement("div",{className:"".concat(E,"-content")},d),I&&e.createElement("a",Ey({tabIndex:0,className:"".concat(E,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==rw.ENTER||x()},"aria-label":"Close"},N,{onClick:function(e){e.preventDefault(),e.stopPropagation(),x()}}),X.closeIcon),W&&e.createElement("progress",{className:"".concat(E,"-progress"),max:"100",value:J},J+"%"))}));const uw=gw;var dw=e.createContext({});const Iw=function(t){var n=t.children,o=t.classNames;return e.createElement(dw.Provider,{value:{classNames:o}},n)};const Cw=function(e){var t,n,o,r={offset:8,threshold:3,gap:16};e&&"object"===on(e)&&(r.offset=null!==(t=e.offset)&&void 0!==t?t:8,r.threshold=null!==(n=e.threshold)&&void 0!==n?n:3,r.gap=null!==(o=e.gap)&&void 0!==o?o:16);return[!!e,r]};var mw=["className","style","classNames","styles"];const hw=function(t){var n=t.configList,o=t.placement,r=t.prefixCls,a=t.className,i=t.style,l=t.motion,c=t.onAllNoticeRemoved,s=t.onNoticeClose,g=t.stack,u=(0,e.useContext)(dw).classNames,d=(0,e.useRef)({}),I=hv((0,e.useState)(null),2),C=I[0],m=I[1],h=hv((0,e.useState)([]),2),p=h[0],f=h[1],A=n.map((function(e){return{config:e,key:String(e.key)}})),b=hv(Cw(g),2),v=b[0],y=b[1],Z=y.offset,S=y.threshold,G=y.gap,B=v&&(p.length>0||A.length<=S),k="function"===typeof l?l(o):l;return(0,e.useEffect)((function(){v&&p.length>1&&f((function(e){return e.filter((function(e){return A.some((function(t){var n=t.key;return e===n}))}))}))}),[p,A,v]),(0,e.useEffect)((function(){var e,t;v&&d.current[null===(e=A[A.length-1])||void 0===e?void 0:e.key]&&m(d.current[null===(t=A[A.length-1])||void 0===t?void 0:t.key])}),[A,v]),e.createElement(zB,Ey({key:o,className:BG()(r,"".concat(r,"-").concat(o),null===u||void 0===u?void 0:u.list,a,an(an({},"".concat(r,"-stack"),!!v),"".concat(r,"-stack-expanded"),B)),style:i,keys:A,motionAppear:!0},k,{onAllRemoved:function(){c(o)}}),(function(t,n){var a=t.config,i=t.className,l=t.style,c=t.index,g=a,I=g.key,m=g.times,h=String(I),b=a,y=b.className,S=b.style,k=b.classNames,w=b.styles,R=JG(b,mw),V=A.findIndex((function(e){return e.key===h})),W={};if(v){var x=A.length-1-(V>-1?V:c-1),X="top"===o||"bottom"===o?"-50%":"0";if(x>0){var N,J,E;W.height=B?null===(N=d.current[h])||void 0===N?void 0:N.offsetHeight:null===C||void 0===C?void 0:C.offsetHeight;for(var H=0,Y=0;Y<x;Y++){var F;H+=(null===(F=d.current[A[A.length-1-Y].key])||void 0===F?void 0:F.offsetHeight)+G}var K=(B?H:x*Z)*(o.startsWith("top")?1:-1),M=!B&&null!==C&&void 0!==C&&C.offsetWidth&&null!==(J=d.current[h])&&void 0!==J&&J.offsetWidth?((null===C||void 0===C?void 0:C.offsetWidth)-2*Z*(x<3?x:3))/(null===(E=d.current[h])||void 0===E?void 0:E.offsetWidth):1;W.transform="translate3d(".concat(X,", ").concat(K,"px, 0) scaleX(").concat(M,")")}else W.transform="translate3d(".concat(X,", 0, 0)")}return e.createElement("div",{ref:n,className:BG()("".concat(r,"-notice-wrapper"),i,null===k||void 0===k?void 0:k.wrapper),style:cn(cn(cn({},l),W),null===w||void 0===w?void 0:w.wrapper),onMouseEnter:function(){return f((function(e){return e.includes(h)?e:[].concat(fv(e),[h])}))},onMouseLeave:function(){return f((function(e){return e.filter((function(e){return e!==h}))}))}},e.createElement(uw,Ey({},R,{ref:function(e){V>-1?d.current[h]=e:delete d.current[h]},prefixCls:r,classNames:k,styles:w,className:BG()(y,null===u||void 0===u?void 0:u.notice),style:S,times:m,key:I,eventKey:I,onNoticeClose:s,hovering:v&&p.length>0})))}))};var pw=e.forwardRef((function(t,n){var o=t.prefixCls,r=void 0===o?"rc-notification":o,a=t.container,l=t.motion,c=t.maxCount,s=t.className,g=t.style,u=t.onAllRemoved,d=t.stack,I=t.renderNotifications,C=hv(e.useState([]),2),m=C[0],h=C[1],p=function(e){var t,n=m.find((function(t){return t.key===e}));null===n||void 0===n||null===(t=n.onClose)||void 0===t||t.call(n),h((function(t){return t.filter((function(t){return t.key!==e}))}))};e.useImperativeHandle(n,(function(){return{open:function(e){h((function(t){var n,o=fv(t),r=o.findIndex((function(t){return t.key===e.key})),a=cn({},e);r>=0?(a.times=((null===(n=t[r])||void 0===n?void 0:n.times)||0)+1,o[r]=a):(a.times=0,o.push(a));return c>0&&o.length>c&&(o=o.slice(-c)),o}))},close:function(e){p(e)},destroy:function(){h([])}}}));var f=hv(e.useState({}),2),A=f[0],b=f[1];e.useEffect((function(){var e={};m.forEach((function(t){var n=t.placement,o=void 0===n?"topRight":n;o&&(e[o]=e[o]||[],e[o].push(t))})),Object.keys(A).forEach((function(t){e[t]=e[t]||[]})),b(e)}),[m]);var v=function(e){b((function(t){var n=cn({},t);return(n[e]||[]).length||delete n[e],n}))},y=e.useRef(!1);if(e.useEffect((function(){Object.keys(A).length>0?y.current=!0:y.current&&(null===u||void 0===u||u(),y.current=!1)}),[A]),!a)return null;var Z=Object.keys(A);return(0,i.createPortal)(e.createElement(e.Fragment,null,Z.map((function(t){var n=A[t],o=e.createElement(hw,{key:t,configList:n,placement:t,prefixCls:r,className:null===s||void 0===s?void 0:s(t),style:null===g||void 0===g?void 0:g(t),motion:l,onNoticeClose:p,onAllNoticeRemoved:v,stack:d});return I?I(o,{prefixCls:r,key:t}):o}))),a)}));const fw=pw;var Aw=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],bw=function(){return document.body},vw=0;function yw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getContainer,o=void 0===n?bw:n,r=t.motion,a=t.prefixCls,i=t.maxCount,l=t.className,c=t.style,s=t.onAllRemoved,g=t.stack,u=t.renderNotifications,d=JG(t,Aw),I=hv(e.useState(),2),C=I[0],m=I[1],h=e.useRef(),p=e.createElement(fw,{container:C,ref:h,prefixCls:a,motion:r,maxCount:i,className:l,style:c,onAllRemoved:s,stack:g,renderNotifications:u}),f=hv(e.useState([]),2),A=f[0],b=f[1],v=e.useMemo((function(){return{open:function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var o=t[n];void 0!==o&&(e[n]=o)}))})),e}(d,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(vw),vw+=1),b((function(e){return[].concat(fv(e),[{type:"open",config:t}])}))},close:function(e){b((function(t){return[].concat(fv(t),[{type:"close",key:e}])}))},destroy:function(){b((function(e){return[].concat(fv(e),[{type:"destroy"}])}))}}}),[]);return e.useEffect((function(){m(o())})),e.useEffect((function(){h.current&&A.length&&(A.forEach((function(e){switch(e.type){case"open":h.current.open(e.config);break;case"close":h.current.close(e.key);break;case"destroy":h.current.destroy()}})),b((function(e){return e.filter((function(e){return!A.includes(e)}))})))}),[A]),[v,p]}const Zw=e=>{const[,,,,t]=nk();return t?"".concat(e,"-css-var"):""};const Sw=e.createContext(void 0),Gw=100,Bw=1e3,kw={Modal:Gw,Drawer:Gw,Popover:Gw,Popconfirm:Gw,Tooltip:Gw,Tour:Gw},ww={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Rw(t,n){const[,o]=nk(),r=e.useContext(Sw),a=function(e){return e in kw}(t);if(void 0!==n)return[n,n];let i=null!==r&&void 0!==r?r:0;return a?(i+=(r?0:o.zIndexPopupBase)+kw[t],i=Math.min(i,o.zIndexPopupBase+Bw)):i+=ww[t],[void 0===r?n:i,i]}const Vw="undefined"!==typeof CSSINJS_STATISTIC;let Ww=!0;function xw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Vw)return Object.assign.apply(Object,[{}].concat(t));Ww=!1;const o={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),Ww=!0,o}const Xw={};function Nw(){}const Jw=e=>{let t,n=e,o=Nw;return Vw&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:(e,n)=>(Ww&&t.add(n),e[n])}),o=(e,n)=>{var o;Xw[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(o=Xw[e])||void 0===o?void 0:o.component),n)}}),{token:n,keys:t,flush:o}};function Ew(e,t,n){return t=MG(t),zG(e,LG()?Reflect.construct(t,n||[],MG(e).constructor):t.apply(e,n))}const Hw=Dv((function e(){Tv(this,e)})),Yw="CALC_UNIT",Fw=new RegExp(Yw,"g");function Kw(e){return"number"===typeof e?"".concat(e).concat(Yw):e}let Mw=function(e){function t(e){var n;return Tv(this,t),(n=Ew(this,t)).result="",e instanceof t?n.result="(".concat(e.result,")"):"number"===typeof e?n.result=Kw(e):"string"===typeof e&&(n.result=e),n}return KG(t,e),Dv(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(Kw(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(Kw(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){const{unit:t=!0}=e||{};return this.result=this.result.replace(Fw,t?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}])}(Hw),Lw=function(e){function t(e){var n;return Tv(this,t),(n=Ew(this,t)).result=0,e instanceof t?n.result=e.result:"number"===typeof e&&(n.result=e),n}return KG(t,e),Dv(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}])}(Hw);const Tw=e=>{const t="css"===e?Mw:Lw;return e=>new t(e)};const zw=(e,t,n)=>{var o;return"function"===typeof n?n(xw(t,null!==(o=t[e])&&void 0!==o?o:{})):null!==n&&void 0!==n?n:{}},Dw=(e,t,n,o)=>{const r=Object.assign({},t[e]);if(null===o||void 0===o?void 0:o.deprecatedTokens){const{deprecatedTokens:e}=o;e.forEach((e=>{let[t,n]=e;var o;((null===r||void 0===r?void 0:r[t])||(null===r||void 0===r?void 0:r[n]))&&(null!==(o=r[n])&&void 0!==o||(r[n]=null===r||void 0===r?void 0:r[t]))}))}const a=Object.assign(Object.assign({},n),r);return Object.keys(a).forEach((e=>{a[e]===t[e]&&delete a[e]})),a};function Ow(t,n,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=Array.isArray(t)?t:[t,t],[i]=a,l=a.join("-");return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const[c,s,g,u,d]=nk(),{getPrefixCls:I,iconPrefixCls:C,csp:m}=(0,e.useContext)(gv),h=I(),p=d?"css":"js",f=Tw(p),{max:A,min:b}=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((e=>Iy(e))).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((e=>Iy(e))).join(","),")")}}}(p),v={theme:c,token:u,hashId:g,nonce:()=>null===m||void 0===m?void 0:m.nonce,clientOnly:r.clientOnly,layer:{name:"antd"},order:r.order||-999};YZ(Object.assign(Object.assign({},v),{clientOnly:!1,path:["Shared",h]}),(()=>[{"&":lk(u)}])),uk(C,m);const y=YZ(Object.assign(Object.assign({},v),{path:[l,t,C]}),(()=>{if(!1===r.injectStyle)return[];const{token:e,flush:l}=Jw(u),c=zw(i,s,o),I=".".concat(t),m=Dw(i,s,c,{deprecatedTokens:r.deprecatedTokens});d&&Object.keys(c).forEach((e=>{c[e]="var(".concat(my(e,((e,t)=>"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")))(i,d.prefix)),")")}));const p=xw(e,{componentCls:I,prefixCls:t,iconCls:".".concat(C),antCls:".".concat(h),calc:f,max:A,min:b},d?c:m),v=n(p,{hashId:g,prefixCls:t,rootPrefixCls:h,iconPrefixCls:C});return l(i,m),[!1===r.resetStyle?null:ck(p,t,a,r.resetFont),v]}));return[y,g]}}const jw=(e,t,n,o)=>{const r=Ow(e,t,n,Object.assign({resetStyle:!1,order:-998},o));return e=>{let{prefixCls:t,rootCls:n=t}=e;return r(t,n),null}},Uw=(t,n,o,r)=>{const a=Ow(t,n,o,r),i=((t,n,o)=>{function r(e){return"".concat(t).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}const{unitless:a={},injectStyle:i=!0}=null!==o&&void 0!==o?o:{},l={[r("zIndexPopup")]:!0};Object.keys(a).forEach((e=>{l[r(e)]=a[e]}));const c=e=>{let{rootCls:a,cssVar:i}=e;const[,c]=nk();return KZ({path:[t],prefix:i.prefix,key:null===i||void 0===i?void 0:i.key,unitless:Object.assign(Object.assign({},qB),l),ignore:$B,token:c,scope:a},(()=>{const e=zw(t,c,n),a=Dw(t,c,e,{deprecatedTokens:null===o||void 0===o?void 0:o.deprecatedTokens});return Object.keys(e).forEach((e=>{a[r(e)]=a[e],delete a[e]})),a})),null};return n=>{const[,,,,o]=nk();return[r=>i&&o?e.createElement(e.Fragment,null,e.createElement(c,{rootCls:n,cssVar:o,component:t}),r):r,null===o||void 0===o?void 0:o.key]}})(Array.isArray(t)?t[0]:t,o,r);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[,n]=a(e,t),[o,r]=i(t);return[o,n,r]}},Pw=e=>{const{componentCls:t,notificationMarginEdge:n,animationMaxHeight:o}=e,r="".concat(t,"-notice"),a=new TZ("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),i=new TZ("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),l=new TZ("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),c=new TZ("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{["&".concat(t,"-top, &").concat(t,"-bottom")]:{marginInline:0,[r]:{marginInline:"auto auto"}},["&".concat(t,"-top")]:{["".concat(t,"-fade-enter").concat(t,"-fade-enter-active, ").concat(t,"-fade-appear").concat(t,"-fade-appear-active")]:{animationName:i}},["&".concat(t,"-bottom")]:{["".concat(t,"-fade-enter").concat(t,"-fade-enter-active, ").concat(t,"-fade-appear").concat(t,"-fade-appear-active")]:{animationName:l}},["&".concat(t,"-topRight, &").concat(t,"-bottomRight")]:{["".concat(t,"-fade-enter").concat(t,"-fade-enter-active, ").concat(t,"-fade-appear").concat(t,"-fade-appear-active")]:{animationName:a}},["&".concat(t,"-topLeft, &").concat(t,"-bottomLeft")]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[r]:{marginInlineEnd:"auto",marginInlineStart:0},["".concat(t,"-fade-enter").concat(t,"-fade-enter-active, ").concat(t,"-fade-appear").concat(t,"-fade-appear-active")]:{animationName:c}}}}},Qw=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],_w={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},qw=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t["&:nth-last-child(".concat(n+1,")")]={overflow:"hidden",["& > ".concat(e.componentCls,"-notice")]:{opacity:0,transition:"opacity ".concat(e.motionDurationMid)}};return Object.assign({["&:not(:nth-last-child(-n+".concat(e.notificationStackLayer,"))")]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},$w=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t["&:nth-last-child(".concat(n+1,")")]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)},eR=e=>{const{componentCls:t}=e;return Object.assign({["".concat(t,"-stack")]:{["& > ".concat(t,"-notice-wrapper")]:Object.assign({transition:"all ".concat(e.motionDurationSlow,", backdrop-filter 0s"),position:"absolute"},qw(e))},["".concat(t,"-stack:not(").concat(t,"-stack-expanded)")]:{["& > ".concat(t,"-notice-wrapper")]:Object.assign({},$w(e))},["".concat(t,"-stack").concat(t,"-stack-expanded")]:{["& > ".concat(t,"-notice-wrapper")]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",["& > ".concat(e.componentCls,"-notice")]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Qw.map((t=>((e,t)=>{const{componentCls:n}=e;return{["".concat(n,"-").concat(t)]:{["&".concat(n,"-stack > ").concat(n,"-notice-wrapper")]:{[t.startsWith("top")?"top":"bottom"]:0,[_w[t]]:{value:0,_skip_check_:!0}}}}})(e,t))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{}))},tR=e=>{const{iconCls:t,componentCls:n,boxShadow:o,fontSizeLG:r,notificationMarginBottom:a,borderRadiusLG:i,colorSuccess:l,colorInfo:c,colorWarning:s,colorError:g,colorTextHeading:u,notificationBg:d,notificationPadding:I,notificationMarginEdge:C,notificationProgressBg:m,notificationProgressHeight:h,fontSize:p,lineHeight:f,width:A,notificationIconSize:b,colorText:v}=e,y="".concat(n,"-notice");return{position:"relative",marginBottom:a,marginInlineStart:"auto",background:d,borderRadius:i,boxShadow:o,[y]:{padding:I,width:A,maxWidth:"calc(100vw - ".concat(Iy(e.calc(C).mul(2).equal()),")"),overflow:"hidden",lineHeight:f,wordWrap:"break-word"},["".concat(y,"-message")]:{marginBottom:e.marginXS,color:u,fontSize:r,lineHeight:e.lineHeightLG},["".concat(y,"-description")]:{fontSize:p,color:v},["".concat(y,"-closable ").concat(y,"-message")]:{paddingInlineEnd:e.paddingLG},["".concat(y,"-with-icon ").concat(y,"-message")]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(b).equal(),fontSize:r},["".concat(y,"-with-icon ").concat(y,"-description")]:{marginInlineStart:e.calc(e.marginSM).add(b).equal(),fontSize:p},["".concat(y,"-icon")]:{position:"absolute",fontSize:b,lineHeight:1,["&-success".concat(t)]:{color:l},["&-info".concat(t)]:{color:c},["&-warning".concat(t)]:{color:s},["&-error".concat(t)]:{color:g}},["".concat(y,"-close")]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:"background-color ".concat(e.motionDurationMid,", color ").concat(e.motionDurationMid),display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},gk(e)),["".concat(y,"-progress")]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:"calc(100% - ".concat(Iy(i)," * 2)"),left:{_skip_check_:!0,value:i},right:{_skip_check_:!0,value:i},bottom:0,blockSize:h,border:0,"&, &::-webkit-progress-bar":{borderRadius:i,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:m},"&::-webkit-progress-value":{borderRadius:i,background:m}},["".concat(y,"-btn")]:{float:"right",marginTop:e.marginSM}}},nR=e=>{const{componentCls:t,notificationMarginBottom:n,notificationMarginEdge:o,motionDurationMid:r,motionEaseInOut:a}=e,i="".concat(t,"-notice"),l=new TZ("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},ik(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},["".concat(t,"-hook-holder")]:{position:"relative"},["".concat(t,"-fade-appear-prepare")]:{opacity:"0 !important"},["".concat(t,"-fade-enter, ").concat(t,"-fade-appear")]:{animationDuration:e.motionDurationMid,animationTimingFunction:a,animationFillMode:"both",opacity:0,animationPlayState:"paused"},["".concat(t,"-fade-leave")]:{animationTimingFunction:a,animationFillMode:"both",animationDuration:r,animationPlayState:"paused"},["".concat(t,"-fade-enter").concat(t,"-fade-enter-active, ").concat(t,"-fade-appear").concat(t,"-fade-appear-active")]:{animationPlayState:"running"},["".concat(t,"-fade-leave").concat(t,"-fade-leave-active")]:{animationName:l,animationPlayState:"running"},"&-rtl":{direction:"rtl",["".concat(i,"-btn")]:{float:"left"}}})},{[t]:{["".concat(i,"-wrapper")]:Object.assign({},tR(e))}}]},oR=e=>({zIndexPopup:e.zIndexPopupBase+Bw+50,width:384}),rR=e=>{const t=e.paddingMD,n=e.paddingLG;return xw(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:"".concat(Iy(e.paddingMD)," ").concat(Iy(e.paddingContentHorizontalLG)),notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:"linear-gradient(90deg, ".concat(e.colorPrimaryBorderHover,", ").concat(e.colorPrimary,")")})},aR=Uw("Notification",(e=>{const t=rR(e);return[nR(t),Pw(t),eR(t)]}),oR),iR=jw(["Notification","PurePanel"],(e=>{const t="".concat(e.componentCls,"-notice"),n=rR(e);return{["".concat(t,"-pure-panel")]:Object.assign(Object.assign({},tR(n)),{width:n.width,maxWidth:"calc(100vw - ".concat(Iy(e.calc(n.notificationMarginEdge).mul(2).equal()),")"),margin:0})}}),oR);var lR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function cR(t,n){return null===n||!1===n?null:n||e.createElement(jk,{className:"".concat(t,"-close-icon")})}const sR={success:Mk,info:$k,error:zk,warning:Qk},gR=t=>{const{prefixCls:n,icon:o,type:r,message:a,description:i,btn:l,role:c="alert"}=t;let s=null;return o?s=e.createElement("span",{className:"".concat(n,"-icon")},o):r&&(s=e.createElement(sR[r]||null,{className:BG()("".concat(n,"-icon"),"".concat(n,"-icon-").concat(r))})),e.createElement("div",{className:BG()({["".concat(n,"-with-icon")]:s}),role:c},s,e.createElement("div",{className:"".concat(n,"-message")},a),e.createElement("div",{className:"".concat(n,"-description")},i),l&&e.createElement("div",{className:"".concat(n,"-btn")},l))},uR=t=>{const{prefixCls:n,className:o,icon:r,type:a,message:i,description:l,btn:c,closable:s=!0,closeIcon:g,className:u}=t,d=lR(t,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:I}=e.useContext(gv),C=n||I("notification"),m="".concat(C,"-notice"),h=Zw(C),[p,f,A]=aR(C,h);return p(e.createElement("div",{className:BG()("".concat(m,"-pure-panel"),f,o,A,h)},e.createElement(iR,{prefixCls:C}),e.createElement(uw,Object.assign({},d,{prefixCls:C,eventKey:"pure",duration:null,closable:s,className:BG()({notificationClassName:u}),closeIcon:cR(C,g),content:e.createElement(gR,{prefixCls:m,icon:r,type:a,message:i,description:l,btn:c})}))))};var dR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const IR="topRight",CR=t=>{let{children:n,prefixCls:o}=t;const r=Zw(o),[a,i,l]=aR(o,r);return a(e.createElement(Iw,{classNames:{list:BG()(i,l,r)}},n))},mR=(t,n)=>{let{prefixCls:o,key:r}=n;return e.createElement(CR,{prefixCls:o,key:r},t)},hR=e.forwardRef(((t,n)=>{const{top:o,bottom:r,prefixCls:a,getContainer:i,maxCount:l,rtl:c,onAllRemoved:s,stack:g,duration:u}=t,{getPrefixCls:d,getPopupContainer:I,notification:C,direction:m}=(0,e.useContext)(gv),[,h]=nk(),p=a||d("notification"),[f,A]=yw({prefixCls:p,style:e=>function(e,t,n){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n}}return o}(e,null!==o&&void 0!==o?o:24,null!==r&&void 0!==r?r:24),className:()=>BG()({["".concat(p,"-rtl")]:null!==c&&void 0!==c?c:"rtl"===m}),motion:()=>function(e){return{motionName:"".concat(e,"-fade")}}(p),closable:!0,closeIcon:cR(p),duration:null!==u&&void 0!==u?u:4.5,pauseOnHover:!0,getContainer:()=>(null===i||void 0===i?void 0:i())||(null===I||void 0===I?void 0:I())||document.body,maxCount:l,onAllRemoved:s,renderNotifications:mR,stack:!1!==g&&{threshold:"object"===typeof g?null===g||void 0===g?void 0:g.threshold:void 0,offset:8,gap:h.margin}});return e.useImperativeHandle(n,(()=>Object.assign(Object.assign({},f),{prefixCls:p,notification:C}))),A}));function pR(t){const n=e.useRef(null),o=(tS("Notification"),e.useMemo((()=>{const o=o=>{var r;if(!n.current)return;const{open:a,prefixCls:i,notification:l}=n.current,c="".concat(i,"-notice"),{message:s,description:g,icon:u,type:d,btn:I,className:C,style:m,role:h="alert",closeIcon:p,closable:f}=o,A=dR(o,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),b=cR(c,"undefined"!==typeof p?p:null===l||void 0===l?void 0:l.closeIcon);return a(Object.assign(Object.assign({placement:null!==(r=null===t||void 0===t?void 0:t.placement)&&void 0!==r?r:IR},A),{content:e.createElement(gR,{prefixCls:c,icon:u,type:d,message:s,description:g,btn:I,role:h}),className:BG()(d&&"".concat(c,"-").concat(d),C,null===l||void 0===l?void 0:l.className),style:Object.assign(Object.assign({},null===l||void 0===l?void 0:l.style),m),closeIcon:b,closable:null!==f&&void 0!==f?f:!!b}))},r={open:o,destroy:e=>{var t,o;void 0!==e?null===(t=n.current)||void 0===t||t.close(e):null===(o=n.current)||void 0===o||o.destroy()}};return["success","info","warning","error"].forEach((e=>{r[e]=t=>o(Object.assign(Object.assign({},t),{type:e}))})),r}),[]));return[o,e.createElement(hR,Object.assign({key:"notification-holder"},t,{ref:n}))]}let fR=null,AR=e=>e(),bR=[],vR={};function yR(){const{getContainer:e,rtl:t,maxCount:n,top:o,bottom:r}=vR,a=(null===e||void 0===e?void 0:e())||document.body;return{getContainer:()=>a,rtl:t,maxCount:n,top:o,bottom:r}}const ZR=e.forwardRef(((t,n)=>{const{notificationConfig:o,sync:r}=t,{getPrefixCls:a}=(0,e.useContext)(gv),i=vR.prefixCls||a("notification"),l=(0,e.useContext)(cv),[c,s]=pR(Object.assign(Object.assign(Object.assign({},o),{prefixCls:i}),l.notification));return e.useEffect(r,[]),e.useImperativeHandle(n,(()=>{const e=Object.assign({},c);return Object.keys(e).forEach((t=>{e[t]=function(){return r(),c[t].apply(c,arguments)}})),{instance:e,sync:r}})),s})),SR=e.forwardRef(((t,n)=>{const[o,r]=e.useState(yR),a=()=>{r(yR)};e.useEffect(a,[]);const i=bk(),l=i.getRootPrefixCls(),c=i.getIconPrefixCls(),s=i.getTheme(),g=e.createElement(ZR,{ref:n,sync:a,notificationConfig:o});return e.createElement(Zk,{prefixCls:l,iconPrefixCls:c,theme:s},i.holderRender?i.holderRender(g):g)}));function GR(){if(!fR){const t=document.createDocumentFragment(),n={fragment:t};return fR=n,void AR((()=>{nv(e.createElement(SR,{ref:e=>{const{instance:t,sync:o}=e||{};Promise.resolve().then((()=>{!n.instance&&t&&(n.instance=t,n.sync=o,GR())}))}}),t)}))}fR.instance&&(bR.forEach((e=>{switch(e.type){case"open":AR((()=>{fR.instance.open(Object.assign(Object.assign({},vR),e.config))}));break;case"destroy":AR((()=>{null===fR||void 0===fR||fR.instance.destroy(e.key)}))}})),bR=[])}function BR(e){bk();bR.push({type:"open",config:e}),GR()}const kR={open:BR,destroy:e=>{bR.push({type:"destroy",key:e}),GR()},config:function(e){vR=Object.assign(Object.assign({},vR),e),AR((()=>{var e;null===(e=null===fR||void 0===fR?void 0:fR.sync)||void 0===e||e.call(fR)}))},useNotification:function(e){return pR(e)},_InternalPanelDoNotUseOrYouWillBeFired:uR},wR=kR;["success","info","warning","error"].forEach((e=>{wR[e]=t=>BR(Object.assign(Object.assign({},t),{type:e}))}));const RR=wR;const VR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var WR=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:VR}))};const xR=e.forwardRef(WR);const XR=e.createContext(null);var NR,JR=[];function ER(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var o,r,a=n.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var i=getComputedStyle(e);a.scrollbarColor=i.scrollbarColor,a.scrollbarWidth=i.scrollbarWidth;var l=getComputedStyle(e,"::-webkit-scrollbar"),c=parseInt(l.width,10),s=parseInt(l.height,10);try{var g=c?"width: ".concat(l.width,";"):"",u=s?"height: ".concat(l.height,";"):"";xv("\n#".concat(t,"::-webkit-scrollbar {\n").concat(g,"\n").concat(u,"\n}"),t)}catch(Tie){console.error(Tie),o=c,r=s}}document.body.appendChild(n);var d=e&&o&&!isNaN(o)?o:n.offsetWidth-n.clientWidth,I=e&&r&&!isNaN(r)?r:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Wv(t),{width:d,height:I}}function HR(e){return"undefined"===typeof document?0:((e||void 0===NR)&&(NR=ER()),NR.width)}function YR(e){return"undefined"!==typeof document&&e&&e instanceof Element?ER(e):{width:0,height:0}}var FR="rc-util-locker-".concat(Date.now()),KR=0;function MR(t){var n=!!t,o=hv(e.useState((function(){return KR+=1,"".concat(FR,"_").concat(KR)})),1)[0];vy((function(){if(n){var e=YR(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;xv("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),o)}else Wv(o);return function(){Wv(o)}}),[n,o])}var LR=!1;var TR=function(e){return!1!==e&&(bv()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},zR=e.forwardRef((function(t,n){var o=t.open,r=t.autoLock,a=t.getContainer,l=(t.debug,t.autoDestroy),c=void 0===l||l,s=t.children,g=hv(e.useState(o),2),u=g[0],d=g[1],I=u||o;e.useEffect((function(){(c||o)&&d(o)}),[o,c]);var C=hv(e.useState((function(){return TR(a)})),2),m=C[0],h=C[1];e.useEffect((function(){var e=TR(a);h(null!==e&&void 0!==e?e:null)}));var p=function(t,n){var o=hv(e.useState((function(){return bv()?document.createElement("div"):null})),1)[0],r=e.useRef(!1),a=e.useContext(XR),i=hv(e.useState(JR),2),l=i[0],c=i[1],s=a||(r.current?void 0:function(e){c((function(t){return[e].concat(fv(t))}))});function g(){o.parentElement||document.body.appendChild(o),r.current=!0}function u(){var e;null===(e=o.parentElement)||void 0===e||e.removeChild(o),r.current=!1}return vy((function(){return t?a?a(g):g():u(),u}),[t]),vy((function(){l.length&&(l.forEach((function(e){return e()})),c(JR))}),[l]),[o,s]}(I&&!m),f=hv(p,2),A=f[0],b=f[1],v=null!==m&&void 0!==m?m:A;MR(r&&o&&bv()&&(v===A||v===document.body));var y=null;s&&XG(s)&&n&&(y=s.ref);var Z=xG(y,n);if(!I||!bv()||void 0===m)return null;var S,G=!1===v||("boolean"===typeof S&&(LR=S),LR),B=s;return n&&(B=e.cloneElement(s,{ref:Z})),e.createElement(XR.Provider,{value:b},G?B:(0,i.createPortal)(B,v))}));const DR=zR;function OR(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?o=o.concat(OR(e)):(0,b.isFragment)(e)&&e.props?o=o.concat(OR(e.props.children,n)):o.push(e))})),o}var jR=e.createContext(null);var UR=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),PR="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,QR="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),_R="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(QR):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var qR=["top","right","bottom","left","width","height","size","weight"],$R="undefined"!==typeof MutationObserver,eV=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,r=0;function a(){n&&(n=!1,e()),o&&l()}function i(){_R(a)}function l(){var e=Date.now();if(n){if(e-r<2)return;o=!0}else n=!0,o=!1,setTimeout(i,t);r=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){PR&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$R?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){PR&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;qR.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),tV=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},nV=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||QR},oV=sV(0,0,0,0);function rV(e){return parseFloat(e)||0}function aV(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+rV(e["border-"+n+"-width"])}),0)}function iV(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return oV;var o=nV(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],a=e["padding-"+r];t[r]=rV(a)}return t}(o),a=r.left+r.right,i=r.top+r.bottom,l=rV(o.width),c=rV(o.height);if("border-box"===o.boxSizing&&(Math.round(l+a)!==t&&(l-=aV(o,"left","right")+a),Math.round(c+i)!==n&&(c-=aV(o,"top","bottom")+i)),!function(e){return e===nV(e).document.documentElement}(e)){var s=Math.round(l+a)-t,g=Math.round(c+i)-n;1!==Math.abs(s)&&(l-=s),1!==Math.abs(g)&&(c-=g)}return sV(r.left,r.top,l,c)}var lV="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof nV(e).SVGGraphicsElement}:function(e){return e instanceof nV(e).SVGElement&&"function"===typeof e.getBBox};function cV(e){return PR?lV(e)?function(e){var t=e.getBBox();return sV(0,0,t.width,t.height)}(e):iV(e):oV}function sV(e,t,n,o){return{x:e,y:t,width:n,height:o}}var gV=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sV(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=cV(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),uV=function(e,t){var n=function(e){var t=e.x,n=e.y,o=e.width,r=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return tV(i,{x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:r+n,left:t}),i}(t);tV(this,{target:e,contentRect:n})},dV=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new UR,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof nV(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new gV(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof nV(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new uV(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),IV="undefined"!==typeof WeakMap?new WeakMap:new UR,CV=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=eV.getInstance(),o=new dV(t,n,this);IV.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){CV.prototype[e]=function(){var t;return(t=IV.get(this))[e].apply(t,arguments)}}));const mV="undefined"!==typeof QR.ResizeObserver?QR.ResizeObserver:CV;var hV=new Map;var pV=new mV((function(e){e.forEach((function(e){var t,n=e.target;null===(t=hV.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var fV=function(e){KG(n,e);var t=DG(n);function n(){return Tv(this,n),t.apply(this,arguments)}return Dv(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component);function AV(t,n){var o=t.children,r=t.disabled,a=e.useRef(null),i=e.useRef(null),l=e.useContext(jR),c="function"===typeof o,s=c?o(a):o,g=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!c&&e.isValidElement(s)&&XG(s),d=u?s.ref:null,I=xG(d,a),C=function(){var e;return RG(a.current)||(a.current&&"object"===on(a.current)?RG(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||RG(i.current)};e.useImperativeHandle(n,(function(){return C()}));var m=e.useRef(t);m.current=t;var h=e.useCallback((function(e){var t=m.current,n=t.onResize,o=t.data,r=e.getBoundingClientRect(),a=r.width,i=r.height,c=e.offsetWidth,s=e.offsetHeight,u=Math.floor(a),d=Math.floor(i);if(g.current.width!==u||g.current.height!==d||g.current.offsetWidth!==c||g.current.offsetHeight!==s){var I={width:u,height:d,offsetWidth:c,offsetHeight:s};g.current=I;var C=c===Math.round(a)?a:c,h=s===Math.round(i)?i:s,p=cn(cn({},I),{},{offsetWidth:C,offsetHeight:h});null===l||void 0===l||l(p,e,o),n&&Promise.resolve().then((function(){n(p,e)}))}}),[]);return e.useEffect((function(){var e=C();return e&&!r&&function(e,t){hV.has(e)||(hV.set(e,new Set),pV.observe(e)),hV.get(e).add(t)}(e,h),function(){return function(e,t){hV.has(e)&&(hV.get(e).delete(t),hV.get(e).size||(pV.unobserve(e),hV.delete(e)))}(e,h)}}),[a.current,r]),e.createElement(fV,{ref:i},u?e.cloneElement(s,{ref:I}):s)}const bV=e.forwardRef(AV);function vV(t,n){var o=t.children;return("function"===typeof o?[o]:OR(o)).map((function(o,r){var a=(null===o||void 0===o?void 0:o.key)||"".concat("rc-observer-key","-").concat(r);return e.createElement(bV,Ey({},t,{key:a,ref:0===r?n:void 0}),o)}))}var yV=e.forwardRef(vV);yV.Collection=function(t){var n=t.children,o=t.onBatchResize,r=e.useRef(0),a=e.useRef([]),i=e.useContext(jR),l=e.useCallback((function(e,t,n){r.current+=1;var l=r.current;a.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){l===r.current&&(null===o||void 0===o||o(a.current),a.current=[])})),null===i||void 0===i||i(e,t,n)}),[o,i]);return e.createElement(jR.Provider,{value:l},n)};const ZV=yV;var SV=0;var GV=cn({},t).useId;const BV=GV?function(e){var t=GV();return e||t}:function(t){var n=hv(e.useState("ssr-id"),2),o=n[0],r=n[1];return e.useEffect((function(){var e=SV;SV+=1,r("rc_unique_".concat(e))}),[]),t||o},kV=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function wV(t){var n=t.prefixCls,o=t.align,r=t.arrow,a=t.arrowPos,i=r||{},l=i.className,c=i.content,s=a.x,g=void 0===s?0:s,u=a.y,d=void 0===u?0:u,I=e.useRef();if(!o||!o.points)return null;var C={position:"absolute"};if(!1!==o.autoArrow){var m=o.points[0],h=o.points[1],p=m[0],f=m[1],A=h[0],b=h[1];p!==A&&["t","b"].includes(p)?"t"===p?C.top=0:C.bottom=0:C.top=d,f!==b&&["l","r"].includes(f)?"l"===f?C.left=0:C.right=0:C.left=g}return e.createElement("div",{ref:I,className:BG()("".concat(n,"-arrow"),l),style:C},c)}function RV(t){var n=t.prefixCls,o=t.open,r=t.zIndex,a=t.mask,i=t.motion;return a?e.createElement(DB,Ey({},i,{motionAppear:!0,visible:o,removeOnLeave:!0}),(function(t){var o=t.className;return e.createElement("div",{style:{zIndex:r},className:BG()("".concat(n,"-mask"),o)})})):null}var VV=e.memo((function(e){return e.children}),(function(e,t){return t.cache}));const WV=VV;var xV=e.forwardRef((function(t,n){var o=t.popup,r=t.className,a=t.prefixCls,i=t.style,l=t.target,c=t.onVisibleChanged,s=t.open,g=t.keepDom,u=t.fresh,d=t.onClick,I=t.mask,C=t.arrow,m=t.arrowPos,h=t.align,p=t.motion,f=t.maskMotion,A=t.forceRender,b=t.getPopupContainer,v=t.autoDestroy,y=t.portal,Z=t.zIndex,S=t.onMouseEnter,G=t.onMouseLeave,B=t.onPointerEnter,k=t.ready,w=t.offsetX,R=t.offsetY,V=t.offsetR,W=t.offsetB,x=t.onAlign,X=t.onPrepare,N=t.stretch,J=t.targetWidth,E=t.targetHeight,H="function"===typeof o?o():o,Y=s||g,F=(null===b||void 0===b?void 0:b.length)>0,K=hv(e.useState(!b||!F),2),M=K[0],L=K[1];if(vy((function(){!M&&F&&l&&L(!0)}),[M,F,l]),!M)return null;var T="auto",z={left:"-1000vw",top:"-1000vh",right:T,bottom:T};if(k||!s){var D,O=h.points,j=h.dynamicInset||(null===(D=h._experimental)||void 0===D?void 0:D.dynamicInset),U=j&&"r"===O[0][1],P=j&&"b"===O[0][0];U?(z.right=V,z.left=T):(z.left=w,z.right=T),P?(z.bottom=W,z.top=T):(z.top=R,z.bottom=T)}var Q={};return N&&(N.includes("height")&&E?Q.height=E:N.includes("minHeight")&&E&&(Q.minHeight=E),N.includes("width")&&J?Q.width=J:N.includes("minWidth")&&J&&(Q.minWidth=J)),s||(Q.pointerEvents="none"),e.createElement(y,{open:A||Y,getContainer:b&&function(){return b(l)},autoDestroy:v},e.createElement(RV,{prefixCls:a,open:s,zIndex:Z,mask:I,motion:f}),e.createElement(ZV,{onResize:x,disabled:!s},(function(t){return e.createElement(DB,Ey({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(a,"-hidden")},p,{onAppearPrepare:X,onEnterPrepare:X,visible:s,onVisibleChanged:function(e){var t;null===p||void 0===p||null===(t=p.onVisibleChanged)||void 0===t||t.call(p,e),c(e)}}),(function(o,l){var c=o.className,g=o.style,I=BG()(a,c,r);return e.createElement("div",{ref:WG(t,n,l),className:I,style:cn(cn(cn(cn({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},z),Q),g),{},{boxSizing:"border-box",zIndex:Z},i),onMouseEnter:S,onMouseLeave:G,onPointerEnter:B,onClick:d},C&&e.createElement(wV,{prefixCls:a,arrow:C,arrowPos:m,align:h}),e.createElement(WV,{cache:!s&&!u},H))}))})))}));const XV=xV;var NV=e.forwardRef((function(t,n){var o=t.children,r=t.getTriggerDOMNode,a=XG(o),i=e.useCallback((function(e){VG(n,r?r(e):e)}),[r]),l=xG(i,o.ref);return a?e.cloneElement(o,{ref:l}):o}));const JV=NV;const EV=e.createContext(null);function HV(e){return e?Array.isArray(e)?e:[e]:[]}const YV=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,o=t.height;if(n||o)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),a=r.width,i=r.height;if(a||i)return!0}}return!1};function FV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function KV(e,t,n,o){return t||(n?{motionName:"".concat(e,"-").concat(n)}:o?{motionName:o}:null)}function MV(e){return e.ownerDocument.defaultView}function LV(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];n;){var r=MV(n).getComputedStyle(n);[r.overflowX,r.overflowY,r.overflow].some((function(e){return o.includes(e)}))&&t.push(n),n=n.parentElement}return t}function TV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function zV(e){return TV(parseFloat(e),0)}function DV(e,t){var n=cn({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=MV(e).getComputedStyle(e),o=t.overflow,r=t.overflowClipMargin,a=t.borderTopWidth,i=t.borderBottomWidth,l=t.borderLeftWidth,c=t.borderRightWidth,s=e.getBoundingClientRect(),g=e.offsetHeight,u=e.clientHeight,d=e.offsetWidth,I=e.clientWidth,C=zV(a),m=zV(i),h=zV(l),p=zV(c),f=TV(Math.round(s.width/d*1e3)/1e3),A=TV(Math.round(s.height/g*1e3)/1e3),b=(d-I-h-p)*f,v=(g-u-C-m)*A,y=C*A,Z=m*A,S=h*f,G=p*f,B=0,k=0;if("clip"===o){var w=zV(r);B=w*f,k=w*A}var R=s.x+S-B,V=s.y+y-k,W=R+s.width+2*B-S-G-b,x=V+s.height+2*k-y-Z-v;n.left=Math.max(n.left,R),n.top=Math.max(n.top,V),n.right=Math.min(n.right,W),n.bottom=Math.min(n.bottom,x)}})),n}function OV(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function jV(e,t){var n=hv(t||[],2),o=n[0],r=n[1];return[OV(e.width,o),OV(e.height,r)]}function UV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function PV(e,t){var n,o=t[0],r=t[1];return n="t"===o?e.y:"b"===o?e.y+e.height:e.y+e.height/2,{x:"l"===r?e.x:"r"===r?e.x+e.width:e.x+e.width/2,y:n}}function QV(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,o){return o===t?n[e]||"c":e})).join("")}var _V=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const qV=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DR,n=e.forwardRef((function(n,o){var r=n.prefixCls,a=void 0===r?"rc-trigger-popup":r,i=n.children,l=n.action,c=void 0===l?"hover":l,s=n.showAction,g=n.hideAction,u=n.popupVisible,d=n.defaultPopupVisible,I=n.onPopupVisibleChange,C=n.afterPopupVisibleChange,m=n.mouseEnterDelay,h=n.mouseLeaveDelay,p=void 0===h?.1:h,f=n.focusDelay,A=n.blurDelay,b=n.mask,v=n.maskClosable,y=void 0===v||v,Z=n.getPopupContainer,S=n.forceRender,G=n.autoDestroy,B=n.destroyPopupOnHide,k=n.popup,w=n.popupClassName,R=n.popupStyle,V=n.popupPlacement,W=n.builtinPlacements,x=void 0===W?{}:W,X=n.popupAlign,N=n.zIndex,J=n.stretch,E=n.getPopupClassNameFromAlign,H=n.fresh,Y=n.alignPoint,F=n.onPopupClick,K=n.onPopupAlign,M=n.arrow,L=n.popupMotion,T=n.maskMotion,z=n.popupTransitionName,D=n.popupAnimation,O=n.maskTransitionName,j=n.maskAnimation,U=n.className,P=n.getTriggerDOMNode,Q=JG(n,_V),_=G||B||!1,q=hv(e.useState(!1),2),$=q[0],ee=q[1];vy((function(){ee(kV())}),[]);var te=e.useRef({}),ne=e.useContext(EV),oe=e.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}}),[ne]),re=BV(),ae=hv(e.useState(null),2),ie=ae[0],le=ae[1],ce=e.useRef(null),se=jG((function(e){ce.current=e,kG(e)&&ie!==e&&le(e),null===ne||void 0===ne||ne.registerSubPopup(re,e)})),ge=hv(e.useState(null),2),ue=ge[0],de=ge[1],Ie=e.useRef(null),Ce=jG((function(e){kG(e)&&ue!==e&&(de(e),Ie.current=e)})),me=e.Children.only(i),he=(null===me||void 0===me?void 0:me.props)||{},pe={},fe=jG((function(e){var t,n,o=ue;return(null===o||void 0===o?void 0:o.contains(e))||(null===(t=Bk(o))||void 0===t?void 0:t.host)===e||e===o||(null===ie||void 0===ie?void 0:ie.contains(e))||(null===(n=Bk(ie))||void 0===n?void 0:n.host)===e||e===ie||Object.values(te.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),Ae=KV(a,L,D,z),be=KV(a,T,j,O),ve=hv(e.useState(d||!1),2),ye=ve[0],Ze=ve[1],Se=null!==u&&void 0!==u?u:ye,Ge=jG((function(e){void 0===u&&Ze(e)}));vy((function(){Ze(u||!1)}),[u]);var Be=e.useRef(Se);Be.current=Se;var ke=e.useRef([]);ke.current=[];var we=jG((function(e){var t;Ge(e),(null!==(t=ke.current[ke.current.length-1])&&void 0!==t?t:Se)!==e&&(ke.current.push(e),null===I||void 0===I||I(e))})),Re=e.useRef(),Ve=function(){clearTimeout(Re.current)},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ve(),0===t?we(e):Re.current=setTimeout((function(){we(e)}),1e3*t)};e.useEffect((function(){return Ve}),[]);var xe=hv(e.useState(!1),2),Xe=xe[0],Ne=xe[1];vy((function(e){e&&!Se||Ne(!0)}),[Se]);var Je=hv(e.useState(null),2),Ee=Je[0],He=Je[1],Ye=hv(e.useState([0,0]),2),Fe=Ye[0],Ke=Ye[1],Me=function(e){Ke([e.clientX,e.clientY])},Le=function(t,n,o,r,a,i,l){var c=hv(e.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),2),s=c[0],g=c[1],u=e.useRef(0),d=e.useMemo((function(){return n?LV(n):[]}),[n]),I=e.useRef({});t||(I.current={});var C=jG((function(){if(n&&o&&t){var e,c,s,u=n,C=u.ownerDocument,m=MV(u).getComputedStyle(u),h=m.width,p=m.height,f=m.position,A=u.style.left,b=u.style.top,v=u.style.right,y=u.style.bottom,Z=u.style.overflow,S=cn(cn({},a[r]),i),G=C.createElement("div");if(null===(e=u.parentElement)||void 0===e||e.appendChild(G),G.style.left="".concat(u.offsetLeft,"px"),G.style.top="".concat(u.offsetTop,"px"),G.style.position=f,G.style.height="".concat(u.offsetHeight,"px"),G.style.width="".concat(u.offsetWidth,"px"),u.style.left="0",u.style.top="0",u.style.right="auto",u.style.bottom="auto",u.style.overflow="hidden",Array.isArray(o))s={x:o[0],y:o[1],width:0,height:0};else{var B=o.getBoundingClientRect();s={x:B.x,y:B.y,width:B.width,height:B.height}}var k=u.getBoundingClientRect(),w=C.documentElement,R=w.clientWidth,V=w.clientHeight,W=w.scrollWidth,x=w.scrollHeight,X=w.scrollTop,N=w.scrollLeft,J=k.height,E=k.width,H=s.height,Y=s.width,F={left:0,top:0,right:R,bottom:V},K={left:-N,top:-X,right:W-N,bottom:x-X},M=S.htmlRegion,L="visible",T="visibleFirst";"scroll"!==M&&M!==T&&(M=L);var z=M===T,D=DV(K,d),O=DV(F,d),j=M===L?O:D,U=z?O:j;u.style.left="auto",u.style.top="auto",u.style.right="0",u.style.bottom="0";var P=u.getBoundingClientRect();u.style.left=A,u.style.top=b,u.style.right=v,u.style.bottom=y,u.style.overflow=Z,null===(c=u.parentElement)||void 0===c||c.removeChild(G);var Q=TV(Math.round(E/parseFloat(h)*1e3)/1e3),_=TV(Math.round(J/parseFloat(p)*1e3)/1e3);if(0===Q||0===_||kG(o)&&!YV(o))return;var q=S.offset,$=S.targetOffset,ee=hv(jV(k,q),2),te=ee[0],ne=ee[1],oe=hv(jV(s,$),2),re=oe[0],ae=oe[1];s.x-=re,s.y-=ae;var ie=hv(S.points||[],2),le=ie[0],ce=UV(ie[1]),se=UV(le),ge=PV(s,ce),ue=PV(k,se),de=cn({},S),Ie=ge.x-ue.x+te,Ce=ge.y-ue.y+ne;function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j,o=k.x+e,r=k.y+t,a=o+E,i=r+J,l=Math.max(o,n.left),c=Math.max(r,n.top),s=Math.min(a,n.right),g=Math.min(i,n.bottom);return Math.max(0,(s-l)*(g-c))}var me,he,pe,fe,Ae=lt(Ie,Ce),be=lt(Ie,Ce,O),ve=PV(s,["t","l"]),ye=PV(k,["t","l"]),Ze=PV(s,["b","r"]),Se=PV(k,["b","r"]),Ge=S.overflow||{},Be=Ge.adjustX,ke=Ge.adjustY,we=Ge.shiftX,Re=Ge.shiftY,Ve=function(e){return"boolean"===typeof e?e:e>=0};function ct(){me=k.y+Ce,he=me+J,pe=k.x+Ie,fe=pe+E}ct();var We=Ve(ke),xe=se[0]===ce[0];if(We&&"t"===se[0]&&(he>U.bottom||I.current.bt)){var Xe=Ce;xe?Xe-=J-H:Xe=ve.y-Se.y-ne;var Ne=lt(Ie,Xe),Je=lt(Ie,Xe,O);Ne>Ae||Ne===Ae&&(!z||Je>=be)?(I.current.bt=!0,Ce=Xe,ne=-ne,de.points=[QV(se,0),QV(ce,0)]):I.current.bt=!1}if(We&&"b"===se[0]&&(me<U.top||I.current.tb)){var Ee=Ce;xe?Ee+=J-H:Ee=Ze.y-ye.y-ne;var He=lt(Ie,Ee),Ye=lt(Ie,Ee,O);He>Ae||He===Ae&&(!z||Ye>=be)?(I.current.tb=!0,Ce=Ee,ne=-ne,de.points=[QV(se,0),QV(ce,0)]):I.current.tb=!1}var Fe=Ve(Be),Ke=se[1]===ce[1];if(Fe&&"l"===se[1]&&(fe>U.right||I.current.rl)){var Me=Ie;Ke?Me-=E-Y:Me=ve.x-Se.x-te;var Le=lt(Me,Ce),Te=lt(Me,Ce,O);Le>Ae||Le===Ae&&(!z||Te>=be)?(I.current.rl=!0,Ie=Me,te=-te,de.points=[QV(se,1),QV(ce,1)]):I.current.rl=!1}if(Fe&&"r"===se[1]&&(pe<U.left||I.current.lr)){var ze=Ie;Ke?ze+=E-Y:ze=Ze.x-ye.x-te;var De=lt(ze,Ce),Oe=lt(ze,Ce,O);De>Ae||De===Ae&&(!z||Oe>=be)?(I.current.lr=!0,Ie=ze,te=-te,de.points=[QV(se,1),QV(ce,1)]):I.current.lr=!1}ct();var je=!0===we?0:we;"number"===typeof je&&(pe<O.left&&(Ie-=pe-O.left-te,s.x+Y<O.left+je&&(Ie+=s.x-O.left+Y-je)),fe>O.right&&(Ie-=fe-O.right-te,s.x>O.right-je&&(Ie+=s.x-O.right+je)));var Ue=!0===Re?0:Re;"number"===typeof Ue&&(me<O.top&&(Ce-=me-O.top-ne,s.y+H<O.top+Ue&&(Ce+=s.y-O.top+H-Ue)),he>O.bottom&&(Ce-=he-O.bottom-ne,s.y>O.bottom-Ue&&(Ce+=s.y-O.bottom+Ue)));var Pe=k.x+Ie,Qe=Pe+E,_e=k.y+Ce,qe=_e+J,$e=s.x,et=$e+Y,tt=s.y,nt=tt+H,ot=(Math.max(Pe,$e)+Math.min(Qe,et))/2-Pe,rt=(Math.max(_e,tt)+Math.min(qe,nt))/2-_e;null===l||void 0===l||l(n,de);var at=P.right-k.x-(Ie+k.width),it=P.bottom-k.y-(Ce+k.height);1===Q&&(Ie=Math.round(Ie),at=Math.round(at)),1===_&&(Ce=Math.round(Ce),it=Math.round(it)),g({ready:!0,offsetX:Ie/Q,offsetY:Ce/_,offsetR:at/Q,offsetB:it/_,arrowX:ot/Q,arrowY:rt/_,scaleX:Q,scaleY:_,align:de})}})),m=function(){g((function(e){return cn(cn({},e),{},{ready:!1})}))};return vy(m,[r]),vy((function(){t||m()}),[t]),[s.ready,s.offsetX,s.offsetY,s.offsetR,s.offsetB,s.arrowX,s.arrowY,s.scaleX,s.scaleY,s.align,function(){u.current+=1;var e=u.current;Promise.resolve().then((function(){u.current===e&&C()}))}]}(Se,ie,Y?Fe:ue,V,x,X,K),Te=hv(Le,11),ze=Te[0],De=Te[1],Oe=Te[2],je=Te[3],Ue=Te[4],Pe=Te[5],Qe=Te[6],_e=Te[7],qe=Te[8],$e=Te[9],et=Te[10],tt=function(t,n,o,r){return e.useMemo((function(){var e=HV(null!==o&&void 0!==o?o:n),a=HV(null!==r&&void 0!==r?r:n),i=new Set(e),l=new Set(a);return t&&(i.has("hover")&&(i.delete("hover"),i.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[i,l]}),[t,n,o,r])}($,c,s,g),nt=hv(tt,2),ot=nt[0],rt=nt[1],at=ot.has("click"),it=rt.has("click")||rt.has("contextMenu"),lt=jG((function(){Xe||et()}));!function(e,t,n,o,r){vy((function(){if(e&&t&&n){var a=n,i=LV(t),l=LV(a),c=MV(a),s=new Set([c].concat(fv(i),fv(l)));function g(){o(),r()}return s.forEach((function(e){e.addEventListener("scroll",g,{passive:!0})})),c.addEventListener("resize",g,{passive:!0}),o(),function(){s.forEach((function(e){e.removeEventListener("scroll",g),c.removeEventListener("resize",g)}))}}}),[e,t,n])}(Se,ue,ie,lt,(function(){Be.current&&Y&&it&&We(!1)})),vy((function(){lt()}),[Fe,V]),vy((function(){!Se||null!==x&&void 0!==x&&x[V]||lt()}),[JSON.stringify(X)]);var ct=e.useMemo((function(){var e=function(e,t,n,o){for(var r=n.points,a=Object.keys(e),i=0;i<a.length;i+=1){var l,c=a[i];if(FV(null===(l=e[c])||void 0===l?void 0:l.points,r,o))return"".concat(t,"-placement-").concat(c)}return""}(x,a,$e,Y);return BG()(e,null===E||void 0===E?void 0:E($e))}),[$e,E,x,a,Y]);e.useImperativeHandle(o,(function(){return{nativeElement:Ie.current,popupElement:ce.current,forceAlign:lt}}));var st=hv(e.useState(0),2),gt=st[0],ut=st[1],dt=hv(e.useState(0),2),It=dt[0],Ct=dt[1],mt=function(){if(J&&ue){var e=ue.getBoundingClientRect();ut(e.width),Ct(e.height)}};function ht(e,t,n,o){pe[e]=function(r){var a;null===o||void 0===o||o(r),We(t,n);for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];null===(a=he[e])||void 0===a||a.call.apply(a,[he,r].concat(l))}}vy((function(){Ee&&(et(),Ee(),He(null))}),[Ee]),(at||it)&&(pe.onClick=function(e){var t;Be.current&&it?We(!1):!Be.current&&at&&(Me(e),We(!0));for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=he.onClick)||void 0===t||t.call.apply(t,[he,e].concat(o))}),function(t,n,o,r,a,i,l,c){var s=e.useRef(t);s.current=t,e.useEffect((function(){if(n&&r&&(!a||i)){var e=function(e){var t=e.target;s.current&&!l(t)&&c(!1)},t=MV(r);t.addEventListener("mousedown",e,!0),t.addEventListener("contextmenu",e,!0);var g=Bk(o);return g&&(g.addEventListener("mousedown",e,!0),g.addEventListener("contextmenu",e,!0)),function(){t.removeEventListener("mousedown",e,!0),t.removeEventListener("contextmenu",e,!0),g&&(g.removeEventListener("mousedown",e,!0),g.removeEventListener("contextmenu",e,!0))}}}),[n,o,r,a,i])}(Se,it,ue,ie,b,y,fe,We);var pt,ft,At=ot.has("hover"),bt=rt.has("hover");At&&(ht("onMouseEnter",!0,m,(function(e){Me(e)})),ht("onPointerEnter",!0,m,(function(e){Me(e)})),pt=function(e){(Se||Xe)&&null!==ie&&void 0!==ie&&ie.contains(e.target)&&We(!0,m)},Y&&(pe.onMouseMove=function(e){var t;null===(t=he.onMouseMove)||void 0===t||t.call(he,e)})),bt&&(ht("onMouseLeave",!1,p),ht("onPointerLeave",!1,p),ft=function(){We(!1,p)}),ot.has("focus")&&ht("onFocus",!0,f),rt.has("focus")&&ht("onBlur",!1,A),ot.has("contextMenu")&&(pe.onContextMenu=function(e){var t;Be.current&&rt.has("contextMenu")?We(!1):(Me(e),We(!0)),e.preventDefault();for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=he.onContextMenu)||void 0===t||t.call.apply(t,[he,e].concat(o))}),U&&(pe.className=BG()(he.className,U));var vt=cn(cn({},he),pe),yt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){Q[e]&&(yt[e]=function(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===(t=vt[e])||void 0===t||t.call.apply(t,[vt].concat(o)),Q[e].apply(Q,o)})}));var Zt=e.cloneElement(me,cn(cn({},vt),yt)),St={x:Pe,y:Qe},Gt=M?cn({},!0!==M?M:{}):null;return e.createElement(e.Fragment,null,e.createElement(ZV,{disabled:!Se,ref:Ce,onResize:function(){mt(),lt()}},e.createElement(JV,{getTriggerDOMNode:P},Zt)),e.createElement(EV.Provider,{value:oe},e.createElement(XV,{portal:t,ref:se,prefixCls:a,popup:k,className:BG()(w,ct),style:R,target:ue,onMouseEnter:pt,onMouseLeave:ft,onPointerEnter:pt,zIndex:N,open:Se,keepDom:Xe,fresh:H,onClick:F,mask:b,motion:Ae,maskMotion:be,onVisibleChanged:function(e){Ne(!1),et(),null===C||void 0===C||C(e)},onPrepare:function(){return new Promise((function(e){mt(),He((function(){return e}))}))},forceRender:S,autoDestroy:_,getPopupContainer:Z,align:$e,arrow:Gt,arrowPos:St,ready:ze,offsetX:De,offsetY:Oe,offsetR:je,offsetB:Ue,onAlign:lt,stretch:J,targetWidth:gt/_e,targetHeight:It/qe})))}));return n}(DR);var $V=rw.ESC,eW=rw.TAB;const tW=(0,e.forwardRef)((function(t,n){var o=t.overlay,r=t.arrow,a=t.prefixCls,i=(0,e.useMemo)((function(){return"function"===typeof o?o():o}),[o]),l=WG(n,null===i||void 0===i?void 0:i.ref);return e.createElement(e.Fragment,null,r&&e.createElement("div",{className:"".concat(a,"-arrow")}),e.cloneElement(i,{ref:XG(i)?l:void 0}))}));var nW={adjustX:1,adjustY:1},oW=[0,0];const rW={topLeft:{points:["bl","tl"],overflow:nW,offset:[0,-4],targetOffset:oW},top:{points:["bc","tc"],overflow:nW,offset:[0,-4],targetOffset:oW},topRight:{points:["br","tr"],overflow:nW,offset:[0,-4],targetOffset:oW},bottomLeft:{points:["tl","bl"],overflow:nW,offset:[0,4],targetOffset:oW},bottom:{points:["tc","bc"],overflow:nW,offset:[0,4],targetOffset:oW},bottomRight:{points:["tr","br"],overflow:nW,offset:[0,4],targetOffset:oW}};var aW=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function iW(t,n){var o,r=t.arrow,a=void 0!==r&&r,i=t.prefixCls,l=void 0===i?"rc-dropdown":i,c=t.transitionName,s=t.animation,g=t.align,u=t.placement,d=void 0===u?"bottomLeft":u,I=t.placements,C=void 0===I?rW:I,m=t.getPopupContainer,h=t.showAction,p=t.hideAction,f=t.overlayClassName,A=t.overlayStyle,b=t.visible,v=t.trigger,y=void 0===v?["hover"]:v,Z=t.autoFocus,S=t.overlay,G=t.children,B=t.onVisibleChange,k=JG(t,aW),w=hv(e.useState(),2),R=w[0],V=w[1],W="visible"in t?b:R,x=e.useRef(null),X=e.useRef(null),N=e.useRef(null);e.useImperativeHandle(n,(function(){return x.current}));var J=function(e){V(e),null===B||void 0===B||B(e)};!function(t){var n=t.visible,o=t.triggerRef,r=t.onVisibleChange,a=t.autoFocus,i=t.overlayRef,l=e.useRef(!1),c=function(){var e,t;n&&(null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null===r||void 0===r||r(!1))},s=function(){var e;return!(null===(e=i.current)||void 0===e||!e.focus)&&(i.current.focus(),l.current=!0,!0)},g=function(e){switch(e.keyCode){case $V:c();break;case eW:var t=!1;l.current||(t=s()),t?e.preventDefault():c()}};e.useEffect((function(){return n?(window.addEventListener("keydown",g),a&&kB(s,3),function(){window.removeEventListener("keydown",g),l.current=!1}):function(){l.current=!1}}),[n])}({visible:W,triggerRef:N,onVisibleChange:J,autoFocus:Z,overlayRef:X});var E=function(){return e.createElement(tW,{ref:X,overlay:S,prefixCls:l,arrow:a})},H=e.cloneElement(G,{className:BG()(null===(o=G.props)||void 0===o?void 0:o.className,W&&function(){var e=t.openClassName;return void 0!==e?e:"".concat(l,"-open")}()),ref:XG(G)?WG(N,G.ref):void 0}),Y=p;return Y||-1===y.indexOf("contextMenu")||(Y=["click"]),e.createElement(qV,Ey({builtinPlacements:C},k,{prefixCls:l,ref:x,popupClassName:BG()(f,an({},"".concat(l,"-show-arrow"),a)),popupStyle:A,action:y,showAction:h,hideAction:Y,popupPlacement:d,popupAlign:g,popupTransitionName:c,popupAnimation:s,popupVisible:W,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof S?E:E(),onPopupVisibleChange:J,onPopupClick:function(e){var n=t.onOverlayClick;V(!1),n&&n(e)},getPopupContainer:m}),H)}const lW=e.forwardRef(iW);function cW(e,t){var n=cn({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}function sW(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:o}=e,r=t/2,a=r,i=1*o/Math.sqrt(2),l=r-o*(1-1/Math.sqrt(2)),c=r-n*(1/Math.sqrt(2)),s=o*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),g=2*r-c,u=s,d=2*r-i,I=l,C=2*r-0,m=a,h=r*Math.sqrt(2)+o*(Math.sqrt(2)-2),p=o*(Math.sqrt(2)-1),f="polygon(".concat(p,"px 100%, 50% ").concat(p,"px, ").concat(2*r-p,"px 100%, ").concat(p,"px 100%)");return{arrowShadowWidth:h,arrowPath:"path('M ".concat(0," ").concat(a," A ").concat(o," ").concat(o," 0 0 0 ").concat(i," ").concat(l," L ").concat(c," ").concat(s," A ").concat(n," ").concat(n," 0 0 1 ").concat(g," ").concat(u," L ").concat(d," ").concat(I," A ").concat(o," ").concat(o," 0 0 0 ").concat(C," ").concat(m," Z')"),arrowPolygon:f}}const gW=(e,t,n)=>{const{sizePopupArrow:o,arrowPolygon:r,arrowPath:a,arrowShadowWidth:i,borderRadiusXS:l,calc:c}=e;return{pointerEvents:"none",width:o,height:o,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:o,height:c(o).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[r,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:i,height:i,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(Iy(l)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},uW=8;function dW(e){const{contentRadius:t,limitVerticalRadius:n}=e,o=t>12?t+2:12;return{arrowOffsetHorizontal:o,arrowOffsetVertical:n?uW:o}}function IW(e,t){return e?t:{}}function CW(e,t,n){const{componentCls:o,boxShadowPopoverArrow:r,arrowOffsetVertical:a,arrowOffsetHorizontal:i}=e,{arrowDistance:l=0,arrowPlacement:c={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({["".concat(o,"-arrow")]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},gW(e,t,r)),{"&:before":{background:t}})]},IW(!!c.top,{[["&-placement-top > ".concat(o,"-arrow"),"&-placement-topLeft > ".concat(o,"-arrow"),"&-placement-topRight > ".concat(o,"-arrow")].join(",")]:{bottom:l,transform:"translateY(100%) rotate(180deg)"},["&-placement-top > ".concat(o,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},["&-placement-topLeft > ".concat(o,"-arrow")]:{left:{_skip_check_:!0,value:i}},["&-placement-topRight > ".concat(o,"-arrow")]:{right:{_skip_check_:!0,value:i}}})),IW(!!c.bottom,{[["&-placement-bottom > ".concat(o,"-arrow"),"&-placement-bottomLeft > ".concat(o,"-arrow"),"&-placement-bottomRight > ".concat(o,"-arrow")].join(",")]:{top:l,transform:"translateY(-100%)"},["&-placement-bottom > ".concat(o,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},["&-placement-bottomLeft > ".concat(o,"-arrow")]:{left:{_skip_check_:!0,value:i}},["&-placement-bottomRight > ".concat(o,"-arrow")]:{right:{_skip_check_:!0,value:i}}})),IW(!!c.left,{[["&-placement-left > ".concat(o,"-arrow"),"&-placement-leftTop > ".concat(o,"-arrow"),"&-placement-leftBottom > ".concat(o,"-arrow")].join(",")]:{right:{_skip_check_:!0,value:l},transform:"translateX(100%) rotate(90deg)"},["&-placement-left > ".concat(o,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},["&-placement-leftTop > ".concat(o,"-arrow")]:{top:a},["&-placement-leftBottom > ".concat(o,"-arrow")]:{bottom:a}})),IW(!!c.right,{[["&-placement-right > ".concat(o,"-arrow"),"&-placement-rightTop > ".concat(o,"-arrow"),"&-placement-rightBottom > ".concat(o,"-arrow")].join(",")]:{left:{_skip_check_:!0,value:l},transform:"translateX(-100%) rotate(-90deg)"},["&-placement-right > ".concat(o,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},["&-placement-rightTop > ".concat(o,"-arrow")]:{top:a},["&-placement-rightBottom > ".concat(o,"-arrow")]:{bottom:a}}))}}const mW={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},hW={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},pW=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function fW(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:o,offset:r,borderRadius:a,visibleFirst:i}=e,l=t/2,c={};return Object.keys(mW).forEach((e=>{const s=o&&hW[e]||mW[e],g=Object.assign(Object.assign({},s),{offset:[0,0],dynamicInset:!0});switch(c[e]=g,pW.has(e)&&(g.autoArrow=!1),e){case"top":case"topLeft":case"topRight":g.offset[1]=-l-r;break;case"bottom":case"bottomLeft":case"bottomRight":g.offset[1]=l+r;break;case"left":case"leftTop":case"leftBottom":g.offset[0]=-l-r;break;case"right":case"rightTop":case"rightBottom":g.offset[0]=l+r}const u=dW({contentRadius:a,limitVerticalRadius:!0});if(o)switch(e){case"topLeft":case"bottomLeft":g.offset[0]=-u.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":g.offset[0]=u.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":g.offset[1]=-u.arrowOffsetHorizontal-l;break;case"leftBottom":case"rightBottom":g.offset[1]=u.arrowOffsetHorizontal+l}g.overflow=function(e,t,n,o){if(!1===o)return{adjustX:!1,adjustY:!1};const r=o&&"object"===typeof o?o:{},a={};switch(e){case"top":case"bottom":a.shiftX=2*t.arrowOffsetHorizontal+n,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=2*t.arrowOffsetVertical+n,a.shiftX=!0,a.adjustX=!0}const i=Object.assign(Object.assign({},a),r);return i.shiftX||(i.adjustX=!0),i.shiftY||(i.adjustY=!0),i}(e,u,t,n),i&&(g.htmlRegion="visibleFirst")})),c}function AW(t){return n=>e.createElement(Zk,{theme:{token:{motion:!1,zIndexPopupBase:0}}},e.createElement(t,Object.assign({},n)))}const bW=(t,n,o,r)=>AW((a=>{const{prefixCls:i,style:l}=a,c=e.useRef(null),[s,g]=e.useState(0),[u,d]=e.useState(0),[I,C]=QG(!1,{value:a.open}),{getPrefixCls:m}=e.useContext(gv),h=m(n||"select",i);e.useEffect((()=>{if(C(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver((e=>{const t=e[0].target;g(t.offsetHeight+8),d(t.offsetWidth)})),t=setInterval((()=>{var n;const r=o?".".concat(o(h)):".".concat(h,"-dropdown"),a=null===(n=c.current)||void 0===n?void 0:n.querySelector(r);a&&(clearInterval(t),e.observe(a))}),10);return()=>{clearInterval(t),e.disconnect()}}}),[]);let p=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},l),{margin:0}),open:I,visible:I,getPopupContainer:()=>c.current});r&&(p=r(p));const f={paddingBottom:s,position:"relative",minWidth:u};return e.createElement("div",{ref:c,style:f},e.createElement(t,Object.assign({},p)))}));function vW(t){return t&&e.isValidElement(t)&&t.type===e.Fragment}const yW=(t,n,o)=>e.isValidElement(t)?e.cloneElement(t,"function"===typeof o?o(t.props||{}):o):n;function ZW(e,t){return yW(e,e,t)}var SW=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],GW=void 0;function BW(t,n){var o=t.prefixCls,r=t.invalidate,a=t.item,i=t.renderItem,l=t.responsive,c=t.responsiveDisabled,s=t.registerSize,g=t.itemKey,u=t.className,d=t.style,I=t.children,C=t.display,m=t.order,h=t.component,p=void 0===h?"div":h,f=JG(t,SW),A=l&&!C;function b(e){s(g,e)}e.useEffect((function(){return function(){b(null)}}),[]);var v,y=i&&a!==GW?i(a):I;r||(v={opacity:A?0:1,height:A?0:GW,overflowY:A?"hidden":GW,order:l?m:GW,pointerEvents:A?"none":GW,position:A?"absolute":GW});var Z={};A&&(Z["aria-hidden"]=!0);var S=e.createElement(p,Ey({className:BG()(!r&&o,u),style:cn(cn({},v),d)},Z,f,{ref:n}),y);return l&&(S=e.createElement(ZV,{onResize:function(e){b(e.offsetWidth)},disabled:c},S)),S}var kW=e.forwardRef(BW);kW.displayName="Item";const wW=kW;function RW(){var t=e.useRef(null);return function(e){t.current||(t.current=[],function(e){if("undefined"===typeof MessageChannel)kB(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,i.unstable_batchedUpdates)((function(){t.current.forEach((function(e){e()})),t.current=null}))}))),t.current.push(e)}}function VW(t,n){var o=hv(e.useState(n),2),r=o[0],a=o[1];return[r,jG((function(e){t((function(){a(e)}))}))]}var WW=e.createContext(null),xW=["component"],XW=["className"],NW=["className"],JW=function(t,n){var o=e.useContext(WW);if(!o){var r=t.component,a=void 0===r?"div":r,i=JG(t,xW);return e.createElement(a,Ey({},i,{ref:n}))}var l=o.className,c=JG(o,XW),s=t.className,g=JG(t,NW);return e.createElement(WW.Provider,{value:null},e.createElement(wW,Ey({ref:n,className:BG()(l,s)},c,g)))},EW=e.forwardRef(JW);EW.displayName="RawItem";const HW=EW;var YW=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],FW="responsive",KW="invalidate";function MW(e){return"+ ".concat(e.length," ...")}function LW(t,n){var o=t.prefixCls,r=void 0===o?"rc-overflow":o,a=t.data,i=void 0===a?[]:a,l=t.renderItem,c=t.renderRawItem,s=t.itemKey,g=t.itemWidth,u=void 0===g?10:g,d=t.ssr,I=t.style,C=t.className,m=t.maxCount,h=t.renderRest,p=t.renderRawRest,f=t.suffix,A=t.component,b=void 0===A?"div":A,v=t.itemComponent,y=t.onVisibleChange,Z=JG(t,YW),S="full"===d,G=RW(),B=hv(VW(G,null),2),k=B[0],w=B[1],R=k||0,V=hv(VW(G,new Map),2),W=V[0],x=V[1],X=hv(VW(G,0),2),N=X[0],J=X[1],E=hv(VW(G,0),2),H=E[0],Y=E[1],F=hv(VW(G,0),2),K=F[0],M=F[1],L=hv((0,e.useState)(null),2),T=L[0],z=L[1],D=hv((0,e.useState)(null),2),O=D[0],j=D[1],U=e.useMemo((function(){return null===O&&S?Number.MAX_SAFE_INTEGER:O||0}),[O,k]),P=hv((0,e.useState)(!1),2),Q=P[0],_=P[1],q="".concat(r,"-item"),$=Math.max(N,H),ee=m===FW,te=i.length&&ee,ne=m===KW,oe=te||"number"===typeof m&&i.length>m,re=(0,e.useMemo)((function(){var e=i;return te?e=null===k&&S?i:i.slice(0,Math.min(i.length,R/u)):"number"===typeof m&&(e=i.slice(0,m)),e}),[i,u,k,m,te]),ae=(0,e.useMemo)((function(){return te?i.slice(U+1):i.slice(re.length)}),[i,re,te,U]),ie=(0,e.useCallback)((function(e,t){var n;return"function"===typeof s?s(e):null!==(n=s&&(null===e||void 0===e?void 0:e[s]))&&void 0!==n?n:t}),[s]),le=(0,e.useCallback)(l||function(e){return e},[l]);function ce(e,t,n){(O!==e||void 0!==t&&t!==T)&&(j(e),n||(_(e<i.length-1),null===y||void 0===y||y(e)),void 0!==t&&z(t))}function se(e,t){x((function(n){var o=new Map(n);return null===t?o.delete(e):o.set(e,t),o}))}function ge(e){return W.get(ie(re[e],e))}vy((function(){if(R&&"number"===typeof $&&re){var e=K,t=re.length,n=t-1;if(!t)return void ce(0,null);for(var o=0;o<t;o+=1){var r=ge(o);if(S&&(r=r||0),void 0===r){ce(o-1,void 0,!0);break}if(e+=r,0===n&&e<=R||o===n-1&&e+ge(n)<=R){ce(n,null);break}if(e+$>R){ce(o-1,e-r-K+H);break}}f&&ge(0)+K>R&&z(null)}}),[R,W,H,K,ie,re]);var ue=Q&&!!ae.length,de={};null!==T&&te&&(de={position:"absolute",left:T,top:0});var Ie,Ce={prefixCls:q,responsive:te,component:v,invalidate:ne},me=c?function(t,n){var o=ie(t,n);return e.createElement(WW.Provider,{key:o,value:cn(cn({},Ce),{},{order:n,item:t,itemKey:o,registerSize:se,display:n<=U})},c(t,n))}:function(t,n){var o=ie(t,n);return e.createElement(wW,Ey({},Ce,{order:n,key:o,item:t,renderItem:le,itemKey:o,registerSize:se,display:n<=U}))},he={order:ue?U:Number.MAX_SAFE_INTEGER,className:"".concat(q,"-rest"),registerSize:function(e,t){Y(t),J(H)},display:ue};if(p)p&&(Ie=e.createElement(WW.Provider,{value:cn(cn({},Ce),he)},p(ae)));else{var pe=h||MW;Ie=e.createElement(wW,Ey({},Ce,he),"function"===typeof pe?pe(ae):pe)}var fe=e.createElement(b,Ey({className:BG()(!ne&&r,C),style:I,ref:n},Z),re.map(me),oe?Ie:null,f&&e.createElement(wW,Ey({},Ce,{responsive:ee,responsiveDisabled:!te,order:U,className:"".concat(q,"-suffix"),registerSize:function(e,t){M(t)},display:!0,style:de}),f));return ee&&(fe=e.createElement(ZV,{onResize:function(e,t){w(t.clientWidth)},disabled:!te},fe)),fe}var TW=e.forwardRef(LW);TW.displayName="Overflow",TW.Item=HW,TW.RESPONSIVE=FW,TW.INVALIDATE=KW;const zW=TW;var DW=e.createContext(null);function OW(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function jW(t){return OW(e.useContext(DW),t)}var UW=["children","locked"],PW=e.createContext(null);function QW(t){var n=t.children,o=t.locked,r=JG(t,UW),a=e.useContext(PW),i=Xv((function(){return function(e,t){var n=cn({},e);return Object.keys(t).forEach((function(e){var o=t[e];void 0!==o&&(n[e]=o)})),n}(a,r)}),[a,r],(function(e,t){return!o&&(e[0]!==t[0]||!Lv(e[1],t[1],!0))}));return e.createElement(PW.Provider,{value:i},n)}var _W=[],qW=e.createContext(null);function $W(){return e.useContext(qW)}var ex=e.createContext(_W);function tx(t){var n=e.useContext(ex);return e.useMemo((function(){return void 0!==t?[].concat(fv(n),[t]):n}),[n,t])}var nx=e.createContext(null);const ox=e.createContext({});function rx(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(YV(e)){var n=e.nodeName.toLowerCase(),o=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),r=e.getAttribute("tabindex"),a=Number(r),i=null;return r&&!Number.isNaN(a)?i=a:o&&null===i&&(i=0),o&&e.disabled&&(i=null),null!==i&&(i>=0||t&&i<0)}return!1}function ax(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fv(e.querySelectorAll("*")).filter((function(e){return rx(e,t)}));return rx(e,t)&&n.unshift(e),n}var ix=rw.LEFT,lx=rw.RIGHT,cx=rw.UP,sx=rw.DOWN,gx=rw.ENTER,ux=rw.ESC,dx=rw.HOME,Ix=rw.END,Cx=[cx,sx,ix,lx];function mx(e,t){return ax(e,!0).filter((function(e){return t.has(e)}))}function hx(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var r=mx(e,t),a=r.length,i=r.findIndex((function(e){return n===e}));return o<0?-1===i?i=a-1:i-=1:o>0&&(i+=1),r[i=(i+a)%a]}var px=function(e,t){var n=new Set,o=new Map,r=new Map;return e.forEach((function(e){var a=document.querySelector("[data-menu-id='".concat(OW(t,e),"']"));a&&(n.add(a),r.set(a,e),o.set(e,a))})),{elements:n,key2element:o,element2key:r}};function fx(t,n,o,r,a,i,l,c,s,g){var u=e.useRef(),d=e.useRef();d.current=n;var I=function(){kB.cancel(u.current)};return e.useEffect((function(){return function(){I()}}),[]),function(e){var C=e.which;if([].concat(Cx,[gx,ux,dx,Ix]).includes(C)){var m=i(),h=px(m,r),p=h,f=p.elements,A=p.key2element,b=p.element2key,v=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(A.get(n),f),y=b.get(v),Z=function(e,t,n,o){var r,a="prev",i="next",l="children",c="parent";if("inline"===e&&o===gx)return{inlineTrigger:!0};var s=an(an({},cx,a),sx,i),g=an(an(an(an({},ix,n?i:a),lx,n?a:i),sx,l),gx,l),u=an(an(an(an(an(an({},cx,a),sx,i),gx,l),ux,c),ix,n?l:c),lx,n?c:l);switch(null===(r={inline:s,horizontal:g,vertical:u,inlineSub:s,horizontalSub:u,verticalSub:u}["".concat(e).concat(t?"":"Sub")])||void 0===r?void 0:r[o]){case a:return{offset:-1,sibling:!0};case i:return{offset:1,sibling:!0};case c:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(t,1===l(y,!0).length,o,C);if(!Z&&C!==dx&&C!==Ix)return;(Cx.includes(C)||[dx,Ix].includes(C))&&e.preventDefault();var S=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var o=b.get(e);c(o),I(),u.current=kB((function(){d.current===o&&t.focus()}))}};if([dx,Ix].includes(C)||Z.sibling||!v){var G,B,k=mx(G=v&&"inline"!==t?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(v):a.current,f);B=C===dx?k[0]:C===Ix?k[k.length-1]:hx(G,f,v,Z.offset),S(B)}else if(Z.inlineTrigger)s(y);else if(Z.offset>0)s(y,!0),I(),u.current=kB((function(){h=px(m,r);var e=v.getAttribute("aria-controls"),t=hx(document.getElementById(e),h.elements);S(t)}),5);else if(Z.offset<0){var w=l(y,!0),R=w[w.length-2],V=A.get(R);s(R,!1),S(V)}}null===g||void 0===g||g(e)}}var Ax="__RC_UTIL_PATH_SPLIT__",bx=function(e){return e.join(Ax)},vx="rc-menu-more";function yx(){var t=hv(e.useState({}),2)[1],n=(0,e.useRef)(new Map),o=(0,e.useRef)(new Map),r=hv(e.useState([]),2),a=r[0],i=r[1],l=(0,e.useRef)(0),c=(0,e.useRef)(!1),s=(0,e.useCallback)((function(e,r){var a=bx(r);o.current.set(a,e),n.current.set(e,a),l.current+=1;var i=l.current;!function(e){Promise.resolve().then(e)}((function(){i===l.current&&(c.current||t({}))}))}),[]),g=(0,e.useCallback)((function(e,t){var r=bx(t);o.current.delete(r),n.current.delete(e)}),[]),u=(0,e.useCallback)((function(e){i(e)}),[]),d=(0,e.useCallback)((function(e,t){var o=n.current.get(e)||"",r=o.split(Ax);return t&&a.includes(r[0])&&r.unshift(vx),r}),[a]),I=(0,e.useCallback)((function(e,t){return e.some((function(e){return d(e,!0).includes(t)}))}),[d]),C=(0,e.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Ax),r=new Set;return fv(o.current.keys()).forEach((function(e){e.startsWith(t)&&r.add(o.current.get(e))})),r}),[]);return e.useEffect((function(){return function(){c.current=!0}}),[]),{registerPath:s,unregisterPath:g,refreshOverflowKeys:u,isSubPathKey:I,getKeyPath:d,getKeys:function(){var e=fv(n.current.keys());return a.length&&e.push(vx),e},getSubPathKeys:C}}function Zx(t){var n=e.useRef(t);n.current=t;var o=e.useCallback((function(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(o))}),[]);return t?o:void 0}var Sx=Math.random().toFixed(5).toString().slice(2),Gx=0;function Bx(t,n,o,r){var a=e.useContext(PW),i=a.activeKey,l=a.onActive,c=a.onInactive,s={active:i===t};return n||(s.onMouseEnter=function(e){null===o||void 0===o||o({key:t,domEvent:e}),l(t)},s.onMouseLeave=function(e){null===r||void 0===r||r({key:t,domEvent:e}),c(t)}),s}function kx(t){var n=e.useContext(PW),o=n.mode,r=n.rtl,a=n.inlineIndent;if("inline"!==o)return null;return r?{paddingRight:t*a}:{paddingLeft:t*a}}function wx(t){var n,o=t.icon,r=t.props,a=t.children;return null===o||!1===o?null:("function"===typeof o?n=e.createElement(o,cn({},r)):"boolean"!==typeof o&&(n=o),n||a||null)}var Rx=["item"];function Vx(e){var t=e.item,n=JG(e,Rx);return Object.defineProperty(n,"item",{get:function(){return Mv(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var Wx=["title","attribute","elementRef"],xx=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Xx=["active"],Nx=function(t){KG(o,t);var n=DG(o);function o(){return Tv(this,o),n.apply(this,arguments)}return Dv(o,[{key:"render",value:function(){var t=this.props,n=t.title,o=t.attribute,r=t.elementRef,a=cW(JG(t,Wx),["eventKey","popupClassName","popupOffset","onTitleClick"]);return Mv(!o,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(zW.Item,Ey({},o,{title:"string"===typeof n?n:void 0},a,{ref:r}))}}]),o}(e.Component),Jx=e.forwardRef((function(t,n){var o=t.style,r=t.className,a=t.eventKey,i=(t.warnKey,t.disabled),l=t.itemIcon,c=t.children,s=t.role,g=t.onMouseEnter,u=t.onMouseLeave,d=t.onClick,I=t.onKeyDown,C=t.onFocus,m=JG(t,xx),h=jW(a),p=e.useContext(PW),f=p.prefixCls,A=p.onItemClick,b=p.disabled,v=p.overflowDisabled,y=p.itemIcon,Z=p.selectedKeys,S=p.onActive,G=e.useContext(ox)._internalRenderMenuItem,B="".concat(f,"-item"),k=e.useRef(),w=e.useRef(),R=b||i,V=xG(n,w),W=tx(a);var x=function(e){return{key:a,keyPath:fv(W).reverse(),item:k.current,domEvent:e}},X=l||y,N=Bx(a,R,g,u),J=N.active,E=JG(N,Xx),H=Z.includes(a),Y=kx(W.length),F={};"option"===t.role&&(F["aria-selected"]=H);var K=e.createElement(Nx,Ey({ref:k,elementRef:V,role:null===s?"none":s||"menuitem",tabIndex:i?null:-1,"data-menu-id":v&&h?null:h},m,E,F,{component:"li","aria-disabled":i,style:cn(cn({},Y),o),className:BG()(B,an(an(an({},"".concat(B,"-active"),J),"".concat(B,"-selected"),H),"".concat(B,"-disabled"),R),r),onClick:function(e){if(!R){var t=x(e);null===d||void 0===d||d(Vx(t)),A(t)}},onKeyDown:function(e){if(null===I||void 0===I||I(e),e.which===rw.ENTER){var t=x(e);null===d||void 0===d||d(Vx(t)),A(t)}},onFocus:function(e){S(a),null===C||void 0===C||C(e)}}),c,e.createElement(wx,{props:cn(cn({},t),{},{isSelected:H}),icon:X}));return G&&(K=G(K,t,{selected:H})),K}));function Ex(t,n){var o=t.eventKey,r=$W(),a=tx(o);return e.useEffect((function(){if(r)return r.registerPath(o,a),function(){r.unregisterPath(o,a)}}),[a]),r?null:e.createElement(Jx,Ey({},t,{ref:n}))}const Hx=e.forwardRef(Ex);var Yx=["className","children"],Fx=function(t,n){var o=t.className,r=t.children,a=JG(t,Yx),i=e.useContext(PW),l=i.prefixCls,c=i.mode,s=i.rtl;return e.createElement("ul",Ey({className:BG()(l,s&&"".concat(l,"-rtl"),"".concat(l,"-sub"),"".concat(l,"-").concat("inline"===c?"inline":"vertical"),o),role:"menu"},a,{"data-menu-list":!0,ref:n}),r)},Kx=e.forwardRef(Fx);Kx.displayName="SubMenuList";const Mx=Kx;function Lx(t,n){return OR(t).map((function(t,o){if(e.isValidElement(t)){var r,a,i=t.key,l=null!==(r=null===(a=t.props)||void 0===a?void 0:a.eventKey)&&void 0!==r?r:i;(null===l||void 0===l)&&(l="tmp_key-".concat([].concat(fv(n),[o]).join("-")));var c={key:l,eventKey:l};return e.cloneElement(t,c)}return t}))}var Tx={adjustX:1,adjustY:1},zx={topLeft:{points:["bl","tl"],overflow:Tx},topRight:{points:["br","tr"],overflow:Tx},bottomLeft:{points:["tl","bl"],overflow:Tx},bottomRight:{points:["tr","br"],overflow:Tx},leftTop:{points:["tr","tl"],overflow:Tx},leftBottom:{points:["br","bl"],overflow:Tx},rightTop:{points:["tl","tr"],overflow:Tx},rightBottom:{points:["bl","br"],overflow:Tx}},Dx={topLeft:{points:["bl","tl"],overflow:Tx},topRight:{points:["br","tr"],overflow:Tx},bottomLeft:{points:["tl","bl"],overflow:Tx},bottomRight:{points:["tr","br"],overflow:Tx},rightTop:{points:["tr","tl"],overflow:Tx},rightBottom:{points:["br","bl"],overflow:Tx},leftTop:{points:["tl","tr"],overflow:Tx},leftBottom:{points:["bl","br"],overflow:Tx}};function Ox(e,t,n){return t||(n?n[e]||n.other:void 0)}var jx={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Ux(t){var n=t.prefixCls,o=t.visible,r=t.children,a=t.popup,i=t.popupStyle,l=t.popupClassName,c=t.popupOffset,s=t.disabled,g=t.mode,u=t.onVisibleChange,d=e.useContext(PW),I=d.getPopupContainer,C=d.rtl,m=d.subMenuOpenDelay,h=d.subMenuCloseDelay,p=d.builtinPlacements,f=d.triggerSubMenuAction,A=d.forceSubMenuRender,b=d.rootClassName,v=d.motion,y=d.defaultMotions,Z=hv(e.useState(!1),2),S=Z[0],G=Z[1],B=cn(cn({},C?Dx:zx),p),k=jx[g],w=Ox(g,v,y),R=e.useRef(w);"inline"!==g&&(R.current=w);var V=cn(cn({},R.current),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),W=e.useRef();return e.useEffect((function(){return W.current=kB((function(){G(o)})),function(){kB.cancel(W.current)}}),[o]),e.createElement(qV,{prefixCls:n,popupClassName:BG()("".concat(n,"-popup"),an({},"".concat(n,"-rtl"),C),l,b),stretch:"horizontal"===g?"minWidth":null,getPopupContainer:I,builtinPlacements:B,popupPlacement:k,popupVisible:S,popup:a,popupStyle:i,popupAlign:c&&{offset:c},action:s?[]:[f],mouseEnterDelay:m,mouseLeaveDelay:h,onPopupVisibleChange:u,forceRender:A,popupMotion:V,fresh:!0},r)}function Px(t){var n=t.id,o=t.open,r=t.keyPath,a=t.children,i="inline",l=e.useContext(PW),c=l.prefixCls,s=l.forceSubMenuRender,g=l.motion,u=l.defaultMotions,d=l.mode,I=e.useRef(!1);I.current=d===i;var C=hv(e.useState(!I.current),2),m=C[0],h=C[1],p=!!I.current&&o;e.useEffect((function(){I.current&&h(!1)}),[d]);var f=cn({},Ox(i,g,u));r.length>1&&(f.motionAppear=!1);var A=f.onVisibleChanged;return f.onVisibleChanged=function(e){return I.current||e||h(!0),null===A||void 0===A?void 0:A(e)},m?null:e.createElement(QW,{mode:i,locked:!I.current},e.createElement(DB,Ey({visible:p},f,{forceRender:s,removeOnLeave:!1,leavedClassName:"".concat(c,"-hidden")}),(function(t){var o=t.className,r=t.style;return e.createElement(Mx,{id:n,className:o,style:r},a)})))}var Qx=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],_x=["active"],qx=e.forwardRef((function(t,n){var o=t.style,r=t.className,a=t.title,i=t.eventKey,l=(t.warnKey,t.disabled),c=t.internalPopupClose,s=t.children,g=t.itemIcon,u=t.expandIcon,d=t.popupClassName,I=t.popupOffset,C=t.popupStyle,m=t.onClick,h=t.onMouseEnter,p=t.onMouseLeave,f=t.onTitleClick,A=t.onTitleMouseEnter,b=t.onTitleMouseLeave,v=JG(t,Qx),y=jW(i),Z=e.useContext(PW),S=Z.prefixCls,G=Z.mode,B=Z.openKeys,k=Z.disabled,w=Z.overflowDisabled,R=Z.activeKey,V=Z.selectedKeys,W=Z.itemIcon,x=Z.expandIcon,X=Z.onItemClick,N=Z.onOpenChange,J=Z.onActive,E=e.useContext(ox)._internalRenderSubMenuItem,H=e.useContext(nx).isSubPathKey,Y=tx(),F="".concat(S,"-submenu"),K=k||l,M=e.useRef(),L=e.useRef();var T=null!==g&&void 0!==g?g:W,z=null!==u&&void 0!==u?u:x,D=B.includes(i),O=!w&&D,j=H(V,i),U=Bx(i,K,A,b),P=U.active,Q=JG(U,_x),_=hv(e.useState(!1),2),q=_[0],$=_[1],ee=function(e){K||$(e)},te=e.useMemo((function(){return P||"inline"!==G&&(q||H([R],i))}),[G,P,R,q,i,H]),ne=kx(Y.length),oe=Zx((function(e){null===m||void 0===m||m(Vx(e)),X(e)})),re=y&&"".concat(y,"-popup"),ae=e.createElement("div",Ey({role:"menuitem",style:ne,className:"".concat(F,"-title"),tabIndex:K?null:-1,ref:M,title:"string"===typeof a?a:null,"data-menu-id":w&&y?null:y,"aria-expanded":O,"aria-haspopup":!0,"aria-controls":re,"aria-disabled":K,onClick:function(e){K||(null===f||void 0===f||f({key:i,domEvent:e}),"inline"===G&&N(i,!D))},onFocus:function(){J(i)}},Q),a,e.createElement(wx,{icon:"horizontal"!==G?z:void 0,props:cn(cn({},t),{},{isOpen:O,isSubMenu:!0})},e.createElement("i",{className:"".concat(F,"-arrow")}))),ie=e.useRef(G);if("inline"!==G&&Y.length>1?ie.current="vertical":ie.current=G,!w){var le=ie.current;ae=e.createElement(Ux,{mode:le,prefixCls:F,visible:!c&&O&&"inline"!==G,popupClassName:d,popupOffset:I,popupStyle:C,popup:e.createElement(QW,{mode:"horizontal"===le?"vertical":le},e.createElement(Mx,{id:re,ref:L},s)),disabled:K,onVisibleChange:function(e){"inline"!==G&&N(i,e)}},ae)}var ce=e.createElement(zW.Item,Ey({ref:n,role:"none"},v,{component:"li",style:o,className:BG()(F,"".concat(F,"-").concat(G),r,an(an(an(an({},"".concat(F,"-open"),O),"".concat(F,"-active"),te),"".concat(F,"-selected"),j),"".concat(F,"-disabled"),K)),onMouseEnter:function(e){ee(!0),null===h||void 0===h||h({key:i,domEvent:e})},onMouseLeave:function(e){ee(!1),null===p||void 0===p||p({key:i,domEvent:e})}}),ae,!w&&e.createElement(Px,{id:re,open:O,keyPath:Y},s));return E&&(ce=E(ce,t,{selected:j,active:te,open:O,disabled:K})),e.createElement(QW,{onItemClick:oe,mode:"horizontal"===G?"vertical":G,itemIcon:T,expandIcon:z},ce)}));const $x=e.forwardRef((function(t,n){var o,r=t.eventKey,a=t.children,i=tx(r),l=Lx(a,i),c=$W();return e.useEffect((function(){if(c)return c.registerPath(r,i),function(){c.unregisterPath(r,i)}}),[i]),o=c?l:e.createElement(qx,Ey({ref:n},t),l),e.createElement(ex.Provider,{value:i},o)}));function eX(t){var n=t.className,o=t.style,r=e.useContext(PW).prefixCls;return $W()?null:e.createElement("li",{role:"separator",className:BG()("".concat(r,"-item-divider"),n),style:o})}var tX=["className","title","eventKey","children"],nX=e.forwardRef((function(t,n){var o=t.className,r=t.title,a=(t.eventKey,t.children),i=JG(t,tX),l=e.useContext(PW).prefixCls,c="".concat(l,"-item-group");return e.createElement("li",Ey({ref:n,role:"presentation"},i,{onClick:function(e){return e.stopPropagation()},className:BG()(c,o)}),e.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:"string"===typeof r?r:void 0},r),e.createElement("ul",{role:"group",className:"".concat(c,"-list")},a))}));const oX=e.forwardRef((function(t,n){var o=t.eventKey,r=Lx(t.children,tx(o));return $W()?r:e.createElement(nX,Ey({ref:n},cW(t,["warnKey"])),r)}));var rX=["label","children","key","type"];function aX(t,n){var o=n.item,r=n.group,a=n.submenu,i=n.divider;return(t||[]).map((function(t,l){if(t&&"object"===on(t)){var c=t,s=c.label,g=c.children,u=c.key,d=c.type,I=JG(c,rX),C=null!==u&&void 0!==u?u:"tmp-".concat(l);return g||"group"===d?"group"===d?e.createElement(r,Ey({key:C},I,{title:s}),aX(g,n)):e.createElement(a,Ey({key:C},I,{title:s}),aX(g,n)):"divider"===d?e.createElement(i,Ey({key:C},I)):e.createElement(o,Ey({key:C},I),s)}return null})).filter((function(e){return e}))}function iX(e,t,n,o){var r=e,a=cn({divider:eX,item:Hx,group:oX,submenu:$x},o);return t&&(r=aX(t,a)),Lx(r,n)}var lX=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],cX=[],sX=e.forwardRef((function(t,n){var o,r=t,a=r.prefixCls,l=void 0===a?"rc-menu":a,c=r.rootClassName,s=r.style,g=r.className,u=r.tabIndex,d=void 0===u?0:u,I=r.items,C=r.children,m=r.direction,h=r.id,p=r.mode,f=void 0===p?"vertical":p,A=r.inlineCollapsed,b=r.disabled,v=r.disabledOverflow,y=r.subMenuOpenDelay,Z=void 0===y?.1:y,S=r.subMenuCloseDelay,G=void 0===S?.1:S,B=r.forceSubMenuRender,k=r.defaultOpenKeys,w=r.openKeys,R=r.activeKey,V=r.defaultActiveFirst,W=r.selectable,x=void 0===W||W,X=r.multiple,N=void 0!==X&&X,J=r.defaultSelectedKeys,E=r.selectedKeys,H=r.onSelect,Y=r.onDeselect,F=r.inlineIndent,K=void 0===F?24:F,M=r.motion,L=r.defaultMotions,T=r.triggerSubMenuAction,z=void 0===T?"hover":T,D=r.builtinPlacements,O=r.itemIcon,j=r.expandIcon,U=r.overflowedIndicator,P=void 0===U?"...":U,Q=r.overflowedIndicatorPopupClassName,_=r.getPopupContainer,q=r.onClick,$=r.onOpenChange,ee=r.onKeyDown,te=(r.openAnimation,r.openTransitionName,r._internalRenderMenuItem),ne=r._internalRenderSubMenuItem,oe=r._internalComponents,re=JG(r,lX),ae=hv(e.useMemo((function(){return[iX(C,I,cX,oe),iX(C,I,cX,{})]}),[C,I,oe]),2),ie=ae[0],le=ae[1],ce=hv(e.useState(!1),2),se=ce[0],ge=ce[1],ue=e.useRef(),de=function(t){var n=hv(QG(t,{value:t}),2),o=n[0],r=n[1];return e.useEffect((function(){Gx+=1;var e="".concat(Sx,"-").concat(Gx);r("rc-menu-uuid-".concat(e))}),[]),o}(h),Ie="rtl"===m;var Ce=QG(k,{value:w,postState:function(e){return e||cX}}),me=hv(Ce,2),he=me[0],pe=me[1],fe=function(e){function t(){pe(e),null===$||void 0===$||$(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,i.flushSync)(t):t()},Ae=hv(e.useState(he),2),be=Ae[0],ve=Ae[1],ye=e.useRef(!1),Ze=hv(e.useMemo((function(){return"inline"!==f&&"vertical"!==f||!A?[f,!1]:["vertical",A]}),[f,A]),2),Se=Ze[0],Ge=Ze[1],Be="inline"===Se,ke=hv(e.useState(Se),2),we=ke[0],Re=ke[1],Ve=hv(e.useState(Ge),2),We=Ve[0],xe=Ve[1];e.useEffect((function(){Re(Se),xe(Ge),ye.current&&(Be?pe(be):fe(cX))}),[Se,Ge]);var Xe=hv(e.useState(0),2),Ne=Xe[0],Je=Xe[1],Ee=Ne>=ie.length-1||"horizontal"!==we||v;e.useEffect((function(){Be&&ve(he)}),[he]),e.useEffect((function(){return ye.current=!0,function(){ye.current=!1}}),[]);var He=yx(),Ye=He.registerPath,Fe=He.unregisterPath,Ke=He.refreshOverflowKeys,Me=He.isSubPathKey,Le=He.getKeyPath,Te=He.getKeys,ze=He.getSubPathKeys,De=e.useMemo((function(){return{registerPath:Ye,unregisterPath:Fe}}),[Ye,Fe]),Oe=e.useMemo((function(){return{isSubPathKey:Me}}),[Me]);e.useEffect((function(){Ke(Ee?cX:ie.slice(Ne+1).map((function(e){return e.key})))}),[Ne,Ee]);var je=hv(QG(R||V&&(null===(o=ie[0])||void 0===o?void 0:o.key),{value:R}),2),Ue=je[0],Pe=je[1],Qe=Zx((function(e){Pe(e)})),_e=Zx((function(){Pe(void 0)}));(0,e.useImperativeHandle)(n,(function(){return{list:ue.current,focus:function(e){var t,n,o=Te(),r=px(o,de),a=r.elements,i=r.key2element,l=r.element2key,c=mx(ue.current,a),s=null!==Ue&&void 0!==Ue?Ue:c[0]?l.get(c[0]):null===(t=ie.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key,g=i.get(s);s&&g&&(null===g||void 0===g||null===(n=g.focus)||void 0===n||n.call(g,e))}}}));var qe=QG(J||[],{value:E,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?cX:[e]}}),$e=hv(qe,2),et=$e[0],tt=$e[1],nt=Zx((function(e){null===q||void 0===q||q(Vx(e)),function(e){if(x){var t,n=e.key,o=et.includes(n);t=N?o?et.filter((function(e){return e!==n})):[].concat(fv(et),[n]):[n],tt(t);var r=cn(cn({},e),{},{selectedKeys:t});o?null===Y||void 0===Y||Y(r):null===H||void 0===H||H(r)}!N&&he.length&&"inline"!==we&&fe(cX)}(e)})),ot=Zx((function(e,t){var n=he.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==we){var o=ze(e);n=n.filter((function(e){return!o.has(e)}))}Lv(he,n,!0)||fe(n,!0)})),rt=fx(we,Ue,Ie,de,ue,Te,Le,Pe,(function(e,t){var n=null!==t&&void 0!==t?t:!he.includes(e);ot(e,n)}),ee);e.useEffect((function(){ge(!0)}),[]);var at=e.useMemo((function(){return{_internalRenderMenuItem:te,_internalRenderSubMenuItem:ne}}),[te,ne]),it="horizontal"!==we||v?ie:ie.map((function(t,n){return e.createElement(QW,{key:t.key,overflowDisabled:n>Ne},t)})),lt=e.createElement(zW,Ey({id:h,ref:ue,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:Hx,className:BG()(l,"".concat(l,"-root"),"".concat(l,"-").concat(we),g,an(an({},"".concat(l,"-inline-collapsed"),We),"".concat(l,"-rtl"),Ie),c),dir:m,style:s,role:"menu",tabIndex:d,data:it,renderRawItem:function(e){return e},renderRawRest:function(t){var n=t.length,o=n?ie.slice(-n):null;return e.createElement($x,{eventKey:vx,title:P,disabled:Ee,internalPopupClose:0===n,popupClassName:Q},o)},maxCount:"horizontal"!==we||v?zW.INVALIDATE:zW.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Je(e)},onKeyDown:rt},re));return e.createElement(ox.Provider,{value:at},e.createElement(DW.Provider,{value:de},e.createElement(QW,{prefixCls:l,rootClassName:c,mode:we,openKeys:he,rtl:Ie,disabled:b,motion:se?M:null,defaultMotions:se?L:null,activeKey:Ue,onActive:Qe,onInactive:_e,selectedKeys:et,inlineIndent:K,subMenuOpenDelay:Z,subMenuCloseDelay:G,forceSubMenuRender:B,builtinPlacements:D,triggerSubMenuAction:z,getPopupContainer:_,itemIcon:O,expandIcon:j,onItemClick:nt,onOpenChange:ot},e.createElement(nx.Provider,{value:Oe},lt),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(qW.Provider,{value:De},le)))))}));var gX=sX;gX.Item=Hx,gX.SubMenu=$x,gX.ItemGroup=oX,gX.Divider=eX;const uX=gX;const dX=e.createContext({});(()=>{let e=0})();const IX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var CX=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:IX}))};const mX=e.forwardRef(CX),hX=()=>({height:0,opacity:0}),pX=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},fX=e=>({height:e?e.offsetHeight:0}),AX=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,bX=(e,t,n)=>void 0!==n?n:"".concat(e,"-").concat(t),vX=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:hX,onEnterStart:hX,onAppearActive:pX,onEnterActive:pX,onLeaveStart:fX,onLeaveActive:hX,onAppearEnd:AX,onEnterEnd:AX,onLeaveEnd:AX,motionDeadline:500}};var yX=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const ZX=t=>{const{prefixCls:n,className:o,dashed:r}=t,a=yX(t,["prefixCls","className","dashed"]),{getPrefixCls:i}=e.useContext(gv),l=i("menu",n),c=BG()({["".concat(l,"-item-divider-dashed")]:!!r},o);return e.createElement(eX,Object.assign({className:c},a))},SX=(0,e.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});function GX(t){var n=t.children,o=t.prefixCls,r=t.id,a=t.overlayInnerStyle,i=t.className,l=t.style;return e.createElement("div",{className:BG()("".concat(o,"-content"),i),style:l},e.createElement("div",{className:"".concat(o,"-inner"),id:r,role:"tooltip",style:a},"function"===typeof n?n():n))}var BX={shiftX:64,adjustY:1},kX={adjustX:1,shiftY:!0},wX=[0,0],RX={left:{points:["cr","cl"],overflow:kX,offset:[-4,0],targetOffset:wX},right:{points:["cl","cr"],overflow:kX,offset:[4,0],targetOffset:wX},top:{points:["bc","tc"],overflow:BX,offset:[0,-4],targetOffset:wX},bottom:{points:["tc","bc"],overflow:BX,offset:[0,4],targetOffset:wX},topLeft:{points:["bl","tl"],overflow:BX,offset:[0,-4],targetOffset:wX},leftTop:{points:["tr","tl"],overflow:kX,offset:[-4,0],targetOffset:wX},topRight:{points:["br","tr"],overflow:BX,offset:[0,-4],targetOffset:wX},rightTop:{points:["tl","tr"],overflow:kX,offset:[4,0],targetOffset:wX},bottomRight:{points:["tr","br"],overflow:BX,offset:[0,4],targetOffset:wX},rightBottom:{points:["bl","br"],overflow:kX,offset:[4,0],targetOffset:wX},bottomLeft:{points:["tl","bl"],overflow:BX,offset:[0,4],targetOffset:wX},leftBottom:{points:["br","bl"],overflow:kX,offset:[-4,0],targetOffset:wX}};var VX=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],WX=function(t,n){var o=t.overlayClassName,r=t.trigger,a=void 0===r?["hover"]:r,i=t.mouseEnterDelay,l=void 0===i?0:i,c=t.mouseLeaveDelay,s=void 0===c?.1:c,g=t.overlayStyle,u=t.prefixCls,d=void 0===u?"rc-tooltip":u,I=t.children,C=t.onVisibleChange,m=t.afterVisibleChange,h=t.transitionName,p=t.animation,f=t.motion,A=t.placement,b=void 0===A?"right":A,v=t.align,y=void 0===v?{}:v,Z=t.destroyTooltipOnHide,S=void 0!==Z&&Z,G=t.defaultVisible,B=t.getTooltipContainer,k=t.overlayInnerStyle,w=(t.arrowContent,t.overlay),R=t.id,V=t.showArrow,W=void 0===V||V,x=JG(t,VX),X=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return X.current}));var N=cn({},x);"visible"in t&&(N.popupVisible=t.visible);return e.createElement(qV,Ey({popupClassName:o,prefixCls:d,popup:function(){return e.createElement(GX,{key:"content",prefixCls:d,id:R,overlayInnerStyle:k},w)},action:a,builtinPlacements:RX,popupPlacement:b,ref:X,popupAlign:y,getPopupContainer:B,onPopupVisibleChange:C,afterPopupVisibleChange:m,popupTransitionName:h,popupAnimation:p,popupMotion:f,defaultPopupVisible:G,autoDestroy:S,mouseLeaveDelay:s,popupStyle:g,mouseEnterDelay:l,arrow:W},N),I)};const xX=(0,e.forwardRef)(WX),XX=t=>{const n=e.useContext(bG);return e.useMemo((()=>t?"string"===typeof t?null!==t&&void 0!==t?t:n:t instanceof Function?t(n):n:n),[t,n])},NX=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},JX=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},["".concat(t,"-item:empty")]:{display:"none"},["".concat(t,"-item > ").concat(n,"-badge-not-a-wrapper:only-child")]:{display:"block"}}}},EX=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},HX=Uw("Space",(e=>{const t=xw(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[JX(t),EX(t),NX(t)]}),(()=>({})),{resetStyle:!1});var YX=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const FX=e.createContext(null),KX=(t,n)=>{const o=e.useContext(FX),r=e.useMemo((()=>{if(!o)return"";const{compactDirection:e,isFirstItem:r,isLastItem:a}=o,i="vertical"===e?"-vertical-":"-";return BG()("".concat(t,"-compact").concat(i,"item"),{["".concat(t,"-compact").concat(i,"first-item")]:r,["".concat(t,"-compact").concat(i,"last-item")]:a,["".concat(t,"-compact").concat(i,"item-rtl")]:"rtl"===n})}),[t,n,o]);return{compactSize:null===o||void 0===o?void 0:o.compactSize,compactDirection:null===o||void 0===o?void 0:o.compactDirection,compactItemClassnames:r}},MX=t=>{let{children:n}=t;return e.createElement(FX.Provider,{value:null},n)},LX=t=>{var{children:n}=t,o=YX(t,["children"]);return e.createElement(FX.Provider,{value:o},n)},TX=t=>{const{getPrefixCls:n,direction:o}=e.useContext(gv),{size:r,direction:a,block:i,prefixCls:l,className:c,rootClassName:s,children:g}=t,u=YX(t,["size","direction","block","prefixCls","className","rootClassName","children"]),d=XX((e=>null!==r&&void 0!==r?r:e)),I=n("space-compact",l),[C,m]=HX(I),h=BG()(I,m,{["".concat(I,"-rtl")]:"rtl"===o,["".concat(I,"-block")]:i,["".concat(I,"-vertical")]:"vertical"===a},c,s),p=e.useContext(FX),f=OR(g),A=e.useMemo((()=>f.map(((t,n)=>{const o=t&&t.key||"".concat(I,"-item-").concat(n);return e.createElement(LX,{key:o,compactSize:d,compactDirection:a,isFirstItem:0===n&&(!p||(null===p||void 0===p?void 0:p.isFirstItem)),isLastItem:n===f.length-1&&(!p||(null===p||void 0===p?void 0:p.isLastItem))},t)}))),[r,f,p]);return 0===f.length?null:C(e.createElement("div",Object.assign({className:h},u),A))},zX=e=>({animationDuration:e,animationFillMode:"both"}),DX=e=>({animationDuration:e,animationFillMode:"both"}),OX=function(e,t,n,o){const r=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{["\n      ".concat(r).concat(e,"-enter,\n      ").concat(r).concat(e,"-appear\n    ")]:Object.assign(Object.assign({},zX(o)),{animationPlayState:"paused"}),["".concat(r).concat(e,"-leave")]:Object.assign(Object.assign({},DX(o)),{animationPlayState:"paused"}),["\n      ".concat(r).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(r).concat(e,"-appear").concat(e,"-appear-active\n    ")]:{animationName:t,animationPlayState:"running"},["".concat(r).concat(e,"-leave").concat(e,"-leave-active")]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},jX=new TZ("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),UX=new TZ("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),PX=new TZ("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),QX=new TZ("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),_X=new TZ("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),qX=new TZ("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),$X=new TZ("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),eN=new TZ("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),tN=new TZ("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),nN=new TZ("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),oN=new TZ("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),rN=new TZ("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),aN={zoom:{inKeyframes:jX,outKeyframes:UX},"zoom-big":{inKeyframes:PX,outKeyframes:QX},"zoom-big-fast":{inKeyframes:PX,outKeyframes:QX},"zoom-left":{inKeyframes:$X,outKeyframes:eN},"zoom-right":{inKeyframes:tN,outKeyframes:nN},"zoom-up":{inKeyframes:_X,outKeyframes:qX},"zoom-down":{inKeyframes:oN,outKeyframes:rN}},iN=(e,t)=>{const{antCls:n}=e,o="".concat(n,"-").concat(t),{inKeyframes:r,outKeyframes:a}=aN[t];return[OX(o,r,a,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{["\n        ".concat(o,"-enter,\n        ").concat(o,"-appear\n      ")]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},["".concat(o,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},lN=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function cN(e,t){return lN.reduce(((n,o)=>{const r=e["".concat(o,"1")],a=e["".concat(o,"3")],i=e["".concat(o,"6")],l=e["".concat(o,"7")];return Object.assign(Object.assign({},n),t(o,{lightColor:r,lightBorderColor:a,darkColor:i,textColor:l}))}),{})}const sN=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:o,tooltipBg:r,tooltipBorderRadius:a,zIndexPopup:i,controlHeight:l,boxShadowSecondary:c,paddingSM:s,paddingXS:g}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ik(e)),{position:"absolute",zIndex:i,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":r,["".concat(t,"-inner")]:{minWidth:"1em",minHeight:l,padding:"".concat(Iy(e.calc(s).div(2).equal())," ").concat(Iy(g)),color:o,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{["".concat(t,"-inner")]:{borderRadius:e.min(a,uW)}},["".concat(t,"-content")]:{position:"relative"}}),cN(e,((e,n)=>{let{darkColor:o}=n;return{["&".concat(t,"-").concat(e)]:{["".concat(t,"-inner")]:{backgroundColor:o},["".concat(t,"-arrow")]:{"--antd-arrow-background-color":o}}}}))),{"&-rtl":{direction:"rtl"}})},CW(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},gN=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},dW({contentRadius:e.borderRadius,limitVerticalRadius:!0})),sW(xw(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),uN=function(e){const t=Uw("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:o}=e,r=xw(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:o});return[sN(r),iN(e,"zoom-big-fast")]}),gN,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},dN=lN.map((e=>"".concat(e,"-inverse")));function IN(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?lN.includes(e):[].concat(fv(dN),fv(lN)).includes(e)}(t),o=BG()({["".concat(e,"-").concat(t)]:t&&n}),r={},a={};return t&&!n&&(r.background=t,a["--antd-arrow-background-color"]=t),{className:o,overlayStyle:r,arrowStyle:a}}const CN=t=>{const{prefixCls:n,className:o,placement:r="top",title:a,color:i,overlayInnerStyle:l}=t,{getPrefixCls:c}=e.useContext(gv),s=c("tooltip",n),[g,u,d]=uN(s),I=IN(s,i),C=I.arrowStyle,m=Object.assign(Object.assign({},l),I.overlayStyle),h=BG()(u,d,s,"".concat(s,"-pure"),"".concat(s,"-placement-").concat(r),o,I.className);return g(e.createElement("div",{className:h,style:C},e.createElement("div",{className:"".concat(s,"-arrow")}),e.createElement(GX,Object.assign({},t,{className:u,prefixCls:s,overlayInnerStyle:m}),a)))};var mN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const hN=e.forwardRef(((t,n)=>{var o,r;const{prefixCls:a,openClassName:i,getTooltipContainer:l,overlayClassName:c,color:s,overlayInnerStyle:g,children:u,afterOpenChange:d,afterVisibleChange:I,destroyTooltipOnHide:C,arrow:m=!0,title:h,overlay:p,builtinPlacements:f,arrowPointAtCenter:A=!1,autoAdjustOverflow:b=!0}=t,v=!!m,[,y]=nk(),{getPopupContainer:Z,getPrefixCls:S,direction:G}=e.useContext(gv),B=tS("Tooltip"),k=e.useRef(null),w=()=>{var e;null===(e=k.current)||void 0===e||e.forceAlign()};e.useImperativeHandle(n,(()=>{var e;return{forceAlign:w,forcePopupAlign:()=>{B.deprecated(!1,"forcePopupAlign","forceAlign"),w()},nativeElement:null===(e=k.current)||void 0===e?void 0:e.nativeElement}}));const[R,V]=QG(!1,{value:null!==(o=t.open)&&void 0!==o?o:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),W=!h&&!p&&0!==h,x=e.useMemo((()=>{var e,t;let n=A;return"object"===typeof m&&(n=null!==(t=null!==(e=m.pointAtCenter)&&void 0!==e?e:m.arrowPointAtCenter)&&void 0!==t?t:A),f||fW({arrowPointAtCenter:n,autoAdjustOverflow:b,arrowWidth:v?y.sizePopupArrow:0,borderRadius:y.borderRadius,offset:y.marginXXS,visibleFirst:!0})}),[A,m,f,y]),X=e.useMemo((()=>0===h?h:p||h||""),[p,h]),N=e.createElement(MX,null,"function"===typeof X?X():X),{getPopupContainer:J,placement:E="top",mouseEnterDelay:H=.1,mouseLeaveDelay:Y=.1,overlayStyle:F,rootClassName:K}=t,M=mN(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),L=S("tooltip",a),T=S(),z=t["data-popover-inject"];let D=R;"open"in t||"visible"in t||!W||(D=!1);const O=e.isValidElement(u)&&!vW(u)?u:e.createElement("span",null,u),j=O.props,U=j.className&&"string"!==typeof j.className?j.className:BG()(j.className,i||"".concat(L,"-open")),[P,Q,_]=uN(L,!z),q=IN(L,s),$=q.arrowStyle,ee=Object.assign(Object.assign({},g),q.overlayStyle),te=BG()(c,{["".concat(L,"-rtl")]:"rtl"===G},q.className,K,Q,_),[ne,oe]=Rw("Tooltip",M.zIndex),re=e.createElement(xX,Object.assign({},M,{zIndex:ne,showArrow:v,placement:E,mouseEnterDelay:H,mouseLeaveDelay:Y,prefixCls:L,overlayClassName:te,overlayStyle:Object.assign(Object.assign({},$),F),getTooltipContainer:J||l||Z,ref:k,builtinPlacements:x,overlay:N,visible:D,onVisibleChange:e=>{var n,o;V(!W&&e),W||(null===(n=t.onOpenChange)||void 0===n||n.call(t,e),null===(o=t.onVisibleChange)||void 0===o||o.call(t,e))},afterVisibleChange:null!==d&&void 0!==d?d:I,overlayInnerStyle:ee,arrowContent:e.createElement("span",{className:"".concat(L,"-arrow-content")}),motion:{motionName:bX(T,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!C}),D?ZW(O,{className:U}):O);return P(e.createElement(Sw.Provider,{value:oe},re))})),pN=hN;pN._InternalPanelDoNotUseOrYouWillBeFired=CN;const fN=pN,AN=t=>{var n;const{className:o,children:r,icon:a,title:i,danger:l}=t,{prefixCls:c,firstLevel:s,direction:g,disableMenuItemTitleTooltip:u,inlineCollapsed:d}=e.useContext(SX),{siderCollapsed:I}=e.useContext(dX);let C=i;"undefined"===typeof i?C=s?r:"":!1===i&&(C="");const m={title:C};I||d||(m.title=null,m.open=!1);const h=OR(r).length;let p=e.createElement(Hx,Object.assign({},cW(t,["title","icon","danger"]),{className:BG()({["".concat(c,"-item-danger")]:l,["".concat(c,"-item-only-child")]:1===(a?h+1:h)},o),title:"string"===typeof i?i:void 0}),ZW(a,{className:BG()(e.isValidElement(a)?null===(n=a.props)||void 0===n?void 0:n.className:"","".concat(c,"-item-icon"))}),(t=>{const n=e.createElement("span",{className:"".concat(c,"-title-content")},r);return(!a||e.isValidElement(r)&&"span"===r.type)&&r&&t&&s&&"string"===typeof r?e.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},r.charAt(0)):n})(d));return u||(p=e.createElement(fN,Object.assign({},m,{placement:"rtl"===g?"left":"right",overlayClassName:"".concat(c,"-inline-collapsed-tooltip")}),p)),p};var bN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const vN=e.createContext(null),yN=e.forwardRef(((t,n)=>{const{children:o}=t,r=bN(t,["children"]),a=e.useContext(vN),i=e.useMemo((()=>Object.assign(Object.assign({},a),r)),[a,r.prefixCls,r.mode,r.selectable,r.rootClassName]),l=function(e){return NG(e)&&XG(e)}(o),c=xG(n,l?o.ref:null);return e.createElement(vN.Provider,{value:i},e.createElement(MX,null,l?e.cloneElement(o,{ref:c}):o))})),ZN=vN,SN=e=>({[e.componentCls]:{["".concat(e.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}},["".concat(e.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}}),GN=new TZ("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),BN=new TZ("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),kN=new TZ("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),wN=new TZ("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),RN=new TZ("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),VN=new TZ("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),WN=new TZ("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),xN=new TZ("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),XN={"slide-up":{inKeyframes:GN,outKeyframes:BN},"slide-down":{inKeyframes:kN,outKeyframes:wN},"slide-left":{inKeyframes:RN,outKeyframes:VN},"slide-right":{inKeyframes:WN,outKeyframes:xN}},NN=(e,t)=>{const{antCls:n}=e,o="".concat(n,"-").concat(t),{inKeyframes:r,outKeyframes:a}=XN[t];return[OX(o,r,a,e.motionDurationMid),{["\n      ".concat(o,"-enter,\n      ").concat(o,"-appear\n    ")]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},["".concat(o,"-leave")]:{animationTimingFunction:e.motionEaseInQuint}}]},JN=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:o,colorSplit:r,lineWidth:a,lineType:i,itemPaddingInline:l}=e;return{["".concat(t,"-horizontal")]:{lineHeight:o,border:0,borderBottom:"".concat(Iy(a)," ").concat(i," ").concat(r),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},["".concat(t,"-item, ").concat(t,"-submenu")]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l},["> ".concat(t,"-item:hover,\n        > ").concat(t,"-item-active,\n        > ").concat(t,"-submenu ").concat(t,"-submenu-title:hover")]:{backgroundColor:"transparent"},["".concat(t,"-item, ").concat(t,"-submenu-title")]:{transition:["border-color ".concat(n),"background ".concat(n)].join(",")},["".concat(t,"-submenu-arrow")]:{display:"none"}}}},EN=e=>{let{componentCls:t,menuArrowOffset:n,calc:o}=e;return{["".concat(t,"-rtl")]:{direction:"rtl"},["".concat(t,"-submenu-rtl")]:{transformOrigin:"100% 0"},["".concat(t,"-rtl").concat(t,"-vertical,\n    ").concat(t,"-submenu-rtl ").concat(t,"-vertical")]:{["".concat(t,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateY(".concat(Iy(o(n).mul(-1).equal()),")")},"&::after":{transform:"rotate(45deg) translateY(".concat(Iy(n),")")}}}}},HN=e=>Object.assign({},sk(e)),YN=(e,t)=>{const{componentCls:n,itemColor:o,itemSelectedColor:r,groupTitleColor:a,itemBg:i,subMenuItemBg:l,itemSelectedBg:c,activeBarHeight:s,activeBarWidth:g,activeBarBorderWidth:u,motionDurationSlow:d,motionEaseInOut:I,motionEaseOut:C,itemPaddingInline:m,motionDurationMid:h,itemHoverColor:p,lineType:f,colorSplit:A,itemDisabledColor:b,dangerItemColor:v,dangerItemHoverColor:y,dangerItemSelectedColor:Z,dangerItemActiveBg:S,dangerItemSelectedBg:G,popupBg:B,itemHoverBg:k,itemActiveBg:w,menuSubMenuBg:R,horizontalItemSelectedColor:V,horizontalItemSelectedBg:W,horizontalItemBorderRadius:x,horizontalItemHoverBg:X}=e;return{["".concat(n,"-").concat(t,", ").concat(n,"-").concat(t," > ").concat(n)]:{color:o,background:i,["&".concat(n,"-root:focus-visible")]:Object.assign({},HN(e)),["".concat(n,"-item-group-title")]:{color:a},["".concat(n,"-submenu-selected")]:{["> ".concat(n,"-submenu-title")]:{color:r}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:{color:o,["&:not(".concat(n,"-item-disabled):focus-visible")]:Object.assign({},HN(e))},["".concat(n,"-item-disabled, ").concat(n,"-submenu-disabled")]:{color:"".concat(b," !important")},["".concat(n,"-item:not(").concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{["&:hover, > ".concat(n,"-submenu-title:hover")]:{color:p}},["&:not(".concat(n,"-horizontal)")]:{["".concat(n,"-item:not(").concat(n,"-item-selected)")]:{"&:hover":{backgroundColor:k},"&:active":{backgroundColor:w}},["".concat(n,"-submenu-title")]:{"&:hover":{backgroundColor:k},"&:active":{backgroundColor:w}}},["".concat(n,"-item-danger")]:{color:v,["&".concat(n,"-item:hover")]:{["&:not(".concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{color:y}},["&".concat(n,"-item:active")]:{background:S}},["".concat(n,"-item a")]:{"&, &:hover":{color:"inherit"}},["".concat(n,"-item-selected")]:{color:r,["&".concat(n,"-item-danger")]:{color:Z},"a, a:hover":{color:"inherit"}},["& ".concat(n,"-item-selected")]:{backgroundColor:c,["&".concat(n,"-item-danger")]:{backgroundColor:G}},["&".concat(n,"-submenu > ").concat(n)]:{backgroundColor:R},["&".concat(n,"-popup > ").concat(n)]:{backgroundColor:B},["&".concat(n,"-submenu-popup > ").concat(n)]:{backgroundColor:B},["&".concat(n,"-horizontal")]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{["> ".concat(n,"-item, > ").concat(n,"-submenu")]:{top:u,marginTop:e.calc(u).mul(-1).equal(),marginBottom:0,borderRadius:x,"&::after":{position:"absolute",insetInline:m,bottom:0,borderBottom:"".concat(Iy(s)," solid transparent"),transition:"border-color ".concat(d," ").concat(I),content:'""'},"&:hover, &-active, &-open":{background:X,"&::after":{borderBottomWidth:s,borderBottomColor:V}},"&-selected":{color:V,backgroundColor:W,"&:hover":{backgroundColor:W},"&::after":{borderBottomWidth:s,borderBottomColor:V}}}}),["&".concat(n,"-root")]:{["&".concat(n,"-inline, &").concat(n,"-vertical")]:{borderInlineEnd:"".concat(Iy(u)," ").concat(f," ").concat(A)}},["&".concat(n,"-inline")]:{["".concat(n,"-sub").concat(n,"-inline")]:{background:l},["".concat(n,"-item")]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat(Iy(g)," solid ").concat(r),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(h," ").concat(C),"opacity ".concat(h," ").concat(C)].join(","),content:'""'},["&".concat(n,"-item-danger")]:{"&::after":{borderInlineEndColor:Z}}},["".concat(n,"-selected, ").concat(n,"-item-selected")]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(h," ").concat(I),"opacity ".concat(h," ").concat(I)].join(",")}}}}}},FN=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:o,padding:r,menuArrowSize:a,marginXS:i,itemMarginBlock:l,itemWidth:c}=e,s=e.calc(a).add(r).add(i).equal();return{["".concat(t,"-item")]:{position:"relative",overflow:"hidden"},["".concat(t,"-item, ").concat(t,"-submenu-title")]:{height:n,lineHeight:Iy(n),paddingInline:r,overflow:"hidden",textOverflow:"ellipsis",marginInline:o,marginBlock:l,width:c},["> ".concat(t,"-item,\n            > ").concat(t,"-submenu > ").concat(t,"-submenu-title")]:{height:n,lineHeight:Iy(n)},["".concat(t,"-item-group-list ").concat(t,"-submenu-title,\n            ").concat(t,"-submenu-title")]:{paddingInlineEnd:s}}},KN=e=>{const{componentCls:t,iconCls:n,itemHeight:o,colorTextLightSolid:r,dropdownWidth:a,controlHeightLG:i,motionDurationMid:l,motionEaseOut:c,paddingXL:s,itemMarginInline:g,fontSizeLG:u,motionDurationSlow:d,paddingXS:I,boxShadowSecondary:C,collapsedWidth:m,collapsedIconSize:h}=e,p={height:o,lineHeight:Iy(o),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({["&".concat(t,"-root")]:{boxShadow:"none"}},FN(e))},["".concat(t,"-submenu-popup")]:{["".concat(t,"-vertical")]:Object.assign(Object.assign({},FN(e)),{boxShadow:C})}},{["".concat(t,"-submenu-popup ").concat(t,"-vertical").concat(t,"-sub")]:{minWidth:a,maxHeight:"calc(100vh - ".concat(Iy(e.calc(i).mul(2.5).equal()),")"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{["".concat(t,"-inline")]:{width:"100%",["&".concat(t,"-root")]:{["".concat(t,"-item, ").concat(t,"-submenu-title")]:{display:"flex",alignItems:"center",transition:["border-color ".concat(d),"background ".concat(d),"padding ".concat(l," ").concat(c),"padding-inline calc(50% - ".concat(Iy(e.calc(u).div(2).equal())," - ").concat(Iy(g),")")].join(","),["> ".concat(t,"-title-content")]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},["".concat(t,"-sub").concat(t,"-inline")]:{padding:0,border:0,borderRadius:0,boxShadow:"none",["& > ".concat(t,"-submenu > ").concat(t,"-submenu-title")]:p,["& ".concat(t,"-item-group-title")]:{paddingInlineStart:s}},["".concat(t,"-item")]:p}},{["".concat(t,"-inline-collapsed")]:{width:m,["&".concat(t,"-root")]:{["".concat(t,"-item, ").concat(t,"-submenu ").concat(t,"-submenu-title")]:{["> ".concat(t,"-inline-collapsed-noicon")]:{fontSize:u,textAlign:"center"}}},["> ".concat(t,"-item,\n          > ").concat(t,"-item-group > ").concat(t,"-item-group-list > ").concat(t,"-item,\n          > ").concat(t,"-item-group > ").concat(t,"-item-group-list > ").concat(t,"-submenu > ").concat(t,"-submenu-title,\n          > ").concat(t,"-submenu > ").concat(t,"-submenu-title")]:{insetInlineStart:0,paddingInline:"calc(50% - ".concat(Iy(e.calc(u).div(2).equal())," - ").concat(Iy(g),")"),textOverflow:"clip",["\n            ".concat(t,"-submenu-arrow,\n            ").concat(t,"-submenu-expand-icon\n          ")]:{opacity:0},["".concat(t,"-item-icon, ").concat(n)]:{margin:0,fontSize:h,lineHeight:Iy(o),"+ span":{display:"inline-block",opacity:0}}},["".concat(t,"-item-icon, ").concat(n)]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",["".concat(t,"-item-icon, ").concat(n)]:{display:"none"},"a, a:hover":{color:r}},["".concat(t,"-item-group-title")]:Object.assign(Object.assign({},ak),{paddingInline:I})}}]},MN=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:o,motionEaseInOut:r,motionEaseOut:a,iconCls:i,iconSize:l,iconMarginInlineEnd:c}=e;return{["".concat(t,"-item, ").concat(t,"-submenu-title")]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(n),"background ".concat(n),"padding ".concat(n," ").concat(r)].join(","),["".concat(t,"-item-icon, ").concat(i)]:{minWidth:l,fontSize:l,transition:["font-size ".concat(o," ").concat(a),"margin ".concat(n," ").concat(r),"color ".concat(n)].join(","),"+ span":{marginInlineStart:c,opacity:1,transition:["opacity ".concat(n," ").concat(r),"margin ".concat(n),"color ".concat(n)].join(",")}},["".concat(t,"-item-icon")]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),["&".concat(t,"-item-only-child")]:{["> ".concat(i,", > ").concat(t,"-item-icon")]:{marginInlineEnd:0}}},["".concat(t,"-item-disabled, ").concat(t,"-submenu-disabled")]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},["> ".concat(t,"-submenu-title")]:{color:"inherit !important",cursor:"not-allowed"}}}},LN=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:o,borderRadius:r,menuArrowSize:a,menuArrowOffset:i}=e;return{["".concat(t,"-submenu")]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:a,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(n," ").concat(o,", opacity ").concat(n)},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(a).mul(.6).equal(),height:e.calc(a).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:r,transition:["background ".concat(n," ").concat(o),"transform ".concat(n," ").concat(o),"top ".concat(n," ").concat(o),"color ".concat(n," ").concat(o)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(".concat(Iy(e.calc(i).mul(-1).equal()),")")},"&::after":{transform:"rotate(-45deg) translateY(".concat(Iy(i),")")}}}}},TN=e=>{const{antCls:t,componentCls:n,fontSize:o,motionDurationSlow:r,motionDurationMid:a,motionEaseInOut:i,paddingXS:l,padding:c,colorSplit:s,lineWidth:g,zIndexPopup:u,borderRadiusLG:d,subMenuItemBorderRadius:I,menuArrowSize:C,menuArrowOffset:m,lineType:h,groupTitleLineHeight:p,groupTitleFontSize:f}=e;return[{"":{["".concat(n)]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},["".concat(n,"-submenu-hidden")]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ik(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:o,lineHeight:0,listStyle:"none",outline:"none",transition:"width ".concat(r," cubic-bezier(0.2, 0, 0, 1) 0s"),"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",["".concat(n,"-item")]:{flex:"none"}},["".concat(n,"-item, ").concat(n,"-submenu, ").concat(n,"-submenu-title")]:{borderRadius:e.itemBorderRadius},["".concat(n,"-item-group-title")]:{padding:"".concat(Iy(l)," ").concat(Iy(c)),fontSize:f,lineHeight:p,transition:"all ".concat(r)},["&-horizontal ".concat(n,"-submenu")]:{transition:["border-color ".concat(r," ").concat(i),"background ".concat(r," ").concat(i)].join(",")},["".concat(n,"-submenu, ").concat(n,"-submenu-inline")]:{transition:["border-color ".concat(r," ").concat(i),"background ".concat(r," ").concat(i),"padding ".concat(a," ").concat(i)].join(",")},["".concat(n,"-submenu ").concat(n,"-sub")]:{cursor:"initial",transition:["background ".concat(r," ").concat(i),"padding ".concat(r," ").concat(i)].join(",")},["".concat(n,"-title-content")]:{transition:"color ".concat(r),["> ".concat(t,"-typography-ellipsis-single-line")]:{display:"inline",verticalAlign:"unset"}},["".concat(n,"-item a")]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},["".concat(n,"-item-divider")]:{overflow:"hidden",lineHeight:0,borderColor:s,borderStyle:h,borderWidth:0,borderTopWidth:g,marginBlock:g,padding:0,"&-dashed":{borderStyle:"dashed"}}}),MN(e)),{["".concat(n,"-item-group")]:{["".concat(n,"-item-group-list")]:{margin:0,padding:0,["".concat(n,"-item, ").concat(n,"-submenu-title")]:{paddingInline:"".concat(Iy(e.calc(o).mul(2).equal())," ").concat(Iy(c))}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:u,borderRadius:d,boxShadow:"none",transformOrigin:"0 0",["&".concat(n,"-submenu")]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},["> ".concat(n)]:Object.assign(Object.assign(Object.assign({borderRadius:d},MN(e)),LN(e)),{["".concat(n,"-item, ").concat(n,"-submenu > ").concat(n,"-submenu-title")]:{borderRadius:I},["".concat(n,"-submenu-title::after")]:{transition:"transform ".concat(r," ").concat(i)}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),LN(e)),{["&-inline-collapsed ".concat(n,"-submenu-arrow,\n        &-inline ").concat(n,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateX(".concat(Iy(m),")")},"&::after":{transform:"rotate(45deg) translateX(".concat(Iy(e.calc(m).mul(-1).equal()),")")}},["".concat(n,"-submenu-open").concat(n,"-submenu-inline > ").concat(n,"-submenu-title > ").concat(n,"-submenu-arrow")]:{transform:"translateY(".concat(Iy(e.calc(C).mul(.2).mul(-1).equal()),")"),"&::after":{transform:"rotate(-45deg) translateX(".concat(Iy(e.calc(m).mul(-1).equal()),")")},"&::before":{transform:"rotate(45deg) translateX(".concat(Iy(m),")")}}})},{["".concat(t,"-layout-header")]:{[n]:{lineHeight:"inherit"}}}]},zN=e=>{var t,n,o;const{colorPrimary:r,colorError:a,colorTextDisabled:i,colorErrorBg:l,colorText:c,colorTextDescription:s,colorBgContainer:g,colorFillAlter:u,colorFillContent:d,lineWidth:I,lineWidthBold:C,controlItemBgActive:m,colorBgTextHover:h,controlHeightLG:p,lineHeight:f,colorBgElevated:A,marginXXS:b,padding:v,fontSize:y,controlHeightSM:Z,fontSizeLG:S,colorTextLightSolid:G,colorErrorHover:B}=e,k=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,w=null!==(n=e.activeBarBorderWidth)&&void 0!==n?n:I,R=null!==(o=e.itemMarginInline)&&void 0!==o?o:e.marginXXS,V=new tG(G).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:c,itemColor:c,colorItemTextHover:c,itemHoverColor:c,colorItemTextHoverHorizontal:r,horizontalItemHoverColor:r,colorGroupTitle:s,groupTitleColor:s,colorItemTextSelected:r,itemSelectedColor:r,colorItemTextSelectedHorizontal:r,horizontalItemSelectedColor:r,colorItemBg:g,itemBg:g,colorItemBgHover:h,itemHoverBg:h,colorItemBgActive:d,itemActiveBg:m,colorSubItemBg:u,subMenuItemBg:u,colorItemBgSelected:m,itemSelectedBg:m,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:k,colorActiveBarHeight:C,activeBarHeight:C,colorActiveBarBorderSize:I,activeBarBorderWidth:w,colorItemTextDisabled:i,itemDisabledColor:i,colorDangerItemText:a,dangerItemColor:a,colorDangerItemTextHover:a,dangerItemHoverColor:a,colorDangerItemTextSelected:a,dangerItemSelectedColor:a,colorDangerItemBgActive:l,dangerItemActiveBg:l,colorDangerItemBgSelected:l,dangerItemSelectedBg:l,itemMarginInline:R,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:p,groupTitleLineHeight:f,collapsedWidth:2*p,popupBg:A,itemMarginBlock:b,itemPaddingInline:v,horizontalLineHeight:"".concat(1.15*p,"px"),iconSize:y,iconMarginInlineEnd:Z-y,collapsedIconSize:S,groupTitleFontSize:y,darkItemDisabledColor:new tG(G).setAlpha(.25).toRgbString(),darkItemColor:V,darkDangerItemColor:a,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:G,darkItemSelectedBg:r,darkDangerItemSelectedBg:a,darkItemHoverBg:"transparent",darkGroupTitleColor:V,darkItemHoverColor:G,darkDangerItemHoverColor:B,darkDangerItemSelectedColor:G,darkDangerItemActiveBg:a,itemWidth:k?"calc(100% + ".concat(w,"px)"):"calc(100% - ".concat(2*R,"px)")}},DN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=Uw("Menu",(e=>{const{colorBgElevated:t,controlHeightLG:n,fontSize:o,darkItemColor:r,darkDangerItemColor:a,darkItemBg:i,darkSubMenuItemBg:l,darkItemSelectedColor:c,darkItemSelectedBg:s,darkDangerItemSelectedBg:g,darkItemHoverBg:u,darkGroupTitleColor:d,darkItemHoverColor:I,darkItemDisabledColor:C,darkDangerItemHoverColor:m,darkDangerItemSelectedColor:h,darkDangerItemActiveBg:p,popupBg:f,darkPopupBg:A}=e,b=e.calc(o).div(7).mul(5).equal(),v=xw(e,{menuArrowSize:b,menuHorizontalHeight:e.calc(n).mul(1.15).equal(),menuArrowOffset:e.calc(b).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:f}),y=xw(v,{itemColor:r,itemHoverColor:I,groupTitleColor:d,itemSelectedColor:c,itemBg:i,popupBg:A,subMenuItemBg:l,itemActiveBg:"transparent",itemSelectedBg:s,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:u,itemDisabledColor:C,dangerItemColor:a,dangerItemHoverColor:m,dangerItemSelectedColor:h,dangerItemActiveBg:p,dangerItemSelectedBg:g,menuSubMenuBg:l,horizontalItemSelectedColor:c,horizontalItemSelectedBg:s});return[TN(v),JN(v),KN(v),YN(v,"light"),YN(y,"dark"),EN(v),SN(v),NN(v,"slide-up"),NN(v,"slide-down"),iN(v,"zoom-big")]}),zN,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],unitless:{groupTitleLineHeight:!0}});return n(e,t)},ON=t=>{var n;const{popupClassName:o,icon:r,title:a,theme:i}=t,l=e.useContext(SX),{prefixCls:c,inlineCollapsed:s,theme:g}=l,u=tx();let d;if(r){const t=e.isValidElement(a)&&"span"===a.type;d=e.createElement(e.Fragment,null,ZW(r,{className:BG()(e.isValidElement(r)?null===(n=r.props)||void 0===n?void 0:n.className:"","".concat(c,"-item-icon"))}),t?a:e.createElement("span",{className:"".concat(c,"-title-content")},a))}else d=s&&!u.length&&a&&"string"===typeof a?e.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},a.charAt(0)):e.createElement("span",{className:"".concat(c,"-title-content")},a);const I=e.useMemo((()=>Object.assign(Object.assign({},l),{firstLevel:!1})),[l]),[C]=Rw("Menu");return e.createElement(SX.Provider,{value:I},e.createElement($x,Object.assign({},cW(t,["icon"]),{title:d,popupClassName:BG()(c,o,"".concat(c,"-").concat(i||g)),popupStyle:{zIndex:C}})))};var jN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function UN(e){return null===e||!1===e}const PN={item:AN,submenu:ON,divider:ZX},QN=(0,e.forwardRef)(((t,n)=>{var o;const r=e.useContext(ZN),a=r||{},{getPrefixCls:i,getPopupContainer:l,direction:c,menu:s}=e.useContext(gv),g=i(),{prefixCls:u,className:d,style:I,theme:C="light",expandIcon:m,_internalDisableMenuItemTitleTooltip:h,inlineCollapsed:p,siderCollapsed:f,rootClassName:A,mode:b,selectable:v,onClick:y,overflowedIndicatorPopupClassName:Z}=t,S=cW(jN(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]);null===(o=a.validator)||void 0===o||o.call(a,{mode:b});const G=jG((function(){var e;null===y||void 0===y||y.apply(void 0,arguments),null===(e=a.onClick)||void 0===e||e.call(a)})),B=a.mode||b,k=null!==v&&void 0!==v?v:a.selectable,w=e.useMemo((()=>void 0!==f?f:p),[p,f]),R={horizontal:{motionName:"".concat(g,"-slide-up")},inline:vX(g),other:{motionName:"".concat(g,"-zoom-big")}},V=i("menu",u||a.prefixCls),W=Zw(V),[x,X,N]=DN(V,W,!r),J=BG()("".concat(V,"-").concat(C),null===s||void 0===s?void 0:s.className,d),E=e.useMemo((()=>{var t,n;if("function"===typeof m||UN(m))return m||null;if("function"===typeof a.expandIcon||UN(a.expandIcon))return a.expandIcon||null;if("function"===typeof(null===s||void 0===s?void 0:s.expandIcon)||UN(null===s||void 0===s?void 0:s.expandIcon))return(null===s||void 0===s?void 0:s.expandIcon)||null;const o=null!==(t=null!==m&&void 0!==m?m:null===a||void 0===a?void 0:a.expandIcon)&&void 0!==t?t:null===s||void 0===s?void 0:s.expandIcon;return ZW(o,{className:BG()("".concat(V,"-submenu-expand-icon"),e.isValidElement(o)?null===(n=o.props)||void 0===n?void 0:n.className:void 0)})}),[m,null===a||void 0===a?void 0:a.expandIcon,null===s||void 0===s?void 0:s.expandIcon,V]),H=e.useMemo((()=>({prefixCls:V,inlineCollapsed:w||!1,direction:c,firstLevel:!0,theme:C,mode:B,disableMenuItemTitleTooltip:h})),[V,w,c,h,C]);return x(e.createElement(ZN.Provider,{value:null},e.createElement(SX.Provider,{value:H},e.createElement(uX,Object.assign({getPopupContainer:l,overflowedIndicator:e.createElement(mX,null),overflowedIndicatorPopupClassName:BG()(V,"".concat(V,"-").concat(C),Z),mode:B,selectable:k,onClick:G},S,{inlineCollapsed:w,style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),I),className:J,prefixCls:V,direction:c,defaultMotions:R,expandIcon:E,ref:n,rootClassName:BG()(A,X,a.rootClassName,N,W),_internalComponents:PN})))))})),_N=QN,qN=(0,e.forwardRef)(((t,n)=>{const o=(0,e.useRef)(null),r=e.useContext(dX);return(0,e.useImperativeHandle)(n,(()=>({menu:o.current,focus:e=>{var t;null===(t=o.current)||void 0===t||t.focus(e)}}))),e.createElement(_N,Object.assign({ref:o},t,r))}));qN.Item=AN,qN.SubMenu=ON,qN.Divider=ZX,qN.ItemGroup=oX;const $N=qN,eJ=new TZ("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),tJ=new TZ("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),nJ=new TZ("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),oJ=new TZ("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),rJ=new TZ("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),aJ=new TZ("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),iJ={"move-up":{inKeyframes:new TZ("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new TZ("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:eJ,outKeyframes:tJ},"move-left":{inKeyframes:nJ,outKeyframes:oJ},"move-right":{inKeyframes:rJ,outKeyframes:aJ}},lJ=(e,t)=>{const{antCls:n}=e,o="".concat(n,"-").concat(t),{inKeyframes:r,outKeyframes:a}=iJ[t];return[OX(o,r,a,e.motionDurationMid),{["\n        ".concat(o,"-enter,\n        ").concat(o,"-appear\n      ")]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},["".concat(o,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},cJ=e=>{const{componentCls:t,menuCls:n,colorError:o,colorTextLightSolid:r}=e,a="".concat(n,"-item");return{["".concat(t,", ").concat(t,"-menu-submenu")]:{["".concat(n," ").concat(a)]:{["&".concat(a,"-danger:not(").concat(a,"-disabled)")]:{color:o,"&:hover":{color:r,backgroundColor:o}}}}}},sJ=e=>{const{componentCls:t,menuCls:n,zIndexPopup:o,dropdownArrowDistance:r,sizePopupArrow:a,antCls:i,iconCls:l,motionDurationMid:c,paddingBlock:s,fontSize:g,dropdownEdgeChildPadding:u,colorTextDisabled:d,fontSizeIcon:I,controlPaddingHorizontal:C,colorBgElevated:m}=e;return[{[t]:Object.assign(Object.assign({},ik(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},["&-trigger".concat(i,"-btn")]:{["& > ".concat(l,"-down, & > ").concat(i,"-btn-icon > ").concat(l,"-down")]:{fontSize:I}},["".concat(t,"-wrap")]:{position:"relative",["".concat(i,"-btn > ").concat(l,"-down")]:{fontSize:I},["".concat(l,"-down::before")]:{transition:"transform ".concat(c)}},["".concat(t,"-wrap-open")]:{["".concat(l,"-down::before")]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},["&".concat(i,"-slide-down-enter").concat(i,"-slide-down-enter-active").concat(t,"-placement-bottomLeft,\n          &").concat(i,"-slide-down-appear").concat(i,"-slide-down-appear-active").concat(t,"-placement-bottomLeft,\n          &").concat(i,"-slide-down-enter").concat(i,"-slide-down-enter-active").concat(t,"-placement-bottom,\n          &").concat(i,"-slide-down-appear").concat(i,"-slide-down-appear-active").concat(t,"-placement-bottom,\n          &").concat(i,"-slide-down-enter").concat(i,"-slide-down-enter-active").concat(t,"-placement-bottomRight,\n          &").concat(i,"-slide-down-appear").concat(i,"-slide-down-appear-active").concat(t,"-placement-bottomRight")]:{animationName:GN},["&".concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(t,"-placement-topLeft,\n          &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(t,"-placement-topLeft,\n          &").concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(t,"-placement-top,\n          &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(t,"-placement-top,\n          &").concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(t,"-placement-topRight,\n          &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(t,"-placement-topRight")]:{animationName:kN},["&".concat(i,"-slide-down-leave").concat(i,"-slide-down-leave-active").concat(t,"-placement-bottomLeft,\n          &").concat(i,"-slide-down-leave").concat(i,"-slide-down-leave-active").concat(t,"-placement-bottom,\n          &").concat(i,"-slide-down-leave").concat(i,"-slide-down-leave-active").concat(t,"-placement-bottomRight")]:{animationName:BN},["&".concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(t,"-placement-topLeft,\n          &").concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(t,"-placement-top,\n          &").concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(t,"-placement-topRight")]:{animationName:wN}})},CW(e,m,{arrowPlacement:{top:!0,bottom:!0}}),{["".concat(t," ").concat(n)]:{position:"relative",margin:0},["".concat(n,"-submenu-popup")]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},["".concat(t,", ").concat(t,"-menu-submenu")]:{[n]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:m,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},gk(e)),{"&:empty":{padding:0,boxShadow:"none"},["".concat(n,"-item-group-title")]:{padding:"".concat(Iy(s)," ").concat(Iy(C)),color:e.colorTextDescription,transition:"all ".concat(c)},["".concat(n,"-item")]:{position:"relative",display:"flex",alignItems:"center"},["".concat(n,"-item-icon")]:{minWidth:g,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},["".concat(n,"-title-content")]:{flex:"auto","> a":{color:"inherit",transition:"all ".concat(c),"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:Object.assign(Object.assign({clear:"both",margin:0,padding:"".concat(Iy(s)," ").concat(Iy(C)),color:e.colorText,fontWeight:"normal",fontSize:g,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(c),borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},gk(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:d,cursor:"not-allowed","&:hover":{color:d,backgroundColor:m,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:"".concat(Iy(e.marginXXS)," 0"),overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},["".concat(t,"-menu-submenu-expand-icon")]:{position:"absolute",insetInlineEnd:e.paddingXS,["".concat(t,"-menu-submenu-arrow-icon")]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:I,fontStyle:"normal"}}}),["".concat(n,"-item-group-list")]:{margin:"0 ".concat(Iy(e.marginXS)),padding:0,listStyle:"none"},["".concat(n,"-submenu-title")]:{paddingInlineEnd:e.calc(C).add(e.fontSizeSM).equal()},["".concat(n,"-submenu-vertical")]:{position:"relative"},["".concat(n,"-submenu").concat(n,"-submenu-disabled ").concat(t,"-menu-submenu-title")]:{["&, ".concat(t,"-menu-submenu-arrow-icon")]:{color:d,backgroundColor:m,cursor:"not-allowed"}},["".concat(n,"-submenu-selected ").concat(t,"-menu-submenu-title")]:{color:e.colorPrimary}})}},[NN(e,"slide-up"),NN(e,"slide-down"),lJ(e,"move-up"),lJ(e,"move-down"),iN(e,"zoom-big")]]},gJ=Uw("Dropdown",(e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:o,componentCls:r}=e,a=xw(e,{menuCls:"".concat(r,"-menu"),dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[sJ(a),cJ(a)]}),(e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},dW({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),sW(e))),{resetStyle:!1}),uJ=t=>{const{menu:n,arrow:o,prefixCls:r,children:a,trigger:i,disabled:l,dropdownRender:c,getPopupContainer:s,overlayClassName:g,rootClassName:u,overlayStyle:d,open:I,onOpenChange:C,visible:m,onVisibleChange:h,mouseEnterDelay:p=.15,mouseLeaveDelay:f=.1,autoAdjustOverflow:A=!0,placement:b="",overlay:v,transitionName:y}=t,{getPopupContainer:Z,getPrefixCls:S,direction:G,dropdown:B}=e.useContext(gv);tS("Dropdown");const k=e.useMemo((()=>{const e=S();return void 0!==y?y:b.includes("top")?"".concat(e,"-slide-down"):"".concat(e,"-slide-up")}),[S,b,y]),w=e.useMemo((()=>b?b.includes("Center")?b.slice(0,b.indexOf("Center")):b:"rtl"===G?"bottomRight":"bottomLeft"),[b,G]);const R=S("dropdown",r),V=Zw(R),[W,x,X]=gJ(R,V),[,N]=nk(),J=e.Children.only(a),E=ZW(J,{className:BG()("".concat(R,"-trigger"),{["".concat(R,"-rtl")]:"rtl"===G},J.props.className),disabled:l}),H=l?[]:i;let Y;H&&H.includes("contextMenu")&&(Y=!0);const[F,K]=QG(!1,{value:null!==I&&void 0!==I?I:m}),M=jG((e=>{null===C||void 0===C||C(e,{source:"trigger"}),null===h||void 0===h||h(e),K(e)})),L=BG()(g,u,x,X,V,null===B||void 0===B?void 0:B.className,{["".concat(R,"-rtl")]:"rtl"===G}),T=fW({arrowPointAtCenter:"object"===typeof o&&o.pointAtCenter,autoAdjustOverflow:A,offset:N.marginXXS,arrowWidth:o?N.sizePopupArrow:0,borderRadius:N.borderRadius}),z=e.useCallback((()=>{(null===n||void 0===n?void 0:n.selectable)&&(null===n||void 0===n?void 0:n.multiple)||(null===C||void 0===C||C(!1,{source:"menu"}),K(!1))}),[null===n||void 0===n?void 0:n.selectable,null===n||void 0===n?void 0:n.multiple]),[D,O]=Rw("Dropdown",null===d||void 0===d?void 0:d.zIndex);let j=e.createElement(lW,Object.assign({alignPoint:Y},cW(t,["rootClassName"]),{mouseEnterDelay:p,mouseLeaveDelay:f,visible:F,builtinPlacements:T,arrow:!!o,overlayClassName:L,prefixCls:R,getPopupContainer:s||Z,transitionName:k,trigger:H,overlay:()=>{let t;return t=(null===n||void 0===n?void 0:n.items)?e.createElement($N,Object.assign({},n)):"function"===typeof v?v():v,c&&(t=c(t)),t=e.Children.only("string"===typeof t?e.createElement("span",null,t):t),e.createElement(yN,{prefixCls:"".concat(R,"-menu"),rootClassName:BG()(X,V),expandIcon:e.createElement("span",{className:"".concat(R,"-menu-submenu-arrow")},e.createElement(xR,{className:"".concat(R,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:z,validator:e=>{let{mode:t}=e}},t)},placement:w,onVisibleChange:M,overlayStyle:Object.assign(Object.assign(Object.assign({},null===B||void 0===B?void 0:B.style),d),{zIndex:D})}),E);return D&&(j=e.createElement(Sw.Provider,{value:O},j)),W(j)};const dJ=bW(uJ,"dropdown",(e=>e),(function(e){return Object.assign(Object.assign({},e),{align:{overflow:{adjustX:!1,adjustY:!1}}})}));uJ._InternalPanelDoNotUseOrYouWillBeFired=t=>e.createElement(dJ,Object.assign({},t),e.createElement("span",null));const IJ=uJ,CJ=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)].join(",")}}}}},mJ=Ow("Wave",(e=>[CJ(e)])),hJ="ant-wave-target";function pJ(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function fJ(e){return Number.isNaN(e)?0:e}const AJ=t=>{const{className:n,target:o,component:r}=t,a=e.useRef(null),[i,l]=e.useState(null),[c,s]=e.useState([]),[g,u]=e.useState(0),[d,I]=e.useState(0),[C,m]=e.useState(0),[h,p]=e.useState(0),[f,A]=e.useState(!1),b={left:g,top:d,width:C,height:h,borderRadius:c.map((e=>"".concat(e,"px"))).join(" ")};function v(){const e=getComputedStyle(o);l(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:o}=getComputedStyle(e);return pJ(t)?t:pJ(n)?n:pJ(o)?o:null}(o));const t="static"===e.position,{borderLeftWidth:n,borderTopWidth:r}=e;u(t?o.offsetLeft:fJ(-parseFloat(n))),I(t?o.offsetTop:fJ(-parseFloat(r))),m(o.offsetWidth),p(o.offsetHeight);const{borderTopLeftRadius:a,borderTopRightRadius:i,borderBottomLeftRadius:c,borderBottomRightRadius:g}=e;s([a,i,g,c].map((e=>fJ(parseFloat(e)))))}if(i&&(b["--wave-color"]=i),e.useEffect((()=>{if(o){const e=kB((()=>{v(),A(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(v),t.observe(o)),()=>{kB.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!f)return null;const y=("Checkbox"===r||"Radio"===r)&&(null===o||void 0===o?void 0:o.classList.contains(hJ));return e.createElement(DB,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=a.current)||void 0===n?void 0:n.parentElement;iv(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},((t,o)=>{let{className:r}=t;return e.createElement("div",{ref:WG(a,o),className:BG()(n,{"wave-quick":y},r),style:b})}))},bJ=(t,n)=>{var o;const{component:r}=n;if("Checkbox"===r&&!(null===(o=t.querySelector("input"))||void 0===o?void 0:o.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",null===t||void 0===t||t.insertBefore(a,null===t||void 0===t?void 0:t.firstChild),nv(e.createElement(AJ,Object.assign({},n,{target:t})),a)},vJ=(t,n,o)=>{const{wave:r}=e.useContext(gv),[,a,i]=nk(),l=jG((e=>{const l=t.current;if((null===r||void 0===r?void 0:r.disabled)||!l)return;const c=l.querySelector(".".concat(hJ))||l,{showEffect:s}=r||{};(s||bJ)(c,{className:n,token:a,component:o,event:e,hashId:i})})),c=e.useRef();return e=>{kB.cancel(c.current),c.current=kB((()=>{l(e)}))}};const yJ=t=>{const{children:n,disabled:o,component:r}=t,{getPrefixCls:a}=(0,e.useContext)(gv),i=(0,e.useRef)(null),l=a("wave"),[,c]=mJ(l),s=vJ(i,BG()(l,c),r);if(e.useEffect((()=>{const e=i.current;if(!e||1!==e.nodeType||o)return;const t=t=>{!YV(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||s(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[o]),!e.isValidElement(n))return null!==n&&void 0!==n?n:null;return ZW(n,{ref:XG(n)?WG(n.ref,i):i})};var ZJ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const SJ=e.createContext(void 0),GJ=t=>{const{getPrefixCls:n,direction:o}=e.useContext(gv),{prefixCls:r,size:a,className:i}=t,l=ZJ(t,["prefixCls","size","className"]),c=n("btn-group",r),[,,s]=nk();let g="";switch(a){case"large":g="lg";break;case"small":g="sm"}const u=BG()(c,{["".concat(c,"-").concat(g)]:g,["".concat(c,"-rtl")]:"rtl"===o},i,s);return e.createElement(SJ.Provider,{value:a},e.createElement("div",Object.assign({},l,{className:u})))},BJ=/^[\u4e00-\u9fa5]{2}$/,kJ=BJ.test.bind(BJ);function wJ(e){return"danger"===e?{danger:!0}:{type:e}}function RJ(e){return"string"===typeof e}function VJ(e){return"text"===e||"link"===e}function WJ(t,n){let o=!1;const r=[];return e.Children.forEach(t,(e=>{const t=typeof e,n="string"===t||"number"===t;if(o&&n){const t=r.length-1,n=r[t];r[t]="".concat(n).concat(e)}else r.push(e);o=n})),e.Children.map(r,(t=>function(t,n){if(null===t||void 0===t)return;const o=n?" ":"";return"string"!==typeof t&&"number"!==typeof t&&RJ(t.type)&&kJ(t.props.children)?ZW(t,{children:t.props.children.split("").join(o)}):RJ(t)?kJ(t)?e.createElement("span",null,t.split("").join(o)):e.createElement("span",null,t):vW(t)?e.createElement("span",null,t):t}(t,n)))}const xJ=(0,e.forwardRef)(((t,n)=>{const{className:o,style:r,children:a,prefixCls:i}=t,l=BG()("".concat(i,"-icon"),o);return e.createElement("span",{ref:n,className:l,style:r},a)})),XJ=xJ,NJ=(0,e.forwardRef)(((t,n)=>{const{prefixCls:o,className:r,style:a,iconClassName:i}=t,l=BG()("".concat(o,"-loading-icon"),r);return e.createElement(XJ,{prefixCls:o,className:l,style:a,ref:n},e.createElement(nw,{className:i}))})),JJ=()=>({width:0,opacity:0,transform:"scale(0)"}),EJ=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),HJ=t=>{const{prefixCls:n,loading:o,existIcon:r,className:a,style:i}=t,l=!!o;return r?e.createElement(NJ,{prefixCls:n,className:a,style:i}):e.createElement(DB,{visible:l,motionName:"".concat(n,"-loading-icon-motion"),motionLeave:l,removeOnLeave:!0,onAppearStart:JJ,onAppearActive:EJ,onEnterStart:JJ,onEnterActive:EJ,onLeaveStart:EJ,onLeaveActive:JJ},((t,o)=>{let{className:r,style:l}=t;return e.createElement(NJ,{prefixCls:n,className:a,style:Object.assign(Object.assign({},i),l),ref:o,iconClassName:r})}))},YJ=(e,t)=>({["> span, > ".concat(e)]:{"&:not(:last-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),FJ=e=>{const{componentCls:t,fontSize:n,lineWidth:o,groupBorderColor:r,colorErrorHover:a}=e;return{["".concat(t,"-group")]:[{position:"relative",display:"inline-flex",["> span, > ".concat(t)]:{"&:not(:last-child)":{["&, & > ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(o).mul(-1).equal(),["&, & > ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},["".concat(t,"-icon-only")]:{fontSize:n}},YJ("".concat(t,"-primary"),r),YJ("".concat(t,"-danger"),a)]}},KJ=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:o}=e;return xw(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:o,buttonIconOnlyFontSize:n})},MJ=e=>{var t,n,o,r,a,i;const l=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,c=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,s=null!==(o=e.contentFontSizeLG)&&void 0!==o?o:e.fontSizeLG,g=null!==(r=e.contentLineHeight)&&void 0!==r?r:rG(l),u=null!==(a=e.contentLineHeightSM)&&void 0!==a?a:rG(c),d=null!==(i=e.contentLineHeightLG)&&void 0!==i?i:rG(s);return{fontWeight:400,defaultShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline),primaryShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline),dangerShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline),primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,contentFontSize:l,contentFontSizeSM:c,contentFontSizeLG:s,contentLineHeight:g,contentLineHeightSM:u,contentLineHeightLG:d,paddingBlock:Math.max((e.controlHeight-l*g)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-c*u)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-s*d)/2-e.lineWidth,0)}},LJ=e=>{const{componentCls:t,iconCls:n,fontWeight:o}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:o,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},["".concat(t,"-icon")]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},gk(e)),["&".concat(t,"-two-chinese-chars::first-letter")]:{letterSpacing:"0.34em"},["&".concat(t,"-two-chinese-chars > *:not(").concat(n,")")]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},TJ=(e,t,n)=>({["&:not(:disabled):not(".concat(e,"-disabled)")]:{"&:hover":t,"&:active":n}}),zJ=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),DJ=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),OJ=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),jJ=(e,t,n,o,r,a,i,l)=>({["&".concat(e,"-background-ghost")]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:o||void 0,boxShadow:"none"},TJ(e,Object.assign({background:t},i),Object.assign({background:t},l))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:a||void 0}})}),UJ=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:Object.assign({},OJ(e))}),PJ=e=>Object.assign({},UJ(e)),QJ=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:{cursor:"not-allowed",color:e.colorTextDisabled}}),_J=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},PJ(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),TJ(e.componentCls,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),jJ(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},TJ(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),jJ(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),UJ(e))}),qJ=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},PJ(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),TJ(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),jJ(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},TJ(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),jJ(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),UJ(e))}),$J=e=>Object.assign(Object.assign({},_J(e)),{borderStyle:"dashed"}),eE=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},TJ(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),QJ(e)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign({color:e.colorError},TJ(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),QJ(e))}),tE=e=>Object.assign(Object.assign(Object.assign({},TJ(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),QJ(e)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign({color:e.colorError},QJ(e)),TJ(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive}))}),nE=e=>{const{componentCls:t}=e;return{["".concat(t,"-default")]:_J(e),["".concat(t,"-primary")]:qJ(e),["".concat(t,"-dashed")]:$J(e),["".concat(t,"-link")]:eE(e),["".concat(t,"-text")]:tE(e),["".concat(t,"-ghost")]:jJ(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},oE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:o,fontSize:r,lineHeight:a,borderRadius:i,buttonPaddingHorizontal:l,iconCls:c,buttonPaddingVertical:s}=e,g="".concat(n,"-icon-only");return[{["".concat(t)]:{fontSize:r,lineHeight:a,height:o,padding:"".concat(Iy(s)," ").concat(Iy(l)),borderRadius:i,["&".concat(g)]:{width:o,paddingInline:0,["&".concat(n,"-compact-item")]:{flex:"none"},["&".concat(n,"-round")]:{width:"auto"},[c]:{fontSize:e.buttonIconOnlyFontSize}},["&".concat(n,"-loading")]:{opacity:e.opacityLoading,cursor:"default"},["".concat(n,"-loading-icon")]:{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}}},{["".concat(n).concat(n,"-circle").concat(t)]:zJ(e)},{["".concat(n).concat(n,"-round").concat(t)]:DJ(e)}]},rE=e=>{const t=xw(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return oE(t,e.componentCls)},aE=e=>{const t=xw(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return oE(t,"".concat(e.componentCls,"-sm"))},iE=e=>{const t=xw(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return oE(t,"".concat(e.componentCls,"-lg"))},lE=e=>{const{componentCls:t}=e;return{[t]:{["&".concat(t,"-block")]:{width:"100%"}}}},cE=Uw("Button",(e=>{const t=KJ(e);return[LJ(t),rE(t),aE(t),iE(t),lE(t),nE(t),FJ(t)]}),MJ,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function sE(e,t,n){const{focusElCls:o,focus:r,borderElCls:a}=n,i=a?"> *":"",l=["hover",r?"focus":null,"active"].filter(Boolean).map((e=>"&:".concat(e," ").concat(i))).join(",");return{["&-item:not(".concat(t,"-last-item)")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[l]:{zIndex:2}},o?{["&".concat(o)]:{zIndex:2}}:{}),{["&[disabled] ".concat(i)]:{zIndex:0}})}}function gE(e,t,n){const{borderElCls:o}=n,r=o?"> ".concat(o):"";return{["&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(r)]:{borderRadius:0},["&-item:not(".concat(t,"-last-item)").concat(t,"-first-item")]:{["& ".concat(r,", &").concat(e,"-sm ").concat(r,", &").concat(e,"-lg ").concat(r)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(t,"-first-item)").concat(t,"-last-item")]:{["& ".concat(r,", &").concat(e,"-sm ").concat(r,", &").concat(e,"-lg ").concat(r)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function uE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,o="".concat(n,"-compact");return{[o]:Object.assign(Object.assign({},sE(e,o,t)),gE(n,o,t))}}function dE(e,t){return{["&-item:not(".concat(t,"-last-item)")]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function IE(e){const t="".concat(e.componentCls,"-compact-vertical");return{[t]:Object.assign(Object.assign({},dE(e,t)),(n=e.componentCls,o=t,{["&-item:not(".concat(o,"-first-item):not(").concat(o,"-last-item)")]:{borderRadius:0},["&-item".concat(o,"-first-item:not(").concat(o,"-last-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderEndEndRadius:0,borderEndStartRadius:0}},["&-item".concat(o,"-last-item:not(").concat(o,"-first-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,o}const CE=e=>{const{componentCls:t,calc:n}=e;return{[t]:{["&-compact-item".concat(t,"-primary")]:{["&:not([disabled]) + ".concat(t,"-compact-item").concat(t,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat(Iy(e.lineWidth)," * 2)"),backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{["&".concat(t,"-primary")]:{["&:not([disabled]) + ".concat(t,"-compact-vertical-item").concat(t,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:"calc(100% + ".concat(Iy(e.lineWidth)," * 2)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},mE=jw(["Button","compact"],(e=>{const t=KJ(e);return[uE(t),IE(t),CE(t)]}),MJ);var hE=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const pE=e.forwardRef(((t,n)=>{var o,r,a;const{loading:i=!1,prefixCls:l,type:c,danger:s=!1,shape:g="default",size:u,styles:d,disabled:I,className:C,rootClassName:m,children:h,icon:p,iconPosition:f="start",ghost:A=!1,block:b=!1,htmlType:v="button",classNames:y,style:Z={},autoInsertSpace:S}=t,G=hE(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),B=c||"default",{getPrefixCls:k,direction:w,button:R}=(0,e.useContext)(gv),V=null===(o=null!==S&&void 0!==S?S:null===R||void 0===R?void 0:R.autoInsertSpace)||void 0===o||o,W=k("btn",l),[x,X,N]=cE(W),J=(0,e.useContext)(pG),E=null!==I&&void 0!==I?I:J,H=(0,e.useContext)(SJ),Y=(0,e.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(i)),[i]),[F,K]=(0,e.useState)(Y.loading),[M,L]=(0,e.useState)(!1),T=WG(n,(0,e.createRef)()),z=1===e.Children.count(h)&&!p&&!VJ(B);(0,e.useEffect)((()=>{let e=null;return Y.delay>0?e=setTimeout((()=>{e=null,K(!0)}),Y.delay):K(Y.loading),function(){e&&(clearTimeout(e),e=null)}}),[Y]),(0,e.useEffect)((()=>{if(!T||!T.current||!V)return;const e=T.current.textContent;z&&kJ(e)?M||L(!0):M&&L(!1)}),[T]);const D=e=>{const{onClick:n}=t;F||E?e.preventDefault():null===n||void 0===n||n(e)};const{compactSize:O,compactItemClassnames:j}=KX(W,w),U={large:"lg",small:"sm",middle:void 0},P=XX((e=>{var t,n;return null!==(n=null!==(t=null!==u&&void 0!==u?u:O)&&void 0!==t?t:H)&&void 0!==n?n:e})),Q=P&&U[P]||"",_=F?"loading":p,q=cW(G,["navigate"]),$=BG()(W,X,N,{["".concat(W,"-").concat(g)]:"default"!==g&&g,["".concat(W,"-").concat(B)]:B,["".concat(W,"-").concat(Q)]:Q,["".concat(W,"-icon-only")]:!h&&0!==h&&!!_,["".concat(W,"-background-ghost")]:A&&!VJ(B),["".concat(W,"-loading")]:F,["".concat(W,"-two-chinese-chars")]:M&&V&&!F,["".concat(W,"-block")]:b,["".concat(W,"-dangerous")]:s,["".concat(W,"-rtl")]:"rtl"===w,["".concat(W,"-icon-end")]:"end"===f},j,C,m,null===R||void 0===R?void 0:R.className),ee=Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),Z),te=BG()(null===y||void 0===y?void 0:y.icon,null===(r=null===R||void 0===R?void 0:R.classNames)||void 0===r?void 0:r.icon),ne=Object.assign(Object.assign({},(null===d||void 0===d?void 0:d.icon)||{}),(null===(a=null===R||void 0===R?void 0:R.styles)||void 0===a?void 0:a.icon)||{}),oe=p&&!F?e.createElement(XJ,{prefixCls:W,className:te,style:ne},p):e.createElement(HJ,{existIcon:!!p,prefixCls:W,loading:F}),re=h||0===h?WJ(h,z&&V):null;if(void 0!==q.href)return x(e.createElement("a",Object.assign({},q,{className:BG()($,{["".concat(W,"-disabled")]:E}),href:E?void 0:q.href,style:ee,onClick:D,ref:T,tabIndex:E?-1:0}),oe,re));let ae=e.createElement("button",Object.assign({},G,{type:v,className:$,style:ee,onClick:D,disabled:E,ref:T}),oe,re,!!j&&e.createElement(mE,{key:"compact",prefixCls:W}));return VJ(B)||(ae=e.createElement(yJ,{component:"Button",disabled:F},ae)),x(ae)})),fE=pE;fE.Group=GJ,fE.__ANT_BUTTON=!0;const AE=fE;function bE(e){return["small","middle","large"].includes(e)}function vE(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}const yE=e.createContext({latestIndex:0}),ZE=yE.Provider,SE=t=>{let{className:n,index:o,children:r,split:a,style:i}=t;const{latestIndex:l}=e.useContext(yE);return null===r||void 0===r?null:e.createElement(e.Fragment,null,e.createElement("div",{className:n,style:i},r),o<l&&a&&e.createElement("span",{className:"".concat(n,"-split")},a))};var GE=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const BE=e.forwardRef(((t,n)=>{var o,r;const{getPrefixCls:a,space:i,direction:l}=e.useContext(gv),{size:c=(null===i||void 0===i?void 0:i.size)||"small",align:s,className:g,rootClassName:u,children:d,direction:I="horizontal",prefixCls:C,split:m,style:h,wrap:p=!1,classNames:f,styles:A}=t,b=GE(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[v,y]=Array.isArray(c)?c:[c,c],Z=bE(y),S=bE(v),G=vE(y),B=vE(v),k=OR(d,{keepEmpty:!0}),w=void 0===s&&"horizontal"===I?"center":s,R=a("space",C),[V,W,x]=HX(R),X=BG()(R,null===i||void 0===i?void 0:i.className,W,"".concat(R,"-").concat(I),{["".concat(R,"-rtl")]:"rtl"===l,["".concat(R,"-align-").concat(w)]:w,["".concat(R,"-gap-row-").concat(y)]:Z,["".concat(R,"-gap-col-").concat(v)]:S},g,u,x),N=BG()("".concat(R,"-item"),null!==(o=null===f||void 0===f?void 0:f.item)&&void 0!==o?o:null===(r=null===i||void 0===i?void 0:i.classNames)||void 0===r?void 0:r.item);let J=0;const E=k.map(((t,n)=>{var o,r;null!==t&&void 0!==t&&(J=n);const a=t&&t.key||"".concat(N,"-").concat(n);return e.createElement(SE,{className:N,key:a,index:n,split:m,style:null!==(o=null===A||void 0===A?void 0:A.item)&&void 0!==o?o:null===(r=null===i||void 0===i?void 0:i.styles)||void 0===r?void 0:r.item},t)})),H=e.useMemo((()=>({latestIndex:J})),[J]);if(0===k.length)return null;const Y={};return p&&(Y.flexWrap="wrap"),!S&&B&&(Y.columnGap=v),!Z&&G&&(Y.rowGap=y),V(e.createElement("div",Object.assign({ref:n,className:X,style:Object.assign(Object.assign(Object.assign({},Y),null===i||void 0===i?void 0:i.style),h)},b),e.createElement(ZE,{value:H},E)))})),kE=BE;kE.Compact=TX;const wE=kE;var RE=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const VE=t=>{const{getPopupContainer:n,getPrefixCls:o,direction:r}=e.useContext(gv),{prefixCls:a,type:i="default",danger:l,disabled:c,loading:s,onClick:g,htmlType:u,children:d,className:I,menu:C,arrow:m,autoFocus:h,overlay:p,trigger:f,align:A,open:b,onOpenChange:v,placement:y,getPopupContainer:Z,href:S,icon:G=e.createElement(mX,null),title:B,buttonsRender:k=(e=>e),mouseEnterDelay:w,mouseLeaveDelay:R,overlayClassName:V,overlayStyle:W,destroyPopupOnHide:x,dropdownRender:X}=t,N=RE(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),J=o("dropdown",a),E="".concat(J,"-button"),H={menu:C,arrow:m,autoFocus:h,align:A,disabled:c,trigger:c?[]:f,onOpenChange:v,getPopupContainer:Z||n,mouseEnterDelay:w,mouseLeaveDelay:R,overlayClassName:V,overlayStyle:W,destroyPopupOnHide:x,dropdownRender:X},{compactSize:Y,compactItemClassnames:F}=KX(J,r),K=BG()(E,F,I);"overlay"in t&&(H.overlay=p),"open"in t&&(H.open=b),H.placement="placement"in t?y:"rtl"===r?"bottomLeft":"bottomRight";const M=e.createElement(AE,{type:i,danger:l,disabled:c,loading:s,onClick:g,htmlType:u,href:S,title:B},d),L=e.createElement(AE,{type:i,danger:l,icon:G}),[T,z]=k([M,L]);return e.createElement(wE.Compact,Object.assign({className:K,size:Y,block:!0},N),T,e.createElement(IJ,Object.assign({},H),z))};VE.__ANT_BUTTON=!0;const WE=VE,xE=IJ;xE.Button=WE;const XE=xE,NE=e=>{let{page:t,title:n,nav:o,setNav:r}=e;return(0,et.jsx)("div",{className:"NavHeader tw-ml-7 tw-text-white tw-font-semibold tw-text-base ".concat(o===n?"nav-chosen":""),onClick:()=>r(n),children:(0,et.jsx)(_e,{to:"/".concat(t)||0,children:n})})},JE=t=>{const n=Se(),o=ye(),r=R(),[a,i]=(0,e.useState)("Trang ch\u1ee7"),{user:l,isAuthUser:c}=A((e=>e.authentication));(0,e.useEffect)((()=>{"/bookap"===o.pathname?i("\u0110\u0103ng k\xed kh\xe1m b\u1ec7nh"):"/login"===o.pathname?i("\u0110\u0103ng nh\u1eadp"):o.pathname.includes("/signup")?i("\u0110\u0103ng k\xed"):["/host","/staff","/user"].some((e=>o.pathname.includes(e)))?i("T\u1ed5ng quan"):i("Trang ch\u1ee7")}),[o]);const s={host:[{key:"1",label:(0,et.jsx)(_e,{to:"/host/clinic",children:"Th\xf4ng tin ph\xf2ng kh\xe1m"})},{key:"2",label:(0,et.jsx)(_e,{to:"/host/staffTable",children:"Qu\u1ea3n l\xed nh\xe2n vi\xean"})}],staff:[{key:"1",label:(0,et.jsx)(_e,{to:"/staff/clinic",children:"Th\xf4ng tin ph\xf2ng kh\xe1m"})},{key:"2",label:(0,et.jsx)(_e,{to:"/staff/appointments",children:"Qu\u1ea3n l\xed l\u1ecbch h\u1eb9n"})},{key:"3",label:(0,et.jsx)(_e,{to:"/staff/QRscan",children:"Qu\xe9t m\xe3 QR"})}],user:[{key:"1",label:(0,et.jsx)(_e,{to:"user/appointments",children:"L\u1ecbch h\u1eb9n c\u1ee7a t\xf4i"})}]},g=[{key:"1",label:(0,et.jsx)(_e,{to:"/user/".concat(l.uid),activeClassName:"current",children:"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"})},{key:"2",label:(0,et.jsx)(_e,{to:"/help",children:"Tr\u1ee3 gi\xfap"})},{key:"3",label:(0,et.jsx)(_e,{to:"/setting",children:"C\xe0i \u0111\u1eb7t"})},{type:"divider"},{key:"4",label:(0,et.jsx)("div",{onClick:async()=>{await Db(),r($n()),localStorage.removeItem("user"),RR.success({message:"\u0110\u0103ng xu\u1ea5t",description:"\u0110\u0103ng xu\u1ea5t th\xe0nh c\xf4ng"}),["/host","/staff","/user","/bookap"].some((e=>o.pathname.includes(e)))&&n("/home")},children:"\u0110\u0103ng xu\u1ea5t"})}];return(0,et.jsxs)("div",{className:"Header tw-px-24 tw-flex tw-flex-row tw-p-5 tw-fixed tw-top-0 tw-justify-between tw-items-center",children:[(0,et.jsxs)("div",{className:"Dogtor tw-flex tw-flex-row tw-items-center",onClick:()=>{n("/home")},children:[(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/dogtor.png"),alt:"dogtor",width:"60px",height:"60px",className:"tw-rounded-full"}),(0,et.jsx)("div",{className:"tw-font-bold tw-text-4xl tw-text-white tw-ml-2",children:"Pharma Track"})]}),(0,et.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",children:[(0,et.jsx)(NE,{page:"home",title:"Trang ch\u1ee7",nav:a,setNav:i}),(!c||"user"===l.role)&&(0,et.jsx)(NE,{page:"bookap",title:"\u0110\u0103ng k\xed kh\xe1m b\u1ec7nh",nav:a,setNav:i}),c&&(0,et.jsx)(XE,{menu:{items:s[l.role]},placement:"bottomRight",arrow:!0,trigger:["click"],children:(0,et.jsx)("div",{className:"RoleDropdown tw-ml-7 tw-text-white tw-font-semibold tw-text-base ".concat("T\u1ed5ng quan"===a?"nav-chosen":""),onClick:()=>i("T\u1ed5ng quan"),children:"T\u1ed5ng quan"})}),c&&(0,et.jsx)(XE,{menu:{items:g},placement:"bottomRight",arrow:!0,trigger:["click"],children:(0,et.jsxs)("div",{className:"header_primary-btn",children:["Xin ch\xe0o, ",l.username]})}),!c&&(0,et.jsx)("div",{className:"header_primary-btn",onClick:()=>{n("/login")},children:"\u0110\u0103ng nh\u1eadp"})]})]})},EE=function(e){var t,n=Kn(),o=e||{},r=o.reducer,a=void 0===r?void 0:r,i=o.middleware,l=void 0===i?n():i,c=o.devTools,s=void 0===c||c,g=o.preloadedState,u=void 0===g?void 0:g,d=o.enhancers,I=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!Jn(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=mn(a)}var C=l;"function"===typeof C&&(C=C(n));var m=pn.apply(void 0,C),h=hn;s&&(h=Nn(Wn({trace:!1},"object"===typeof s&&s)));var p=new Yn(m),f=p;return Array.isArray(I)?f=Zn([m],I):"function"===typeof I&&(f=I(p)),Cn(t,u,h.apply(void 0,f))}({reducer:{authentication:eo},middleware:e=>e({serializableCheck:!1})}),HE=EE,YE=t=>{let{code:n=404}=t;const{isAuthUser:o}=A((e=>e.authentication)),r=(0,e.useMemo)((()=>{switch(n){case 403:return"Sorry, You can not access this page.";case 404:return"Sorry, The page you visit does not exist.";case 500:return"Sorry, something went wrong";default:return"Sorry, something went wrong."}}),[n]);return(0,et.jsxs)("div",{className:"page",children:[(0,et.jsx)("h1",{children:n}),(0,et.jsx)("p",{children:r})]})};var FE=n(115),KE=n.n(FE);const ME=t=>((0,e.useEffect)((()=>{KE().init({duration:1e3})}),[]),(0,et.jsxs)("div",{"data-aos":"fade-in","data-aos-easing":"ease-in-out","data-aos-once":"true",className:"HomePageMain tw-block tw-mt-7",children:[(0,et.jsxs)("div",{className:"tw-flex tw-items-center tw-mx-auto tw-max-w-5xl",children:[(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/dogtor.png"),alt:"dogtor",width:"370px",height:"370px"}),(0,et.jsxs)("div",{className:"tw-ml-36",children:[(0,et.jsxs)("div",{className:"tw-font-bold tw-text-6xl tw-text-blue-600",children:[" ","Pharma Track"]}),(0,et.jsxs)("div",{className:"tw-font-normal tw-text-5xl tw-text-black tw-text-truncate tw-mt-7",children:[" ","Gi\u1ea3i ph\xe1p kh\xe1m b\u1ec7nh nhanh ch\xf3ng cho t\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi"]})]})]}),(0,et.jsx)("div",{className:"HomePageDraw tw-flex tw-mx-auto tw-max-w-5xl tw-h-1 tw-bg-gray-200 tw-border-0"})]})),LE=t=>{(0,e.useEffect)((()=>{KE().init({duration:1e3})}),[]);const n=[{img:"".concat("/pharma-track-fe","/assets/doctor1.png"),title:"\u0110a d\u1ea1ng ph\xf2ng kh\xe1m",reason:"Cho t\u1edbi nay, Pharma Track \u0111\xe3 h\u1ee3p t\xe1c v\u1edbi 120 ph\xf2ng kh\xe1m tr\xean to\xe0n qu\u1ed1c, trong \u0111\xf3 c\xf3 70 ph\xf2ng kh\xe1m \u1edf TP.HCM",animation:"fade-right",reverse:!1,draw:!0},{img:"".concat("/pharma-track-fe","/assets/doctor2.png"),title:"\u0110\u1eb7t l\u1ecbch kh\xe1m ngay l\u1eadp t\u1ee9c",reason:"Kh\xf4ng c\u1ea7n th\u1ee7 t\u1ee5c x\xe1c minh hay \u0111\u0103ng nh\u1eadp, v\u1edbi Pharma Track b\u1ea1n c\xf3 th\u1ec3 \u0111\u1eb7t l\u1ecbch kh\xe1m ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc",animation:"fade-left",reverse:!0,draw:!0},{img:"".concat("/pharma-track-fe","/assets/doctor3.png"),title:"T\xecm ph\xf2ng kh\xe1m g\u1ea7n nh\u1ea5t",reason:"S\u1eed d\u1ee5ng google maps API c\xf9ng v\u1edbi d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c cung c\u1ea5p t\u1eeb ph\xf2ng kh\xe1m, Pharma Track s\u1ebd gi\xfap b\u1ea1n t\xecm ra ph\xf2ng kh\xe1m g\u1ea7n nh\u1ea5t",animation:"fade-right",reverse:!1,draw:!1}];return(0,et.jsxs)("div",{children:[(0,et.jsx)("div",{"data-aos":"fade-in","data-aos-easing":"ease-in-out","data-aos-once":"true",className:"HomePageReason tw-flex tw-font-bold tw-text-4xl tw-mt-16 tw-text-black tw-justify-center",children:"L\xfd do b\u1ea1n n\xean d\xf9ng Pharma Track"}),n.map((e=>(e=>(0,et.jsxs)("div",{"data-aos":e.animation,"data-aos-easing":"ease-in-out","data-aos-once":"true",children:[(0,et.jsxs)("div",{className:"tw-flex tw-items-center tw-mx-auto tw-max-w-4xl tw-py-16 ".concat(!1===e.reverse?"":"tw-flex-row-reverse"),children:[(0,et.jsx)("img",{src:e.img,width:"300px",height:"300px"}),(0,et.jsxs)("div",{className:"tw-px-16",children:[(0,et.jsx)("div",{className:"tw-font-bold tw-text-4xl tw-text-black",children:e.title}),(0,et.jsxs)("div",{className:"tw-font-medium tw-text-3xl tw-text-black tw-text-truncate tw-mt-7",children:[" ",e.reason]})]})]}),(0,et.jsx)("div",{className:"HomePageDraw ".concat(!1===e.draw?"":"tw-flex tw-mx-auto tw-max-w-5xl tw-h-1 tw-bg-gray-200 tw-border-0")})]}))(e)))]})},TE=e=>{const t=Se(),{user:n}=A((e=>e.authentication));return(0,et.jsxs)("div",{className:"HomePage tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)(ME,{}),(0,et.jsx)(LE,{}),!["host","staff"].includes(null===n||void 0===n?void 0:n.role)&&(0,et.jsx)("div",{className:"RegBtn tw-px-12 tw-py-2.5 tw-bg-white tw-font-semibold tw-text-xl tw-my-5",onClick:()=>t("/bookap"),children:"\u0110\u1eb7t kh\xe1m ngay!"})]})};var zE=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===DE}(e)}(e)};var DE="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function OE(e,t){return!1!==t.clone&&t.isMergeableObject(e)?UE((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function jE(e,t,n){return e.concat(t).map((function(e){return OE(e,n)}))}function UE(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||jE,n.isMergeableObject=n.isMergeableObject||zE;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):function(e,t,n){var o={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){o[t]=OE(e[t],n)})),Object.keys(t).forEach((function(r){n.isMergeableObject(t[r])&&e[r]?o[r]=UE(e[r],t[r],n):o[r]=OE(t[r],n)})),o}(e,t,n):OE(t,n)}UE.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return UE(e,n,t)}),{})};const PE=UE;const QE="object"==typeof global&&global&&global.Object===Object&&global;var _E="object"==typeof self&&self&&self.Object===Object&&self;const qE=QE||_E||Function("return this")();const $E=qE.Symbol;var eH=Object.prototype,tH=eH.hasOwnProperty,nH=eH.toString,oH=$E?$E.toStringTag:void 0;const rH=function(e){var t=tH.call(e,oH),n=e[oH];try{e[oH]=void 0;var o=!0}catch(Tie){}var r=nH.call(e);return o&&(t?e[oH]=n:delete e[oH]),r};var aH=Object.prototype.toString;const iH=function(e){return aH.call(e)};var lH=$E?$E.toStringTag:void 0;const cH=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":lH&&lH in Object(e)?rH(e):iH(e)};const sH=function(e,t){return function(n){return e(t(n))}};const gH=sH(Object.getPrototypeOf,Object);const uH=function(e){return null!=e&&"object"==typeof e};var dH=Function.prototype,IH=Object.prototype,CH=dH.toString,mH=IH.hasOwnProperty,hH=CH.call(Object);const pH=function(e){if(!uH(e)||"[object Object]"!=cH(e))return!1;var t=gH(e);if(null===t)return!0;var n=mH.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&CH.call(n)==hH};const fH=function(){this.__data__=[],this.size=0};const AH=function(e,t){return e===t||e!==e&&t!==t};const bH=function(e,t){for(var n=e.length;n--;)if(AH(e[n][0],t))return n;return-1};var vH=Array.prototype.splice;const yH=function(e){var t=this.__data__,n=bH(t,e);return!(n<0)&&(n==t.length-1?t.pop():vH.call(t,n,1),--this.size,!0)};const ZH=function(e){var t=this.__data__,n=bH(t,e);return n<0?void 0:t[n][1]};const SH=function(e){return bH(this.__data__,e)>-1};const GH=function(e,t){var n=this.__data__,o=bH(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};function BH(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}BH.prototype.clear=fH,BH.prototype.delete=yH,BH.prototype.get=ZH,BH.prototype.has=SH,BH.prototype.set=GH;const kH=BH;const wH=function(){this.__data__=new kH,this.size=0};const RH=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const VH=function(e){return this.__data__.get(e)};const WH=function(e){return this.__data__.has(e)};const xH=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const XH=function(e){if(!xH(e))return!1;var t=cH(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const NH=qE["__core-js_shared__"];var JH=function(){var e=/[^.]+$/.exec(NH&&NH.keys&&NH.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const EH=function(e){return!!JH&&JH in e};var HH=Function.prototype.toString;const YH=function(e){if(null!=e){try{return HH.call(e)}catch(Tie){}try{return e+""}catch(Tie){}}return""};var FH=/^\[object .+?Constructor\]$/,KH=Function.prototype,MH=Object.prototype,LH=KH.toString,TH=MH.hasOwnProperty,zH=RegExp("^"+LH.call(TH).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const DH=function(e){return!(!xH(e)||EH(e))&&(XH(e)?zH:FH).test(YH(e))};const OH=function(e,t){return null==e?void 0:e[t]};const jH=function(e,t){var n=OH(e,t);return DH(n)?n:void 0};const UH=jH(qE,"Map");const PH=jH(Object,"create");const QH=function(){this.__data__=PH?PH(null):{},this.size=0};const _H=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var qH=Object.prototype.hasOwnProperty;const $H=function(e){var t=this.__data__;if(PH){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return qH.call(t,e)?t[e]:void 0};var eY=Object.prototype.hasOwnProperty;const tY=function(e){var t=this.__data__;return PH?void 0!==t[e]:eY.call(t,e)};const nY=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=PH&&void 0===t?"__lodash_hash_undefined__":t,this};function oY(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}oY.prototype.clear=QH,oY.prototype.delete=_H,oY.prototype.get=$H,oY.prototype.has=tY,oY.prototype.set=nY;const rY=oY;const aY=function(){this.size=0,this.__data__={hash:new rY,map:new(UH||kH),string:new rY}};const iY=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const lY=function(e,t){var n=e.__data__;return iY(t)?n["string"==typeof t?"string":"hash"]:n.map};const cY=function(e){var t=lY(this,e).delete(e);return this.size-=t?1:0,t};const sY=function(e){return lY(this,e).get(e)};const gY=function(e){return lY(this,e).has(e)};const uY=function(e,t){var n=lY(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};function dY(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}dY.prototype.clear=aY,dY.prototype.delete=cY,dY.prototype.get=sY,dY.prototype.has=gY,dY.prototype.set=uY;const IY=dY;const CY=function(e,t){var n=this.__data__;if(n instanceof kH){var o=n.__data__;if(!UH||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new IY(o)}return n.set(e,t),this.size=n.size,this};function mY(e){var t=this.__data__=new kH(e);this.size=t.size}mY.prototype.clear=wH,mY.prototype.delete=RH,mY.prototype.get=VH,mY.prototype.has=WH,mY.prototype.set=CY;const hY=mY;const pY=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e};const fY=function(){try{var e=jH(Object,"defineProperty");return e({},"",{}),e}catch(Tie){}}();const AY=function(e,t,n){"__proto__"==t&&fY?fY(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var bY=Object.prototype.hasOwnProperty;const vY=function(e,t,n){var o=e[t];bY.call(e,t)&&AH(o,n)&&(void 0!==n||t in e)||AY(e,t,n)};const yY=function(e,t,n,o){var r=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=o?o(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),r?AY(n,l,c):vY(n,l,c)}return n};const ZY=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o};const SY=function(e){return uH(e)&&"[object Arguments]"==cH(e)};var GY=Object.prototype,BY=GY.hasOwnProperty,kY=GY.propertyIsEnumerable;const wY=SY(function(){return arguments}())?SY:function(e){return uH(e)&&BY.call(e,"callee")&&!kY.call(e,"callee")};const RY=Array.isArray;const VY=function(){return!1};var WY="object"==typeof exports&&exports&&!exports.nodeType&&exports,xY=WY&&"object"==typeof module&&module&&!module.nodeType&&module,XY=xY&&xY.exports===WY?qE.Buffer:void 0;const NY=(XY?XY.isBuffer:void 0)||VY;var JY=/^(?:0|[1-9]\d*)$/;const EY=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&JY.test(e))&&e>-1&&e%1==0&&e<t};const HY=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var YY={};YY["[object Float32Array]"]=YY["[object Float64Array]"]=YY["[object Int8Array]"]=YY["[object Int16Array]"]=YY["[object Int32Array]"]=YY["[object Uint8Array]"]=YY["[object Uint8ClampedArray]"]=YY["[object Uint16Array]"]=YY["[object Uint32Array]"]=!0,YY["[object Arguments]"]=YY["[object Array]"]=YY["[object ArrayBuffer]"]=YY["[object Boolean]"]=YY["[object DataView]"]=YY["[object Date]"]=YY["[object Error]"]=YY["[object Function]"]=YY["[object Map]"]=YY["[object Number]"]=YY["[object Object]"]=YY["[object RegExp]"]=YY["[object Set]"]=YY["[object String]"]=YY["[object WeakMap]"]=!1;const FY=function(e){return uH(e)&&HY(e.length)&&!!YY[cH(e)]};const KY=function(e){return function(t){return e(t)}};var MY="object"==typeof exports&&exports&&!exports.nodeType&&exports,LY=MY&&"object"==typeof module&&module&&!module.nodeType&&module,TY=LY&&LY.exports===MY&&QE.process,zY=function(){try{var e=LY&&LY.require&&LY.require("util").types;return e||TY&&TY.binding&&TY.binding("util")}catch(Tie){}}();const DY=zY;var OY=DY&&DY.isTypedArray;const jY=OY?KY(OY):FY;var UY=Object.prototype.hasOwnProperty;const PY=function(e,t){var n=RY(e),o=!n&&wY(e),r=!n&&!o&&NY(e),a=!n&&!o&&!r&&jY(e),i=n||o||r||a,l=i?ZY(e.length,String):[],c=l.length;for(var s in e)!t&&!UY.call(e,s)||i&&("length"==s||r&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||EY(s,c))||l.push(s);return l};var QY=Object.prototype;const _Y=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||QY)};const qY=sH(Object.keys,Object);var $Y=Object.prototype.hasOwnProperty;const eF=function(e){if(!_Y(e))return qY(e);var t=[];for(var n in Object(e))$Y.call(e,n)&&"constructor"!=n&&t.push(n);return t};const tF=function(e){return null!=e&&HY(e.length)&&!XH(e)};const nF=function(e){return tF(e)?PY(e):eF(e)};const oF=function(e,t){return e&&yY(t,nF(t),e)};const rF=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var aF=Object.prototype.hasOwnProperty;const iF=function(e){if(!xH(e))return rF(e);var t=_Y(e),n=[];for(var o in e)("constructor"!=o||!t&&aF.call(e,o))&&n.push(o);return n};const lF=function(e){return tF(e)?PY(e,!0):iF(e)};const cF=function(e,t){return e&&yY(t,lF(t),e)};var sF="object"==typeof exports&&exports&&!exports.nodeType&&exports,gF=sF&&"object"==typeof module&&module&&!module.nodeType&&module,uF=gF&&gF.exports===sF?qE.Buffer:void 0,dF=uF?uF.allocUnsafe:void 0;const IF=function(e,t){if(t)return e.slice();var n=e.length,o=dF?dF(n):new e.constructor(n);return e.copy(o),o};const CF=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t};const mF=function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,a=[];++n<o;){var i=e[n];t(i,n,e)&&(a[r++]=i)}return a};const hF=function(){return[]};var pF=Object.prototype.propertyIsEnumerable,fF=Object.getOwnPropertySymbols,AF=fF?function(e){return null==e?[]:(e=Object(e),mF(fF(e),(function(t){return pF.call(e,t)})))}:hF;const bF=AF;const vF=function(e,t){return yY(e,bF(e),t)};const yF=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e};var ZF=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)yF(t,bF(e)),e=gH(e);return t}:hF;const SF=ZF;const GF=function(e,t){return yY(e,SF(e),t)};const BF=function(e,t,n){var o=t(e);return RY(e)?o:yF(o,n(e))};const kF=function(e){return BF(e,nF,bF)};const wF=function(e){return BF(e,lF,SF)};const RF=jH(qE,"DataView");const VF=jH(qE,"Promise");const WF=jH(qE,"Set");const xF=jH(qE,"WeakMap");var XF="[object Map]",NF="[object Promise]",JF="[object Set]",EF="[object WeakMap]",HF="[object DataView]",YF=YH(RF),FF=YH(UH),KF=YH(VF),MF=YH(WF),LF=YH(xF),TF=cH;(RF&&TF(new RF(new ArrayBuffer(1)))!=HF||UH&&TF(new UH)!=XF||VF&&TF(VF.resolve())!=NF||WF&&TF(new WF)!=JF||xF&&TF(new xF)!=EF)&&(TF=function(e){var t=cH(e),n="[object Object]"==t?e.constructor:void 0,o=n?YH(n):"";if(o)switch(o){case YF:return HF;case FF:return XF;case KF:return NF;case MF:return JF;case LF:return EF}return t});const zF=TF;var DF=Object.prototype.hasOwnProperty;const OF=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&DF.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const jF=qE.Uint8Array;const UF=function(e){var t=new e.constructor(e.byteLength);return new jF(t).set(new jF(e)),t};const PF=function(e,t){var n=t?UF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var QF=/\w*$/;const _F=function(e){var t=new e.constructor(e.source,QF.exec(e));return t.lastIndex=e.lastIndex,t};var qF=$E?$E.prototype:void 0,$F=qF?qF.valueOf:void 0;const eK=function(e){return $F?Object($F.call(e)):{}};const tK=function(e,t){var n=t?UF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const nK=function(e,t,n){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return UF(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return PF(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tK(e,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return _F(e);case"[object Symbol]":return eK(e)}};var oK=Object.create,rK=function(){function e(){}return function(t){if(!xH(t))return{};if(oK)return oK(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const aK=rK;const iK=function(e){return"function"!=typeof e.constructor||_Y(e)?{}:aK(gH(e))};const lK=function(e){return uH(e)&&"[object Map]"==zF(e)};var cK=DY&&DY.isMap;const sK=cK?KY(cK):lK;const gK=function(e){return uH(e)&&"[object Set]"==zF(e)};var uK=DY&&DY.isSet;const dK=uK?KY(uK):gK;var IK="[object Arguments]",CK="[object Function]",mK="[object Object]",hK={};hK[IK]=hK["[object Array]"]=hK["[object ArrayBuffer]"]=hK["[object DataView]"]=hK["[object Boolean]"]=hK["[object Date]"]=hK["[object Float32Array]"]=hK["[object Float64Array]"]=hK["[object Int8Array]"]=hK["[object Int16Array]"]=hK["[object Int32Array]"]=hK["[object Map]"]=hK["[object Number]"]=hK[mK]=hK["[object RegExp]"]=hK["[object Set]"]=hK["[object String]"]=hK["[object Symbol]"]=hK["[object Uint8Array]"]=hK["[object Uint8ClampedArray]"]=hK["[object Uint16Array]"]=hK["[object Uint32Array]"]=!0,hK["[object Error]"]=hK[CK]=hK["[object WeakMap]"]=!1;const pK=function e(t,n,o,r,a,i){var l,c=1&n,s=2&n,g=4&n;if(o&&(l=a?o(t,r,a,i):o(t)),void 0!==l)return l;if(!xH(t))return t;var u=RY(t);if(u){if(l=OF(t),!c)return CF(t,l)}else{var d=zF(t),I=d==CK||"[object GeneratorFunction]"==d;if(NY(t))return IF(t,c);if(d==mK||d==IK||I&&!a){if(l=s||I?{}:iK(t),!c)return s?GF(t,cF(l,t)):vF(t,oF(l,t))}else{if(!hK[d])return a?t:{};l=nK(t,d,c)}}i||(i=new hY);var C=i.get(t);if(C)return C;i.set(t,l),dK(t)?t.forEach((function(r){l.add(e(r,n,o,r,t,i))})):sK(t)&&t.forEach((function(r,a){l.set(a,e(r,n,o,a,t,i))}));var m=u?void 0:(g?s?wF:kF:s?lF:nF)(t);return pY(m||t,(function(r,a){m&&(r=t[a=r]),vY(l,a,e(r,n,o,a,t,i))})),l};const fK=function(e){return pK(e,5)};var AK=n(366),bK=n.n(AK);const vK=function(e,t){};const yK=function(e){return pK(e,4)};const ZK=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r};const SK=function(e){return"symbol"==typeof e||uH(e)&&"[object Symbol]"==cH(e)};function GK(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;if(a.has(r))return a.get(r);var i=e.apply(this,o);return n.cache=a.set(r,i)||a,i};return n.cache=new(GK.Cache||IY),n}GK.Cache=IY;const BK=GK;var kK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wK=/\\(\\)?/g,RK=function(e){var t=BK(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(kK,(function(e,n,o,r){t.push(o?r.replace(wK,"$1"):n||e)})),t}));const VK=RK;const WK=function(e){if("string"==typeof e||SK(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var xK=$E?$E.prototype:void 0,XK=xK?xK.toString:void 0;const NK=function e(t){if("string"==typeof t)return t;if(RY(t))return ZK(t,e)+"";if(SK(t))return XK?XK.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const JK=function(e){return null==e?"":NK(e)};const EK=function(e){return RY(e)?ZK(e,WK):SK(e)?[e]:CF(VK(JK(e)))};function HK(){return HK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},HK.apply(this,arguments)}function YK(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function FK(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function KK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var MK=(0,e.createContext)(void 0);MK.displayName="FormikContext";var LK=MK.Provider;MK.Consumer;function TK(){var t=(0,e.useContext)(MK);return t||vK(!1),t}var zK=function(e){return Array.isArray(e)&&0===e.length},DK=function(e){return"function"===typeof e},OK=function(e){return null!==e&&"object"===typeof e},jK=function(e){return String(Math.floor(Number(e)))===e},UK=function(e){return"[object String]"===Object.prototype.toString.call(e)},PK=function(t){return 0===e.Children.count(t)},QK=function(e){return OK(e)&&DK(e.then)};function _K(e,t,n,o){void 0===o&&(o=0);for(var r=EK(t);e&&o<r.length;)e=e[r[o++]];return o===r.length||e?void 0===e?n:e:n}function qK(e,t,n){for(var o=yK(e),r=o,a=0,i=EK(t);a<i.length-1;a++){var l=i[a],c=_K(e,i.slice(0,a+1));if(c&&(OK(c)||Array.isArray(c)))r=r[l]=yK(c);else{var s=i[a+1];r=r[l]=jK(s)&&Number(s)>=0?[]:{}}}return(0===a?e:r)[i[a]]===n?e:(void 0===n?delete r[i[a]]:r[i[a]]=n,0===a&&void 0===n&&delete o[i[a]],o)}function $K(e,t,n,o){void 0===n&&(n=new WeakMap),void 0===o&&(o={});for(var r=0,a=Object.keys(e);r<a.length;r++){var i=a[r],l=e[i];OK(l)?n.get(l)||(n.set(l,!0),o[i]=Array.isArray(l)?[]:{},$K(l,t,n,o[i])):o[i]=t}return o}var eM={},tM={};function nM(t){var n=t.validateOnChange,o=void 0===n||n,r=t.validateOnBlur,a=void 0===r||r,i=t.validateOnMount,l=void 0!==i&&i,c=t.isInitialValid,s=t.enableReinitialize,g=void 0!==s&&s,u=t.onSubmit,d=FK(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),I=HK({validateOnChange:o,validateOnBlur:a,validateOnMount:l,onSubmit:u},d),C=(0,e.useRef)(I.initialValues),m=(0,e.useRef)(I.initialErrors||eM),h=(0,e.useRef)(I.initialTouched||tM),p=(0,e.useRef)(I.initialStatus),f=(0,e.useRef)(!1),A=(0,e.useRef)({});(0,e.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]);var b=(0,e.useState)(0)[1],v=(0,e.useRef)({values:fK(I.initialValues),errors:fK(I.initialErrors)||eM,touched:fK(I.initialTouched)||tM,status:fK(I.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),y=v.current,Z=(0,e.useCallback)((function(e){var t=v.current;v.current=function(e,t){switch(t.type){case"SET_VALUES":return HK({},e,{values:t.payload});case"SET_TOUCHED":return HK({},e,{touched:t.payload});case"SET_ERRORS":return bK()(e.errors,t.payload)?e:HK({},e,{errors:t.payload});case"SET_STATUS":return HK({},e,{status:t.payload});case"SET_ISSUBMITTING":return HK({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return HK({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return HK({},e,{values:qK(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return HK({},e,{touched:qK(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return HK({},e,{errors:qK(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return HK({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return HK({},e,{touched:$K(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return HK({},e,{isSubmitting:!1});default:return e}}(t,e),t!==v.current&&b((function(e){return e+1}))}),[]),S=(0,e.useCallback)((function(e,t){return new Promise((function(n,o){var r=I.validate(e,t);null==r?n(eM):QK(r)?r.then((function(e){n(e||eM)}),(function(e){o(e)})):n(r)}))}),[I.validate]),G=(0,e.useCallback)((function(e,t){var n=I.validationSchema,o=DK(n)?n(t):n,r=t&&o.validateAt?o.validateAt(t,e):function(e,t,n,o){void 0===n&&(n=!1);var r=rM(e);return t[n?"validateSync":"validate"](r,{abortEarly:!1,context:o||r})}(e,o);return new Promise((function(e,t){r.then((function(){e(eM)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return qK(t,e.path,e.message);var n=e.inner,o=Array.isArray(n),r=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var i=a;_K(t,i.path)||(t=qK(t,i.path,i.message))}}return t}(n)):t(n)}))}))}),[I.validationSchema]),B=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(A.current[e].validate(t))}))}),[]),k=(0,e.useCallback)((function(e){var t=Object.keys(A.current).filter((function(e){return DK(A.current[e].validate)})),n=t.length>0?t.map((function(t){return B(t,_K(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,o){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=qK(e,t[o],n)),e}),{})}))}),[B]),w=(0,e.useCallback)((function(e){return Promise.all([k(e),I.validationSchema?G(e):{},I.validate?S(e):{}]).then((function(e){var t=e[0],n=e[1],o=e[2];return PE.all([t,n,o],{arrayMerge:aM})}))}),[I.validate,I.validationSchema,k,S,G]),R=lM((function(e){return void 0===e&&(e=y.values),Z({type:"SET_ISVALIDATING",payload:!0}),w(e).then((function(e){return f.current&&(Z({type:"SET_ISVALIDATING",payload:!1}),Z({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){l&&!0===f.current&&bK()(C.current,I.initialValues)&&R(C.current)}),[l,R]);var V=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:C.current,n=e&&e.errors?e.errors:m.current?m.current:I.initialErrors||{},o=e&&e.touched?e.touched:h.current?h.current:I.initialTouched||{},r=e&&e.status?e.status:p.current?p.current:I.initialStatus;C.current=t,m.current=n,h.current=o,p.current=r;var a=function(){Z({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:o,status:r,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(I.onReset){var i=I.onReset(y.values,P);QK(i)?i.then(a):a()}else a()}),[I.initialErrors,I.initialStatus,I.initialTouched,I.onReset]);(0,e.useEffect)((function(){!0!==f.current||bK()(C.current,I.initialValues)||g&&(C.current=I.initialValues,V(),l&&R(C.current))}),[g,I.initialValues,V,l,R]),(0,e.useEffect)((function(){g&&!0===f.current&&!bK()(m.current,I.initialErrors)&&(m.current=I.initialErrors||eM,Z({type:"SET_ERRORS",payload:I.initialErrors||eM}))}),[g,I.initialErrors]),(0,e.useEffect)((function(){g&&!0===f.current&&!bK()(h.current,I.initialTouched)&&(h.current=I.initialTouched||tM,Z({type:"SET_TOUCHED",payload:I.initialTouched||tM}))}),[g,I.initialTouched]),(0,e.useEffect)((function(){g&&!0===f.current&&!bK()(p.current,I.initialStatus)&&(p.current=I.initialStatus,Z({type:"SET_STATUS",payload:I.initialStatus}))}),[g,I.initialStatus,I.initialTouched]);var W=lM((function(e){if(A.current[e]&&DK(A.current[e].validate)){var t=_K(y.values,e),n=A.current[e].validate(t);return QK(n)?(Z({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){Z({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),Z({type:"SET_ISVALIDATING",payload:!1})}))):(Z({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return I.validationSchema?(Z({type:"SET_ISVALIDATING",payload:!0}),G(y.values,e).then((function(e){return e})).then((function(t){Z({type:"SET_FIELD_ERROR",payload:{field:e,value:_K(t,e)}}),Z({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),x=(0,e.useCallback)((function(e,t){var n=t.validate;A.current[e]={validate:n}}),[]),X=(0,e.useCallback)((function(e){delete A.current[e]}),[]),N=lM((function(e,t){return Z({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?R(y.values):Promise.resolve()})),J=(0,e.useCallback)((function(e){Z({type:"SET_ERRORS",payload:e})}),[]),E=lM((function(e,t){var n=DK(e)?e(y.values):e;return Z({type:"SET_VALUES",payload:n}),(void 0===t?o:t)?R(n):Promise.resolve()})),H=(0,e.useCallback)((function(e,t){Z({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),Y=lM((function(e,t,n){return Z({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?o:n)?R(qK(y.values,e,t)):Promise.resolve()})),F=(0,e.useCallback)((function(e,t){var n,o=t,r=e;if(!UK(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,i=a.type,l=a.name,c=a.id,s=a.value,g=a.checked,u=(a.outerHTML,a.options),d=a.multiple;o=t||(l||c),r=/number|range/.test(i)?(n=parseFloat(s),isNaN(n)?"":n):/checkbox/.test(i)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var o=[],r=!1,a=-1;if(Array.isArray(e))o=e,r=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!r)return o.concat(n);if(!r)return o;return o.slice(0,a).concat(o.slice(a+1))}(_K(y.values,o),g,s):u&&d?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(u):s}o&&Y(o,r)}),[Y,y.values]),K=lM((function(e){if(UK(e))return function(t){return F(t,e)};F(e)})),M=lM((function(e,t,n){return void 0===t&&(t=!0),Z({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?R(y.values):Promise.resolve()})),L=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,o=n.name,r=n.id,a=(n.outerHTML,t||(o||r));M(a,!0)}),[M]),T=lM((function(e){if(UK(e))return function(t){return L(t,e)};L(e)})),z=(0,e.useCallback)((function(e){DK(e)?Z({type:"SET_FORMIK_STATE",payload:e}):Z({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),D=(0,e.useCallback)((function(e){Z({type:"SET_STATUS",payload:e})}),[]),O=(0,e.useCallback)((function(e){Z({type:"SET_ISSUBMITTING",payload:e})}),[]),j=lM((function(){return Z({type:"SUBMIT_ATTEMPT"}),R().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(o){throw o}return Promise.resolve(n).then((function(e){return f.current&&Z({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(f.current)throw Z({type:"SUBMIT_FAILURE"}),e}))}if(f.current&&(Z({type:"SUBMIT_FAILURE"}),t))throw e}))})),U=lM((function(e){e&&e.preventDefault&&DK(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&DK(e.stopPropagation)&&e.stopPropagation(),j().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),P={resetForm:V,validateForm:R,validateField:W,setErrors:J,setFieldError:H,setFieldTouched:M,setFieldValue:Y,setStatus:D,setSubmitting:O,setTouched:N,setValues:E,setFormikState:z,submitForm:j},Q=lM((function(){return u(y.values,P)})),_=lM((function(e){e&&e.preventDefault&&DK(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&DK(e.stopPropagation)&&e.stopPropagation(),V()})),q=(0,e.useCallback)((function(e){return{value:_K(y.values,e),error:_K(y.errors,e),touched:!!_K(y.touched,e),initialValue:_K(C.current,e),initialTouched:!!_K(h.current,e),initialError:_K(m.current,e)}}),[y.errors,y.touched,y.values]),$=(0,e.useCallback)((function(e){return{setValue:function(t,n){return Y(e,t,n)},setTouched:function(t,n){return M(e,t,n)},setError:function(t){return H(e,t)}}}),[Y,M,H]),ee=(0,e.useCallback)((function(e){var t=OK(e),n=t?e.name:e,o=_K(y.values,n),r={name:n,value:o,onChange:K,onBlur:T};if(t){var a=e.type,i=e.value,l=e.as,c=e.multiple;"checkbox"===a?void 0===i?r.checked=!!o:(r.checked=!(!Array.isArray(o)||!~o.indexOf(i)),r.value=i):"radio"===a?(r.checked=o===i,r.value=i):"select"===l&&c&&(r.value=r.value||[],r.multiple=!0)}return r}),[T,K,y.values]),te=(0,e.useMemo)((function(){return!bK()(C.current,y.values)}),[C.current,y.values]),ne=(0,e.useMemo)((function(){return"undefined"!==typeof c?te?y.errors&&0===Object.keys(y.errors).length:!1!==c&&DK(c)?c(I):c:y.errors&&0===Object.keys(y.errors).length}),[c,te,y.errors,I]);return HK({},y,{initialValues:C.current,initialErrors:m.current,initialTouched:h.current,initialStatus:p.current,handleBlur:T,handleChange:K,handleReset:_,handleSubmit:U,resetForm:V,setErrors:J,setFormikState:z,setFieldTouched:M,setFieldValue:Y,setFieldError:H,setStatus:D,setSubmitting:O,setTouched:N,setValues:E,submitForm:j,validateForm:R,validateField:W,isValid:ne,dirty:te,unregisterField:X,registerField:x,getFieldProps:ee,getFieldMeta:q,getFieldHelpers:$,validateOnBlur:a,validateOnChange:o,validateOnMount:l})}function oM(t){var n=nM(t),o=t.component,r=t.children,a=t.render,i=t.innerRef;return(0,e.useImperativeHandle)(i,(function(){return n})),(0,e.createElement)(LK,{value:n},o?(0,e.createElement)(o,n):a?a(n):r?DK(r)?r(n):PK(r)?null:e.Children.only(r):null)}function rM(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=String(n);!0===Array.isArray(e[o])?t[o]=e[o].map((function(e){return!0===Array.isArray(e)||pH(e)?rM(e):""!==e?e:void 0})):pH(e[o])?t[o]=rM(e[o]):t[o]=""!==e[o]?e[o]:void 0}return t}function aM(e,t,n){var o=e.slice();return t.forEach((function(t,r){if("undefined"===typeof o[r]){var a=!1!==n.clone&&n.isMergeableObject(t);o[r]=a?PE(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?o[r]=PE(e[r],t,n):-1===e.indexOf(t)&&o.push(t)})),o}var iM="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function lM(t){var n=(0,e.useRef)(t);return iM((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.current.apply(void 0,t)}),[])}function cM(t){var n=t.validate,o=t.name,r=t.render,a=t.children,i=t.as,l=t.component,c=t.className,s=FK(t,["validate","name","render","children","as","component","className"]),g=FK(TK(),["validate","validationSchema"]);var u=g.registerField,d=g.unregisterField;(0,e.useEffect)((function(){return u(o,{validate:n}),function(){d(o)}}),[u,d,o,n]);var I=g.getFieldProps(HK({name:o},s)),C=g.getFieldMeta(o),m={field:I,form:g};if(r)return r(HK({},m,{meta:C}));if(DK(a))return a(HK({},m,{meta:C}));if(l){if("string"===typeof l){var h=s.innerRef,p=FK(s,["innerRef"]);return(0,e.createElement)(l,HK({ref:h},I,p,{className:c}),a)}return(0,e.createElement)(l,HK({field:I,form:g},s,{className:c}),a)}var f=i||"input";if("string"===typeof f){var A=s.innerRef,b=FK(s,["innerRef"]);return(0,e.createElement)(f,HK({ref:A},I,b,{className:c}),a)}return(0,e.createElement)(f,HK({},I,s,{className:c}),a)}var sM=(0,e.forwardRef)((function(t,n){var o=t.action,r=FK(t,["action"]),a=null!=o?o:"#",i=TK(),l=i.handleReset,c=i.handleSubmit;return(0,e.createElement)("form",HK({onSubmit:c,ref:n,onReset:l,action:a},r))}));sM.displayName="Form";var gM=function(e,t,n){var o=uM(e);return o.splice(t,0,n),o},uM=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(HK({},e,{length:t+1}))}return[]},dM=function(e,t){var n="function"===typeof e?e:t;return function(e){if(Array.isArray(e)||OK(e)){var t=uM(e);return n(t)}return e}},IM=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,o){var r=n.props,a=r.name;(0,r.formik.setFormikState)((function(n){var r=dM(o,e),i=dM(t,e),l=qK(n.values,a,e(_K(n.values,a))),c=o?r(_K(n.errors,a)):void 0,s=t?i(_K(n.touched,a)):void 0;return zK(c)&&(c=void 0),zK(s)&&(s=void 0),HK({},n,{values:l,errors:o?qK(n.errors,a,c):n.errors,touched:t?qK(n.touched,a,s):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(uM(t),[fK(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var o=uM(e),r=o[t];return o[t]=o[n],o[n]=r,o}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var o=uM(e),r=o[t];return o.splice(t,1),o.splice(n,0,r),o}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return gM(n,e,t)}),(function(t){return gM(t,e,null)}),(function(t){return gM(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var o=uM(e);return o[t]=n,o}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var o=n?[e].concat(n):[e];return t=o.length,o}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(KK(n)),n.pop=n.pop.bind(KK(n)),n}YK(n,t);var o=n.prototype;return o.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!bK()(_K(e.formik.values,e.name),_K(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},o.remove=function(e){var t;return this.updateArrayField((function(n){var o=n?uM(n):[];return t||(t=o[e]),DK(o.splice)&&o.splice(e,1),DK(o.every)&&o.every((function(e){return void 0===e}))?[]:o}),!0,!0),t},o.pop=function(){var e;return this.updateArrayField((function(t){var n=t.slice();return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},o.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,o=n.component,r=n.render,a=n.children,i=n.name,l=HK({},t,{form:FK(n.formik,["validate","validationSchema"]),name:i});return o?(0,e.createElement)(o,l):r?r(l):a?"function"===typeof a?a(l):PK(a)?null:e.Children.only(a):null},n}(e.Component);IM.defaultProps={validateOnChange:!0};var CM="RC_FORM_INTERNAL_HOOKS",mM=function(){Mv(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const hM=e.createContext({getFieldValue:mM,getFieldsValue:mM,getFieldError:mM,getFieldWarning:mM,getFieldsError:mM,isFieldsTouched:mM,isFieldTouched:mM,isFieldValidating:mM,isFieldsValidating:mM,resetFields:mM,setFields:mM,setFieldValue:mM,setFieldsValue:mM,validateFields:mM,submit:mM,getInternalHooks:function(){return mM(),{dispatch:mM,initEntityValue:mM,registerField:mM,useSubscribe:mM,setInitialValues:mM,destroyForm:mM,setCallbacks:mM,registerWatch:mM,getFields:mM,setValidateMessages:mM,setPreserve:mM,getInitialValue:mM}}});const pM=e.createContext(null);function fM(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function AM(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var bM=AM();function vM(e){var t="function"==typeof Map?new Map:void 0;return vM=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(nt){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(LG())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var r=new(e.bind.apply(e,o));return n&&FG(r,n.prototype),r}(e,arguments,MG(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),FG(n,e)},vM(e)}var yM=/%[sdj%]/g;function ZM(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function SM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var i=e.replace(yM,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(bt){return"[Circular]"}break;default:return e}}));return i}return e}function GM(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function BM(e,t,n){var o=0,r=e.length;!function a(i){if(i&&i.length)n(i);else{var l=o;o+=1,l<r?t(e[l],a):n([])}}([])}var kM=function(e){KG(n,e);var t=DG(n);function n(e,o){var r;return Tv(this,n),an(TG(r=t.call(this,"Async Validation Error")),"errors",void 0),an(TG(r),"fields",void 0),r.errors=e,r.fields=o,r}return Dv(n)}(vM(Error));function wM(e,t,n,o,r){if(t.first){var a=new Promise((function(t,a){var i=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,fv(e[n]||[]))})),t}(e);BM(i,n,(function(e){return o(e),e.length?a(new kM(e,ZM(e))):t(r)}))}));return a.catch((function(e){return e})),a}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],l=Object.keys(e),c=l.length,s=0,g=[],u=new Promise((function(t,a){var u=function(e){if(g.push.apply(g,e),++s===c)return o(g),g.length?a(new kM(g,ZM(g))):t(r)};l.length||(o(g),t(r)),l.forEach((function(t){var o=e[t];-1!==i.indexOf(t)?BM(o,n,u):function(e,t,n){var o=[],r=0,a=e.length;function i(e){o.push.apply(o,fv(e||[])),++r===a&&n(o)}e.forEach((function(e){t(e,i)}))}(o,n,u)}))}));return u.catch((function(e){return e})),u}function RM(e,t){return function(n){var o,r;return o=e.fullFields?function(e,t){for(var n=e,o=0;o<t.length;o++){if(void 0==n)return n;n=n[t[o]]}return n}(t,e.fullFields):t[n.field||e.fullField],(r=n)&&void 0!==r.message?(n.field=n.field||e.fullField,n.fieldValue=o,n):{message:"function"===typeof n?n():n,fieldValue:o,field:n.field||e.fullField}}}function VM(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"===on(o)&&"object"===on(e[n])?e[n]=cn(cn({},e[n]),o):e[n]=o}return e}var WM="enum";const xM=function(e,t,n,o,r){e[WM]=Array.isArray(e[WM])?e[WM]:[],-1===e[WM].indexOf(t)&&o.push(SM(r.messages[WM],e.fullField,e[WM].join(", ")))};const XM=function(e,t,n,o,r){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(SM(r.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||o.push(SM(r.messages.pattern.mismatch,e.fullField,t,e.pattern))}};const NM=function(e,t,n,o,r){var a="number"===typeof e.len,i="number"===typeof e.min,l="number"===typeof e.max,c=t,s=null,g="number"===typeof t,u="string"===typeof t,d=Array.isArray(t);if(g?s="number":u?s="string":d&&(s="array"),!s)return!1;d&&(c=t.length),u&&(c=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?c!==e.len&&o.push(SM(r.messages[s].len,e.fullField,e.len)):i&&!l&&c<e.min?o.push(SM(r.messages[s].min,e.fullField,e.min)):l&&!i&&c>e.max?o.push(SM(r.messages[s].max,e.fullField,e.max)):i&&l&&(c<e.min||c>e.max)&&o.push(SM(r.messages[s].range,e.fullField,e.min,e.max))};const JM=function(e,t,n,o,r,a){!e.required||n.hasOwnProperty(e.field)&&!GM(t,a||e.type)||o.push(SM(r.messages.required,e.fullField))};var EM;var HM=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,YM=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,FM={integer:function(e){return FM.number(e)&&parseInt(e,10)===e},float:function(e){return FM.number(e)&&!FM.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Tie){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===on(e)&&!FM.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(HM)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(EM)return EM;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",r=["(?:".concat(o,":){7}(?:").concat(o,"|:)"),"(?:".concat(o,":){6}(?:").concat(n,"|:").concat(o,"|:)"),"(?:".concat(o,":){5}(?::").concat(n,"|(?::").concat(o,"){1,2}|:)"),"(?:".concat(o,":){4}(?:(?::").concat(o,"){0,1}:").concat(n,"|(?::").concat(o,"){1,3}|:)"),"(?:".concat(o,":){3}(?:(?::").concat(o,"){0,2}:").concat(n,"|(?::").concat(o,"){1,4}|:)"),"(?:".concat(o,":){2}(?:(?::").concat(o,"){0,3}:").concat(n,"|(?::").concat(o,"){1,5}|:)"),"(?:".concat(o,":){1}(?:(?::").concat(o,"){0,4}:").concat(n,"|(?::").concat(o,"){1,6}|:)"),"(?::(?:(?::".concat(o,"){0,5}:").concat(n,"|(?::").concat(o,"){1,7}|:))")],a="(?:".concat(r.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),i=new RegExp("(?:^".concat(n,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(a,"$")),s=function(e){return e&&e.exact?i:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(a).concat(t(e),")"),"g")};s.v4=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},s.v6=function(e){return e&&e.exact?c:new RegExp("".concat(t(e)).concat(a).concat(t(e)),"g")};var g=s.v4().source,u=s.v6().source,d="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(g,"|").concat(u,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return EM=new RegExp("(?:^".concat(d,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(YM)}};const KM=function(e,t,n,o,r){if(e.required&&void 0===t)JM(e,t,n,o,r);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?FM[a](t)||o.push(SM(r.messages.types[a],e.fullField,e.type)):a&&on(t)!==e.type&&o.push(SM(r.messages.types[a],e.fullField,e.type))}};const MM=function(e,t,n,o,r){(/^\s+$/.test(t)||""===t)&&o.push(SM(r.messages.whitespace,e.fullField))},LM={required:JM,whitespace:MM,type:KM,range:NM,enum:xM,pattern:XM};const TM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r)}n(a)};const zM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();LM.required(e,t,o,a,r,"array"),void 0!==t&&null!==t&&(LM.type(e,t,o,a,r),LM.range(e,t,o,a,r))}n(a)};const DM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&LM.type(e,t,o,a,r)}n(a)};const OM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t,"date")&&!e.required)return n();var i;if(LM.required(e,t,o,a,r),!GM(t,"date"))i=t instanceof Date?t:new Date(t),LM.type(e,i,o,a,r),i&&LM.range(e,i.getTime(),o,a,r)}n(a)};const jM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&LM.enum(e,t,o,a,r)}n(a)};const UM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&(LM.type(e,t,o,a,r),LM.range(e,t,o,a,r))}n(a)};const PM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&(LM.type(e,t,o,a,r),LM.range(e,t,o,a,r))}n(a)};const QM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&LM.type(e,t,o,a,r)}n(a)};const _M=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(""===t&&(t=void 0),GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&(LM.type(e,t,o,a,r),LM.range(e,t,o,a,r))}n(a)};const qM=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),void 0!==t&&LM.type(e,t,o,a,r)}n(a)};const $M=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t,"string")&&!e.required)return n();LM.required(e,t,o,a,r),GM(t,"string")||LM.pattern(e,t,o,a,r)}n(a)};const eL=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();LM.required(e,t,o,a,r),GM(t)||LM.type(e,t,o,a,r)}n(a)};const tL=function(e,t,n,o,r){var a=[],i=Array.isArray(t)?"array":on(t);LM.required(e,t,o,a,r,i),n(a)};const nL=function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t,"string")&&!e.required)return n();LM.required(e,t,o,a,r,"string"),GM(t,"string")||(LM.type(e,t,o,a,r),LM.range(e,t,o,a,r),LM.pattern(e,t,o,a,r),!0===e.whitespace&&LM.whitespace(e,t,o,a,r))}n(a)};const oL=function(e,t,n,o,r){var a=e.type,i=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(GM(t,a)&&!e.required)return n();LM.required(e,t,o,i,r,a),GM(t,a)||LM.type(e,t,o,i,r)}n(i)},rL={string:nL,method:QM,number:_M,boolean:DM,regexp:eL,integer:PM,float:UM,array:zM,object:qM,enum:jM,pattern:$M,date:OM,url:oL,hex:oL,email:oL,required:tL,any:TM};var aL=function(){function e(t){Tv(this,e),an(this,"rules",null),an(this,"_messages",bM),this.define(t)}return Dv(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==on(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var o=e[n];t.rules[n]=Array.isArray(o)?o:[o]}))}},{key:"messages",value:function(e){return e&&(this._messages=VM(AM(),e)),this._messages}},{key:"validate",value:function(t){var n=this,o=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof r&&(a=r,r={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,o),Promise.resolve(o);if(r.messages){var i=this.messages();i===bM&&(i=AM()),VM(i,r.messages),r.messages=i}else r.messages=this.messages();var l={};(r.keys||Object.keys(this.rules)).forEach((function(e){var r=n.rules[e],a=o[e];r.forEach((function(r){var i=r;"function"===typeof i.transform&&(o===t&&(o=cn({},o)),void 0!==(a=o[e]=i.transform(a))&&null!==a&&(i.type=i.type||(Array.isArray(a)?"array":on(a)))),(i="function"===typeof i?{validator:i}:cn({},i)).validator=n.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=n.getType(i),l[e]=l[e]||[],l[e].push({rule:i,value:a,source:o,field:e}))}))}));var c={};return wM(l,r,(function(t,n){var a,i=t.rule,l=("object"===i.type||"array"===i.type)&&("object"===on(i.fields)||"object"===on(i.defaultField));function s(e,t){return cn(cn({},t),{},{fullField:"".concat(i.fullField,".").concat(e),fullFields:i.fullFields?[].concat(fv(i.fullFields),[e]):[e]})}function g(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],g=Array.isArray(a)?a:[a];!r.suppressWarning&&g.length&&e.warning("async-validator:",g),g.length&&void 0!==i.message&&(g=[].concat(i.message));var u=g.map(RM(i,o));if(r.first&&u.length)return c[i.field]=1,n(u);if(l){if(i.required&&!t.value)return void 0!==i.message?u=[].concat(i.message).map(RM(i,o)):r.error&&(u=[r.error(i,SM(r.messages.required,i.field))]),n(u);var d={};i.defaultField&&Object.keys(t.value).map((function(e){d[e]=i.defaultField})),d=cn(cn({},d),t.rule.fields);var I={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];I[e]=n.map(s.bind(null,e))}));var C=new e(I);C.messages(r.messages),t.rule.options&&(t.rule.options.messages=r.messages,t.rule.options.error=r.error),C.validate(t.value,t.rule.options||r,(function(e){var t=[];u&&u.length&&t.push.apply(t,fv(u)),e&&e.length&&t.push.apply(t,fv(e)),n(t.length?t:null)}))}else n(u)}if(l=l&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)a=i.asyncValidator(i,t.value,g,t.source,r);else if(i.validator){try{a=i.validator(i,t.value,g,t.source,r)}catch(I){var u,d;null===(u=(d=console).error)||void 0===u||u.call(d,I),r.suppressValidatorError||setTimeout((function(){throw I}),0),g(I.message)}!0===a?g():!1===a?g("function"===typeof i.message?i.message(i.fullField||i.field):i.message||"".concat(i.fullField||i.field," fails")):a instanceof Array?g(a):a instanceof Error&&g(a.message)}a&&a.then&&a.then((function(){return g()}),(function(e){return g(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,fv(e)):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=ZM(t),a(t,n)):a(null,o)}(e)}),o)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!rL.hasOwnProperty(e.type))throw new Error(SM("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?rL.required:rL[this.getType(e)]||void 0}}]),e}();an(aL,"register",(function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");rL[e]=t})),an(aL,"warning",(function(){})),an(aL,"messages",bM),an(aL,"validators",rL);var iL="'${name}' is not a valid ${type}",lL={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:iL,method:iL,array:iL,object:iL,number:iL,date:iL,boolean:iL,integer:iL,float:iL,regexp:iL,email:iL,url:iL,hex:iL},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},cL=aL;function sL(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var gL="CODE_LOGIC_ERROR";function uL(e,t,n,o,r){return dL.apply(this,arguments)}function dL(){return dL=Ub(Ob().mark((function t(n,o,r,a,i){var l,c,s,g,u,d,I,C,m;return Ob().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(l=cn({},r)).ruleIndex,cL.warning=function(){},l.validator&&(c=l.validator,l.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(gL)}}),s=null,l&&"array"===l.type&&l.defaultField&&(s=l.defaultField,delete l.defaultField),g=new cL(an({},n,[l])),u=qZ(lL,a.validateMessages),g.messages(u),d=[],t.prev=10,t.next=13,Promise.resolve(g.validate(an({},n,o),cn({},a)));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(10),t.t0.errors&&(d=t.t0.errors.map((function(t,n){var o=t.message,r=o===gL?u.default:o;return e.isValidElement(r)?e.cloneElement(r,{key:"error_".concat(n)}):r})));case 18:if(d.length||!s){t.next=23;break}return t.next=21,Promise.all(o.map((function(e,t){return uL("".concat(n,".").concat(t),e,s,a,i)})));case 21:return I=t.sent,t.abrupt("return",I.reduce((function(e,t){return[].concat(fv(e),fv(t))}),[]));case 23:return C=cn(cn({},r),{},{name:n,enum:(r.enum||[]).join(", ")},i),m=d.map((function(e){return"string"===typeof e?sL(e,C):e})),t.abrupt("return",m);case 26:case"end":return t.stop()}}),t,null,[[10,15]])}))),dL.apply(this,arguments)}function IL(e,t,n,o,r,a){var i,l=e.join("."),c=n.map((function(e,t){var n=e.validator,o=cn(cn({},e),{},{ruleIndex:t});return n&&(o.validator=function(e,t,o){var r=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Mv(!r,"Your validator function has already return a promise. `callback` will be ignored."),r||o.apply(void 0,t)}))}));r=a&&"function"===typeof a.then&&"function"===typeof a.catch,Mv(r,"`callback` is deprecated. Please return a promise instead."),r&&a.then((function(){o()})).catch((function(e){o(e||" ")}))}),o})).sort((function(e,t){var n=e.warningOnly,o=e.ruleIndex,r=t.warningOnly,a=t.ruleIndex;return!!n===!!r?o-a:n?1:-1}));if(!0===r)i=new Promise(function(){var e=Ub(Ob().mark((function e(n,r){var i,s,g;return Ob().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<c.length)){e.next=12;break}return s=c[i],e.next=5,uL(l,t,s,o,a);case 5:if(!(g=e.sent).length){e.next=9;break}return r([{errors:g,rule:s}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var s=c.map((function(e){return uL(l,t,e,o,a).then((function(t){return{errors:t,rule:e}}))}));i=(r?function(e){return mL.apply(this,arguments)}(s):function(e){return CL.apply(this,arguments)}(s)).then((function(e){return Promise.reject(e)}))}return i.catch((function(e){return e})),i}function CL(){return(CL=Ub(Ob().mark((function e(t){return Ob().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,fv(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mL(){return mL=Ub(Ob().mark((function e(t){var n;return Ob().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(o){o.then((function(o){o.errors.length&&e([o]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),mL.apply(this,arguments)}function hL(e){return fM(e)}function pL(e,t){var n={};return t.forEach((function(t){var o=jZ(e,t);n=PZ(n,t,o)})),n}function fL(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return AL(t,e,n)}))}function AL(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function bL(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===on(t.target)&&e in t.target?t.target[e]:t}function vL(e,t,n){var o=e.length;if(t<0||t>=o||n<0||n>=o)return e;var r=e[t],a=t-n;return a>0?[].concat(fv(e.slice(0,n)),[r],fv(e.slice(n,t)),fv(e.slice(t+1,o))):a<0?[].concat(fv(e.slice(0,t)),fv(e.slice(t+1,n+1)),[r],fv(e.slice(n+1,o))):e}var yL=["name"],ZL=[];function SL(e,t,n,o,r,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):o!==r}var GL=function(t){KG(o,t);var n=DG(o);function o(t){var r;(Tv(this,o),an(TG(r=n.call(this,t)),"state",{resetCount:0}),an(TG(r),"cancelRegisterFunc",null),an(TG(r),"mounted",!1),an(TG(r),"touched",!1),an(TG(r),"dirty",!1),an(TG(r),"validatePromise",void 0),an(TG(r),"prevValidating",void 0),an(TG(r),"errors",ZL),an(TG(r),"warnings",ZL),an(TG(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,o=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,hL(o)),r.cancelRegisterFunc=null})),an(TG(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(fv(void 0===n?[]:n),fv(t)):[]})),an(TG(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(o):e}))})),an(TG(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),an(TG(r),"metaCache",null),an(TG(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=cn(cn({},r.getMeta()),{},{destroy:e});Lv(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),an(TG(r),"onStoreChange",(function(e,t,n){var o=r.props,a=o.shouldUpdate,i=o.dependencies,l=void 0===i?[]:i,c=o.onReset,s=n.store,g=r.getNamePath(),u=r.getValue(e),d=r.getValue(s),I=t&&fL(t,g);switch("valueUpdate"!==n.type||"external"!==n.source||Lv(u,d)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=ZL,r.warnings=ZL,r.triggerMetaEvent()),n.type){case"reset":if(!t||I)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=ZL,r.warnings=ZL,r.triggerMetaEvent(),null===c||void 0===c||c(),void r.refresh();break;case"remove":if(a)return void r.reRender();break;case"setField":var C=n.data;if(I)return"touched"in C&&(r.touched=C.touched),"validating"in C&&!("originRCField"in C)&&(r.validatePromise=C.validating?Promise.resolve([]):null),"errors"in C&&(r.errors=C.errors||ZL),"warnings"in C&&(r.warnings=C.warnings||ZL),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in C&&fL(t,g,!0))return void r.reRender();if(a&&!g.length&&SL(a,e,s,u,d,n))return void r.reRender();break;case"dependenciesUpdate":if(l.map(hL).some((function(e){return fL(n.relatedFields,e)})))return void r.reRender();break;default:if(I||(!l.length||g.length||a)&&SL(a,e,s,u,d,n))return void r.reRender()}!0===a&&r.reRender()})),an(TG(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),o=e||{},a=o.triggerName,i=o.validateOnly,l=void 0!==i&&i,c=Promise.resolve().then(Ub(Ob().mark((function o(){var i,l,s,g,u,d,I;return Ob().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r.mounted){o.next=2;break}return o.abrupt("return",[]);case 2:if(i=r.props,l=i.validateFirst,s=void 0!==l&&l,g=i.messageVariables,u=i.validateDebounce,d=r.getRules(),a&&(d=d.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||fM(t).includes(a)}))),!u||!a){o.next=10;break}return o.next=8,new Promise((function(e){setTimeout(e,u)}));case 8:if(r.validatePromise===c){o.next=10;break}return o.abrupt("return",[]);case 10:return(I=IL(t,n,d,e,s,g)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZL;if(r.validatePromise===c){var t;r.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?ZL:r;t?o.push.apply(o,fv(a)):n.push.apply(n,fv(a))})),r.errors=n,r.warnings=o,r.triggerMetaEvent(),r.reRender()}})),o.abrupt("return",I);case 13:case"end":return o.stop()}}),o)}))));return l||(r.validatePromise=c,r.dirty=!0,r.errors=ZL,r.warnings=ZL,r.triggerMetaEvent(),r.reRender()),c})),an(TG(r),"isFieldValidating",(function(){return!!r.validatePromise})),an(TG(r),"isFieldTouched",(function(){return r.touched})),an(TG(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(CM).getInitialValue)(r.getNamePath())})),an(TG(r),"getErrors",(function(){return r.errors})),an(TG(r),"getWarnings",(function(){return r.warnings})),an(TG(r),"isListField",(function(){return r.props.isListField})),an(TG(r),"isList",(function(){return r.props.isList})),an(TG(r),"isPreserve",(function(){return r.props.preserve})),an(TG(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),an(TG(r),"getOnlyChild",(function(t){if("function"===typeof t){var n=r.getMeta();return cn(cn({},r.getOnlyChild(t(r.getControlled(),n,r.props.fieldContext))),{},{isFunction:!0})}var o=OR(t);return 1===o.length&&e.isValidElement(o[0])?{child:o[0],isFunction:!1}:{child:o,isFunction:!1}})),an(TG(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return jZ(e||t(!0),n)})),an(TG(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,o=t.trigger,a=t.validateTrigger,i=t.getValueFromEvent,l=t.normalize,c=t.valuePropName,s=t.getValueProps,g=t.fieldContext,u=void 0!==a?a:g.validateTrigger,d=r.getNamePath(),I=g.getInternalHooks,C=g.getFieldsValue,m=I(CM).dispatch,h=r.getValue(),p=s||function(e){return an({},c,e)},f=e[o],A=void 0!==n?p(h):{};var b=cn(cn({},e),A);return b[o]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=i?i.apply(void 0,n):bL.apply(void 0,[c].concat(n)),l&&(e=l(e,h,C(!0))),m({type:"updateValue",namePath:d,value:e}),f&&f.apply(void 0,n)},fM(u||[]).forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&m({type:"validateField",namePath:d,triggerName:e})}})),b})),t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(CM).initEntityValue)(TG(r));return r}return Dv(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var o=(0,n.getInternalHooks)(CM).registerField;this.cancelRegisterFunc=o(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,n=this.state.resetCount,o=this.props.children,r=this.getOnlyChild(o),a=r.child;return r.isFunction?t=a:e.isValidElement(a)?t=e.cloneElement(a,this.getControlled(a.props)):(Mv(!a,"`children` of Field is not validate ReactElement."),t=a),e.createElement(e.Fragment,{key:n},t)}}]),o}(e.Component);an(GL,"contextType",hM),an(GL,"defaultProps",{trigger:"onChange",valuePropName:"value"});const BL=function(t){var n=t.name,o=JG(t,yL),r=e.useContext(hM),a=e.useContext(pM),i=void 0!==n?hL(n):void 0,l="keep";return o.isListField||(l="_".concat((i||[]).join("_"))),e.createElement(GL,Ey({key:l,name:i,isListField:!!a},o,{fieldContext:r}))};const kL=function(t){var n=t.name,o=t.initialValue,r=t.children,a=t.rules,i=t.validateTrigger,l=t.isListField,c=e.useContext(hM),s=e.useContext(pM),g=e.useRef({keys:[],id:0}).current,u=e.useMemo((function(){var e=hL(c.prefixName)||[];return[].concat(fv(e),fv(hL(n)))}),[c.prefixName,n]),d=e.useMemo((function(){return cn(cn({},c),{},{prefixName:u})}),[c,u]),I=e.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[g.keys[n],e.slice(t+1)]}}}),[u]);return"function"!==typeof r?(Mv(!1,"Form.List only accepts function as children."),null):e.createElement(pM.Provider,{value:I},e.createElement(hM.Provider,{value:d},e.createElement(BL,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:i,initialValue:o,isList:!0,isListField:null!==l&&void 0!==l?l:!!s},(function(e,t){var n=e.value,o=void 0===n?[]:n,a=e.onChange,i=c.getFieldValue,l=function(){return i(u||[])||[]},s={add:function(e,t){var n=l();t>=0&&t<=n.length?(g.keys=[].concat(fv(g.keys.slice(0,t)),[g.id],fv(g.keys.slice(t))),a([].concat(fv(n.slice(0,t)),[e],fv(n.slice(t))))):(g.keys=[].concat(fv(g.keys),[g.id]),a([].concat(fv(n),[e]))),g.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(g.keys=g.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(g.keys=vL(g.keys,e,t),a(vL(n,e,t)))}}},d=o||[];return Array.isArray(d)||(d=[]),r(d.map((function(e,t){var n=g.keys[t];return void 0===n&&(g.keys[t]=g.id,n=g.keys[t],g.id+=1),{name:t,key:n,isListField:!0}})),s,t)}))))};var wL="__@field_split__";function RL(e){return e.map((function(e){return"".concat(on(e),":").concat(e)})).join(wL)}var VL=function(){function e(){Tv(this,e),an(this,"kvs",new Map)}return Dv(e,[{key:"set",value:function(e,t){this.kvs.set(RL(e),t)}},{key:"get",value:function(e){return this.kvs.get(RL(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(RL(e))}},{key:"map",value:function(e){return fv(this.kvs.entries()).map((function(t){var n=hv(t,2),o=n[0],r=n[1],a=o.split(wL);return e({key:a.map((function(e){var t=hv(e.match(/^([^:]*):(.*)$/),3),n=t[1],o=t[2];return"number"===n?Number(o):o})),value:r})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,o=t.value;return e[n.join(".")]=o,null})),e}}]),e}();const WL=VL;var xL=["name"],XL=Dv((function e(t){var n=this;Tv(this,e),an(this,"formHooked",!1),an(this,"forceRootUpdate",void 0),an(this,"subscribable",!0),an(this,"store",{}),an(this,"fieldEntities",[]),an(this,"initialValues",{}),an(this,"callbacks",{}),an(this,"validateMessages",null),an(this,"preserve",null),an(this,"lastValidatePromise",null),an(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),an(this,"getInternalHooks",(function(e){return e===CM?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Mv(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),an(this,"useSubscribe",(function(e){n.subscribable=e})),an(this,"prevWithoutPreserves",null),an(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var o,r=qZ(e,n.store);null===(o=n.prevWithoutPreserves)||void 0===o||o.map((function(t){var n=t.key;r=PZ(r,n,jZ(e,n))})),n.prevWithoutPreserves=null,n.updateStore(r)}})),an(this,"destroyForm",(function(e){if(e)n.updateStore({});else{var t=new WL;n.getFieldEntities(!0).forEach((function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),n.prevWithoutPreserves=t}})),an(this,"getInitialValue",(function(e){var t=jZ(n.initialValues,e);return e.length?qZ(t):t})),an(this,"setCallbacks",(function(e){n.callbacks=e})),an(this,"setValidateMessages",(function(e){n.validateMessages=e})),an(this,"setPreserve",(function(e){n.preserve=e})),an(this,"watchList",[]),an(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),an(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,o,e)}))}})),an(this,"timeoutId",null),an(this,"warningUnhooked",(function(){0})),an(this,"updateStore",(function(e){n.store=e})),an(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),an(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new WL;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),an(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=hL(e);return t.get(n)||{INVALIDATE_NAME_PATH:hL(e)}}))})),an(this,"getFieldsValue",(function(e,t){var o,r,a;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(o=e,r=t):e&&"object"===on(e)&&(a=e.strict,r=e.filter),!0===o&&!r)return n.store;var i=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),l=[];return i.forEach((function(e){var t,n,i,c,s="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(a){if(null!==(i=(c=e).isList)&&void 0!==i&&i.call(c))return}else if(!o&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(r){var g="getMeta"in e?e.getMeta():null;r(g)&&l.push(s)}else l.push(s)})),pL(n.store,l.map(hL))})),an(this,"getFieldValue",(function(e){n.warningUnhooked();var t=hL(e);return jZ(n.store,t)})),an(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:hL(e[n]),errors:[],warnings:[]}}))})),an(this,"getFieldError",(function(e){n.warningUnhooked();var t=hL(e);return n.getFieldsError([t])[0].errors})),an(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=hL(e);return n.getFieldsError([t])[0].warnings})),an(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r,a=t[0],i=t[1],l=!1;0===t.length?r=null:1===t.length?Array.isArray(a)?(r=a.map(hL),l=!1):(r=null,l=a):(r=a.map(hL),l=i);var c=n.getFieldEntities(!0),s=function(e){return e.isFieldTouched()};if(!r)return l?c.every((function(e){return s(e)||e.isList()})):c.some(s);var g=new WL;r.forEach((function(e){g.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();r.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&g.update(n,(function(t){return[].concat(fv(t),[e])}))}))}));var u=function(e){return e.some(s)},d=g.map((function(e){return e.value}));return l?d.every(u):d.some(u)})),an(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),an(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var o=e.map(hL);return t.some((function(e){var t=e.getNamePath();return fL(o,t)&&e.isFieldValidating()}))})),an(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),an(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new WL,o=n.getFieldEntities(!0);o.forEach((function(e){var n=e.props.initialValue,o=e.getNamePath();if(void 0!==n){var r=t.get(o)||new Set;r.add({entity:e,value:n}),t.set(o,r)}}));var r;e.entities?r=e.entities:e.namePathList?(r=[],e.namePathList.forEach((function(e){var n,o=t.get(e);o&&(n=r).push.apply(n,fv(fv(o).map((function(e){return e.entity}))))}))):r=o,r.forEach((function(o){if(void 0!==o.props.initialValue){var r=o.getNamePath();if(void 0!==n.getInitialValue(r))Mv(!1,"Form already set 'initialValues' with path '".concat(r.join("."),"'. Field can not overwrite it."));else{var a=t.get(r);if(a&&a.size>1)Mv(!1,"Multiple Field with path '".concat(r.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var i=n.getFieldValue(r);o.isListField()||e.skipExist&&void 0!==i||n.updateStore(PZ(n.store,r,fv(a)[0].value))}}}}))})),an(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(qZ(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var o=e.map(hL);o.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(PZ(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(t,o,{type:"reset"}),n.notifyWatch(o)})),an(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,o=[];e.forEach((function(e){var r=e.name,a=JG(e,xL),i=hL(r);o.push(i),"value"in a&&n.updateStore(PZ(n.store,i,a.value)),n.notifyObservers(t,[i],{type:"setField",data:e})})),n.notifyWatch(o)})),an(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),o=cn(cn({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o}))})),an(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var o=e.getNamePath();void 0===jZ(n.store,o)&&n.updateStore(PZ(n.store,o,t))}})),an(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),an(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var o=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(o,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(r)&&(!o||a.length>1)){var i=o?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==i&&n.fieldEntities.every((function(e){return!AL(e.getNamePath(),t)}))){var l=n.store;n.updateStore(PZ(l,t,i,!0)),n.notifyObservers(l,[t],{type:"remove"}),n.triggerDependenciesUpdate(l,t)}}n.notifyWatch([t])}})),an(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,o=e.value;n.updateValue(t,o);break;case"validateField":var r=e.namePath,a=e.triggerName;n.validateFields([r],{triggerName:a})}})),an(this,"notifyObservers",(function(e,t,o){if(n.subscribable){var r=cn(cn({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,r)}))}else n.forceRootUpdate()})),an(this,"triggerDependenciesUpdate",(function(e,t){var o=n.getDependencyChildrenFields(t);return o.length&&n.validateFields(o),n.notifyObservers(e,o,{type:"dependenciesUpdate",relatedFields:[t].concat(fv(o))}),o})),an(this,"updateValue",(function(e,t){var o=hL(e),r=n.store;n.updateStore(PZ(n.store,o,t)),n.notifyObservers(r,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(r,o),i=n.callbacks.onValuesChange;i&&i(pL(n.store,[o]),n.getFieldsValue());n.triggerOnFieldsChange([o].concat(fv(a)))})),an(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var o=qZ(n.store,e);n.updateStore(o)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),an(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),an(this,"getDependencyChildrenFields",(function(e){var t=new Set,o=[],r=new WL;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=hL(t);r.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(r.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var r=n.getNamePath();n.isFieldDirty()&&r.length&&(o.push(r),e(r))}}))}(e),o})),an(this,"triggerOnFieldsChange",(function(e,t){var o=n.callbacks.onFieldsChange;if(o){var r=n.getFields();if(t){var a=new WL;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),r.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var i=r.filter((function(t){var n=t.name;return fL(e,n)}));i.length&&o(i,r)}})),an(this,"validateFields",(function(e,t){var o,r;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(o=e,r=t):r=e;var a=!!o,i=a?o.map(hL):[],l=[],c=String(Date.now()),s=new Set,g=r||{},u=g.recursive,d=g.dirty;n.getFieldEntities(!0).forEach((function(e){if(a||i.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!d||e.isFieldDirty())){var t=e.getNamePath();if(s.add(t.join(c)),!a||fL(i,t,u)){var o=e.validateRules(cn({validateMessages:cn(cn({},lL),n.validateMessages)},r));l.push(o.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,o=[],r=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?r.push.apply(r,fv(n)):o.push.apply(o,fv(n))})),o.length?Promise.reject({name:t,errors:o,warnings:r}):{name:t,errors:o,warnings:r}})))}}}));var I=function(e){var t=!1,n=e.length,o=[];return e.length?new Promise((function(r,a){e.forEach((function(e,i){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,o[i]=e,n>0||(t&&a(o),r(o))}))}))})):Promise.resolve([])}(l);n.lastValidatePromise=I,I.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var C=I.then((function(){return n.lastValidatePromise===I?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==I})}));C.catch((function(e){return e}));var m=i.filter((function(e){return s.has(e.join(c))}));return n.triggerOnFieldsChange(m),C})),an(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(o){console.error(o)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const NL=function(t){var n=e.useRef(),o=hv(e.useState({}),2)[1];if(!n.current)if(t)n.current=t;else{var r=new XL((function(){o({})}));n.current=r.getForm()}return[n.current]};var JL=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),EL=function(t){var n=t.validateMessages,o=t.onFormChange,r=t.onFormFinish,a=t.children,i=e.useContext(JL),l=e.useRef({});return e.createElement(JL.Provider,{value:cn(cn({},i),{},{validateMessages:cn(cn({},i.validateMessages),n),triggerFormChange:function(e,t){o&&o(e,{changedFields:t,forms:l.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:l.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=cn(cn({},l.current),{},an({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=cn({},l.current);delete t[e],l.current=t,i.unregisterForm(e)}})},a)};const HL=JL;var YL=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const FL=function(t,n){var o=t.name,r=t.initialValues,a=t.fields,i=t.form,l=t.preserve,c=t.children,s=t.component,g=void 0===s?"form":s,u=t.validateMessages,d=t.validateTrigger,I=void 0===d?"onChange":d,C=t.onValuesChange,m=t.onFieldsChange,h=t.onFinish,p=t.onFinishFailed,f=t.clearOnDestroy,A=JG(t,YL),b=e.useRef(null),v=e.useContext(HL),y=hv(NL(i),1)[0],Z=y.getInternalHooks(CM),S=Z.useSubscribe,G=Z.setInitialValues,B=Z.setCallbacks,k=Z.setValidateMessages,w=Z.setPreserve,R=Z.destroyForm;e.useImperativeHandle(n,(function(){return cn(cn({},y),{},{nativeElement:b.current})})),e.useEffect((function(){return v.registerForm(o,y),function(){v.unregisterForm(o)}}),[v,y,o]),k(cn(cn({},v.validateMessages),u)),B({onValuesChange:C,onFieldsChange:function(e){if(v.triggerFormChange(o,e),m){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];m.apply(void 0,[e].concat(n))}},onFinish:function(e){v.triggerFormFinish(o,e),h&&h(e)},onFinishFailed:p}),w(l);var V,W=e.useRef(null);G(r,!W.current),W.current||(W.current=!0),e.useEffect((function(){return function(){return R(f)}}),[]);var x="function"===typeof c;x?V=c(y.getFieldsValue(!0),y):V=c;S(!x);var X=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==on(e)||"object"!==on(t))return!1;var n=Object.keys(e),o=Object.keys(t);return fv(new Set([].concat(n,o))).every((function(n){var o=e[n],r=t[n];return"function"===typeof o&&"function"===typeof r||o===r}))})(X.current||[],a||[])||y.setFields(a||[]),X.current=a}),[a,y]);var N=e.useMemo((function(){return cn(cn({},y),{},{validateTrigger:I})}),[y,I]),J=e.createElement(pM.Provider,{value:null},e.createElement(hM.Provider,{value:N},V));return!1===g?J:e.createElement(g,Ey({},A,{ref:b,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),y.submit()},onReset:function(e){var t;e.preventDefault(),y.resetFields(),null===(t=A.onReset)||void 0===t||t.call(A,e)}}),J)};function KL(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var ML=function(){};const LL=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],a=n[1],i=void 0===a?{}:a,l=function(e){return e&&!!e._init}(i)?{form:i}:i,c=l.form,s=hv((0,e.useState)(),2),g=s[0],u=s[1],d=(0,e.useMemo)((function(){return KL(g)}),[g]),I=(0,e.useRef)(d);I.current=d;var C=(0,e.useContext)(hM),m=c||C,h=m&&m._init,p=hL(r),f=(0,e.useRef)(p);return f.current=p,ML(p),(0,e.useEffect)((function(){if(h){var e=m.getFieldsValue,t=(0,m.getInternalHooks)(CM).registerWatch,n=function(e,t){var n=l.preserve?t:e;return"function"===typeof r?r(n):jZ(n,f.current)},o=t((function(e,t){var o=n(e,t),r=KL(o);I.current!==r&&(I.current=r,u(o))})),a=n(e(),e(!0));return g!==a&&u(a),o}}),[h]),g};var TL=e.forwardRef(FL);TL.FormProvider=EL,TL.Field=BL,TL.List=kL,TL.useForm=NL,TL.useWatch=LL;const zL=TL,DL=e.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),OL=e.createContext(null),jL=t=>{const n=cW(t,["prefixCls"]);return e.createElement(EL,Object.assign({},n))},UL=e.createContext({prefixCls:""}),PL=e.createContext({});const QL=t=>{let{children:n,status:o,override:r}=t;const a=(0,e.useContext)(PL),i=(0,e.useMemo)((()=>{const e=Object.assign({},a);return r&&delete e.isFormItemInput,o&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[o,r,a]);return e.createElement(PL.Provider,{value:i},n)},_L=(0,e.createContext)(void 0);function qL(t){const[n,o]=e.useState(t);return e.useEffect((()=>{const e=setTimeout((()=>{o(t)}),t.length?0:10);return()=>{clearTimeout(e)}}),[t]),n}const $L=e=>{const{componentCls:t}=e,n="".concat(t,"-show-help"),o="".concat(t,"-show-help-item");return{[n]:{transition:"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[o]:{overflow:"hidden",transition:"height ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,",\n                     opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,",\n                     transform ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut," !important"),["&".concat(o,"-appear, &").concat(o,"-enter")]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},["&".concat(o,"-leave-active")]:{transform:"translateY(-5px)"}}}}},eT=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:"0 0 0 ".concat(Iy(e.controlOutlineWidth)," ").concat(e.controlOutline)},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),tT=(e,t)=>{const{formItemCls:n}=e;return{[n]:{["".concat(n,"-label > label")]:{height:t},["".concat(n,"-control-input")]:{minHeight:t}}}},nT=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},ik(e)),eT(e)),{["".concat(t,"-text")]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},tT(e,e.controlHeightSM)),"&-large":Object.assign({},tT(e,e.controlHeightLG))})}},oT=e=>{const{formItemCls:t,iconCls:n,componentCls:o,rootPrefixCls:r,antCls:a,labelRequiredMarkColor:i,labelColor:l,labelFontSize:c,labelHeight:s,labelColonMarginInlineStart:g,labelColonMarginInlineEnd:u,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},ik(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},["&-hidden,\n        &-hidden".concat(a,"-row")]:{display:"none"},"&-has-warning":{["".concat(t,"-split")]:{color:e.colorError}},"&-has-error":{["".concat(t,"-split")]:{color:e.colorWarning}},["".concat(t,"-label")]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:s,color:l,fontSize:c,["> ".concat(n)]:{fontSize:e.fontSize,verticalAlign:"top"},["&".concat(t,"-required:not(").concat(t,"-required-mark-optional)::before")]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:i,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',["".concat(o,"-hide-required-mark &")]:{display:"none"}},["".concat(t,"-optional")]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,["".concat(o,"-hide-required-mark &")]:{display:"none"}},["".concat(t,"-tooltip")]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:g,marginInlineEnd:u},["&".concat(t,"-no-colon::after")]:{content:'"\\a0"'}}},["".concat(t,"-control")]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,["&:first-child:not([class^=\"'".concat(r,"-col-'\"]):not([class*=\"' ").concat(r,"-col-'\"])")]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:"color ".concat(e.motionDurationMid," ").concat(e.motionEaseOut)},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},["&-with-help ".concat(t,"-explain")]:{height:"auto",opacity:1},["".concat(t,"-feedback-icon")]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:jX,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},rT=(e,t)=>{const{formItemCls:n}=e;return{["".concat(t,"-horizontal")]:{["".concat(n,"-label")]:{flexGrow:0},["".concat(n,"-control")]:{flex:"1 1 0",minWidth:0},["".concat(n,"-label[class$='-24'], ").concat(n,"-label[class*='-24 ']")]:{["& + ".concat(n,"-control")]:{minWidth:"unset"}}}}},aT=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:o}=e;return{["".concat(t,"-inline")]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:o,"&-row":{flexWrap:"nowrap"},["> ".concat(n,"-label,\n        > ").concat(n,"-control")]:{display:"inline-block",verticalAlign:"top"},["> ".concat(n,"-label")]:{flex:"none"},["".concat(t,"-text")]:{display:"inline-block"},["".concat(n,"-has-feedback")]:{display:"inline-block"}}}}},iT=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),lT=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:o}=e;return{["".concat(n," ").concat(n,"-label")]:iT(e),["".concat(t,":not(").concat(t,"-inline)")]:{[n]:{flexWrap:"wrap",["".concat(n,"-label, ").concat(n,"-control")]:{['&:not([class*=" '.concat(o,'-col-xs"])')]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},cT=e=>{const{componentCls:t,formItemCls:n,antCls:o}=e;return{["".concat(t,"-vertical")]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(n,"-row")]:{flexDirection:"column"},["".concat(n,"-label > label")]:{height:"auto"},["".concat(n,"-control")]:{width:"100%"},["".concat(n,"-label,\n        ").concat(o,"-col-24").concat(n,"-label,\n        ").concat(o,"-col-xl-24").concat(n,"-label")]:iT(e)}},["@media (max-width: ".concat(Iy(e.screenXSMax),")")]:[lT(e),{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(o,"-col-xs-24").concat(n,"-label")]:iT(e)}}}],["@media (max-width: ".concat(Iy(e.screenSMMax),")")]:{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(o,"-col-sm-24").concat(n,"-label")]:iT(e)}}},["@media (max-width: ".concat(Iy(e.screenMDMax),")")]:{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(o,"-col-md-24").concat(n,"-label")]:iT(e)}}},["@media (max-width: ".concat(Iy(e.screenLGMax),")")]:{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(o,"-col-lg-24").concat(n,"-label")]:iT(e)}}}}},sT=e=>{const{formItemCls:t,antCls:n}=e;return{["".concat(t,"-vertical")]:{["".concat(t,"-row")]:{flexDirection:"column"},["".concat(t,"-label > label")]:{height:"auto"},["".concat(t,"-control")]:{width:"100%"}},["".concat(t,"-vertical ").concat(t,"-label,\n      ").concat(n,"-col-24").concat(t,"-label,\n      ").concat(n,"-col-xl-24").concat(t,"-label")]:iT(e),["@media (max-width: ".concat(Iy(e.screenXSMax),")")]:[lT(e),{[t]:{["".concat(n,"-col-xs-24").concat(t,"-label")]:iT(e)}}],["@media (max-width: ".concat(Iy(e.screenSMMax),")")]:{[t]:{["".concat(n,"-col-sm-24").concat(t,"-label")]:iT(e)}},["@media (max-width: ".concat(Iy(e.screenMDMax),")")]:{[t]:{["".concat(n,"-col-md-24").concat(t,"-label")]:iT(e)}},["@media (max-width: ".concat(Iy(e.screenLGMax),")")]:{[t]:{["".concat(n,"-col-lg-24").concat(t,"-label")]:iT(e)}}}},gT=(e,t)=>xw(e,{formItemCls:"".concat(e.componentCls,"-item"),rootPrefixCls:t}),uT=Uw("Form",((e,t)=>{let{rootPrefixCls:n}=t;const o=gT(e,n);return[nT(o),oT(o),$L(o),rT(o,o.componentCls),rT(o,o.formItemCls),aT(o),cT(o),sT(o),SN(o),jX]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:"0 0 ".concat(e.paddingXS,"px"),verticalLabelMargin:0,inlineItemMarginBottom:0})),{order:-1e3}),dT=[];function IT(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(t,"-").concat(o),error:e,errorStatus:n}}const CT=t=>{let{help:n,helpStatus:o,errors:r=dT,warnings:a=dT,className:i,fieldId:l,onVisibleChanged:c}=t;const{prefixCls:s}=e.useContext(UL),g="".concat(s,"-item-explain"),u=Zw(s),[d,I,C]=uT(s,u),m=(0,e.useMemo)((()=>vX(s)),[s]),h=qL(r),p=qL(a),f=e.useMemo((()=>void 0!==n&&null!==n?[IT(n,"help",o)]:[].concat(fv(h.map(((e,t)=>IT(e,"error","error",t)))),fv(p.map(((e,t)=>IT(e,"warning","warning",t)))))),[n,o,h,p]),A={};return l&&(A.id="".concat(l,"_help")),d(e.createElement(DB,{motionDeadline:m.motionDeadline,motionName:"".concat(s,"-show-help"),visible:!!f.length,onVisibleChanged:c},(t=>{const{className:n,style:o}=t;return e.createElement("div",Object.assign({},A,{className:BG()(g,n,C,u,i,I),style:o,role:"alert"}),e.createElement(zB,Object.assign({keys:f},vX(s),{motionName:"".concat(s,"-show-help-item"),component:!1}),(t=>{const{key:n,error:o,errorStatus:r,className:a,style:i}=t;return e.createElement("div",{key:n,className:BG()(a,{["".concat(g,"-").concat(r)]:r}),style:i},o)})))})))},mT=e=>"object"==typeof e&&null!=e&&1===e.nodeType,hT=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,pT=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return hT(n.overflowY,t)||hT(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},fT=(e,t,n,o,r,a,i,l)=>a<e&&i>t||a>e&&i<t?0:a<=e&&l<=n||i>=t&&l>=n?a-e-o:i>t&&l<n||a<e&&l>n?i-t+r:0,AT=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},bT=(e,t)=>{var n,o,r,a;if("undefined"==typeof document)return[];const{scrollMode:i,block:l,inline:c,boundary:s,skipOverflowHiddenElements:g}=t,u="function"==typeof s?s:e=>e!==s;if(!mT(e))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,I=[];let C=e;for(;mT(C)&&u(C);){if(C=AT(C),C===d){I.push(C);break}null!=C&&C===document.body&&pT(C)&&!pT(document.documentElement)||null!=C&&pT(C,g)&&I.push(C)}const m=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,h=null!=(a=null==(r=window.visualViewport)?void 0:r.height)?a:innerHeight,{scrollX:p,scrollY:f}=window,{height:A,width:b,top:v,right:y,bottom:Z,left:S}=e.getBoundingClientRect(),{top:G,right:B,bottom:k,left:w}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let R="start"===l||"nearest"===l?v-G:"end"===l?Z+k:v+A/2-G+k,V="center"===c?S+b/2-w+B:"end"===c?y+B:S-w;const W=[];for(let x=0;x<I.length;x++){const e=I[x],{height:t,width:n,top:o,right:r,bottom:a,left:s}=e.getBoundingClientRect();if("if-needed"===i&&v>=0&&S>=0&&Z<=h&&y<=m&&v>=o&&Z<=a&&S>=s&&y<=r)return W;const g=getComputedStyle(e),u=parseInt(g.borderLeftWidth,10),C=parseInt(g.borderTopWidth,10),G=parseInt(g.borderRightWidth,10),B=parseInt(g.borderBottomWidth,10);let k=0,w=0;const X="offsetWidth"in e?e.offsetWidth-e.clientWidth-u-G:0,N="offsetHeight"in e?e.offsetHeight-e.clientHeight-C-B:0,J="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,E="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(d===e)k="start"===l?R:"end"===l?R-h:"nearest"===l?fT(f,f+h,h,C,B,f+R,f+R+A,A):R-h/2,w="start"===c?V:"center"===c?V-m/2:"end"===c?V-m:fT(p,p+m,m,u,G,p+V,p+V+b,b),k=Math.max(0,k+f),w=Math.max(0,w+p);else{k="start"===l?R-o-C:"end"===l?R-a+B+N:"nearest"===l?fT(o,a,t,C,B+N,R,R+A,A):R-(o+t/2)+N/2,w="start"===c?V-s-u:"center"===c?V-(s+n/2)+X/2:"end"===c?V-r+G+X:fT(s,r,n,u,G+X,V,V+b,b);const{scrollLeft:i,scrollTop:g}=e;k=0===E?0:Math.max(0,Math.min(g+k/E,e.scrollHeight-t/E+N)),w=0===J?0:Math.max(0,Math.min(i+w/J,e.scrollWidth-n/J+X)),R+=g-k,V+=i-w}W.push({el:e,top:k,left:w})}return W},vT=e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"};const yT=["parentNode"],ZT="form_item";function ST(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function GT(e,t){if(!e.length)return;const n=e.join("_");if(t)return"".concat(t,"_").concat(n);return yT.includes(n)?"".concat(ZT,"_").concat(n):n}function BT(e,t,n,o,r,a){let i=o;return void 0!==a?i=a:n.validating?i="validating":e.length?i="error":t.length?i="warning":(n.touched||r&&n.validated)&&(i="success"),i}function kT(e){return ST(e).join("_")}function wT(t){const[n]=NL(),o=e.useRef({}),r=e.useMemo((()=>null!==t&&void 0!==t?t:Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:e=>t=>{const n=kT(e);t?o.current[n]=t:delete o.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){const n=wG(t.getFieldInstance(e));if(n)return n;const o=GT(ST(e),t.__INTERNAL__.name);return o?document.getElementById(o):void 0}(e,r);n&&function(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(bT(e,t));const o="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:r,top:a,left:i}of bT(e,vT(t))){const e=a-n.top+n.bottom,t=i-n.left+n.right;r.scroll({top:e,left:t,behavior:o})}}(n,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:e=>{const t=kT(e);return o.current[t]}})),[t,n]);return[r]}var RT=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const VT=(t,n)=>{const o=e.useContext(pG),{getPrefixCls:r,direction:a,form:i}=e.useContext(gv),{prefixCls:l,className:c,rootClassName:s,size:g,disabled:u=o,form:d,colon:I,labelAlign:C,labelWrap:m,labelCol:h,wrapperCol:p,hideRequiredMark:f,layout:A="horizontal",scrollToFirstError:b,requiredMark:v,onFinishFailed:y,name:Z,style:S,feedbackIcons:G,variant:B}=t,k=RT(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),w=XX(g),R=e.useContext(nS);const V=(0,e.useMemo)((()=>void 0!==v?v:!f&&(!i||void 0===i.requiredMark||i.requiredMark)),[f,v,i]),W=null!==I&&void 0!==I?I:null===i||void 0===i?void 0:i.colon,x=r("form",l),X=Zw(x),[N,J,E]=uT(x,X),H=BG()(x,"".concat(x,"-").concat(A),{["".concat(x,"-hide-required-mark")]:!1===V,["".concat(x,"-rtl")]:"rtl"===a,["".concat(x,"-").concat(w)]:w},E,X,J,null===i||void 0===i?void 0:i.className,c,s),[Y]=wT(d),{__INTERNAL__:F}=Y;F.name=Z;const K=(0,e.useMemo)((()=>({name:Z,labelAlign:C,labelCol:h,labelWrap:m,wrapperCol:p,vertical:"vertical"===A,colon:W,requiredMark:V,itemRef:F.itemRef,form:Y,feedbackIcons:G})),[Z,C,h,p,A,W,V,Y,G]),M=e.useRef(null);e.useImperativeHandle(n,(()=>{var e;return Object.assign(Object.assign({},Y),{nativeElement:null===(e=M.current)||void 0===e?void 0:e.nativeElement})}));const L=(e,t)=>{if(e){let n={block:"nearest"};"object"===typeof e&&(n=e),Y.scrollToField(t,n)}};return N(e.createElement(_L.Provider,{value:B},e.createElement(hG,{disabled:u},e.createElement(bG.Provider,{value:w},e.createElement(jL,{validateMessages:R},e.createElement(DL.Provider,{value:K},e.createElement(zL,Object.assign({id:Z},k,{name:Z,onFinishFailed:e=>{if(null===y||void 0===y||y(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==b)return void L(b,t);i&&void 0!==i.scrollToFirstError&&L(i.scrollToFirstError,t)}},form:Y,ref:M,style:Object.assign(Object.assign({},null===i||void 0===i?void 0:i.style),S),className:H}))))))))};const WT=e.forwardRef(VT);const xT=()=>{const{status:t,errors:n=[],warnings:o=[]}=(0,e.useContext)(PL);return{status:t,errors:n,warnings:o}};xT.Context=PL;const XT=xT;const NT=["xxl","xl","lg","md","sm","xs"],JT=e=>({xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}),ET=e=>{const t=e,n=[].concat(NT).reverse();return n.forEach(((e,o)=>{const r=e.toUpperCase(),a="screen".concat(r,"Min"),i="screen".concat(r);if(!(t[a]<=t[i]))throw new Error("".concat(a,"<=").concat(i," fails : !(").concat(t[a],"<=").concat(t[i],")"));if(o<n.length-1){const e="screen".concat(r,"Max");if(!(t[i]<=t[e]))throw new Error("".concat(i,"<=").concat(e," fails : !(").concat(t[i],"<=").concat(t[e],")"));const a=n[o+1].toUpperCase(),l="screen".concat(a,"Min");if(!(t[e]<=t[l]))throw new Error("".concat(e,"<=").concat(l," fails : !(").concat(t[e],"<=").concat(t[l],")"))}})),e};function HT(){const[,t]=nk(),n=JT(ET(t));return e.useMemo((()=>{const e=new Map;let t=-1,o={};return{matchHandlers:{},dispatch:t=>(o=t,e.forEach((e=>e(o))),e.size>=1),subscribe(n){return e.size||this.register(),t+=1,e.set(t,n),n(o),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(n).forEach((e=>{const t=n[e],o=this.matchHandlers[t];null===o||void 0===o||o.mql.removeListener(null===o||void 0===o?void 0:o.listener)})),e.clear()},register(){Object.keys(n).forEach((e=>{const t=n[e],r=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},o),{[e]:n}))},a=window.matchMedia(t);a.addListener(r),this.matchHandlers[t]={mql:a,listener:r},r(a)}))},responsiveMap:n}}),[t])}const YT=(0,e.createContext)({}),FT=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},KT=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:o,gridColumns:r}=e,a={};for(let i=r;i>=0;i--)0===i?(a["".concat(o).concat(t,"-").concat(i)]={display:"none"},a["".concat(o,"-push-").concat(i)]={insetInlineStart:"auto"},a["".concat(o,"-pull-").concat(i)]={insetInlineEnd:"auto"},a["".concat(o).concat(t,"-push-").concat(i)]={insetInlineStart:"auto"},a["".concat(o).concat(t,"-pull-").concat(i)]={insetInlineEnd:"auto"},a["".concat(o).concat(t,"-offset-").concat(i)]={marginInlineStart:0},a["".concat(o).concat(t,"-order-").concat(i)]={order:0}):(a["".concat(o).concat(t,"-").concat(i)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(i/r*100,"%"),maxWidth:"".concat(i/r*100,"%")}],a["".concat(o).concat(t,"-push-").concat(i)]={insetInlineStart:"".concat(i/r*100,"%")},a["".concat(o).concat(t,"-pull-").concat(i)]={insetInlineEnd:"".concat(i/r*100,"%")},a["".concat(o).concat(t,"-offset-").concat(i)]={marginInlineStart:"".concat(i/r*100,"%")},a["".concat(o).concat(t,"-order-").concat(i)]={order:i});return a["".concat(o).concat(t,"-flex")]={flex:"var(--".concat(n).concat(t,"-flex)")},a})(e,t),MT=Uw("Grid",(e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}}),(()=>({}))),LT=Uw("Grid",(e=>{const t=xw(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[FT(t),KT(t,""),KT(t,"-xs"),Object.keys(n).map((e=>((e,t,n)=>({["@media (min-width: ".concat(Iy(t),")")]:Object.assign({},KT(e,n))}))(t,n[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}),(()=>({})));var TT=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function zT(t,n){const[o,r]=e.useState("string"===typeof t?t:"");return e.useEffect((()=>{(()=>{if("string"===typeof t&&r(t),"object"===typeof t)for(let e=0;e<NT.length;e++){const o=NT[e];if(!n[o])continue;const a=t[o];if(void 0!==a)return void r(a)}})()}),[JSON.stringify(t),n]),o}const DT=e.forwardRef(((t,n)=>{const{prefixCls:o,justify:r,align:a,className:i,style:l,children:c,gutter:s=0,wrap:g}=t,u=TT(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:I}=e.useContext(gv),[C,m]=e.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[h,p]=e.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),f=zT(a,h),A=zT(r,h),b=e.useRef(s),v=HT();e.useEffect((()=>{const e=v.subscribe((e=>{p(e);const t=b.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&m(e)}));return()=>v.unsubscribe(e)}),[]);const y=d("row",o),[Z,S,G]=MT(y),B=(()=>{const e=[void 0,void 0];return(Array.isArray(s)?s:[s,void 0]).forEach(((t,n)=>{if("object"===typeof t)for(let o=0;o<NT.length;o++){const r=NT[o];if(C[r]&&void 0!==t[r]){e[n]=t[r];break}}else e[n]=t})),e})(),k=BG()(y,{["".concat(y,"-no-wrap")]:!1===g,["".concat(y,"-").concat(A)]:A,["".concat(y,"-").concat(f)]:f,["".concat(y,"-rtl")]:"rtl"===I},i,S,G),w={},R=null!=B[0]&&B[0]>0?B[0]/-2:void 0;R&&(w.marginLeft=R,w.marginRight=R);const[V,W]=B;w.rowGap=W;const x=e.useMemo((()=>({gutter:[V,W],wrap:g})),[V,W,g]);return Z(e.createElement(YT.Provider,{value:x},e.createElement("div",Object.assign({},u,{className:k,style:Object.assign(Object.assign({},w),l),ref:n}),c)))}));const OT=DT;var jT=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function UT(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}const PT=["xs","sm","md","lg","xl","xxl"],QT=e.forwardRef(((t,n)=>{const{getPrefixCls:o,direction:r}=e.useContext(gv),{gutter:a,wrap:i}=e.useContext(YT),{prefixCls:l,span:c,order:s,offset:g,push:u,pull:d,className:I,children:C,flex:m,style:h}=t,p=jT(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),f=o("col",l),[A,b,v]=LT(f),y={};let Z={};PT.forEach((e=>{let n={};const o=t[e];"number"===typeof o?n.span=o:"object"===typeof o&&(n=o||{}),delete p[e],Z=Object.assign(Object.assign({},Z),{["".concat(f,"-").concat(e,"-").concat(n.span)]:void 0!==n.span,["".concat(f,"-").concat(e,"-order-").concat(n.order)]:n.order||0===n.order,["".concat(f,"-").concat(e,"-offset-").concat(n.offset)]:n.offset||0===n.offset,["".concat(f,"-").concat(e,"-push-").concat(n.push)]:n.push||0===n.push,["".concat(f,"-").concat(e,"-pull-").concat(n.pull)]:n.pull||0===n.pull,["".concat(f,"-rtl")]:"rtl"===r}),n.flex&&(Z["".concat(f,"-").concat(e,"-flex")]=!0,y["--".concat(f,"-").concat(e,"-flex")]=UT(n.flex))}));const S=BG()(f,{["".concat(f,"-").concat(c)]:void 0!==c,["".concat(f,"-order-").concat(s)]:s,["".concat(f,"-offset-").concat(g)]:g,["".concat(f,"-push-").concat(u)]:u,["".concat(f,"-pull-").concat(d)]:d},I,Z,b,v),G={};if(a&&a[0]>0){const e=a[0]/2;G.paddingLeft=e,G.paddingRight=e}return m&&(G.flex=UT(m),!1!==i||G.minWidth||(G.minWidth=0)),A(e.createElement("div",Object.assign({},p,{style:Object.assign(Object.assign(Object.assign({},G),h),y),className:S,ref:n}),C))}));const _T=QT,qT=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{["".concat(t,"-control")]:{display:"flex"}}}},$T=jw(["Form","item-item"],((e,t)=>{let{rootPrefixCls:n}=t;const o=gT(e,n);return[qT(o)]})),ez=t=>{const{prefixCls:n,status:o,wrapperCol:r,children:a,errors:i,warnings:l,_internalItemRender:c,extra:s,help:g,fieldId:u,marginBottom:d,onErrorVisibleChanged:I}=t,C="".concat(n,"-item"),m=e.useContext(DL),h=r||m.wrapperCol||{},p=BG()("".concat(C,"-control"),h.className),f=e.useMemo((()=>Object.assign({},m)),[m]);delete f.labelCol,delete f.wrapperCol;const A=e.createElement("div",{className:"".concat(C,"-control-input")},e.createElement("div",{className:"".concat(C,"-control-input-content")},a)),b=e.useMemo((()=>({prefixCls:n,status:o})),[n,o]),v=null!==d||i.length||l.length?e.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},e.createElement(UL.Provider,{value:b},e.createElement(CT,{fieldId:u,errors:i,warnings:l,help:g,helpStatus:o,className:"".concat(C,"-explain-connected"),onVisibleChanged:I})),!!d&&e.createElement("div",{style:{width:0,height:d}})):null,y={};u&&(y.id="".concat(u,"_extra"));const Z=s?e.createElement("div",Object.assign({},y,{className:"".concat(C,"-extra")}),s):null,S=c&&"pro_table_render"===c.mark&&c.render?c.render(t,{input:A,errorList:v,extra:Z}):e.createElement(e.Fragment,null,A,v,Z);return e.createElement(DL.Provider,{value:f},e.createElement(_T,Object.assign({},h,{className:p}),S),e.createElement($T,{prefixCls:n}))};const tz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var nz=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:tz}))};const oz=e.forwardRef(nz),rz=(t,n)=>{const o=e.useContext(IS),r=e.useMemo((()=>{var e;const r=n||cS[t],a=null!==(e=null===o||void 0===o?void 0:o[t])&&void 0!==e?e:{};return Object.assign(Object.assign({},"function"===typeof r?r():r),a||{})}),[t,n,o]);return[r,e.useMemo((()=>{const e=null===o||void 0===o?void 0:o.locale;return(null===o||void 0===o?void 0:o.exist)&&!e?cS.locale:e}),[o])]};var az=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const iz=t=>{let{prefixCls:n,label:o,htmlFor:r,labelCol:a,labelAlign:i,colon:l,required:c,requiredMark:s,tooltip:g,vertical:u}=t;var d;const[I]=rz("Form"),{labelAlign:C,labelCol:m,labelWrap:h,colon:p}=e.useContext(DL);if(!o)return null;const f=a||m||{},A=i||C,b="".concat(n,"-item-label"),v=BG()(b,"left"===A&&"".concat(b,"-left"),f.className,{["".concat(b,"-wrap")]:!!h});let y=o;const Z=!0===l||!1!==p&&!1!==l;Z&&!u&&"string"===typeof o&&""!==o.trim()&&(y=o.replace(/[:|\uff1a]\s*$/,""));const S=function(t){return t?"object"!==typeof t||e.isValidElement(t)?{title:t}:t:null}(g);if(S){const{icon:t=e.createElement(oz,null)}=S,o=az(S,["icon"]),r=e.createElement(fN,Object.assign({},o),e.cloneElement(t,{className:"".concat(n,"-item-tooltip"),title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));y=e.createElement(e.Fragment,null,y,r)}const G="optional"===s,B="function"===typeof s;B?y=s(y,{required:!!c}):G&&!c&&(y=e.createElement(e.Fragment,null,y,e.createElement("span",{className:"".concat(n,"-item-optional"),title:""},(null===I||void 0===I?void 0:I.optional)||(null===(d=cS.Form)||void 0===d?void 0:d.optional))));const k=BG()({["".concat(n,"-item-required")]:c,["".concat(n,"-item-required-mark-optional")]:G||B,["".concat(n,"-item-no-colon")]:!Z});return e.createElement(_T,Object.assign({},f,{className:v}),e.createElement("label",{htmlFor:r,className:k,title:"string"===typeof o?o:""},y))},lz={success:Mk,warning:Qk,error:zk,validating:nw};function cz(t){let{children:n,errors:o,warnings:r,hasFeedback:a,validateStatus:i,prefixCls:l,meta:c,noStyle:s}=t;const g="".concat(l,"-item"),{feedbackIcons:u}=e.useContext(DL),d=BT(o,r,c,null,!!a,i),{isFormItemInput:I,status:C,hasFeedback:m,feedbackIcon:h}=e.useContext(PL),p=e.useMemo((()=>{var t;let n;if(a){const i=!0!==a&&a.icons||u,l=d&&(null===(t=null===i||void 0===i?void 0:i({status:d,errors:o,warnings:r}))||void 0===t?void 0:t[d]),c=d&&lz[d];n=!1!==l&&c?e.createElement("span",{className:BG()("".concat(g,"-feedback-icon"),"".concat(g,"-feedback-icon-").concat(d))},l||e.createElement(c,null)):null}const i={status:d||"",errors:o,warnings:r,hasFeedback:!!a,feedbackIcon:n,isFormItemInput:!0};return s&&(i.status=(null!==d&&void 0!==d?d:C)||"",i.isFormItemInput=I,i.hasFeedback=!!(null!==a&&void 0!==a?a:m),i.feedbackIcon=void 0!==a?i.feedbackIcon:h),i}),[d,a,s,I,C]);return e.createElement(PL.Provider,{value:p},n)}var sz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function gz(t){const{prefixCls:n,className:o,rootClassName:r,style:a,help:i,errors:l,warnings:c,validateStatus:s,meta:g,hasFeedback:u,hidden:d,children:I,fieldId:C,required:m,isRequired:h,onSubItemMetaChange:p,layout:f}=t,A=sz(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),b="".concat(n,"-item"),{requiredMark:v,vertical:y}=e.useContext(DL),Z=y||"vertical"===f,S=e.useRef(null),G=qL(l),B=qL(c),k=void 0!==i&&null!==i,w=!!(k||l.length||c.length),R=!!S.current&&YV(S.current),[V,W]=e.useState(null);vy((()=>{if(w&&S.current){const e=getComputedStyle(S.current);W(parseInt(e.marginBottom,10))}}),[w,R]);const x=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return BT(e?G:g.errors,e?B:g.warnings,g,"",!!u,s)}(),X=BG()(b,o,r,{["".concat(b,"-with-help")]:k||G.length||B.length,["".concat(b,"-has-feedback")]:x&&u,["".concat(b,"-has-success")]:"success"===x,["".concat(b,"-has-warning")]:"warning"===x,["".concat(b,"-has-error")]:"error"===x,["".concat(b,"-is-validating")]:"validating"===x,["".concat(b,"-hidden")]:d,["".concat(b,"-").concat(f)]:f});return e.createElement("div",{className:X,style:a,ref:S},e.createElement(OT,Object.assign({className:"".concat(b,"-row")},cW(A,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),e.createElement(iz,Object.assign({htmlFor:C},t,{requiredMark:v,required:null!==m&&void 0!==m?m:h,prefixCls:n,vertical:Z})),e.createElement(ez,Object.assign({},t,g,{errors:G,warnings:B,prefixCls:n,status:x,help:i,marginBottom:V,onErrorVisibleChanged:e=>{e||W(null)}}),e.createElement(OL.Provider,{value:p},e.createElement(cz,{prefixCls:n,meta:g,errors:g.errors,warnings:g.warnings,hasFeedback:u,validateStatus:x},I)))),!!V&&e.createElement("div",{className:"".concat(b,"-margin-offset"),style:{marginBottom:-V}}))}const uz=e.memo((e=>{let{children:t}=e;return t}),((e,t)=>function(e,t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>{const o=e[n],r=t[n];return o===r||"function"===typeof o||"function"===typeof r}))}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,n)=>e===t.childProps[n]))));const dz=function(t){const{name:n,noStyle:o,className:r,dependencies:a,prefixCls:i,shouldUpdate:l,rules:c,children:s,required:g,label:u,messageVariables:d,trigger:I="onChange",validateTrigger:C,hidden:m,help:h,layout:p}=t,{getPrefixCls:f}=e.useContext(gv),{name:A}=e.useContext(DL),b=function(e){if("function"===typeof e)return e;const t=OR(e);return t.length<=1?t[0]:t}(s),v="function"===typeof b,y=e.useContext(OL),{validateTrigger:Z}=e.useContext(hM),S=void 0!==C?C:Z,G=!(void 0===n||null===n),B=f("form",i),k=Zw(B),[w,R,V]=uT(B,k);tS("Form.Item");const W=e.useContext(pM),x=e.useRef(),[X,N]=function(t){const[n,o]=e.useState(t),r=(0,e.useRef)(null),a=(0,e.useRef)([]),i=(0,e.useRef)(!1);return e.useEffect((()=>(i.current=!1,()=>{i.current=!0,kB.cancel(r.current),r.current=null})),[]),[n,function(e){i.current||(null===r.current&&(a.current=[],r.current=kB((()=>{r.current=null,o((e=>{let t=e;return a.current.forEach((e=>{t=e(t)})),t}))}))),a.current.push(e))}]}({}),[J,E]=UG((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),H=(e,t)=>{N((n=>{const o=Object.assign({},n),r=[].concat(fv(e.name.slice(0,-1)),fv(t)).join("__SPLIT__");return e.destroy?delete o[r]:o[r]=e,o}))},[Y,F]=e.useMemo((()=>{const e=fv(J.errors),t=fv(J.warnings);return Object.values(X).forEach((n=>{e.push.apply(e,fv(n.errors||[])),t.push.apply(t,fv(n.warnings||[]))})),[e,t]}),[X,J.errors,J.warnings]),K=function(){const{itemRef:t}=e.useContext(DL),n=e.useRef({});return function(e,o){const r=o&&"object"===typeof o&&o.ref,a=e.join("_");return n.current.name===a&&n.current.originRef===r||(n.current.name=a,n.current.originRef=r,n.current.ref=WG(t(e),r)),n.current.ref}}();function M(n,a,i){return o&&!m?e.createElement(cz,{prefixCls:B,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:J,errors:Y,warnings:F,noStyle:!0},n):e.createElement(gz,Object.assign({key:"row"},t,{className:BG()(r,V,k,R),prefixCls:B,fieldId:a,isRequired:i,errors:Y,warnings:F,meta:J,onSubItemMetaChange:H,layout:p}),n)}if(!G&&!v&&!a)return w(M(b));let L={};return"string"===typeof u?L.label=u:n&&(L.label=String(n)),d&&(L=Object.assign(Object.assign({},L),d)),w(e.createElement(BL,Object.assign({},t,{messageVariables:L,trigger:I,validateTrigger:S,onMetaChange:e=>{const t=null===W||void 0===W?void 0:W.getKey(e.name);if(E(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),o&&!1!==h&&y){let n=e.name;if(e.destroy)n=x.current||n;else if(void 0!==t){const[e,o]=t;n=[e].concat(fv(o)),x.current=n}y(e,n)}}}),((o,r,i)=>{const s=ST(n).length&&r?r.name:[],u=GT(s,A),d=void 0!==g?g:!(!c||!c.some((e=>{if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){const t=e(i);return t&&t.required&&!t.warningOnly}return!1}))),C=Object.assign({},o);let m=null;if(Array.isArray(b)&&G)m=b;else if(v&&(!l&&!a||G));else if(!a||v||G)if(e.isValidElement(b)){const n=Object.assign(Object.assign({},b.props),C);if(n.id||(n.id=u),h||Y.length>0||F.length>0||t.extra){const e=[];(h||Y.length>0)&&e.push("".concat(u,"_help")),t.extra&&e.push("".concat(u,"_extra")),n["aria-describedby"]=e.join(" ")}Y.length>0&&(n["aria-invalid"]="true"),d&&(n["aria-required"]="true"),XG(b)&&(n.ref=K(s,b));new Set([].concat(fv(ST(I)),fv(ST(S)))).forEach((e=>{n[e]=function(){for(var t,n,o,r,a,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];null===(o=C[e])||void 0===o||(t=o).call.apply(t,[C].concat(l)),null===(a=(r=b.props)[e])||void 0===a||(n=a).call.apply(n,[r].concat(l))}}));const o=[n["aria-required"],n["aria-invalid"],n["aria-describedby"]];m=e.createElement(uz,{control:C,update:b,childProps:o},ZW(b,n))}else m=v&&(l||a)&&!G?b(i):b;else;return M(m,u,d)})))};dz.useStatus=XT;const Iz=dz;var Cz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const mz=t=>{var{prefixCls:n,children:o}=t,r=Cz(t,["prefixCls","children"]);const{getPrefixCls:a}=e.useContext(gv),i=a("form",n),l=e.useMemo((()=>({prefixCls:i,status:"error"})),[i]);return e.createElement(kL,Object.assign({},r),((t,n,r)=>e.createElement(UL.Provider,{value:l},o(t.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),n,{errors:r.errors,warnings:r.warnings}))))};const hz=WT;hz.Item=Iz,hz.List=mz,hz.ErrorList=CT,hz.useForm=wT,hz.useFormInstance=function(){const{form:t}=(0,e.useContext)(DL);return t},hz.useWatch=LL,hz.Provider=jL,hz.create=()=>{};const pz=hz,fz=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o={redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",method:e};n&&("GET"===e?t+="?"+new URLSearchParams(n).toString():o.body=JSON.stringify(n));return(await fetch(t,o)).json()};const Az=function(t){var n=t.className,o=t.customizeIcon,r=t.customizeIconProps,a=t.children,i=t.onMouseDown,l=t.onClick,c="function"===typeof o?o(r):o;return e.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),null===i||void 0===i||i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},void 0!==c?c:e.createElement("span",{className:BG()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},a))};var bz=e.createContext(null);function vz(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=e.useRef(null),o=e.useRef(null);return e.useEffect((function(){return function(){window.clearTimeout(o.current)}}),[]),[function(){return n.current},function(e){(e||null===n.current)&&(n.current=e),window.clearTimeout(o.current),o.current=window.setTimeout((function(){n.current=null}),t)}]}var yz=function(t,n){var o,r=t.prefixCls,a=t.id,i=t.inputElement,l=t.disabled,c=t.tabIndex,s=t.autoFocus,g=t.autoComplete,u=t.editable,d=t.activeDescendantId,I=t.value,C=t.maxLength,m=t.onKeyDown,h=t.onMouseDown,p=t.onChange,f=t.onPaste,A=t.onCompositionStart,b=t.onCompositionEnd,v=t.open,y=t.attrs,Z=i||e.createElement("input",null),S=Z,G=S.ref,B=S.props,k=B.onKeyDown,w=B.onChange,R=B.onMouseDown,V=B.onCompositionStart,W=B.onCompositionEnd,x=B.style;return Z.props,Z=e.cloneElement(Z,cn(cn(cn({type:"search"},B),{},{id:a,ref:WG(n,G),disabled:l,tabIndex:c,autoComplete:g||"off",autoFocus:s,className:BG()("".concat(r,"-selection-search-input"),null===(o=Z)||void 0===o||null===(o=o.props)||void 0===o?void 0:o.className),role:"combobox","aria-expanded":v||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":v?d:void 0},y),{},{value:u?I:"",maxLength:C,readOnly:!u,unselectable:u?null:"on",style:cn(cn({},x),{},{opacity:u?null:0}),onKeyDown:function(e){m(e),k&&k(e)},onMouseDown:function(e){h(e),R&&R(e)},onChange:function(e){p(e),w&&w(e)},onCompositionStart:function(e){A(e),V&&V(e)},onCompositionEnd:function(e){b(e),W&&W(e)},onPaste:f}))};const Zz=e.forwardRef(yz);function Sz(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Gz="undefined"!==typeof window&&window.document&&window.document.documentElement;function Bz(e){return["string","number"].includes(on(e))}function kz(e){var t=void 0;return e&&(Bz(e.title)?t=e.title.toString():Bz(e.label)&&(t=e.label.toString())),t}function wz(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Rz=function(e){e.preventDefault(),e.stopPropagation()};const Vz=function(t){var n,o,r=t.id,a=t.prefixCls,i=t.values,l=t.open,c=t.searchValue,s=t.autoClearSearchValue,g=t.inputRef,u=t.placeholder,d=t.disabled,I=t.mode,C=t.showSearch,m=t.autoFocus,h=t.autoComplete,p=t.activeDescendantId,f=t.tabIndex,A=t.removeIcon,b=t.maxTagCount,v=t.maxTagTextLength,y=t.maxTagPlaceholder,Z=void 0===y?function(e){return"+ ".concat(e.length," ...")}:y,S=t.tagRender,G=t.onToggleOpen,B=t.onRemove,k=t.onInputChange,w=t.onInputPaste,R=t.onInputKeyDown,V=t.onInputMouseDown,W=t.onInputCompositionStart,x=t.onInputCompositionEnd,X=e.useRef(null),N=hv((0,e.useState)(0),2),J=N[0],E=N[1],H=hv((0,e.useState)(!1),2),Y=H[0],F=H[1],K="".concat(a,"-selection"),M=l||"multiple"===I&&!1===s||"tags"===I?c:"",L="tags"===I||"multiple"===I&&!1===s||C&&(l||Y);n=function(){E(X.current.scrollWidth)},o=[M],Gz?e.useLayoutEffect(n,o):e.useEffect(n,o);var T=function(t,n,o,r,a){return e.createElement("span",{title:kz(t),className:BG()("".concat(K,"-item"),an({},"".concat(K,"-item-disabled"),o))},e.createElement("span",{className:"".concat(K,"-item-content")},n),r&&e.createElement(Az,{className:"".concat(K,"-item-remove"),onMouseDown:Rz,onClick:a,customizeIcon:A},"\xd7"))},z=function(t,n,o,r,a,i){return e.createElement("span",{onMouseDown:function(e){Rz(e),G(!l)}},S({label:n,value:t,disabled:o,closable:r,onClose:a,isMaxTag:!!i}))},D=e.createElement("div",{className:"".concat(K,"-search"),style:{width:J},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},e.createElement(Zz,{ref:g,open:l,prefixCls:a,id:r,inputElement:null,disabled:d,autoFocus:m,autoComplete:h,editable:L,activeDescendantId:p,value:M,onKeyDown:R,onMouseDown:V,onChange:k,onPaste:w,onCompositionStart:W,onCompositionEnd:x,tabIndex:f,attrs:sw(t,!0)}),e.createElement("span",{ref:X,className:"".concat(K,"-search-mirror"),"aria-hidden":!0},M,"\xa0")),O=e.createElement(zW,{prefixCls:"".concat(K,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,o=e.value,r=!d&&!t,a=n;if("number"===typeof v&&("string"===typeof n||"number"===typeof n)){var i=String(a);i.length>v&&(a="".concat(i.slice(0,v),"..."))}var l=function(t){t&&t.stopPropagation(),B(e)};return"function"===typeof S?z(o,a,t,r,l):T(e,a,t,r,l)},renderRest:function(e){var t="function"===typeof Z?Z(e):Z;return"function"===typeof S?z(void 0,t,!1,!1,void 0,!0):T({title:t},t,!1)},suffix:D,itemKey:wz,maxCount:b});return e.createElement(e.Fragment,null,O,!i.length&&!M&&e.createElement("span",{className:"".concat(K,"-placeholder")},u))};const Wz=function(t){var n=t.inputElement,o=t.prefixCls,r=t.id,a=t.inputRef,i=t.disabled,l=t.autoFocus,c=t.autoComplete,s=t.activeDescendantId,g=t.mode,u=t.open,d=t.values,I=t.placeholder,C=t.tabIndex,m=t.showSearch,h=t.searchValue,p=t.activeValue,f=t.maxLength,A=t.onInputKeyDown,b=t.onInputMouseDown,v=t.onInputChange,y=t.onInputPaste,Z=t.onInputCompositionStart,S=t.onInputCompositionEnd,G=t.title,B=hv(e.useState(!1),2),k=B[0],w=B[1],R="combobox"===g,V=R||m,W=d[0],x=h||"";R&&p&&!k&&(x=p),e.useEffect((function(){R&&w(!1)}),[R,p]);var X=!("combobox"!==g&&!u&&!m)&&!!x,N=void 0===G?kz(W):G,J=e.useMemo((function(){return W?null:e.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:X?{visibility:"hidden"}:void 0},I)}),[W,X,I,o]);return e.createElement(e.Fragment,null,e.createElement("span",{className:"".concat(o,"-selection-search")},e.createElement(Zz,{ref:a,prefixCls:o,id:r,open:u,inputElement:n,disabled:i,autoFocus:l,autoComplete:c,editable:V,activeDescendantId:s,value:x,onKeyDown:A,onMouseDown:b,onChange:function(e){w(!0),v(e)},onPaste:y,onCompositionStart:Z,onCompositionEnd:S,tabIndex:C,attrs:sw(t,!0),maxLength:R?f:void 0})),!R&&W?e.createElement("span",{className:"".concat(o,"-selection-item"),title:N,style:X?{visibility:"hidden"}:void 0},W.label):null,J)};var xz=function(t,n){var o=(0,e.useRef)(null),r=(0,e.useRef)(!1),a=t.prefixCls,i=t.open,l=t.mode,c=t.showSearch,s=t.tokenWithEnter,g=t.disabled,u=t.autoClearSearchValue,d=t.onSearch,I=t.onSearchSubmit,C=t.onToggleOpen,m=t.onInputKeyDown,h=t.domRef;e.useImperativeHandle(n,(function(){return{focus:function(e){o.current.focus(e)},blur:function(){o.current.blur()}}}));var p=hv(vz(0),2),f=p[0],A=p[1],b=(0,e.useRef)(null),v=function(e){!1!==d(e,!0,r.current)&&C(!0)},y={inputRef:o,onInputKeyDown:function(e){var t,n=e.which;n!==rw.UP&&n!==rw.DOWN||e.preventDefault(),m&&m(e),n!==rw.ENTER||"tags"!==l||r.current||i||null===I||void 0===I||I(e.target.value),t=n,[rw.ESC,rw.SHIFT,rw.BACKSPACE,rw.TAB,rw.WIN_KEY,rw.ALT,rw.META,rw.WIN_KEY_RIGHT,rw.CTRL,rw.SEMICOLON,rw.EQUALS,rw.CAPS_LOCK,rw.CONTEXT_MENU,rw.F1,rw.F2,rw.F3,rw.F4,rw.F5,rw.F6,rw.F7,rw.F8,rw.F9,rw.F10,rw.F11,rw.F12].includes(t)||C(!0)},onInputMouseDown:function(){A(!0)},onInputChange:function(e){var t=e.target.value;if(s&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,v(t)},onInputPaste:function(e){var t=e.clipboardData,n=null===t||void 0===t?void 0:t.getData("text");b.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==l&&v(e.target.value)}},Z="multiple"===l||"tags"===l?e.createElement(Vz,Ey({},t,y)):e.createElement(Wz,Ey({},t,y));return e.createElement("div",{ref:h,className:"".concat(a,"-selector"),onClick:function(e){e.target!==o.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){o.current.focus()})):o.current.focus())},onMouseDown:function(e){var t=f();e.target===o.current||t||"combobox"===l&&g||e.preventDefault(),("combobox"===l||c&&t)&&i||(i&&!1!==u&&d("",!0,!1),C())}},Z)};const Xz=e.forwardRef(xz);var Nz=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Jz=function(t,n){var o=t.prefixCls,r=(t.disabled,t.visible),a=t.children,i=t.popupElement,l=t.animation,c=t.transitionName,s=t.dropdownStyle,g=t.dropdownClassName,u=t.direction,d=void 0===u?"ltr":u,I=t.placement,C=t.builtinPlacements,m=t.dropdownMatchSelectWidth,h=t.dropdownRender,p=t.dropdownAlign,f=t.getPopupContainer,A=t.empty,b=t.getTriggerDOMNode,v=t.onPopupVisibleChange,y=t.onPopupMouseEnter,Z=JG(t,Nz),S="".concat(o,"-dropdown"),G=i;h&&(G=h(i));var B=e.useMemo((function(){return C||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(m)}),[C,m]),k=l?"".concat(S,"-").concat(l):c,w="number"===typeof m,R=e.useMemo((function(){return w?null:!1===m?"minWidth":"width"}),[m,w]),V=s;w&&(V=cn(cn({},V),{},{width:m}));var W=e.useRef(null);return e.useImperativeHandle(n,(function(){return{getPopupElement:function(){var e;return null===(e=W.current)||void 0===e?void 0:e.popupElement}}})),e.createElement(qV,Ey({},Z,{showAction:v?["click"]:[],hideAction:v?["click"]:[],popupPlacement:I||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:B,prefixCls:S,popupTransitionName:k,popup:e.createElement("div",{onMouseEnter:y},G),ref:W,stretch:R,popupAlign:p,popupVisible:r,getPopupContainer:f,popupClassName:BG()(g,an({},"".concat(S,"-empty"),A)),popupStyle:V,getTriggerDOMNode:b,onPopupVisibleChange:v}),a)};const Ez=e.forwardRef(Jz);function Hz(e,t){var n,o=e.key;return"value"in e&&(n=e.value),null!==o&&void 0!==o?o:void 0!==n?n:"rc-index-key-".concat(t)}function Yz(e){return"undefined"!==typeof e&&!Number.isNaN(e)}function Fz(e,t){var n=e||{},o=n.label||(t?"children":"label");return{label:o,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||o}}function Kz(e){var t=cn({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Mv(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const Mz=e.createContext(null);function Lz(t){var n=t.visible,o=t.values;if(!n)return null;return e.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,50).map((function(e){var t=e.label,n=e.value;return["number","string"].includes(on(t))?t:n})).join(", ")),o.length>50?", ...":null)}var Tz=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],zz=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Dz=function(e){return"tags"===e||"multiple"===e},Oz=e.forwardRef((function(t,n){var o,r=t.id,a=t.prefixCls,i=t.className,l=t.showSearch,c=t.tagRender,s=t.direction,g=t.omitDomProps,u=t.displayValues,d=t.onDisplayValuesChange,I=t.emptyOptions,C=t.notFoundContent,m=void 0===C?"Not Found":C,h=t.onClear,p=t.mode,f=t.disabled,A=t.loading,b=t.getInputElement,v=t.getRawInputElement,y=t.open,Z=t.defaultOpen,S=t.onDropdownVisibleChange,G=t.activeValue,B=t.onActiveValueChange,k=t.activeDescendantId,w=t.searchValue,R=t.autoClearSearchValue,V=t.onSearch,W=t.onSearchSplit,x=t.tokenSeparators,X=t.allowClear,N=t.suffixIcon,J=t.clearIcon,E=t.OptionList,H=t.animation,Y=t.transitionName,F=t.dropdownStyle,K=t.dropdownClassName,M=t.dropdownMatchSelectWidth,L=t.dropdownRender,T=t.dropdownAlign,z=t.placement,D=t.builtinPlacements,O=t.getPopupContainer,j=t.showAction,U=void 0===j?[]:j,P=t.onFocus,Q=t.onBlur,_=t.onKeyUp,q=t.onKeyDown,$=t.onMouseDown,ee=JG(t,Tz),te=Dz(p),ne=(void 0!==l?l:te)||"combobox"===p,oe=cn({},ee);zz.forEach((function(e){delete oe[e]})),null===g||void 0===g||g.forEach((function(e){delete oe[e]}));var re=hv(e.useState(!1),2),ae=re[0],ie=re[1];e.useEffect((function(){ie(kV())}),[]);var le=e.useRef(null),ce=e.useRef(null),se=e.useRef(null),ge=e.useRef(null),ue=e.useRef(null),de=e.useRef(!1),Ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=hv(e.useState(!1),2),o=n[0],r=n[1],a=e.useRef(null),i=function(){window.clearTimeout(a.current)};return e.useEffect((function(){return i}),[]),[o,function(e,n){i(),a.current=window.setTimeout((function(){r(e),n&&n()}),t)},i]}(),Ce=hv(Ie,3),me=Ce[0],he=Ce[1],pe=Ce[2];e.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=ge.current)||void 0===e?void 0:e.focus,blur:null===(t=ge.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ue.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:le.current||ce.current}}));var fe=e.useMemo((function(){var e;if("combobox"!==p)return w;var t=null===(e=u[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[w,p,u]),Ae="combobox"===p&&"function"===typeof b&&b()||null,be="function"===typeof v&&v(),ve=xG(ce,null===be||void 0===be||null===(o=be.props)||void 0===o?void 0:o.ref),ye=hv(e.useState(!1),2),Ze=ye[0],Se=ye[1];vy((function(){Se(!0)}),[]);var Ge=hv(QG(!1,{defaultValue:Z,value:y}),2),Be=Ge[0],ke=Ge[1],we=!!Ze&&Be,Re=!m&&I;(f||Re&&we&&"combobox"===p)&&(we=!1);var Ve=!Re&&we,We=e.useCallback((function(e){var t=void 0!==e?e:!we;f||(ke(t),we!==t&&(null===S||void 0===S||S(t)))}),[f,we,ke,S]),xe=e.useMemo((function(){return(x||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[x]),Xe=e.useContext(Mz)||{},Ne=Xe.maxCount,Je=Xe.rawValues,Ee=function(e,t,n){if(!(te&&Yz(Ne)&&(null===Je||void 0===Je?void 0:Je.size)>=Ne)){var o=!0,r=e;null===B||void 0===B||B(null);var a=function(e,t,n){if(!t||!t.length)return null;var o=!1,r=function e(t,n){var r=OZ(n),a=r[0],i=r.slice(1);if(!a)return[t];var l=t.split(a);return o=o||l.length>1,l.reduce((function(t,n){return[].concat(fv(t),fv(e(n,i)))}),[]).filter(Boolean)}(e,t);return o?"undefined"!==typeof n?r.slice(0,n):r:null}(e,x,Yz(Ne)?Ne-Je.size:void 0),i=n?null:a;return"combobox"!==p&&i&&(r="",null===W||void 0===W||W(i),We(!1),o=!1),V&&fe!==r&&V(r,{source:t?"typing":"effect"}),o}};e.useEffect((function(){we||te||"combobox"===p||Ee("",!1,!1)}),[we]),e.useEffect((function(){Be&&f&&ke(!1),f&&!de.current&&he(!1)}),[f]);var He=hv(vz(),2),Ye=He[0],Fe=He[1],Ke=e.useRef(!1),Me=[];e.useEffect((function(){return function(){Me.forEach((function(e){return clearTimeout(e)})),Me.splice(0,Me.length)}}),[]);var Le,Te=hv(e.useState({}),2)[1];be&&(Le=function(e){We(e)}),function(t,n,o,r){var a=e.useRef(null);a.current={open:n,triggerOpen:o,customizedTrigger:r},e.useEffect((function(){function e(e){var n;if(null===(n=a.current)||void 0===n||!n.customizedTrigger){var o=e.target;o.shadowRoot&&e.composed&&(o=e.composedPath()[0]||o),a.current.open&&t().filter((function(e){return e})).every((function(e){return!e.contains(o)&&e!==o}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var e;return[le.current,null===(e=se.current)||void 0===e?void 0:e.getPopupElement()]}),Ve,We,!!be);var ze,De=e.useMemo((function(){return cn(cn({},t),{},{notFoundContent:m,open:we,triggerOpen:Ve,id:r,showSearch:ne,multiple:te,toggleOpen:We})}),[t,m,Ve,we,r,ne,te,We]),Oe=!!N||A;Oe&&(ze=e.createElement(Az,{className:BG()("".concat(a,"-arrow"),an({},"".concat(a,"-arrow-loading"),A)),customizeIcon:N,customizeIconProps:{loading:A,searchValue:fe,open:we,focused:me,showSearch:ne}}));var je,Ue=function(t,n,o,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=e.useMemo((function(){return"object"===on(r)?r.clearIcon:a||void 0}),[r,a]);return{allowClear:e.useMemo((function(){return!(i||!r||!o.length&&!l||"combobox"===c&&""===l)}),[r,i,o.length,l,c]),clearIcon:e.createElement(Az,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:s},"\xd7")}}(a,(function(){var e;null===h||void 0===h||h(),null===(e=ge.current)||void 0===e||e.focus(),d([],{type:"clear",values:u}),Ee("",!1,!1)}),u,X,J,f,fe,p),Pe=Ue.allowClear,Qe=Ue.clearIcon,_e=e.createElement(E,{ref:ue}),qe=BG()(a,i,an(an(an(an(an(an(an(an(an(an({},"".concat(a,"-focused"),me),"".concat(a,"-multiple"),te),"".concat(a,"-single"),!te),"".concat(a,"-allow-clear"),X),"".concat(a,"-show-arrow"),Oe),"".concat(a,"-disabled"),f),"".concat(a,"-loading"),A),"".concat(a,"-open"),we),"".concat(a,"-customize-input"),Ae),"".concat(a,"-show-search"),ne)),$e=e.createElement(Ez,{ref:se,disabled:f,prefixCls:a,visible:Ve,popupElement:_e,animation:H,transitionName:Y,dropdownStyle:F,dropdownClassName:K,direction:s,dropdownMatchSelectWidth:M,dropdownRender:L,dropdownAlign:T,placement:z,builtinPlacements:D,getPopupContainer:O,empty:I,getTriggerDOMNode:function(e){return ce.current||e},onPopupVisibleChange:Le,onPopupMouseEnter:function(){Te({})}},be?e.cloneElement(be,{ref:ve}):e.createElement(Xz,Ey({},t,{domRef:ce,prefixCls:a,inputElement:Ae,ref:ge,id:r,showSearch:ne,autoClearSearchValue:R,mode:p,activeDescendantId:k,tagRender:c,values:u,open:we,onToggleOpen:We,activeValue:G,searchValue:fe,onSearch:Ee,onSearchSubmit:function(e){e&&e.trim()&&V(e,{source:"submit"})},onRemove:function(e){var t=u.filter((function(t){return t!==e}));d(t,{type:"remove",values:[e]})},tokenWithEnter:xe})));return je=be?$e:e.createElement("div",Ey({className:qe},oe,{ref:le,onMouseDown:function(e){var t,n=e.target,o=null===(t=se.current)||void 0===t?void 0:t.getPopupElement();if(o&&o.contains(n)){var r=setTimeout((function(){var e,t=Me.indexOf(r);-1!==t&&Me.splice(t,1),pe(),ae||o.contains(document.activeElement)||null===(e=ge.current)||void 0===e||e.focus()}));Me.push(r)}for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];null===$||void 0===$||$.apply(void 0,[e].concat(i))},onKeyDown:function(e){var t,n=Ye(),o=e.which;if(o===rw.ENTER&&("combobox"!==p&&e.preventDefault(),we||We(!0)),Fe(!!fe),o===rw.BACKSPACE&&!n&&te&&!fe&&u.length){for(var r=fv(u),a=null,i=r.length-1;i>=0;i-=1){var l=r[i];if(!l.disabled){r.splice(i,1),a=l;break}}a&&d(r,{type:"remove",values:[a]})}for(var c=arguments.length,s=new Array(c>1?c-1:0),g=1;g<c;g++)s[g-1]=arguments[g];we&&(null===(t=ue.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(s))),null===q||void 0===q||q.apply(void 0,[e].concat(s))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r;we&&(null===(r=ue.current)||void 0===r||r.onKeyUp.apply(r,[e].concat(n))),null===_||void 0===_||_.apply(void 0,[e].concat(n))},onFocus:function(){he(!0),f||(P&&!Ke.current&&P.apply(void 0,arguments),U.includes("focus")&&We(!0)),Ke.current=!0},onBlur:function(){de.current=!0,he(!1,(function(){Ke.current=!1,de.current=!1,We(!1)})),f||(fe&&("tags"===p?V(fe,{source:"submit"}):"multiple"===p&&V("",{source:"blur"})),Q&&Q.apply(void 0,arguments))}}),e.createElement(Lz,{visible:me&&!we,values:u}),$e,ze,Pe&&Qe),e.createElement(bz.Provider,{value:De},je)}));const jz=Oz;var Uz=function(){return null};Uz.isSelectOptGroup=!0;const Pz=Uz;var Qz=function(){return null};Qz.isSelectOption=!0;const _z=Qz;var qz=e.forwardRef((function(t,n){var o=t.height,r=t.offsetY,a=t.offsetX,i=t.children,l=t.prefixCls,c=t.onInnerResize,s=t.innerProps,g=t.rtl,u=t.extra,d={},I={display:"flex",flexDirection:"column"};return void 0!==r&&(d={height:o,position:"relative",overflow:"hidden"},I=cn(cn({},I),{},an(an(an(an(an({transform:"translateY(".concat(r,"px)")},g?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),e.createElement("div",{style:d},e.createElement(ZV,{onResize:function(e){e.offsetHeight&&c&&c()}},e.createElement("div",Ey({style:I,className:BG()(an({},"".concat(l,"-holder-inner"),l)),ref:n},s),i,u)))}));qz.displayName="Filler";const $z=qz;function eD(t){var n=t.children,o=t.setRef,r=e.useCallback((function(e){o(e)}),[]);return e.cloneElement(n,{ref:r})}function tD(t,n,o){var r=hv(e.useState(t),2),a=r[0],i=r[1],l=hv(e.useState(null),2),c=l[0],s=l[1];return e.useEffect((function(){var e=function(e,t,n){var o,r,a=e.length,i=t.length;if(0===a&&0===i)return null;a<i?(o=e,r=t):(o=t,r=e);var l={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?n(e):l}for(var s=null,g=1!==Math.abs(a-i),u=0;u<r.length;u+=1){var d=c(o[u]);if(d!==c(r[u])){s=u,g=g||d!==c(r[u+1]);break}}return null===s?null:{index:s,multiple:g}}(a||[],t||[],n);void 0!==(null===e||void 0===e?void 0:e.index)&&(null===o||void 0===o||o(e.index),s(t[e.index])),i(t)}),[t]),[c]}const nD="object"===("undefined"===typeof navigator?"undefined":on(navigator))&&/Firefox/i.test(navigator.userAgent),oD=function(t,n,o,r){var a=(0,e.useRef)(!1),i=(0,e.useRef)(null);var l=(0,e.useRef)({top:t,bottom:n,left:o,right:r});return l.current.top=t,l.current.bottom=n,l.current.left=o,l.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e?t<0&&l.current.left||t>0&&l.current.right:t<0&&l.current.top||t>0&&l.current.bottom;return n&&o?(clearTimeout(i.current),a.current=!1):o&&!a.current||(clearTimeout(i.current),a.current=!0,i.current=setTimeout((function(){a.current=!1}),50)),!a.current&&o}};function rD(t,n,o,r,a,i,l){var c=(0,e.useRef)(0),s=(0,e.useRef)(null),g=(0,e.useRef)(null),u=(0,e.useRef)(!1),d=oD(n,o,r,a);var I=(0,e.useRef)(null),C=(0,e.useRef)(null);return[function(e){if(t){kB.cancel(C.current),C.current=kB((function(){I.current=null}),2);var n=e.deltaX,o=e.deltaY,r=e.shiftKey,a=n,m=o;("sx"===I.current||!I.current&&r&&o&&!n)&&(a=o,m=0,I.current="sx");var h=Math.abs(a),p=Math.abs(m);null===I.current&&(I.current=i&&h>p?"x":"y"),"y"===I.current?function(e,t){kB.cancel(s.current),c.current+=t,g.current=t,d(!1,t)||(nD||e.preventDefault(),s.current=kB((function(){var e=u.current?10:1;l(c.current*e),c.current=0})))}(e,m):function(e,t){l(t,!0),nD||e.preventDefault()}(e,a)}},function(e){t&&(u.current=e.detail===g.current)}]}const aD=function(){function e(){Tv(this,e),an(this,"maps",void 0),an(this,"id",0),this.maps=Object.create(null)}return Dv(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var iD=14/15;var lD=10;function cD(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var sD=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.rtl,a=t.scrollOffset,i=t.scrollRange,l=t.onStartMove,c=t.onStopMove,s=t.onScroll,g=t.horizontal,u=t.spinSize,d=t.containerSize,I=t.style,C=t.thumbStyle,m=hv(e.useState(!1),2),h=m[0],p=m[1],f=hv(e.useState(null),2),A=f[0],b=f[1],v=hv(e.useState(null),2),y=v[0],Z=v[1],S=!r,G=e.useRef(),B=e.useRef(),k=hv(e.useState(!1),2),w=k[0],R=k[1],V=e.useRef(),W=function(){clearTimeout(V.current),R(!0),V.current=setTimeout((function(){R(!1)}),3e3)},x=i-d||0,X=d-u||0,N=e.useMemo((function(){return 0===a||0===x?0:a/x*X}),[a,x,X]),J=e.useRef({top:N,dragging:h,pageY:A,startTop:y});J.current={top:N,dragging:h,pageY:A,startTop:y};var E=function(e){p(!0),b(cD(e,g)),Z(J.current.top),l(),e.stopPropagation(),e.preventDefault()};e.useEffect((function(){var e=function(e){e.preventDefault()},t=G.current,n=B.current;return t.addEventListener("touchstart",e),n.addEventListener("touchstart",E),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",E)}}),[]);var H=e.useRef();H.current=x;var Y=e.useRef();Y.current=X,e.useEffect((function(){if(h){var e,t=function(t){var n=J.current,o=n.dragging,r=n.pageY,a=n.startTop;if(kB.cancel(e),o){var i=cD(t,g)-r,l=a;!S&&g?l-=i:l+=i;var c=H.current,u=Y.current,d=u?l/u:0,I=Math.ceil(d*c);I=Math.max(I,0),I=Math.min(I,c),e=kB((function(){s(I,g)}))}},n=function(){p(!1),c()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),kB.cancel(e)}}}),[h]),e.useEffect((function(){W()}),[a]),e.useImperativeHandle(n,(function(){return{delayHidden:W}}));var F="".concat(o,"-scrollbar"),K={position:"absolute",visibility:w?null:"hidden"},M={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return g?(K.height=8,K.left=0,K.right=0,K.bottom=0,M.height="100%",M.width=u,S?M.left=N:M.right=N):(K.width=8,K.top=0,K.bottom=0,S?K.right=0:K.left=0,M.width="100%",M.height=u,M.top=N),e.createElement("div",{ref:G,className:BG()(F,an(an(an({},"".concat(F,"-horizontal"),g),"".concat(F,"-vertical"),!g),"".concat(F,"-visible"),w)),style:cn(cn({},K),I),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:W},e.createElement("div",{ref:B,className:BG()("".concat(F,"-thumb"),an({},"".concat(F,"-thumb-moving"),h)),style:cn(cn({},M),C),onMouseDown:E}))}));const gD=sD;var uD=20;function dD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,uD),Math.floor(t)}var ID=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],CD=[],mD={overflowY:"auto",overflowAnchor:"none"};function hD(t,n){var o=t.prefixCls,r=void 0===o?"rc-virtual-list":o,a=t.className,l=t.height,c=t.itemHeight,s=t.fullHeight,g=void 0===s||s,u=t.style,d=t.data,I=t.children,C=t.itemKey,m=t.virtual,h=t.direction,p=t.scrollWidth,f=t.component,A=void 0===f?"div":f,b=t.onScroll,v=t.onVirtualScroll,y=t.onVisibleChange,Z=t.innerProps,S=t.extraRender,G=t.styles,B=JG(t,ID),k=e.useCallback((function(e){return"function"===typeof C?C(e):null===e||void 0===e?void 0:e[C]}),[C]),w=function(t,n,o){var r=hv(e.useState(0),2),a=r[0],i=r[1],l=(0,e.useRef)(new Map),c=(0,e.useRef)(new aD),s=(0,e.useRef)();function g(){kB.cancel(s.current)}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g();var t=function(){l.current.forEach((function(e,t){if(e&&e.offsetParent){var n=RG(e),o=n.offsetHeight;c.current.get(t)!==o&&c.current.set(t,n.offsetHeight)}})),i((function(e){return e+1}))};e?t():s.current=kB(t)}return(0,e.useEffect)((function(){return g}),[]),[function(e,r){var a=t(e),i=l.current.get(a);r?(l.current.set(a,r),u()):l.current.delete(a),!i!==!r&&(r?null===n||void 0===n||n(e):null===o||void 0===o||o(e))},u,c.current,a]}(k,null,null),R=hv(w,4),V=R[0],W=R[1],x=R[2],X=R[3],N=!(!1===m||!l||!c),J=e.useMemo((function(){return Object.values(x.maps).reduce((function(e,t){return e+t}),0)}),[x.id,x.maps]),E=N&&d&&(Math.max(c*d.length,J)>l||!!p),H="rtl"===h,Y=BG()(r,an({},"".concat(r,"-rtl"),H),a),F=d||CD,K=(0,e.useRef)(),M=(0,e.useRef)(),L=(0,e.useRef)(),T=hv((0,e.useState)(0),2),z=T[0],D=T[1],O=hv((0,e.useState)(0),2),j=O[0],U=O[1],P=hv((0,e.useState)(!1),2),Q=P[0],_=P[1],q=function(){_(!0)},$=function(){_(!1)},ee={getKey:k};function te(e){D((function(t){var n=function(e){var t=e;Number.isNaN(fe.current)||(t=Math.min(t,fe.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return K.current.scrollTop=n,n}))}var ne=(0,e.useRef)({start:0,end:F.length}),oe=(0,e.useRef)(),re=hv(tD(F,k),1)[0];oe.current=re;var ae=e.useMemo((function(){if(!N)return{scrollHeight:void 0,start:0,end:F.length-1,offset:void 0};var e;if(!E)return{scrollHeight:(null===(e=M.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:F.length-1,offset:void 0};for(var t,n,o,r=0,a=F.length,i=0;i<a;i+=1){var s=F[i],g=k(s),u=x.get(g),d=r+(void 0===u?c:u);d>=z&&void 0===t&&(t=i,n=r),d>z+l&&void 0===o&&(o=i),r=d}return void 0===t&&(t=0,n=0,o=Math.ceil(l/c)),void 0===o&&(o=F.length-1),{scrollHeight:r,start:t,end:o=Math.min(o+1,F.length-1),offset:n}}),[E,N,z,F,X,l]),ie=ae.scrollHeight,le=ae.start,ce=ae.end,se=ae.offset;ne.current.start=le,ne.current.end=ce;var ge=hv(e.useState({width:0,height:l}),2),ue=ge[0],de=ge[1],Ie=(0,e.useRef)(),Ce=(0,e.useRef)(),me=e.useMemo((function(){return dD(ue.width,p)}),[ue.width,p]),he=e.useMemo((function(){return dD(ue.height,ie)}),[ue.height,ie]),pe=ie-l,fe=(0,e.useRef)(pe);fe.current=pe;var Ae=z<=0,be=z>=pe,ve=j<=0,ye=j>=p,Ze=oD(Ae,be,ve,ye),Se=function(){return{x:H?-j:j,y:z}},Ge=(0,e.useRef)(Se()),Be=jG((function(e){if(v){var t=cn(cn({},Se()),e);Ge.current.x===t.x&&Ge.current.y===t.y||(v(t),Ge.current=t)}}));function ke(e,t){var n=e;t?((0,i.flushSync)((function(){U(n)})),Be()):te(n)}var we=function(e){var t=e,n=p?p-ue.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Re=jG((function(e,t){t?((0,i.flushSync)((function(){U((function(t){return we(t+(H?-e:e))}))})),Be()):te((function(t){return t+e}))})),Ve=hv(rD(N,Ae,be,ve,ye,!!p,Re),2),We=Ve[0],xe=Ve[1];!function(t,n,o){var r,a=(0,e.useRef)(!1),i=(0,e.useRef)(0),l=(0,e.useRef)(0),c=(0,e.useRef)(null),s=(0,e.useRef)(null),g=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),r=i.current-t,c=l.current-n,g=Math.abs(r)>Math.abs(c);g?i.current=t:l.current=n,o(g,g?r:c)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){g?r*=iD:c*=iD;var e=Math.floor(g?r:c);(!o(g,e,!0)||Math.abs(e)<=.1)&&clearInterval(s.current)}),16)}},u=function(){a.current=!1,r()},d=function(e){r(),1!==e.touches.length||a.current||(a.current=!0,i.current=Math.ceil(e.touches[0].pageX),l.current=Math.ceil(e.touches[0].pageY),c.current=e.target,c.current.addEventListener("touchmove",g),c.current.addEventListener("touchend",u))};r=function(){c.current&&(c.current.removeEventListener("touchmove",g),c.current.removeEventListener("touchend",u))},vy((function(){return t&&n.current.addEventListener("touchstart",d),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(s.current)}}),[t])}(N,K,(function(e,t,n){return!Ze(e,t,n)&&(We({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)})),vy((function(){function e(e){N&&e.preventDefault()}var t=K.current;return t.addEventListener("wheel",We),t.addEventListener("DOMMouseScroll",xe),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",We),t.removeEventListener("DOMMouseScroll",xe),t.removeEventListener("MozMousePixelScroll",e)}}),[N]),vy((function(){if(p){var e=we(j);U(e),Be({x:e})}}),[ue.width,p]);var Xe=function(){var e,t;null===(e=Ie.current)||void 0===e||e.delayHidden(),null===(t=Ce.current)||void 0===t||t.delayHidden()},Ne=function(t,n,o,r,a,i,l,c){var s=e.useRef(),g=hv(e.useState(null),2),u=g[0],d=g[1];return vy((function(){if(u&&u.times<lD){if(!t.current)return void d((function(e){return cn({},e)}));i();var e=u.targetAlign,c=u.originAlign,s=u.index,g=u.offset,I=t.current.clientHeight,C=!1,m=e,h=null;if(I){for(var p=e||c,f=0,A=0,b=0,v=Math.min(n.length-1,s),y=0;y<=v;y+=1){var Z=a(n[y]);A=f;var S=o.get(Z);f=b=A+(void 0===S?r:S)}for(var G="top"===p?g:I-g,B=v;B>=0;B-=1){var k=a(n[B]),w=o.get(k);if(void 0===w){C=!0;break}if((G-=w)<=0)break}switch(p){case"top":h=A-g;break;case"bottom":h=b-I+g;break;default:var R=t.current.scrollTop;A<R?m="top":b>R+I&&(m="bottom")}null!==h&&l(h),h!==u.lastTop&&(C=!0)}C&&d(cn(cn({},u),{},{times:u.times+1,targetAlign:m,lastTop:h}))}}),[u,t.current]),function(e){if(null!==e&&void 0!==e){if(kB.cancel(s.current),"number"===typeof e)l(e);else if(e&&"object"===on(e)){var t,o=e.align;t="index"in e?e.index:n.findIndex((function(t){return a(t)===e.key}));var r=e.offset;d({times:0,index:t,offset:void 0===r?0:r,originAlign:o})}}else c()}}(K,F,x,c,k,(function(){return W(!0)}),te,Xe);e.useImperativeHandle(n,(function(){return{nativeElement:L.current,getScrollInfo:Se,scrollTo:function(e){var t;(t=e)&&"object"===on(t)&&("left"in t||"top"in t)?(void 0!==e.left&&U(we(e.left)),Ne(e.top)):Ne(e)}}})),vy((function(){if(y){var e=F.slice(le,ce+1);y(e,F)}}),[le,ce,F]);var Je=function(t,n,o,r){var a=hv(e.useMemo((function(){return[new Map,[]]}),[t,o.id,r]),2),i=a[0],l=a[1];return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,c=i.get(e),s=i.get(a);if(void 0===c||void 0===s)for(var g=t.length,u=l.length;u<g;u+=1){var d,I=t[u],C=n(I);i.set(C,u);var m=null!==(d=o.get(C))&&void 0!==d?d:r;if(l[u]=(l[u-1]||0)+m,C===e&&(c=u),C===a&&(s=u),void 0!==c&&void 0!==s)break}return{top:l[c-1]||0,bottom:l[s]}}}(F,k,x,c),Ee=null===S||void 0===S?void 0:S({start:le,end:ce,virtual:E,offsetX:j,offsetY:se,rtl:H,getSize:Je}),He=function(t,n,o,r,a,i,l,c){var s=c.getKey;return t.slice(n,o+1).map((function(t,o){var c=l(t,n+o,{style:{width:r},offsetX:a}),g=s(t);return e.createElement(eD,{key:g,setRef:function(e){return i(t,e)}},c)}))}(F,le,ce,p,j,V,I,ee),Ye=null;l&&(Ye=cn(an({},g?"height":"maxHeight",l),mD),N&&(Ye.overflowY="hidden",p&&(Ye.overflowX="hidden"),Q&&(Ye.pointerEvents="none")));var Fe={};return H&&(Fe.dir="rtl"),e.createElement("div",Ey({ref:L,style:cn(cn({},u),{},{position:"relative"}),className:Y},Fe,B),e.createElement(ZV,{onResize:function(e){de({width:e.width||e.offsetWidth,height:e.height||e.offsetHeight})}},e.createElement(A,{className:"".concat(r,"-holder"),style:Ye,ref:K,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==z&&te(t),null===b||void 0===b||b(e),Be()},onMouseEnter:Xe},e.createElement($z,{prefixCls:r,height:ie,offsetX:j,offsetY:se,scrollWidth:p,onInnerResize:W,ref:M,innerProps:Z,rtl:H,extra:Ee},He))),E&&ie>l&&e.createElement(gD,{ref:Ie,prefixCls:r,scrollOffset:z,scrollRange:ie,rtl:H,onScroll:ke,onStartMove:q,onStopMove:$,spinSize:he,containerSize:ue.height,style:null===G||void 0===G?void 0:G.verticalScrollBar,thumbStyle:null===G||void 0===G?void 0:G.verticalScrollBarThumb}),E&&p>ue.width&&e.createElement(gD,{ref:Ce,prefixCls:r,scrollOffset:j,scrollRange:p,rtl:H,onScroll:ke,onStartMove:q,onStopMove:$,spinSize:me,containerSize:ue.width,horizontal:!0,style:null===G||void 0===G?void 0:G.horizontalScrollBar,thumbStyle:null===G||void 0===G?void 0:G.horizontalScrollBarThumb}))}var pD=e.forwardRef(hD);pD.displayName="List";const fD=pD;var AD=["disabled","title","children","style","className"];function bD(e){return"string"===typeof e||"number"===typeof e}var vD=function(t,n){var o=e.useContext(bz),r=o.prefixCls,a=o.id,i=o.open,l=o.multiple,c=o.mode,s=o.searchValue,g=o.toggleOpen,u=o.notFoundContent,d=o.onPopupScroll,I=e.useContext(Mz),C=I.maxCount,m=I.flattenOptions,h=I.onActiveValue,p=I.defaultActiveFirstOption,f=I.onSelect,A=I.menuItemSelectedIcon,b=I.rawValues,v=I.fieldNames,y=I.virtual,Z=I.direction,S=I.listHeight,G=I.listItemHeight,B=I.optionRender,k="".concat(r,"-item"),w=Xv((function(){return m}),[i,m],(function(e,t){return t[0]&&e[1]!==t[1]})),R=e.useRef(null),V=e.useMemo((function(){return l&&Yz(C)&&(null===b||void 0===b?void 0:b.size)>=C}),[l,C,null===b||void 0===b?void 0:b.size]),W=function(e){e.preventDefault()},x=function(e){var t;null===(t=R.current)||void 0===t||t.scrollTo("number"===typeof e?{index:e}:e)},X=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=w.length,o=0;o<n;o+=1){var r=(e+o*t+n)%n,a=w[r]||{},i=a.group,l=a.data;if(!i&&(null===l||void 0===l||!l.disabled)&&!V)return r}return-1},N=hv(e.useState((function(){return X(0)})),2),J=N[0],E=N[1],H=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];E(e);var n={source:t?"keyboard":"mouse"},o=w[e];o?h(o.value,e,n):h(null,-1,n)};(0,e.useEffect)((function(){H(!1!==p?X(0):-1)}),[w.length,s]);var Y=e.useCallback((function(e){return b.has(e)&&"combobox"!==c}),[c,fv(b).toString(),b.size]);(0,e.useEffect)((function(){var e,t=setTimeout((function(){if(!l&&i&&1===b.size){var e=Array.from(b)[0],t=w.findIndex((function(t){return t.data.value===e}));-1!==t&&(H(t),x(t))}}));i&&(null===(e=R.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,s]);var F=function(e){void 0!==e&&f(e,{selected:!b.has(e)}),l||g(!1)};if(e.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case rw.N:case rw.P:case rw.UP:case rw.DOWN:var o=0;if(t===rw.UP?o=-1:t===rw.DOWN?o=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===rw.N?o=1:t===rw.P&&(o=-1)),0!==o){var r=X(J+o,o);x(r),H(r,!0)}break;case rw.ENTER:var a,l=w[J];!l||null!==l&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.disabled||V?F(void 0):F(l.value),i&&e.preventDefault();break;case rw.ESC:g(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){x(e)}}})),0===w.length)return e.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(k,"-empty"),onMouseDown:W},u);var K=Object.keys(v).map((function(e){return v[e]})),M=function(e){return e.label};function L(e,t){return{role:e.group?"presentation":"option",id:"".concat(a,"_list_").concat(t)}}var T=function(t){var n=w[t];if(!n)return null;var o=n.data||{},r=o.value,a=n.group,i=sw(o,!0),l=M(n);return n?e.createElement("div",Ey({"aria-label":"string"!==typeof l||a?null:l},i,{key:t},L(n,t),{"aria-selected":Y(r)}),r):null},z={role:"listbox",id:"".concat(a,"_list")};return e.createElement(e.Fragment,null,y&&e.createElement("div",Ey({},z,{style:{height:0,width:0,overflow:"hidden"}}),T(J-1),T(J),T(J+1)),e.createElement(fD,{itemKey:"key",ref:R,data:w,height:S,itemHeight:G,fullHeight:!1,onMouseDown:W,onScroll:d,virtual:y,direction:Z,innerProps:y?null:z},(function(t,n){var o=t.group,r=t.groupOption,a=t.data,i=t.label,l=t.value,c=a.key;if(o){var s,g=null!==(s=a.title)&&void 0!==s?s:bD(i)?i.toString():void 0;return e.createElement("div",{className:BG()(k,"".concat(k,"-group"),a.className),title:g},void 0!==i?i:c)}var u=a.disabled,d=a.title,I=(a.children,a.style),C=a.className,m=cW(JG(a,AD),K),h=Y(l),p=u||!h&&V,f="".concat(k,"-option"),b=BG()(k,f,C,an(an(an(an({},"".concat(f,"-grouped"),r),"".concat(f,"-active"),J===n&&!p),"".concat(f,"-disabled"),p),"".concat(f,"-selected"),h)),v=M(t),Z=!A||"function"===typeof A||h,S="number"===typeof v?v:v||l,G=bD(S)?S.toString():void 0;return void 0!==d&&(G=d),e.createElement("div",Ey({},sw(m),y?{}:L(t,n),{"aria-selected":h,className:b,title:G,onMouseMove:function(){J===n||p||H(n)},onClick:function(){p||F(l)},style:I}),e.createElement("div",{className:"".concat(f,"-content")},"function"===typeof B?B(t,{index:n}):S),e.isValidElement(A)||h,Z&&e.createElement(Az,{className:"".concat(k,"-option-state"),customizeIcon:A,customizeIconProps:{value:l,disabled:p,isSelected:h}},h?"\u2713":null))})))};const yD=e.forwardRef(vD);function ZD(e,t){return Sz(e).join("").toUpperCase().includes(t)}var SD=0,GD=bv();function BD(t){var n=hv(e.useState(),2),o=n[0],r=n[1];return e.useEffect((function(){r("rc_select_".concat(function(){var e;return GD?(e=SD,SD+=1):e="TEST_OR_SSR",e}()))}),[]),t||o}var kD=["children","value"],wD=["children"];function RD(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return OR(t).map((function(t,o){if(!e.isValidElement(t)||!t.type)return null;var r=t,a=r.type.isSelectOptGroup,i=r.key,l=r.props,c=l.children,s=JG(l,wD);return n||!a?function(e){var t=e,n=t.key,o=t.props,r=o.children,a=o.value;return cn({key:n,value:void 0!==a?a:n,children:r},JG(o,kD))}(t):cn(cn({key:"__RC_SELECT_GRP__".concat(null===i?o:i,"__"),label:i},s),{},{options:RD(c)})})).filter((function(e){return e}))}const VD=function(t,n,o,r,a){return e.useMemo((function(){var e=t;!t&&(e=RD(n));var i=new Map,l=new Map,c=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=0;s<t.length;s+=1){var g=t[s];!g[o.options]||n?(i.set(g[o.value],g),c(l,g,o.label),c(l,g,r),c(l,g,a)):e(g[o.options],!0)}}(e),{options:e,valueOptions:i,labelOptions:l}}),[t,n,o,r,a])};function WD(t){var n=e.useRef();n.current=t;var o=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return o}var xD=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],XD=["inputValue"];var ND=e.forwardRef((function(t,n){var o=t.id,r=t.mode,a=t.prefixCls,i=void 0===a?"rc-select":a,l=t.backfill,c=t.fieldNames,s=t.inputValue,g=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,I=void 0===d||d,C=t.onSelect,m=t.onDeselect,h=t.dropdownMatchSelectWidth,p=void 0===h||h,f=t.filterOption,A=t.filterSort,b=t.optionFilterProp,v=t.optionLabelProp,y=t.options,Z=t.optionRender,S=t.children,G=t.defaultActiveFirstOption,B=t.menuItemSelectedIcon,k=t.virtual,w=t.direction,R=t.listHeight,V=void 0===R?200:R,W=t.listItemHeight,x=void 0===W?20:W,X=t.labelRender,N=t.value,J=t.defaultValue,E=t.labelInValue,H=t.onChange,Y=t.maxCount,F=JG(t,xD),K=BD(o),M=Dz(r),L=!(y||!S),T=e.useMemo((function(){return(void 0!==f||"combobox"!==r)&&f}),[f,r]),z=e.useMemo((function(){return Fz(c,L)}),[JSON.stringify(c),L]),D=hv(QG("",{value:void 0!==g?g:s,postState:function(e){return e||""}}),2),O=D[0],j=D[1],U=VD(y,S,z,b,v),P=U.valueOptions,Q=U.labelOptions,_=U.options,q=e.useCallback((function(e){return Sz(e).map((function(e){var t,n,o,r,a,i;(function(e){return!e||"object"!==on(e)})(e)?t=e:(o=e.key,n=e.label,t=null!==(i=e.value)&&void 0!==i?i:o);var l,c=P.get(t);c&&(void 0===n&&(n=null===c||void 0===c?void 0:c[v||z.label]),void 0===o&&(o=null!==(l=null===c||void 0===c?void 0:c.key)&&void 0!==l?l:t),r=null===c||void 0===c?void 0:c.disabled,a=null===c||void 0===c?void 0:c.title);return{label:n,value:t,key:o,disabled:r,title:a}}))}),[z,v,P]),$=hv(QG(J,{value:N}),2),ee=$[0],te=$[1],ne=e.useMemo((function(){var e,t=q(M&&null===ee?[]:ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,q,r,M]),oe=function(t,n){var o=e.useRef({values:new Map,options:new Map});return[e.useMemo((function(){var e=o.current,r=e.values,a=e.options,i=t.map((function(e){var t;return void 0===e.label?cn(cn({},e),{},{label:null===(t=r.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,c=new Map;return i.forEach((function(e){l.set(e.value,e),c.set(e.value,n.get(e.value)||a.get(e.value))})),o.current.values=l,o.current.options=c,i}),[t,n]),e.useCallback((function(e){return n.get(e)||o.current.options.get(e)}),[n])]}(ne,P),re=hv(oe,2),ae=re[0],ie=re[1],le=e.useMemo((function(){if(!r&&1===ae.length){var e=ae[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ae.map((function(e){var t;return cn(cn({},e),{},{label:null!==(t="function"===typeof X?X(e):e.label)&&void 0!==t?t:e.value})}))}),[r,ae,X]),ce=e.useMemo((function(){return new Set(ae.map((function(e){return e.value})))}),[ae]);e.useEffect((function(){if("combobox"===r){var e,t=null===(e=ae[0])||void 0===e?void 0:e.value;j(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ae]);var se=WD((function(e,t){var n=null!==t&&void 0!==t?t:e;return an(an({},z.value,e),z.label,n)})),ge=e.useMemo((function(){if("tags"!==r)return _;var e=fv(_);return fv(ae).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return P.has(e)})(n)||e.push(se(n,t.label))})),e}),[se,_,P,ae,r]),ue=function(t,n,o,r,a){return e.useMemo((function(){if(!o||!1===r)return t;var e=n.options,i=n.label,l=n.value,c=[],s="function"===typeof r,g=o.toUpperCase(),u=s?r:function(t,n){return a?ZD(n[a],g):n[e]?ZD(n["children"!==i?i:"label"],g):ZD(n[l],g)},d=s?function(e){return Kz(e)}:function(e){return e};return t.forEach((function(t){if(t[e])if(u(o,d(t)))c.push(t);else{var n=t[e].filter((function(e){return u(o,d(e))}));n.length&&c.push(cn(cn({},t),{},an({},e,n)))}else u(o,d(t))&&c.push(t)})),c}),[t,r,a,o,n])}(ge,z,O,T,b),de=e.useMemo((function(){return"tags"!==r||!O||ue.some((function(e){return e[b||"value"]===O}))||ue.some((function(e){return e[z.value]===O}))?ue:[se(O)].concat(fv(ue))}),[se,b,r,ue,O,z]),Ie=e.useMemo((function(){return A?fv(de).sort((function(e,t){return A(e,t)})):de}),[de,A]),Ce=e.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,o=t.childrenAsData,r=[],a=Fz(n,!1),i=a.label,l=a.value,c=a.options,s=a.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach((function(t){if(n||!(c in t)){var a=t[l];r.push({key:Hz(t,r.length),groupOption:n,data:t,label:t[i],value:a})}else{var g=t[s];void 0===g&&o&&(g=t.label),r.push({key:Hz(t,r.length),group:!0,data:t,label:g}),e(t[c],!0)}}))}(e,!1),r}(Ie,{fieldNames:z,childrenAsData:L})}),[Ie,z,L]),me=function(e){var t=q(e);if(te(t),H&&(t.length!==ae.length||t.some((function(e,t){var n;return(null===(n=ae[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=E?t:t.map((function(e){return e.value})),o=t.map((function(e){return Kz(ie(e.value))}));H(M?n:n[0],M?o:o[0])}},he=hv(e.useState(null),2),pe=he[0],fe=he[1],Ae=hv(e.useState(0),2),be=Ae[0],ve=Ae[1],ye=void 0!==G?G:"combobox"!==r,Ze=e.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===n?"keyboard":n;ve(t),l&&"combobox"===r&&null!==e&&"keyboard"===o&&fe(String(e))}),[l,r]),Se=function(e,t,n){var o=function(){var t,n=ie(e);return[E?{label:null===n||void 0===n?void 0:n[z.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Kz(n)]};if(t&&C){var r=hv(o(),2),a=r[0],i=r[1];C(a,i)}else if(!t&&m&&"clear"!==n){var l=hv(o(),2),c=l[0],s=l[1];m(c,s)}},Ge=WD((function(e,t){var n,o=!M||t.selected;n=o?M?[].concat(fv(ae),[e]):[e]:ae.filter((function(t){return t.value!==e})),me(n),Se(e,o),"combobox"===r?fe(""):Dz&&!I||(j(""),fe(""))})),Be=e.useMemo((function(){var e=!1!==k&&!1!==p;return cn(cn({},U),{},{flattenOptions:Ce,onActiveValue:Ze,defaultActiveFirstOption:ye,onSelect:Ge,menuItemSelectedIcon:B,rawValues:ce,fieldNames:z,virtual:e,direction:w,listHeight:V,listItemHeight:x,childrenAsData:L,maxCount:Y,optionRender:Z})}),[Y,U,Ce,Ze,ye,Ge,B,ce,z,k,p,w,V,x,L,Z]);return e.createElement(Mz.Provider,{value:Be},e.createElement(jz,Ey({},F,{id:K,prefixCls:i,ref:n,omitDomProps:XD,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){me(e);var n=t.type,o=t.values;"remove"!==n&&"clear"!==n||o.forEach((function(e){Se(e.value,!1,n)}))},direction:w,searchValue:O,onSearch:function(e,t){if(j(e),fe(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&me(e),null===u||void 0===u||u(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat(fv(ce),[n])));me(o),Se(n,!0),j("")}}},autoClearSearchValue:I,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=Q.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(fv(ce),fv(t))));me(n),n.forEach((function(e){Se(e,!0)}))},dropdownMatchSelectWidth:p,OptionList:yD,emptyOptions:!Ce.length,activeValue:pe,activeDescendantId:"".concat(K,"_list_").concat(be)})))}));var JD=ND;JD.Option=_z,JD.OptGroup=Pz;const ED=JD;function HD(e,t,n){return BG()({["".concat(e,"-status-success")]:"success"===t,["".concat(e,"-status-warning")]:"warning"===t,["".concat(e,"-status-error")]:"error"===t,["".concat(e,"-status-validating")]:"validating"===t,["".concat(e,"-has-feedback")]:n})}const YD=(e,t)=>t||e;const FD=()=>{const[,t]=nk(),n=new tG(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return e.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(24 31.67)"},e.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),e.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),e.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),e.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),e.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),e.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},e.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const KD=()=>{const[,t]=nk(),{colorFill:n,colorFillTertiary:o,colorFillQuaternary:r,colorBgContainer:a}=t,{borderColor:i,shadowColor:l,contentColor:c}=(0,e.useMemo)((()=>({borderColor:new tG(n).onBackground(a).toHexShortString(),shadowColor:new tG(o).onBackground(a).toHexShortString(),contentColor:new tG(r).onBackground(a).toHexShortString()})),[n,o,r,a]);return e.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),e.createElement("g",{fillRule:"nonzero",stroke:i},e.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),e.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},MD=e=>{const{componentCls:t,margin:n,marginXS:o,marginXL:r,fontSize:a,lineHeight:i}=e;return{[t]:{marginInline:o,fontSize:a,lineHeight:i,textAlign:"center",["".concat(t,"-image")]:{height:e.emptyImgHeight,marginBottom:o,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},["".concat(t,"-description")]:{color:e.colorText},["".concat(t,"-footer")]:{marginTop:n},"&-normal":{marginBlock:r,color:e.colorTextDescription,["".concat(t,"-description")]:{color:e.colorTextDescription},["".concat(t,"-image")]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:o,color:e.colorTextDescription,["".concat(t,"-image")]:{height:e.emptyImgHeightSM}}}}},LD=Uw("Empty",(e=>{const{componentCls:t,controlHeightLG:n,calc:o}=e,r=xw(e,{emptyImgCls:"".concat(t,"-img"),emptyImgHeight:o(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:o(n).mul(.875).equal()});return[MD(r)]}));var TD=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const zD=e.createElement(FD,null),DD=e.createElement(KD,null),OD=t=>{var{className:n,rootClassName:o,prefixCls:r,image:a=zD,description:i,children:l,imageStyle:c,style:s}=t,g=TD(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:u,direction:d,empty:I}=e.useContext(gv),C=u("empty",r),[m,h,p]=LD(C),[f]=rz("Empty"),A="undefined"!==typeof i?i:null===f||void 0===f?void 0:f.description,b="string"===typeof A?A:"empty";let v=null;return v="string"===typeof a?e.createElement("img",{alt:b,src:a}):a,m(e.createElement("div",Object.assign({className:BG()(h,p,C,null===I||void 0===I?void 0:I.className,{["".concat(C,"-normal")]:a===DD,["".concat(C,"-rtl")]:"rtl"===d},n,o),style:Object.assign(Object.assign({},null===I||void 0===I?void 0:I.style),s)},g),e.createElement("div",{className:"".concat(C,"-image"),style:c},v),A&&e.createElement("div",{className:"".concat(C,"-description")},A),l&&e.createElement("div",{className:"".concat(C,"-footer")},l)))};OD.PRESENTED_IMAGE_DEFAULT=zD,OD.PRESENTED_IMAGE_SIMPLE=DD;const jD=OD,UD=t=>{const{componentName:n}=t,{getPrefixCls:o}=(0,e.useContext)(gv),r=o("empty");switch(n){case"Table":case"List":return e.createElement(jD,{image:jD.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return e.createElement(jD,{image:jD.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return e.createElement(jD,null)}},PD=["outlined","borderless","filled"],QD=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const o=(0,e.useContext)(_L);let r;r="undefined"!==typeof t?t:!1===n?"borderless":null!==o&&void 0!==o?o:"outlined";return[r,PD.includes(r)]};const _D=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},qD=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:o,optionPadding:r}=e;return{position:"relative",display:"block",minHeight:t,padding:r,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:o,boxSizing:"border-box"}},$D=e=>{const{antCls:t,componentCls:n}=e,o="".concat(n,"-item"),r="&".concat(t,"-slide-up-enter").concat(t,"-slide-up-enter-active"),a="&".concat(t,"-slide-up-appear").concat(t,"-slide-up-appear-active"),i="&".concat(t,"-slide-up-leave").concat(t,"-slide-up-leave-active"),l="".concat(n,"-dropdown-placement-");return[{["".concat(n,"-dropdown")]:Object.assign(Object.assign({},ik(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,["\n          ".concat(r).concat(l,"bottomLeft,\n          ").concat(a).concat(l,"bottomLeft\n        ")]:{animationName:GN},["\n          ".concat(r).concat(l,"topLeft,\n          ").concat(a).concat(l,"topLeft,\n          ").concat(r).concat(l,"topRight,\n          ").concat(a).concat(l,"topRight\n        ")]:{animationName:kN},["".concat(i).concat(l,"bottomLeft")]:{animationName:BN},["\n          ".concat(i).concat(l,"topLeft,\n          ").concat(i).concat(l,"topRight\n        ")]:{animationName:wN},"&-hidden":{display:"none"},["".concat(o)]:Object.assign(Object.assign({},qD(e)),{cursor:"pointer",transition:"background ".concat(e.motionDurationSlow," ease"),borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},ak),"&-state":{flex:"none",display:"flex",alignItems:"center"},["&-active:not(".concat(o,"-option-disabled)")]:{backgroundColor:e.optionActiveBg},["&-selected:not(".concat(o,"-option-disabled)")]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,["".concat(o,"-option-state")]:{color:e.colorPrimary},["&:has(+ ".concat(o,"-option-selected:not(").concat(o,"-option-disabled))")]:{borderEndStartRadius:0,borderEndEndRadius:0,["& + ".concat(o,"-option-selected:not(").concat(o,"-option-disabled)")]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{["&".concat(o,"-option-selected")]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},qD(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},NN(e,"slide-up"),NN(e,"slide-down"),lJ(e,"move-up"),lJ(e,"move-down")]},eO=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:o,INTERNAL_FIXED_ITEM_MARGIN:r}=e,a=e.max(e.calc(n).sub(o).equal(),0);return{basePadding:a,containerPadding:e.max(e.calc(a).sub(r).equal(),0),itemHeight:Iy(t),itemLineHeight:Iy(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},tO=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:o,motionDurationSlow:r,paddingXS:a,multipleItemColorDisabled:i,multipleItemBorderColorDisabled:l,colorIcon:c,colorIconHover:s,INTERNAL_FIXED_ITEM_MARGIN:g}=e,u="".concat(t,"-selection-overflow");return{[u]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},["".concat(t,"-selection-item")]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:g,borderRadius:o,cursor:"default",transition:"font-size ".concat(r,", line-height ").concat(r,", height ").concat(r),marginInlineEnd:e.calc(g).mul(2).equal(),paddingInlineStart:a,paddingInlineEnd:e.calc(a).div(2).equal(),["".concat(t,"-disabled&")]:{color:i,borderColor:l,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(a).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:c,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",["> ".concat(n)]:{verticalAlign:"-0.2em"},"&:hover":{color:s}})}}}},nO=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:o}=e,r="".concat(n,"-selection-overflow"),a=e.multipleSelectItemHeight,i=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:o}=e;return e.calc(n).sub(t).div(2).sub(o).equal()})(e),l=t?"".concat(n,"-").concat(t):"",c=eO(e);return{["".concat(n,"-multiple").concat(l)]:Object.assign(Object.assign({},tO(e)),{["".concat(n,"-selector")]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:c.basePadding,paddingBlock:c.containerPadding,borderRadius:e.borderRadius,["".concat(n,"-disabled&")]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"".concat(Iy(o)," 0"),lineHeight:Iy(a),visibility:"hidden",content:'"\\a0"'}},["".concat(n,"-selection-item")]:{height:c.itemHeight,lineHeight:Iy(c.itemLineHeight)},["".concat(r,"-item + ").concat(r,"-item")]:{["".concat(n,"-selection-search")]:{marginInlineStart:0}},["".concat(r,"-item-suffix")]:{height:"100%"},["".concat(n,"-selection-search")]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(i).equal(),"\n          &-input,\n          &-mirror\n        ":{height:a,fontFamily:e.fontFamily,lineHeight:Iy(a),transition:"all ".concat(e.motionDurationSlow)},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},["".concat(n,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow)}})}};function oO(e,t){const{componentCls:n}=e,o=t?"".concat(n,"-").concat(t):"",r={["".concat(n,"-multiple").concat(o)]:{fontSize:e.fontSize,["".concat(n,"-selector")]:{["".concat(n,"-show-search&")]:{cursor:"text"}},["\n        &".concat(n,"-show-arrow ").concat(n,"-selector,\n        &").concat(n,"-allow-clear ").concat(n,"-selector\n      ")]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[nO(e,t),r]}const rO=e=>{const{componentCls:t}=e,n=xw(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),o=xw(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[oO(e),oO(n,"sm"),{["".concat(t,"-multiple").concat(t,"-sm")]:{["".concat(t,"-selection-placeholder")]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},["".concat(t,"-selection-search")]:{marginInlineStart:2}}},oO(o,"lg")]};function aO(e,t){const{componentCls:n,inputPaddingHorizontalBase:o,borderRadius:r}=e,a=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),i=t?"".concat(n,"-").concat(t):"";return{["".concat(n,"-single").concat(i)]:{fontSize:e.fontSize,height:e.controlHeight,["".concat(n,"-selector")]:Object.assign(Object.assign({},ik(e,!0)),{display:"flex",borderRadius:r,["".concat(n,"-selection-search")]:{position:"absolute",top:0,insetInlineStart:o,insetInlineEnd:o,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},["\n          ".concat(n,"-selection-item,\n          ").concat(n,"-selection-placeholder\n        ")]:{padding:0,lineHeight:Iy(a),transition:"all ".concat(e.motionDurationSlow,", visibility 0s"),alignSelf:"center"},["".concat(n,"-selection-placeholder")]:{transition:"none",pointerEvents:"none"},[["&:after","".concat(n,"-selection-item:empty:after"),"".concat(n,"-selection-placeholder:empty:after")].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),["\n        &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n        &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n      ")]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},["&".concat(n,"-open ").concat(n,"-selection-item")]:{color:e.colorTextPlaceholder},["&:not(".concat(n,"-customize-input)")]:{["".concat(n,"-selector")]:{width:"100%",height:"100%",padding:"0 ".concat(Iy(o)),["".concat(n,"-selection-search-input")]:{height:a},"&:after":{lineHeight:Iy(a)}}},["&".concat(n,"-customize-input")]:{["".concat(n,"-selector")]:{"&:after":{display:"none"},["".concat(n,"-selection-search")]:{position:"static",width:"100%"},["".concat(n,"-selection-placeholder")]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(Iy(o)),"&:after":{display:"none"}}}}}}}function iO(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[aO(e),aO(xw(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{["".concat(t,"-single").concat(t,"-sm")]:{["&:not(".concat(t,"-customize-input)")]:{["".concat(t,"-selection-search")]:{insetInlineStart:n,insetInlineEnd:n},["".concat(t,"-selector")]:{padding:"0 ".concat(Iy(n))},["&".concat(t,"-show-arrow ").concat(t,"-selection-search")]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},["\n            &".concat(t,"-show-arrow ").concat(t,"-selection-item,\n            &").concat(t,"-show-arrow ").concat(t,"-selection-placeholder\n          ")]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},aO(xw(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const lO=(e,t)=>{const{componentCls:n,antCls:o,controlOutlineWidth:r}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(t.borderColor),background:e.selectorBg},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(o,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{borderColor:t.hoverBorderHover},["".concat(n,"-focused& ").concat(n,"-selector")]:{borderColor:t.activeBorderColor,boxShadow:"0 0 0 ".concat(Iy(r)," ").concat(t.activeShadowColor),outline:0}}}},cO=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},lO(e,t))}),sO=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},lO(e,{borderColor:e.colorBorder,hoverBorderHover:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadowColor:e.controlOutline})),cO(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeShadowColor:e.colorErrorOutline})),cO(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeShadowColor:e.colorWarningOutline})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}})}),gO=(e,t)=>{const{componentCls:n,antCls:o}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{background:t.bg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," transparent"),color:t.color},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(o,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{background:t.hoverBg},["".concat(n,"-focused& ").concat(n,"-selector")]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},uO=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},gO(e,t))}),dO=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},gO(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary,color:e.colorText})),uO(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),uO(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.colorBgContainer,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}})}),IO=e=>({"&-borderless":{["".concat(e.componentCls,"-selector")]:{background:"transparent",borderColor:"transparent"},["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}}}),CO=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},sO(e)),dO(e)),IO(e))}),mO=e=>{const{componentCls:t}=e;return{position:"relative",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),input:{cursor:"pointer"},["".concat(t,"-show-search&")]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},["".concat(t,"-disabled&")]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},hO=e=>{const{componentCls:t}=e;return{["".concat(t,"-selection-search-input")]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},pO=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:o,iconCls:r}=e;return{[n]:Object.assign(Object.assign({},ik(e)),{position:"relative",display:"inline-block",cursor:"pointer",["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:Object.assign(Object.assign({},mO(e)),hO(e)),["".concat(n,"-selection-item")]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},ak),{["> ".concat(t,"-typography")]:{display:"inline"}}),["".concat(n,"-selection-placeholder")]:Object.assign(Object.assign({},ak),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),["".concat(n,"-arrow")]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:"opacity ".concat(e.motionDurationSlow," ease"),[r]:{verticalAlign:"top",transition:"transform ".concat(e.motionDurationSlow),"> svg":{verticalAlign:"top"},["&:not(".concat(n,"-suffix)")]:{pointerEvents:"auto"}},["".concat(n,"-disabled &")]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),["".concat(n,"-clear")]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:"color ".concat(e.motionDurationMid," ease, opacity ").concat(e.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{["".concat(n,"-clear")]:{opacity:1},["".concat(n,"-arrow:not(:last-child)")]:{opacity:0}}}),["".concat(n,"-has-feedback")]:{["".concat(n,"-clear")]:{insetInlineEnd:e.calc(o).add(e.fontSize).add(e.paddingXS).equal()}}}},fO=e=>{const{componentCls:t}=e;return[{[t]:{["&".concat(t,"-in-form-item")]:{width:"100%"}}},pO(e),iO(e),rO(e),$D(e),{["".concat(t,"-rtl")]:{direction:"rtl"}},uE(e,{borderElCls:"".concat(t,"-selector"),focusElCls:"".concat(t,"-focused")})]},AO=Uw("Select",((e,t)=>{let{rootPrefixCls:n}=t;const o=xw(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[fO(o),CO(o)]}),(e=>{const{fontSize:t,lineHeight:n,lineWidth:o,controlHeight:r,controlHeightSM:a,controlHeightLG:i,paddingXXS:l,controlPaddingHorizontal:c,zIndexPopupBase:s,colorText:g,fontWeightStrong:u,controlItemBgActive:d,controlItemBgHover:I,colorBgContainer:C,colorFillSecondary:m,colorBgContainerDisabled:h,colorTextDisabled:p}=e,f=2*l,A=2*o,b=Math.min(r-f,r-A),v=Math.min(a-f,a-A),y=Math.min(i-f,i-A);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(l/2),zIndexPopup:s+50,optionSelectedColor:g,optionSelectedFontWeight:u,optionSelectedBg:d,optionActiveBg:I,optionPadding:"".concat((r-t*n)/2,"px ").concat(c,"px"),optionFontSize:t,optionLineHeight:n,optionHeight:r,selectorBg:C,clearBg:C,singleItemHeightLG:i,multipleItemBg:m,multipleItemBorderColor:"transparent",multipleItemHeight:b,multipleItemHeightSM:v,multipleItemHeightLG:y,multipleSelectorBgDisabled:h,multipleItemColorDisabled:p,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize)}}),{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const bO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var vO=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:bO}))};const yO=e.forwardRef(vO);const ZO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var SO=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:ZO}))};const GO=e.forwardRef(SO);const BO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var kO=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:BO}))};const wO=e.forwardRef(kO);function RO(t){let{suffixIcon:n,clearIcon:o,menuItemSelectedIcon:r,removeIcon:a,loading:i,multiple:l,hasFeedback:c,prefixCls:s,showSuffixIcon:g,feedbackIcon:u,showArrow:d,componentName:I}=t;const C=null!==o&&void 0!==o?o:e.createElement(zk,null),m=t=>null!==n||c||d?e.createElement(e.Fragment,null,!1!==g&&t,c&&u):null;let h=null;if(void 0!==n)h=m(n);else if(i)h=m(e.createElement(nw,{spin:!0}));else{const t="".concat(s,"-suffix");h=n=>{let{open:o,showSearch:r}=n;return m(o&&r?e.createElement(wO,{className:t}):e.createElement(GO,{className:t}))}}let p=null;p=void 0!==r?r:l?e.createElement(yO,null):null;let f=null;return f=void 0!==a?a:e.createElement(jk,null),{clearIcon:C,suffixIcon:h,itemIcon:p,removeIcon:f}}var VO=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const WO="SECRET_COMBOBOX_MODE_DO_NOT_USE",xO=(t,n)=>{var o;const{prefixCls:r,bordered:a,className:i,rootClassName:l,getPopupContainer:c,popupClassName:s,dropdownClassName:g,listHeight:u=256,placement:d,listItemHeight:I,size:C,disabled:m,notFoundContent:h,status:p,builtinPlacements:f,dropdownMatchSelectWidth:A,popupMatchSelectWidth:b,direction:v,style:y,allowClear:Z,variant:S,dropdownStyle:G,transitionName:B,tagRender:k,maxCount:w}=t,R=VO(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:V,getPrefixCls:W,renderEmpty:x,direction:X,virtual:N,popupMatchSelectWidth:J,popupOverflow:E,select:H}=e.useContext(gv),[,Y]=nk(),F=null!==I&&void 0!==I?I:null===Y||void 0===Y?void 0:Y.controlHeight,K=W("select",r),M=W(),L=null!==v&&void 0!==v?v:X,{compactSize:T,compactItemClassnames:z}=KX(K,L),[D,O]=QD(S,a),j=Zw(K),[U,P,Q]=AO(K,j),_=e.useMemo((()=>{const{mode:e}=t;if("combobox"!==e)return e===WO?"combobox":e}),[t.mode]),q="multiple"===_||"tags"===_,$=function(e,t){return void 0!==t?t:null!==e}(t.suffixIcon,t.showArrow),ee=null!==(o=null!==b&&void 0!==b?b:A)&&void 0!==o?o:J,{status:te,hasFeedback:ne,isFormItemInput:oe,feedbackIcon:re}=e.useContext(PL),ae=YD(te,p);let ie;ie=void 0!==h?h:"combobox"===_?null:(null===x||void 0===x?void 0:x("Select"))||e.createElement(UD,{componentName:"Select"});const{suffixIcon:le,itemIcon:ce,removeIcon:se,clearIcon:ge}=RO(Object.assign(Object.assign({},R),{multiple:q,hasFeedback:ne,feedbackIcon:re,showSuffixIcon:$,prefixCls:K,componentName:"Select"})),ue=!0===Z?{clearIcon:ge}:Z,de=cW(R,["suffixIcon","itemIcon"]),Ie=BG()(s||g,{["".concat(K,"-dropdown-").concat(L)]:"rtl"===L},l,Q,j,P),Ce=XX((e=>{var t;return null!==(t=null!==C&&void 0!==C?C:T)&&void 0!==t?t:e})),me=e.useContext(pG),he=null!==m&&void 0!==m?m:me,pe=BG()({["".concat(K,"-lg")]:"large"===Ce,["".concat(K,"-sm")]:"small"===Ce,["".concat(K,"-rtl")]:"rtl"===L,["".concat(K,"-").concat(D)]:O,["".concat(K,"-in-form-item")]:oe},HD(K,ae,ne),z,null===H||void 0===H?void 0:H.className,i,l,Q,j,P),fe=e.useMemo((()=>void 0!==d?d:"rtl"===L?"bottomRight":"bottomLeft"),[d,L]);const[Ae]=Rw("SelectLike",null===G||void 0===G?void 0:G.zIndex);return U(e.createElement(ED,Object.assign({ref:n,virtual:N,showSearch:null===H||void 0===H?void 0:H.showSearch},de,{style:Object.assign(Object.assign({},null===H||void 0===H?void 0:H.style),y),dropdownMatchSelectWidth:ee,transitionName:bX(M,"slide-up",B),builtinPlacements:_D(f,E),listHeight:u,listItemHeight:F,mode:_,prefixCls:K,placement:fe,direction:L,suffixIcon:le,menuItemSelectedIcon:ce,removeIcon:se,allowClear:ue,notFoundContent:ie,className:pe,getPopupContainer:c||V,dropdownClassName:Ie,disabled:he,dropdownStyle:Object.assign(Object.assign({},G),{zIndex:Ae}),maxCount:q?w:void 0,tagRender:q?k:void 0})))};const XO=e.forwardRef(xO),NO=bW(XO);XO.SECRET_COMBOBOX_MODE_DO_NOT_USE=WO,XO.Option=_z,XO.OptGroup=Pz,XO._InternalPanelDoNotUseOrYouWillBeFired=NO;const JO=XO;var EO=n(446),HO=n.n(EO),YO=n(223),FO=n.n(YO),KO=n(199),MO=n.n(KO),LO=n(865),TO=n.n(LO),zO=n(556),DO=n.n(zO),OO=n(76),jO=n.n(OO),UO=n(988),PO=n.n(UO);HO().extend(PO()),HO().extend(jO()),HO().extend(FO()),HO().extend(MO()),HO().extend(TO()),HO().extend(DO()),HO().extend((function(e,t){var n=t.prototype,o=n.format;n.format=function(e){var t=(e||"").replace("Wo","wo");return o.bind(this)(t)}}));var QO={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},_O=function(e){return QO[e]||e.split("_")[0]},qO=function(){Kv(!1,"Not match any format. Please help to fire a issue about this.")},$O={getNow:function(){return HO()()},getFixedDate:function(e){return HO()(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var t=e.locale("en");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,t){return e.add(t,"year")},addMonth:function(e,t){return e.add(t,"month")},addDate:function(e,t){return e.add(t,"day")},setYear:function(e,t){return e.year(t)},setMonth:function(e,t){return e.month(t)},setDate:function(e,t){return e.date(t)},setHour:function(e,t){return e.hour(t)},setMinute:function(e,t){return e.minute(t)},setSecond:function(e,t){return e.second(t)},setMillisecond:function(e,t){return e.millisecond(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return HO()().locale(_O(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.locale(_O(e)).weekday(0)},getWeek:function(e,t){return t.locale(_O(e)).week()},getShortWeekDays:function(e){return HO()().locale(_O(e)).localeData().weekdaysMin()},getShortMonths:function(e){return HO()().locale(_O(e)).localeData().monthsShort()},format:function(e,t,n){return t.locale(_O(e)).format(n)},parse:function(e,t,n){for(var o=_O(e),r=0;r<n.length;r+=1){var a=n[r],i=t;if(a.includes("wo")||a.includes("Wo")){for(var l=i.split("-")[0],c=i.split("-")[1],s=HO()(l,"YYYY").startOf("year").locale(o),g=0;g<=52;g+=1){var u=s.add(g,"week");if(u.format("Wo")===c)return u}return qO(),null}var d=HO()(i,a,!0).locale(o);if(d.isValid())return d}return t&&qO(),null}}};const ej=$O;const tj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};var nj=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:tj}))};const oj=e.forwardRef(nj);const rj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};var aj=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:rj}))};const ij=e.forwardRef(aj);const lj={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};var cj=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:lj}))};const sj=e.forwardRef(cj);const gj=e.createContext(null);var uj={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};const dj=function(t){var n=t.popupElement,o=t.popupStyle,r=t.popupClassName,a=t.popupAlign,i=t.transitionName,l=t.getPopupContainer,c=t.children,s=t.range,g=t.placement,u=t.builtinPlacements,d=void 0===u?uj:u,I=t.direction,C=t.visible,m=t.onClose,h=e.useContext(gj).prefixCls,p="".concat(h,"-dropdown"),f=e.useMemo((function(){return void 0!==g?g:"rtl"===I?"bottomRight":"bottomLeft"}),[g,I]);return e.createElement(qV,{showAction:[],hideAction:["click"],popupPlacement:f,builtinPlacements:d,prefixCls:p,popupTransitionName:i,popup:n,popupAlign:a,popupVisible:C,popupClassName:BG()(r,an(an({},"".concat(p,"-range"),s),"".concat(p,"-rtl"),"rtl"===I)),popupStyle:o,stretch:"minWidth",getPopupContainer:l,onPopupVisibleChange:function(e){e||m()}},c)};function Ij(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",o=String(e);o.length<t;)o="".concat(n).concat(o);return o}function Cj(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function mj(e,t,n){var o=fv(e);return o[t]=n,o}function hj(e,t){var n={};return(t||Object.keys(e)).forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n}function pj(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function fj(e,t,n){var o=void 0!==n?n:t[t.length-1],r=t.find((function(t){return e[t]}));return o!==r?e[r]:void 0}function Aj(e){return hj(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function bj(t,n,o,r){var a=e.useMemo((function(){return t||function(e,t){var r=e;return n&&"date"===t.type?n(r,t.today):o&&"month"===t.type?o(r,t.locale):t.originNode}}),[t,o,n]),i=e.useCallback((function(e,t){return a(e,cn(cn({},t),{},{range:r}))}),[a,r]);return i}function vj(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=hv(e.useState([!1,!1]),2),a=r[0],i=r[1],l=e.useMemo((function(){return a.map((function(e,r){if(e)return!0;var a=t[r];return!!a&&(!o[r]&&!a||!(!a||!n(a,{activeIndex:r})))}))}),[t,a,n,o]);return[l,function(e,t){i((function(n){return mj(n,t,e)}))}]}function yj(e,t,n,o,r){var a="",i=[];return e&&i.push(r?"hh":"HH"),t&&i.push("mm"),n&&i.push("ss"),a=i.join(":"),o&&(a+=".SSS"),r&&(a+=" A"),a}function Zj(t,n){var o=n.showHour,r=n.showMinute,a=n.showSecond,i=n.showMillisecond,l=n.use12Hours;return e.useMemo((function(){return function(e,t,n,o,r,a){var i=e.fieldDateTimeFormat,l=e.fieldDateFormat,c=e.fieldTimeFormat,s=e.fieldMonthFormat,g=e.fieldYearFormat,u=e.fieldWeekFormat,d=e.fieldQuarterFormat,I=e.yearFormat,C=e.cellYearFormat,m=e.cellQuarterFormat,h=e.dayFormat,p=e.cellDateFormat,f=yj(t,n,o,r,a);return cn(cn({},e),{},{fieldDateTimeFormat:i||"YYYY-MM-DD ".concat(f),fieldDateFormat:l||"YYYY-MM-DD",fieldTimeFormat:c||f,fieldMonthFormat:s||"YYYY-MM",fieldYearFormat:g||"YYYY",fieldWeekFormat:u||"gggg-wo",fieldQuarterFormat:d||"YYYY-[Q]Q",yearFormat:I||"YYYY",cellYearFormat:C||"YYYY",cellQuarterFormat:m||"[Q]Q",cellDateFormat:p||h||"D"})}(t,o,r,a,i,l)}),[t,o,r,a,i,l])}function Sj(e,t,n){return null!==n&&void 0!==n?n:t.some((function(t){return e.includes(t)}))}var Gj=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function Bj(e){return e&&"string"===typeof e}function kj(e,t,n,o){return[e,t,n,o].some((function(e){return void 0!==e}))}function wj(e,t,n,o,r){var a=t,i=n,l=o;if(e||a||i||l||r){if(e){var c,s,g,u=[a,i,l].some((function(e){return!1===e})),d=[a,i,l].some((function(e){return!0===e})),I=!!u||!d;a=null!==(c=a)&&void 0!==c?c:I,i=null!==(s=i)&&void 0!==s?s:I,l=null!==(g=l)&&void 0!==g?g:I}}else a=!0,i=!0,l=!0;return[a,i,l,r]}function Rj(e){var t=e.showTime,n=function(e){var t=hj(e,Gj),n=e.format,o=e.picker,r=null;return n&&(r=n,Array.isArray(r)&&(r=r[0]),r="object"===on(r)?r.format:r),"time"===o&&(t.format=r),[t,r]}(e),o=hv(n,2),r=o[0],a=o[1],i=t&&"object"===on(t)?t:{},l=cn(cn({defaultOpenValue:i.defaultOpenValue||i.defaultValue},r),i),c=l.showMillisecond,s=l.showHour,g=l.showMinute,u=l.showSecond,d=hv(wj(kj(s,g,u,c),s,g,u,c),3);return s=d[0],g=d[1],u=d[2],[l,cn(cn({},l),{},{showHour:s,showMinute:g,showSecond:u,showMillisecond:c}),l.format,a]}function Vj(e,t,n,o,r){if("datetime"===e||"time"===e){for(var a=o,i=pj(e,r,null),l=[t,n],c=0;c<l.length;c+=1){var s=Cj(l[c])[0];if(Bj(s)){i=s;break}}var g=a.showHour,u=a.showMinute,d=a.showSecond,I=a.showMillisecond,C=Sj(i,["a","A","LT","LLL","LTS"],a.use12Hours),m=kj(g,u,d,I);m||(g=Sj(i,["H","h","k","LT","LLL"]),u=Sj(i,["m","LT","LLL"]),d=Sj(i,["s","LTS"]),I=Sj(i,["SSS"]));var h=hv(wj(m,g,u,d,I),3);g=h[0],u=h[1],d=h[2];var p=t||yj(g,u,d,I,C);return cn(cn({},a),{},{format:p,showHour:g,showMinute:u,showSecond:d,showMillisecond:I,use12Hours:C})}return null}function Wj(t,n,o){return!1===n?null:(n&&"object"===on(n)?n:{}).clearIcon||o||e.createElement("span",{className:"".concat(t,"-clear-btn")})}var xj=7;function Xj(e,t,n){return!e&&!t||e===t||!(!e||!t)&&n()}function Nj(e,t,n){return Xj(t,n,(function(){return Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}))}function Jj(e,t,n){return Xj(t,n,(function(){return e.getYear(t)===e.getYear(n)}))}function Ej(e,t){return Math.floor(e.getMonth(t)/3)+1}function Hj(e,t,n){return Xj(t,n,(function(){return Jj(e,t,n)&&e.getMonth(t)===e.getMonth(n)}))}function Yj(e,t,n){return Xj(t,n,(function(){return Jj(e,t,n)&&Hj(e,t,n)&&e.getDate(t)===e.getDate(n)}))}function Fj(e,t,n){return Xj(t,n,(function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}))}function Kj(e,t,n){return Xj(t,n,(function(){return Yj(e,t,n)&&Fj(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)}))}function Mj(e,t,n,o){return Xj(n,o,(function(){var r=e.locale.getWeekFirstDate(t,n),a=e.locale.getWeekFirstDate(t,o);return Jj(e,r,a)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,o)}))}function Lj(e,t,n,o,r){switch(r){case"date":return Yj(e,n,o);case"week":return Mj(e,t.locale,n,o);case"month":return Hj(e,n,o);case"quarter":return function(e,t,n){return Xj(t,n,(function(){return Jj(e,t,n)&&Ej(e,t)===Ej(e,n)}))}(e,n,o);case"year":return Jj(e,n,o);case"decade":return Nj(e,n,o);case"time":return Fj(e,n,o);default:return Kj(e,n,o)}}function Tj(e,t,n,o){return!!(t&&n&&o)&&(e.isAfter(o,t)&&e.isAfter(n,o))}function zj(e,t,n,o,r){return!!Lj(e,t,n,o,r)||e.isAfter(n,o)}function Dj(e,t){var n=t.generateConfig,o=t.locale,r=t.format;return e?"function"===typeof r?r(e):n.locale.format(o.locale,e,r):""}function Oj(e,t,n){var o=t,r=["getHour","getMinute","getSecond","getMillisecond"];return["setHour","setMinute","setSecond","setMillisecond"].forEach((function(t,a){o=n?e[t](o,e[r[a]](n)):e[t](o,0)})),o}function jj(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.useMemo((function(){var e=t?Cj(t):t;return n&&e&&(e[1]=e[1]||e[0]),e}),[t,n]);return o}function Uj(t,n){var o=t.generateConfig,r=t.locale,a=t.picker,i=void 0===a?"date":a,l=t.prefixCls,c=void 0===l?"rc-picker":l,s=t.styles,g=void 0===s?{}:s,u=t.classNames,d=void 0===u?{}:u,I=t.order,C=void 0===I||I,m=t.components,h=void 0===m?{}:m,p=t.inputRender,f=t.allowClear,A=t.clearIcon,b=t.needConfirm,v=t.multiple,y=t.format,Z=t.inputReadOnly,S=t.disabledDate,G=t.minDate,B=t.maxDate,k=t.showTime,w=t.value,R=t.defaultValue,V=t.pickerValue,W=t.defaultPickerValue,x=jj(w),X=jj(R),N=jj(V),J=jj(W),E="date"===i&&k?"datetime":i,H="time"===E||"datetime"===E,Y=H||v,F=null!==b&&void 0!==b?b:H,K=hv(Rj(t),4),M=K[0],L=K[1],T=K[2],z=K[3],D=Zj(r,L),O=e.useMemo((function(){return Vj(E,T,z,M,D)}),[E,T,z,M,D]);var j=e.useMemo((function(){return cn(cn({},t),{},{prefixCls:c,locale:D,picker:i,styles:g,classNames:d,order:C,components:cn({input:p},h),clearIcon:Wj(c,f,A),showTime:O,value:x,defaultValue:X,pickerValue:N,defaultPickerValue:J},null===n||void 0===n?void 0:n())}),[t]),U=function(t,n,o){return e.useMemo((function(){var e=Cj(pj(t,n,o)),r=e[0],a="object"===on(r)&&"mask"===r.type?r.format:null;return[e.map((function(e){return"string"===typeof e||"function"===typeof e?e:e.format})),a]}),[t,n,o])}(E,D,y),P=hv(U,2),Q=P[0],_=P[1],q=function(e,t,n){return!("function"!==typeof e[0]&&!n)||t}(Q,Z,v),$=function(e,t,n,o,r){var a=jG((function(a,i){return!(!n||!n(a,i))||!(!o||!e.isAfter(o,a)||Lj(e,t,o,a,i.type))||!(!r||!e.isAfter(a,r)||Lj(e,t,r,a,i.type))}));return a}(o,r,S,G,B),ee=function(e,t,n,o){var r=jG((function(r,a){var i=cn({type:t},a);if(delete i.activeIndex,!e.isValidate(r)||n&&n(r,i))return!0;if(("date"===t||"time"===t)&&o){var l,c=a&&1===a.activeIndex?"end":"start",s=(null===(l=o.disabledTime)||void 0===l?void 0:l.call(o,r,c,{from:i.from}))||{},g=s.disabledHours,u=s.disabledMinutes,d=s.disabledSeconds,I=s.disabledMilliseconds,C=o.disabledHours,m=o.disabledMinutes,h=o.disabledSeconds,p=g||C,f=u||m,A=d||h,b=e.getHour(r),v=e.getMinute(r),y=e.getSecond(r),Z=e.getMillisecond(r);if(p&&p().includes(b))return!0;if(f&&f(b).includes(v))return!0;if(A&&A(b,v).includes(y))return!0;if(I&&I(b,v,y).includes(Z))return!0}return!1}));return r}(o,i,$,O);return[e.useMemo((function(){return cn(cn({},j),{},{needConfirm:F,inputReadOnly:q,disabledDate:$})}),[j,F,q,$]),E,Y,Q,_,ee]}function Pj(t,n){var o=arguments.length>3?arguments[3]:void 0,r=!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).every((function(e){return e}))&&t,a=function(t,n,o){var r=hv(QG(n,{value:t}),2),a=r[0],i=r[1],l=e.useRef(t),c=e.useRef(),s=function(){kB.cancel(c.current)},g=jG((function(){i(l.current),o&&a!==l.current&&o(l.current)})),u=jG((function(e,t){s(),l.current=e,e||t?g():c.current=kB(g)}));return e.useEffect((function(){return s}),[]),[a,u]}(r,n||!1,o),i=hv(a,2),l=i[0],c=i[1];return[l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.inherit&&!l||c(e,t.force)}]}function Qj(t){var n=e.useRef();return e.useImperativeHandle(t,(function(){var e;return{nativeElement:null===(e=n.current)||void 0===e?void 0:e.nativeElement,focus:function(e){var t;null===(t=n.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=n.current)||void 0===e||e.blur()}}})),n}function _j(t,n){return e.useMemo((function(){return t||(n?(Mv(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(n).map((function(e){var t=hv(e,2);return{label:t[0],value:t[1]}}))):[])}),[t,n])}function qj(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.useRef(n);r.current=n,by((function(){if(!t){var e=kB((function(){r.current(t)}),o);return function(){kB.cancel(e)}}r.current(t)}),[t])}function $j(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=hv(e.useState(0),2),r=o[0],a=o[1],i=hv(e.useState(!1),2),l=i[0],c=i[1],s=e.useRef([]),g=e.useRef(null);return qj(l,(function(){l||(s.current=[])})),e.useEffect((function(){l&&s.current.push(r)}),[l,r]),[l,function(e){c(e)},function(e){return e&&(g.current=e),g.current},r,a,function(e){var o=s.current,r=new Set(o.filter((function(t){return e[t]||n[t]}))),a=0===o[o.length-1]?1:0;return r.size>=2||t[a]?null:a},s.current]}function eU(e,t,n,o){switch(t){case"date":case"week":return e.addMonth(n,o);case"month":case"quarter":return e.addYear(n,o);case"year":return e.addYear(n,10*o);case"decade":return e.addYear(n,100*o);default:return n}}var tU=[];function nU(t,n,o,r,a,i,l,c){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:tU,g=arguments.length>10&&void 0!==arguments[10]?arguments[10]:tU,u=arguments.length>11?arguments[11]:void 0,d=arguments.length>12?arguments[12]:void 0,I=arguments.length>13?arguments[13]:void 0,C="time"===l,m=i||0,h=function(e){var n=t.getNow();return C&&(n=Oj(t,n)),s[e]||o[e]||n},p=hv(arguments.length>9&&void 0!==arguments[9]?arguments[9]:tU,2),f=p[0],A=p[1],b=hv(QG((function(){return h(0)}),{value:f}),2),v=b[0],y=b[1],Z=hv(QG((function(){return h(1)}),{value:A}),2),S=Z[0],G=Z[1],B=e.useMemo((function(){var e=[v,S][m];return C?e:Oj(t,e,g[m])}),[C,v,S,m,t,g]),k=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"panel";(0,[y,G][m])(e);var a=[v,S];a[m]=e,!u||Lj(t,n,v,a[0],l)&&Lj(t,n,S,a[1],l)||u(a,{source:o,range:1===m?"end":"start",mode:r})},w=e.useRef(null);return vy((function(){if(a&&!s[m]){var e=C?null:t.getNow();if(null!==w.current&&w.current!==m?e=[v,S][1^m]:o[m]?e=0===m?o[0]:function(e,o){if(c){var r={date:"month",week:"month",month:"year",quarter:"year"}[l];if(r&&!Lj(t,n,e,o,r))return eU(t,l,o,-1);if("year"===l&&Math.floor(t.getYear(e)/10)!==Math.floor(t.getYear(o)/10))return eU(t,l,o,-1)}return o}(o[0],o[1]):o[1^m]&&(e=o[1^m]),e){d&&t.isAfter(d,e)&&(e=d);var r=c?eU(t,l,e,1):e;I&&t.isAfter(r,I)&&(e=c?eU(t,l,I,-1):I),k(e,"reset")}}}),[a,m,o[m]]),e.useEffect((function(){w.current=a?m:null}),[a,m]),vy((function(){a&&s&&s[m]&&k(s[m],"reset")}),[a,m]),[B,k]}function oU(t,n){var o=e.useRef(t),r=hv(e.useState({}),2)[1],a=function(e){return e&&void 0!==n?n:o.current};return[a,function(e){o.current=e,r({})},a(!0)]}var rU=[];function aU(e,t,n){return[function(o){return o.map((function(o){return Dj(o,{generateConfig:e,locale:t,format:n[0]})}))},function(t,n){for(var o=Math.max(t.length,n.length),r=-1,a=0;a<o;a+=1){var i=t[a]||null,l=n[a]||null;if(i!==l&&!Kj(e,i,l)){r=a;break}}return[r<0,0!==r]}]}function iU(e,t){return fv(e).sort((function(e,n){return t.isAfter(e,n)?1:-1}))}function lU(t,n,o,r,a,i,l,c,s){var g=hv(QG(i,{value:l}),2),u=g[0],d=g[1],I=u||rU,C=function(t){var n=hv(oU(t),2),o=n[0],r=n[1],a=jG((function(){r(t)}));return e.useEffect((function(){a()}),[t]),[o,r]}(I),m=hv(C,2),h=m[0],p=m[1],f=hv(aU(t,n,o),2),A=f[0],b=f[1],v=jG((function(e){var n=fv(e);if(r)for(var o=0;o<2;o+=1)n[o]=n[o]||null;else a&&(n=iU(n.filter((function(e){return e})),t));var i=hv(b(h(),n),2),l=i[0],s=i[1];if(!l&&(p(n),c)){var g=A(n);c(n,g,{range:s?"end":"start"})}}));return[I,d,h,v,function(){s&&s(h())}]}function cU(t,n,o,r,a,i,l,c,s,g){var u=t.generateConfig,d=t.locale,I=t.picker,C=t.onChange,m=t.allowEmpty,h=t.order,p=!i.some((function(e){return e}))&&h,f=hv(aU(u,d,l),2),A=f[0],b=f[1],v=hv(oU(n),2),y=v[0],Z=v[1],S=jG((function(){Z(n)}));e.useEffect((function(){S()}),[n]);var G=jG((function(e){var t=null===e,r=fv(e||y());if(t)for(var l=Math.max(i.length,r.length),c=0;c<l;c+=1)i[c]||(r[c]=null);p&&r[0]&&r[1]&&(r=iU(r,u)),a(r);var s=hv(r,2),f=s[0],v=s[1],Z=!f,S=!v,G=!m||(!Z||m[0])&&(!S||m[1]),B=!h||Z||S||Lj(u,d,f,v,I)||u.isAfter(v,f),k=(!f||!g(f,{activeIndex:0}))&&(!v||!g(v,{from:f,activeIndex:1})),w=t||G&&B&&k;if(w){o(r);var R=hv(b(r,n),1)[0];C&&!R&&C(t&&r.every((function(e){return!e}))?null:r,A(r))}return w})),B=jG((function(e,t){var n=mj(y(),e,r()[e]);Z(n),t&&G()})),k=!c&&!s;return qj(!k,(function(){k&&(G(),a(n),S())}),2),[B,G]}function sU(e,t,n,o,r){return("date"===t||"time"===t)&&(void 0!==n?n:void 0!==o?o:!r&&("date"===e||"time"===e))}function gU(){return[]}function uU(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,i=[],l=n>=1?0|n:1,c=e;c<=t;c+=l){var s=r.includes(c);s&&o||i.push({label:Ij(c,a),value:c,disabled:s})}return i}function dU(t){var n=arguments.length>2?arguments[2]:void 0,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},r=o.use12Hours,a=o.hourStep,i=void 0===a?1:a,l=o.minuteStep,c=void 0===l?1:l,s=o.secondStep,g=void 0===s?1:s,u=o.millisecondStep,d=void 0===u?100:u,I=o.hideDisabledOptions,C=o.disabledTime,m=o.disabledHours,h=o.disabledMinutes,p=o.disabledSeconds,f=e.useMemo((function(){return n||t.getNow()}),[n,t]),A=e.useCallback((function(e){var t=(null===C||void 0===C?void 0:C(e))||{};return[t.disabledHours||m||gU,t.disabledMinutes||h||gU,t.disabledSeconds||p||gU,t.disabledMilliseconds||gU]}),[C,m,h,p]),b=hv(e.useMemo((function(){return A(f)}),[f,A]),4),v=b[0],y=b[1],Z=b[2],S=b[3],G=e.useCallback((function(e,t,n,o){var a=uU(0,23,i,I,e()),l=r?a.map((function(e){return cn(cn({},e),{},{label:Ij(e.value%12||12,2)})})):a;return[l,function(e){return uU(0,59,c,I,t(e))},function(e,t){return uU(0,59,g,I,n(e,t))},function(e,t,n){return uU(0,999,d,I,o(e,t,n),3)}]}),[I,i,r,d,c,g]),B=hv(e.useMemo((function(){return G(v,y,Z,S)}),[G,v,y,Z,S]),4),k=B[0],w=B[1],R=B[2],V=B[3];return[function(e,n){var o=function(){return k},r=w,a=R,i=V;if(n){var l=hv(A(n),4),c=l[0],s=l[1],g=l[2],u=l[3],d=hv(G(c,s,g,u),4),I=d[0];o=function(){return I},r=d[1],a=d[2],i=d[3]}var C=function(e,t,n,o,r,a){var i=e;function l(e,t,n){var o=a[e](i),r=n.find((function(e){return e.value===o}));if(!r||r.disabled){var l=n.filter((function(e){return!e.disabled})),c=fv(l).reverse().find((function(e){return e.value<=o}))||l[0];c&&(o=c.value,i=a[t](i,o))}return o}var c=l("getHour","setHour",t()),s=l("getMinute","setMinute",n(c)),g=l("getSecond","setSecond",o(c,s));return l("getMillisecond","setMillisecond",r(c,s,g)),i}(e,o,r,a,i,t);return C},k,w,R,V]}function IU(t){var n=t.mode,o=t.internalMode,r=t.renderExtraFooter,a=t.showNow,i=t.showTime,l=t.onSubmit,c=t.onNow,s=t.invalid,g=t.needConfirm,u=t.generateConfig,d=t.disabledDate,I=e.useContext(gj),C=I.prefixCls,m=I.locale,h=I.button,p=void 0===h?"button":h,f=u.getNow(),A=hv(dU(u,i,f),1)[0],b=null===r||void 0===r?void 0:r(n),v=d(f,{type:n}),y="".concat(C,"-now"),Z="".concat(y,"-btn"),S=a&&e.createElement("li",{className:y},e.createElement("a",{className:BG()(Z,v&&"".concat(Z,"-disabled")),"aria-disabled":v,onClick:function(){if(!v){var e=A(f);c(e)}}},"date"===o?m.today:m.now)),G=g&&e.createElement("li",{className:"".concat(C,"-ok")},e.createElement(p,{disabled:s,onClick:l},m.ok)),B=(S||G)&&e.createElement("ul",{className:"".concat(C,"-ranges")},S,G);return b||B?e.createElement("div",{className:"".concat(C,"-footer")},b&&e.createElement("div",{className:"".concat(C,"-footer-extra")},b),B):null}function CU(e,t,n){return function(o,r){var a=o.findIndex((function(o){return Lj(e,t,o,r,n)}));if(-1===a)return[].concat(fv(o),[r]);var i=fv(o);return i.splice(a,1),i}}var mU=e.createContext(null);function hU(){return e.useContext(mU)}function pU(e,t){var n=e.prefixCls,o=e.generateConfig,r=e.locale,a=e.disabledDate,i=e.minDate,l=e.maxDate,c=e.cellRender,s=e.hoverValue,g=e.hoverRangeValue,u=e.onHover,d=e.values,I=e.pickerValue,C=e.onSelect,m=e.prevIcon,h=e.nextIcon,p=e.superPrevIcon,f=e.superNextIcon,A=o.getNow();return[{now:A,values:d,pickerValue:I,prefixCls:n,disabledDate:a,minDate:i,maxDate:l,cellRender:c,hoverValue:s,hoverRangeValue:g,onHover:u,locale:r,generateConfig:o,onSelect:C,panelType:t,prevIcon:m,nextIcon:h,superPrevIcon:p,superNextIcon:f},A]}var fU=e.createContext({});function AU(t){for(var n=t.rowNum,o=t.colNum,r=t.baseDate,a=t.getCellDate,i=t.prefixColumn,l=t.rowClassName,c=t.titleFormat,s=t.getCellText,g=t.getCellClassName,u=t.headerCells,d=t.cellSelection,I=void 0===d||d,C=t.disabledDate,m=hU(),h=m.prefixCls,p=m.panelType,f=m.now,A=m.disabledDate,b=m.cellRender,v=m.onHover,y=m.hoverValue,Z=m.hoverRangeValue,S=m.generateConfig,G=m.values,B=m.locale,k=m.onSelect,w=C||A,R="".concat(h,"-cell"),V=e.useContext(fU).onCellDblClick,W=function(e){return G.some((function(t){return t&&Lj(S,B,e,t,p)}))},x=[],X=0;X<n;X+=1){for(var N=[],J=void 0,E=function(){var t=a(r,X*o+H),n=null===w||void 0===w?void 0:w(t,{type:p});0===H&&(J=t,i&&N.push(i(J)));var l=!1,u=!1,d=!1;if(I&&Z){var C=hv(Z,2),m=C[0],A=C[1];l=Tj(S,m,A,t),u=Lj(S,B,t,m,p),d=Lj(S,B,t,A,p)}var G=c?Dj(t,{locale:B,format:c,generateConfig:S}):void 0,x=e.createElement("div",{className:"".concat(R,"-inner")},s(t));N.push(e.createElement("td",{key:H,title:G,className:BG()(R,cn(an(an(an(an(an(an({},"".concat(R,"-disabled"),n),"".concat(R,"-hover"),(y||[]).some((function(e){return Lj(S,B,t,e,p)}))),"".concat(R,"-in-range"),l&&!u&&!d),"".concat(R,"-range-start"),u),"".concat(R,"-range-end"),d),"".concat(h,"-cell-selected"),!Z&&"week"!==p&&W(t)),g(t))),onClick:function(){n||k(t)},onDoubleClick:function(){!n&&V&&V()},onMouseEnter:function(){n||null===v||void 0===v||v(t)},onMouseLeave:function(){n||null===v||void 0===v||v(null)}},b?b(t,{prefixCls:h,originNode:x,today:f,type:p,locale:B}):x))},H=0;H<o;H+=1)E();x.push(e.createElement("tr",{key:X,className:null===l||void 0===l?void 0:l(J)},N))}return e.createElement("div",{className:"".concat(h,"-body")},e.createElement("table",{className:"".concat(h,"-content")},u&&e.createElement("thead",null,e.createElement("tr",null,u)),e.createElement("tbody",null,x)))}var bU={visibility:"hidden"};const vU=function(t){var n=t.offset,o=t.superOffset,r=t.onChange,a=t.getStart,i=t.getEnd,l=t.children,c=hU(),s=c.prefixCls,g=c.prevIcon,u=void 0===g?"\u2039":g,d=c.nextIcon,I=void 0===d?"\u203a":d,C=c.superPrevIcon,m=void 0===C?"\xab":C,h=c.superNextIcon,p=void 0===h?"\xbb":h,f=c.minDate,A=c.maxDate,b=c.generateConfig,v=c.locale,y=c.pickerValue,Z=c.panelType,S="".concat(s,"-header"),G=e.useContext(fU),B=G.hidePrev,k=G.hideNext,w=G.hideHeader,R=e.useMemo((function(){if(!f||!n||!i)return!1;var e=i(n(-1,y));return!zj(b,v,e,f,Z)}),[f,n,y,i,b,v,Z]),V=e.useMemo((function(){if(!f||!o||!i)return!1;var e=i(o(-1,y));return!zj(b,v,e,f,Z)}),[f,o,y,i,b,v,Z]),W=e.useMemo((function(){if(!A||!n||!a)return!1;var e=a(n(1,y));return!zj(b,v,A,e,Z)}),[A,n,y,a,b,v,Z]),x=e.useMemo((function(){if(!A||!o||!a)return!1;var e=a(o(1,y));return!zj(b,v,A,e,Z)}),[A,o,y,a,b,v,Z]),X=function(e){n&&r(n(e,y))},N=function(e){o&&r(o(e,y))};if(w)return null;var J="".concat(S,"-prev-btn"),E="".concat(S,"-next-btn"),H="".concat(S,"-super-prev-btn"),Y="".concat(S,"-super-next-btn");return e.createElement("div",{className:S},o&&e.createElement("button",{type:"button",onClick:function(){return N(-1)},tabIndex:-1,className:BG()(H,V&&"".concat(H,"-disabled")),disabled:V,style:B?bU:{}},m),n&&e.createElement("button",{type:"button",onClick:function(){return X(-1)},tabIndex:-1,className:BG()(J,R&&"".concat(J,"-disabled")),disabled:R,style:B?bU:{}},u),e.createElement("div",{className:"".concat(S,"-view")},l),n&&e.createElement("button",{type:"button",onClick:function(){return X(1)},tabIndex:-1,className:BG()(E,W&&"".concat(E,"-disabled")),disabled:W,style:k?bU:{}},I),o&&e.createElement("button",{type:"button",onClick:function(){return N(1)},tabIndex:-1,className:BG()(Y,x&&"".concat(Y,"-disabled")),disabled:x,style:k?bU:{}},p))};function yU(t){var n=t.prefixCls,o=t.panelName,r=void 0===o?"date":o,a=t.locale,i=t.generateConfig,l=t.pickerValue,c=t.onPickerValueChange,s=t.onModeChange,g=t.mode,u=void 0===g?"date":g,d=t.disabledDate,I=t.onSelect,C=t.onHover,m=t.showWeek,h="".concat(n,"-").concat(r,"-panel"),p="".concat(n,"-cell"),f="week"===u,A=hv(pU(t,u),2),b=A[0],v=A[1],y=i.locale.getWeekFirstDay(a.locale),Z=i.setDate(l,1),S=function(e,t,n){var o=t.locale.getWeekFirstDay(e),r=t.setDate(n,1),a=t.getWeekDay(r),i=t.addDate(r,o-a);return t.getMonth(i)===t.getMonth(n)&&t.getDate(i)>1&&(i=t.addDate(i,-7)),i}(a.locale,i,Z),G=i.getMonth(l),B=f||m?function(t){var n=null===d||void 0===d?void 0:d(t,{type:"week"});return e.createElement("td",{key:"week",className:BG()(p,"".concat(p,"-week"),an({},"".concat(p,"-disabled"),n)),onClick:function(){n||I(t)},onMouseEnter:function(){n||null===C||void 0===C||C(t)},onMouseLeave:function(){n||null===C||void 0===C||C(null)}},e.createElement("div",{className:"".concat(p,"-inner")},i.locale.getWeek(a.locale,t)))}:null,k=[],w=a.shortWeekDays||(i.locale.getShortWeekDays?i.locale.getShortWeekDays(a.locale):[]);B&&k.push(e.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var R=0;R<xj;R+=1)k.push(e.createElement("th",{key:R},w[(R+y)%xj]));var V=a.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(a.locale):[]),W=e.createElement("button",{type:"button",key:"year",onClick:function(){s("year",l)},tabIndex:-1,className:"".concat(n,"-year-btn")},Dj(l,{locale:a,format:a.yearFormat,generateConfig:i})),x=e.createElement("button",{type:"button",key:"month",onClick:function(){s("month",l)},tabIndex:-1,className:"".concat(n,"-month-btn")},a.monthFormat?Dj(l,{locale:a,format:a.monthFormat,generateConfig:i}):V[G]),X=a.monthBeforeYear?[x,W]:[W,x];return e.createElement(mU.Provider,{value:b},e.createElement("div",{className:BG()(h,m&&"".concat(h,"-show-week"))},e.createElement(vU,{offset:function(e){return i.addMonth(l,e)},superOffset:function(e){return i.addYear(l,e)},onChange:c,getStart:function(e){return i.setDate(e,1)},getEnd:function(e){var t=i.setDate(e,1);return t=i.addMonth(t,1),i.addDate(t,-1)}},X),e.createElement(AU,Ey({titleFormat:a.fieldDateFormat},t,{colNum:xj,rowNum:6,baseDate:S,headerCells:k,getCellDate:function(e,t){return i.addDate(e,t)},getCellText:function(e){return Dj(e,{locale:a,format:a.cellDateFormat,generateConfig:i})},getCellClassName:function(e){return an(an({},"".concat(n,"-cell-in-view"),Hj(i,e,l)),"".concat(n,"-cell-today"),Yj(i,e,v))},prefixColumn:B,cellSelection:!f}))))}var ZU=1/3;var SU=300;function GU(t){var n=t.units,o=t.value,r=t.optionalValue,a=t.type,i=t.onChange,l=t.onDblClick,c=t.changeOnScroll,s=hU(),g=s.prefixCls,u=s.cellRender,d=s.now,I=s.locale,C="".concat(g,"-time-panel"),m="".concat(g,"-time-panel-cell"),h=e.useRef(null),p=e.useRef(),f=function(){clearTimeout(p.current)},A=function(t,n){var o=e.useRef(!1),r=e.useRef(null),a=e.useRef(null),i=function(){kB.cancel(r.current),o.current=!1},l=e.useRef(),c=jG((function(){var e=t.current;if(a.current=null,l.current=0,e){var c=e.querySelector('[data-value="'.concat(n,'"]')),s=e.querySelector("li");c&&s&&function t(){i(),o.current=!0,l.current+=1;var n=e.scrollTop,g=s.offsetTop,u=c.offsetTop,d=u-g;if(0===u&&c!==s||!YV(e))l.current<=5&&(r.current=kB(t));else{var I=n+(d-n)*ZU,C=Math.abs(d-I);if(null!==a.current&&a.current<C)i();else{if(a.current=C,C<=1)return e.scrollTop=d,void i();e.scrollTop=I,r.current=kB(t)}}}()}}));return[c,i,function(){return o.current}]}(h,null!==o&&void 0!==o?o:r),b=hv(A,3),v=b[0],y=b[1],Z=b[2];vy((function(){return v(),f(),function(){y(),f()}}),[o,r,n]);var S="".concat(C,"-column");return e.createElement("ul",{className:S,ref:h,"data-type":a,onScroll:function(e){f();var t=e.target;!Z()&&c&&(p.current=setTimeout((function(){var e=h.current,o=e.querySelector("li").offsetTop,r=Array.from(e.querySelectorAll("li")).map((function(e){return e.offsetTop-o})),a=r.map((function(e,o){return n[o].disabled?Number.MAX_SAFE_INTEGER:Math.abs(e-t.scrollTop)})),l=Math.min.apply(Math,fv(a)),c=a.findIndex((function(e){return e===l})),s=n[c];s&&!s.disabled&&i(s.value)}),SU))}},n.map((function(t){var n=t.label,r=t.value,c=t.disabled,s=e.createElement("div",{className:"".concat(m,"-inner")},n);return e.createElement("li",{key:r,className:BG()(m,an(an({},"".concat(m,"-selected"),o===r),"".concat(m,"-disabled"),c)),onClick:function(){c||i(r)},onDoubleClick:function(){!c&&l&&l()},"data-value":r},u?u(r,{prefixCls:g,originNode:s,today:d,type:"time",subType:a,locale:I}):s)})))}function BU(e){return e<12}function kU(t){var n=t.showHour,o=t.showMinute,r=t.showSecond,a=t.showMillisecond,i=t.use12Hours,l=t.changeOnScroll,c=hU(),s=c.prefixCls,g=c.values,u=c.generateConfig,d=c.locale,I=c.onSelect,C=c.pickerValue,m=(null===g||void 0===g?void 0:g[0])||null,h=e.useContext(fU).onCellDblClick,p=hv(dU(u,t,m),5),f=p[0],A=p[1],b=p[2],v=p[3],y=p[4],Z=function(e){return[m&&u[e](m),C&&u[e](C)]},S=hv(Z("getHour"),2),G=S[0],B=S[1],k=hv(Z("getMinute"),2),w=k[0],R=k[1],V=hv(Z("getSecond"),2),W=V[0],x=V[1],X=hv(Z("getMillisecond"),2),N=X[0],J=X[1],E=null===G?null:BU(G)?"am":"pm",H=e.useMemo((function(){return i?BU(G)?A.filter((function(e){return BU(e.value)})):A.filter((function(e){return!BU(e.value)})):A}),[G,A,i]),Y=function(e,t){var n,o=e.filter((function(e){return!e.disabled}));return null!==t&&void 0!==t?t:null===o||void 0===o||null===(n=o[0])||void 0===n?void 0:n.value},F=Y(A,G),K=e.useMemo((function(){return b(F)}),[b,F]),M=Y(K,w),L=e.useMemo((function(){return v(F,M)}),[v,F,M]),T=Y(L,W),z=e.useMemo((function(){return y(F,M,T)}),[y,F,M,T]),D=Y(z,N),O=e.useMemo((function(){if(!i)return[];var e=u.getNow(),t=u.setHour(e,6),n=u.setHour(e,18),o=function(e,t){var n=d.cellMeridiemFormat;return n?Dj(e,{generateConfig:u,locale:d,format:n}):t};return[{label:o(t,"AM"),value:"am",disabled:A.every((function(e){return e.disabled||!BU(e.value)}))},{label:o(n,"PM"),value:"pm",disabled:A.every((function(e){return e.disabled||BU(e.value)}))}]}),[A,i,u,d]),j=function(e){var t=f(e);I(t)},U=e.useMemo((function(){var e=m||C||u.getNow(),t=function(e){return null!==e&&void 0!==e};return t(G)?(e=u.setHour(e,G),e=u.setMinute(e,w),e=u.setSecond(e,W),e=u.setMillisecond(e,N)):t(B)?(e=u.setHour(e,B),e=u.setMinute(e,R),e=u.setSecond(e,x),e=u.setMillisecond(e,J)):t(F)&&(e=u.setHour(e,F),e=u.setMinute(e,M),e=u.setSecond(e,T),e=u.setMillisecond(e,D)),e}),[m,C,G,w,W,N,F,M,T,D,B,R,x,J,u]),P={onDblClick:h,changeOnScroll:l};return e.createElement("div",{className:"".concat(s,"-content")},n&&e.createElement(GU,Ey({units:H,value:G,optionalValue:B,type:"hour",onChange:function(e){j(u.setHour(U,e))}},P)),o&&e.createElement(GU,Ey({units:K,value:w,optionalValue:R,type:"minute",onChange:function(e){j(u.setMinute(U,e))}},P)),r&&e.createElement(GU,Ey({units:L,value:W,optionalValue:x,type:"second",onChange:function(e){j(u.setSecond(U,e))}},P)),a&&e.createElement(GU,Ey({units:z,value:N,optionalValue:J,type:"millisecond",onChange:function(e){j(u.setMillisecond(U,e))}},P)),i&&e.createElement(GU,Ey({units:O,value:E,type:"meridiem",onChange:function(e){"am"!==e||BU(G)?"pm"===e&&BU(G)&&j(u.setHour(U,G+12)):j(u.setHour(U,G-12))}},P)))}function wU(t){var n=t.prefixCls,o=t.value,r=t.locale,a=t.generateConfig,i=t.showTime,l=(i||{}).format,c="".concat(n,"-time-panel"),s=hv(pU(t,"time"),1)[0];return e.createElement(mU.Provider,{value:s},e.createElement("div",{className:BG()(c)},e.createElement(vU,null,o?Dj(o,{locale:r,format:l,generateConfig:a}):"\xa0"),e.createElement(kU,i)))}var RU={date:yU,datetime:function(t){var n=t.prefixCls,o=t.generateConfig,r=t.showTime,a=t.onSelect,i=t.value,l=t.pickerValue,c=t.onHover,s="".concat(n,"-datetime-panel"),g=hv(dU(o,r),1)[0],u=function(e){return Oj(o,e,i||l)};return e.createElement("div",{className:s},e.createElement(yU,Ey({},t,{onSelect:function(e){var t=u(e);a(g(t,t))},onHover:function(e){c(e?u(e):e)}})),e.createElement(wU,t))},week:function(t){var n=t.prefixCls,o=t.generateConfig,r=t.locale,a=t.value,i=t.hoverValue,l=t.hoverRangeValue,c=r.locale,s="".concat(n,"-week-panel-row");return e.createElement(yU,Ey({},t,{mode:"week",panelName:"week",rowClassName:function(e){var t={};if(l){var n=hv(l,2),r=n[0],g=n[1],u=Mj(o,c,r,e),d=Mj(o,c,g,e);t["".concat(s,"-range-start")]=u,t["".concat(s,"-range-end")]=d,t["".concat(s,"-range-hover")]=!u&&!d&&Tj(o,r,g,e)}return i&&(t["".concat(s,"-hover")]=i.some((function(t){return Mj(o,c,e,t)}))),BG()(s,an({},"".concat(s,"-selected"),!l&&Mj(o,c,a,e)),t)}}))},month:function(t){var n=t.prefixCls,o=t.locale,r=t.generateConfig,a=t.pickerValue,i=t.disabledDate,l=t.onPickerValueChange,c=t.onModeChange,s="".concat(n,"-month-panel"),g=hv(pU(t,"month"),1)[0],u=r.setMonth(a,0),d=o.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(o.locale):[]),I=i?function(e,t){var n=r.setDate(e,1),o=r.setMonth(n,r.getMonth(n)+1),a=r.addDate(o,-1);return i(n,t)&&i(a,t)}:null,C=e.createElement("button",{type:"button",key:"year",onClick:function(){c("year")},tabIndex:-1,className:"".concat(n,"-year-btn")},Dj(a,{locale:o,format:o.yearFormat,generateConfig:r}));return e.createElement(mU.Provider,{value:g},e.createElement("div",{className:s},e.createElement(vU,{superOffset:function(e){return r.addYear(a,e)},onChange:l,getStart:function(e){return r.setMonth(e,0)},getEnd:function(e){return r.setMonth(e,11)}},C),e.createElement(AU,Ey({},t,{disabledDate:I,titleFormat:o.fieldMonthFormat,colNum:3,rowNum:4,baseDate:u,getCellDate:function(e,t){return r.addMonth(e,t)},getCellText:function(e){var t=r.getMonth(e);return o.monthFormat?Dj(e,{locale:o,format:o.monthFormat,generateConfig:r}):d[t]},getCellClassName:function(){return an({},"".concat(n,"-cell-in-view"),!0)}}))))},quarter:function(t){var n=t.prefixCls,o=t.locale,r=t.generateConfig,a=t.pickerValue,i=t.onPickerValueChange,l=t.onModeChange,c="".concat(n,"-quarter-panel"),s=hv(pU(t,"quarter"),1)[0],g=r.setMonth(a,0),u=e.createElement("button",{type:"button",key:"year",onClick:function(){l("year")},tabIndex:-1,className:"".concat(n,"-year-btn")},Dj(a,{locale:o,format:o.yearFormat,generateConfig:r}));return e.createElement(mU.Provider,{value:s},e.createElement("div",{className:c},e.createElement(vU,{superOffset:function(e){return r.addYear(a,e)},onChange:i,getStart:function(e){return r.setMonth(e,0)},getEnd:function(e){return r.setMonth(e,11)}},u),e.createElement(AU,Ey({},t,{titleFormat:o.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:g,getCellDate:function(e,t){return r.addMonth(e,3*t)},getCellText:function(e){return Dj(e,{locale:o,format:o.cellQuarterFormat,generateConfig:r})},getCellClassName:function(){return an({},"".concat(n,"-cell-in-view"),!0)}}))))},year:function(t){var n=t.prefixCls,o=t.locale,r=t.generateConfig,a=t.pickerValue,i=t.disabledDate,l=t.onPickerValueChange,c=t.onModeChange,s="".concat(n,"-year-panel"),g=hv(pU(t,"year"),1)[0],u=function(e){var t=10*Math.floor(r.getYear(a)/10);return r.setYear(e,t)},d=function(e){var t=u(e);return r.addYear(t,9)},I=u(a),C=d(a),m=r.addYear(I,-1),h=i?function(e,t){var n=r.setMonth(e,0),o=r.setDate(n,1),a=r.setMonth(e,r.getMonth(e)+1),l=r.addDate(a,-1);return i(o,t)&&i(l,t)}:null,p=e.createElement("button",{type:"button",key:"year",onClick:function(){c("decade")},tabIndex:-1,className:"".concat(n,"-decade-btn")},Dj(I,{locale:o,format:o.yearFormat,generateConfig:r}),"-",Dj(C,{locale:o,format:o.yearFormat,generateConfig:r}));return e.createElement(mU.Provider,{value:g},e.createElement("div",{className:s},e.createElement(vU,{superOffset:function(e){return r.addYear(a,10*e)},onChange:l,getStart:u,getEnd:d},p),e.createElement(AU,Ey({},t,{disabledDate:h,titleFormat:o.fieldYearFormat,colNum:3,rowNum:4,baseDate:m,getCellDate:function(e,t){return r.addYear(e,t)},getCellText:function(e){return Dj(e,{locale:o,format:o.cellYearFormat,generateConfig:r})},getCellClassName:function(e){return an({},"".concat(n,"-cell-in-view"),Jj(r,e,I)||Jj(r,e,C)||Tj(r,I,C,e))}}))))},decade:function(t){var n=t.prefixCls,o=t.locale,r=t.generateConfig,a=t.pickerValue,i=t.disabledDate,l=t.onPickerValueChange,c="".concat(n,"-decade-panel"),s=hv(pU(t,"decade"),1)[0],g=function(e){var t=100*Math.floor(r.getYear(a)/100);return r.setYear(e,t)},u=function(e){var t=g(e);return r.addYear(t,99)},d=g(a),I=u(a),C=r.addYear(d,-10),m=i?function(e,t){var n=r.setDate(e,1),o=r.setMonth(n,0),a=r.setYear(o,10*Math.floor(r.getYear(o)/10)),l=r.addYear(a,10),c=r.addDate(l,-1);return i(a,t)&&i(c,t)}:null,h="".concat(Dj(d,{locale:o,format:o.yearFormat,generateConfig:r}),"-").concat(Dj(I,{locale:o,format:o.yearFormat,generateConfig:r}));return e.createElement(mU.Provider,{value:s},e.createElement("div",{className:c},e.createElement(vU,{superOffset:function(e){return r.addYear(a,100*e)},onChange:l,getStart:g,getEnd:u},h),e.createElement(AU,Ey({},t,{disabledDate:m,colNum:3,rowNum:4,baseDate:C,getCellDate:function(e,t){return r.addYear(e,10*t)},getCellText:function(e){var t=o.cellYearFormat,n=Dj(e,{locale:o,format:t,generateConfig:r}),a=Dj(r.addYear(e,9),{locale:o,format:t,generateConfig:r});return"".concat(n,"-").concat(a)},getCellClassName:function(e){return an({},"".concat(n,"-cell-in-view"),Nj(r,e,d)||Nj(r,e,I)||Tj(r,d,I,e))}}))))},time:wU};function VU(t,n){var o,r=t.locale,a=t.generateConfig,i=t.direction,l=t.prefixCls,c=t.tabIndex,s=void 0===c?0:c,g=t.multiple,u=t.defaultValue,d=t.value,I=t.onChange,C=t.onSelect,m=t.defaultPickerValue,h=t.pickerValue,p=t.onPickerValueChange,f=t.mode,A=t.onPanelChange,b=t.picker,v=void 0===b?"date":b,y=t.showTime,Z=t.hoverValue,S=t.hoverRangeValue,G=t.cellRender,B=t.dateRender,k=t.monthCellRender,w=t.components,R=void 0===w?{}:w,V=t.hideHeader,W=(null===(o=e.useContext(gj))||void 0===o?void 0:o.prefixCls)||l||"rc-picker",x=e.useRef();e.useImperativeHandle(n,(function(){return{nativeElement:x.current}}));var X=hv(Rj(t),4),N=X[0],J=X[1],E=X[2],H=X[3],Y=Zj(r,J),F="date"===v&&y?"datetime":v,K=e.useMemo((function(){return Vj(F,E,H,N,Y)}),[F,E,H,N,Y]),M=a.getNow(),L=hv(QG(v,{value:f,postState:function(e){return e||"date"}}),2),T=L[0],z=L[1],D="date"===T&&K?"datetime":T,O=CU(a,r,F),j=hv(QG(u,{value:d}),2),U=j[0],P=j[1],Q=e.useMemo((function(){var e=Cj(U).filter((function(e){return e}));return g?e:e.slice(0,1)}),[U,g]),_=jG((function(e){P(e),I&&(null===e||Q.length!==e.length||Q.some((function(t,n){return!Lj(a,r,t,e[n],F)})))&&(null===I||void 0===I||I(g?e:e[0]))})),q=jG((function(e){if(null===C||void 0===C||C(e),T===v){var t=g?O(Q,e):[e];_(t)}})),$=hv(QG(m||Q[0]||M,{value:h}),2),ee=$[0],te=$[1];e.useEffect((function(){Q[0]&&!h&&te(Q[0])}),[Q[0]]);var ne=function(e,t){null===A||void 0===A||A(e||h,t||T)},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];te(e),null===p||void 0===p||p(e),t&&ne(e)},re=function(e,t){z(e),t&&oe(t),ne(t,e)},ae=e.useMemo((function(){var e,t;if(Array.isArray(S)){var n=hv(S,2);e=n[0],t=n[1]}else e=S;return e||t?(e=e||t,t=t||e,a.isAfter(e,t)?[t,e]:[e,t]):null}),[S,a]),ie=bj(G,B,k),le=R[D]||RU[D]||yU,ce=e.useContext(fU),se=e.useMemo((function(){return cn(cn({},ce),{},{hideHeader:V})}),[ce,V]);var ge="".concat(W,"-panel"),ue=hj(t,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return e.createElement(fU.Provider,{value:se},e.createElement("div",{ref:x,tabIndex:s,className:BG()(ge,an({},"".concat(ge,"-rtl"),"rtl"===i))},e.createElement(le,Ey({},ue,{showTime:K,prefixCls:W,locale:Y,generateConfig:a,onModeChange:re,pickerValue:ee,onPickerValueChange:function(e){oe(e,!0)},value:Q[0],onSelect:function(e){if(q(e),oe(e),T!==v){var t=["decade","year"],n=[].concat(t,["month"]),o={quarter:[].concat(t,["quarter"]),week:[].concat(fv(n),["week"]),date:[].concat(fv(n),["date"])}[v]||n,r=o.indexOf(T),a=o[r+1];a&&re(a,e)}},values:Q,cellRender:ie,hoverRangeValue:ae,hoverValue:Z}))))}const WU=e.memo(e.forwardRef(VU));function xU(t){var n=t.picker,o=t.multiplePanel,r=t.pickerValue,a=t.onPickerValueChange,i=t.needConfirm,l=t.onSubmit,c=t.range,s=t.hoverValue,g=e.useContext(gj),u=g.prefixCls,d=g.generateConfig,I=e.useCallback((function(e,t){return eU(d,n,e,t)}),[d,n]),C=e.useMemo((function(){return I(r,1)}),[r,I]),m={onCellDblClick:function(){i&&l()}},h="time"===n,p=cn(cn({},t),{},{hoverValue:null,hoverRangeValue:null,hideHeader:h});return c?p.hoverRangeValue=s:p.hoverValue=s,o?e.createElement("div",{className:"".concat(u,"-panels")},e.createElement(fU.Provider,{value:cn(cn({},m),{},{hideNext:!0})},e.createElement(WU,p)),e.createElement(fU.Provider,{value:cn(cn({},m),{},{hidePrev:!0})},e.createElement(WU,Ey({},p,{pickerValue:C,onPickerValueChange:function(e){a(I(e,-1))}})))):e.createElement(fU.Provider,{value:cn({},m)},e.createElement(WU,p))}function XU(e){return"function"===typeof e?e():e}function NU(t){var n=t.prefixCls,o=t.presets,r=t.onClick,a=t.onHover;return o.length?e.createElement("div",{className:"".concat(n,"-presets")},e.createElement("ul",null,o.map((function(t,n){var o=t.label,i=t.value;return e.createElement("li",{key:n,onClick:function(){r(XU(i))},onMouseEnter:function(){a(XU(i))},onMouseLeave:function(){a(null)}},o)})))):null}function JU(t){var n=t.panelRender,o=t.internalMode,r=t.picker,a=t.showNow,i=t.range,l=t.multiple,c=t.activeOffset,s=void 0===c?0:c,g=t.presets,u=t.onPresetHover,d=t.onPresetSubmit,I=t.onFocus,C=t.onBlur,m=t.direction,h=t.value,p=t.onSelect,f=t.isInvalid,A=t.defaultOpenValue,b=t.onOk,v=t.onSubmit,y=e.useContext(gj).prefixCls,Z="".concat(y,"-panel"),S="rtl"===m,G=e.useRef(null),B=e.useRef(null),k=hv(e.useState(0),2),w=k[0],R=k[1],V=hv(e.useState(0),2),W=V[0],x=V[1];function X(e){return e.filter((function(e){return e}))}e.useEffect((function(){if(i){var e,t=(null===(e=G.current)||void 0===e?void 0:e.offsetWidth)||0;x(s<=w-t?0:s+t-w)}}),[w,s,i]);var N=e.useMemo((function(){return X(Cj(h))}),[h]),J="time"===r&&!N.length,E=e.useMemo((function(){return J?X([A]):N}),[J,N,A]),H=J?A:N,Y=e.useMemo((function(){return!E.length||E.some((function(e){return f(e)}))}),[E,f]),F=e.createElement("div",{className:"".concat(y,"-panel-layout")},e.createElement(NU,{prefixCls:y,presets:g,onClick:d,onHover:u}),e.createElement("div",null,e.createElement(xU,Ey({},t,{value:H})),e.createElement(IU,Ey({},t,{showNow:!l&&a,invalid:Y,onSubmit:function(){J&&p(A),b(),v()}}))));n&&(F=n(F));var K="".concat(Z,"-container"),M="marginLeft",L="marginRight",T=e.createElement("div",{tabIndex:-1,className:BG()(K,"".concat(y,"-").concat(o,"-panel-container")),style:an(an({},S?L:M,W),S?M:L,"auto"),onFocus:I,onBlur:C},F);return i&&(T=e.createElement("div",{ref:B,className:BG()("".concat(y,"-range-wrapper"),"".concat(y,"-").concat(r,"-range-wrapper"))},e.createElement("div",{ref:G,className:"".concat(y,"-range-arrow"),style:an({},S?"right":"left",s)}),e.createElement(ZV,{onResize:function(e){e.offsetWidth&&R(e.offsetWidth)}},T))),T}function EU(t,n){var o=t.format,r=t.maskFormat,a=t.generateConfig,i=t.locale,l=t.preserveInvalidOnBlur,c=t.inputReadOnly,s=t.required,g=t["aria-required"],u=t.onSubmit,d=t.onFocus,I=t.onBlur,C=t.onInputChange,m=t.onInvalid,h=t.open,p=t.onOpenChange,f=t.onKeyDown,A=t.onChange,b=t.activeHelp,v=t.name,y=t.autoComplete,Z=t.id,S=t.value,G=t.invalid,B=t.placeholder,k=t.disabled,w=t.activeIndex,R=t.allHelp,V=t.picker,W=function(e,t){var n=a.locale.parse(i.locale,e,[t]);return n&&a.isValidate(n)?n:null},x=o[0],X=e.useCallback((function(e){return Dj(e,{locale:i,format:x,generateConfig:a})}),[i,a,x]),N=e.useMemo((function(){return S.map(X)}),[S,X]),J=e.useMemo((function(){var e="time"===V?8:10,t="function"===typeof x?x(a.getNow()).length:x.length;return Math.max(e,t)+2}),[x,V,a]),E=function(e){for(var t=0;t<o.length;t+=1){var n=o[t];if("string"===typeof n){var r=W(e,n);if(r)return r}}return!1};return[function(e){function o(t){return void 0!==e?t[e]:t}var a=cn(cn({},sw(t,{aria:!0,data:!0})),{},{format:r,validateFormat:function(e){return!!E(e)},preserveInvalidOnBlur:l,readOnly:c,required:s,"aria-required":g,name:v,autoComplete:y,size:J,id:o(Z),value:o(N)||"",invalid:o(G),placeholder:o(B),active:w===e,helped:R||b&&w===e,disabled:o(k),onFocus:function(t){d(t,e)},onBlur:function(t){I(t,e)},onSubmit:u,onChange:function(t){C();var n=E(t);if(n)return m(!1,e),void A(n,e);m(!!t,e)},onHelp:function(){p(!0,{index:e})},onKeyDown:function(t){var n=!1;if(null===f||void 0===f||f(t,(function(){n=!0})),!t.defaultPrevented&&!n)switch(t.key){case"Escape":p(!1,{index:e});break;case"Enter":h||p(!0)}}},null===n||void 0===n?void 0:n({valueTexts:N}));return Object.keys(a).forEach((function(e){void 0===a[e]&&delete a[e]})),a},X]}var HU=["onMouseEnter","onMouseLeave"];function YU(t){return e.useMemo((function(){return hj(t,HU)}),[t])}var FU=["icon","type"],KU=["onClear"];function MU(t){var n=t.icon,o=t.type,r=JG(t,FU),a=e.useContext(gj).prefixCls;return n?e.createElement("span",Ey({className:"".concat(a,"-").concat(o)},r),n):null}function LU(t){var n=t.onClear,o=JG(t,KU);return e.createElement(MU,Ey({},o,{type:"clear",role:"button",onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.stopPropagation(),n()}}))}var TU=["YYYY","MM","DD","HH","mm","ss","SSS"],zU=function(){function e(t){Tv(this,e),an(this,"format",void 0),an(this,"maskFormat",void 0),an(this,"cells",void 0),an(this,"maskCells",void 0),this.format=t;var n=TU.map((function(e){return"(".concat(e,")")})).join("|"),o=new RegExp(n,"g");this.maskFormat=t.replace(o,(function(e){return"\u9867".repeat(e.length)}));var r=new RegExp("(".concat(TU.join("|"),")")),a=(t.split(r)||[]).filter((function(e){return e})),i=0;this.cells=a.map((function(e){var t=TU.includes(e),n=i,o=i+e.length;return i=o,{text:e,mask:t,start:n,end:o}})),this.maskCells=this.cells.filter((function(e){return e.mask}))}return Dv(e,[{key:"getSelection",value:function(e){var t=this.maskCells[e]||{};return[t.start||0,t.end||0]}},{key:"match",value:function(e){for(var t=0;t<this.maskFormat.length;t+=1){var n=this.maskFormat[t],o=e[t];if(!o||"\u9867"!==n&&n!==o)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,o=0;o<this.maskCells.length;o+=1){var r=this.maskCells[o],a=r.start,i=r.end;if(e>=a&&e<=i)return o;var l=Math.min(Math.abs(e-a),Math.abs(e-i));l<t&&(t=l,n=o)}return n}}]),e}();var DU=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],OU=e.forwardRef((function(t,n){var o=t.active,r=t.showActiveCls,a=void 0===r||r,i=t.suffixIcon,l=t.format,c=t.validateFormat,s=t.onChange,g=(t.onInput,t.helped),u=t.onHelp,d=t.onSubmit,I=t.onKeyDown,C=t.preserveInvalidOnBlur,m=void 0!==C&&C,h=t.invalid,p=t.clearIcon,f=JG(t,DU),A=t.value,b=t.onFocus,v=t.onBlur,y=t.onMouseUp,Z=e.useContext(gj),S=Z.prefixCls,G=Z.input,B=void 0===G?"input":G,k="".concat(S,"-input"),w=hv(e.useState(!1),2),R=w[0],V=w[1],W=hv(e.useState(A),2),x=W[0],X=W[1],N=hv(e.useState(""),2),J=N[0],E=N[1],H=hv(e.useState(null),2),Y=H[0],F=H[1],K=hv(e.useState(null),2),M=K[0],L=K[1],T=x||"";e.useEffect((function(){X(A)}),[A]);var z=e.useRef(),D=e.useRef();e.useImperativeHandle(n,(function(){return{nativeElement:z.current,inputElement:D.current,focus:function(e){D.current.focus(e)},blur:function(){D.current.blur()}}}));var O=e.useMemo((function(){return new zU(l||"")}),[l]),j=hv(e.useMemo((function(){return g?[0,0]:O.getSelection(Y)}),[O,Y,g]),2),U=j[0],P=j[1],Q=function(e){e&&e!==l&&e!==A&&u()},_=jG((function(e){c(e)&&s(e),X(e),Q(e)})),q=e.useRef(!1),$=function(e){v(e)};qj(o,(function(){o||m||X(A)}));var ee=function(e){"Enter"===e.key&&c(T)&&d(),null===I||void 0===I||I(e)},te=e.useRef();vy((function(){if(R&&l&&!q.current){if(O.match(T))return D.current.setSelectionRange(U,P),te.current=kB((function(){D.current.setSelectionRange(U,P)})),function(){kB.cancel(te.current)};_(l)}}),[O,l,R,T,Y,U,P,M,_]);var ne=l?{onFocus:function(e){V(!0),F(0),E(""),b(e)},onBlur:function(e){V(!1),$(e)},onKeyDown:function(e){ee(e);var t=e.key,n=null,o=null,r=P-U,a=l.slice(U,P),i=function(e){F((function(t){var n=t+e;return n=Math.max(n,0),n=Math.min(n,O.size()-1)}))},c=function(e){var t=function(e){return{YYYY:[0,9999,(new Date).getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]}[e]}(a),n=hv(t,3),o=n[0],r=n[1],i=n[2],l=T.slice(U,P),c=Number(l);if(isNaN(c))return String(i||(e>0?o:r));var s=r-o+1;return String(o+(s+(c+e)-o)%s)};switch(t){case"Backspace":case"Delete":n="",o=a;break;case"ArrowLeft":n="",i(-1);break;case"ArrowRight":n="",i(1);break;case"ArrowUp":n="",o=c(1);break;case"ArrowDown":n="",o=c(-1);break;default:isNaN(Number(t))||(o=n=J+t)}if(null!==n&&(E(n),n.length>=r&&(i(1),E(""))),null!==o){var s=T.slice(0,U)+Ij(o,r)+T.slice(P);_(s.slice(0,l.length))}L({})},onMouseDown:function(){q.current=!0},onMouseUp:function(e){var t=e.target.selectionStart,n=O.getMaskCellIndex(t);F(n),L({}),null===y||void 0===y||y(e),q.current=!1},onPaste:function(e){var t=e.clipboardData.getData("text");c(t)&&_(t)}}:{};return e.createElement("div",{ref:z,className:BG()(k,an(an({},"".concat(k,"-active"),o&&a),"".concat(k,"-placeholder"),g))},e.createElement(B,Ey({ref:D,"aria-invalid":h,autoComplete:"off"},f,{onKeyDown:ee,onBlur:$},ne,{value:T,onChange:function(e){if(!l){var t=e.target.value;Q(t),X(t),s(t)}}})),e.createElement(MU,{type:"suffix",icon:i}),p)}));const jU=OU;var UU=["id","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveOffset","onMouseDown","required","aria-required","autoFocus"],PU=["index"];function QU(t,n){var o=t.id,r=t.clearIcon,a=t.suffixIcon,i=t.separator,l=void 0===i?"~":i,c=t.activeIndex,s=(t.activeHelp,t.allHelp,t.focused),g=(t.onFocus,t.onBlur,t.onKeyDown,t.locale,t.generateConfig,t.placeholder),u=t.className,d=t.style,I=t.onClick,C=t.onClear,m=t.value,h=(t.onChange,t.onSubmit,t.onInputChange,t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid,t.disabled),p=t.invalid,f=(t.inputReadOnly,t.direction),A=(t.onOpenChange,t.onActiveOffset),b=t.onMouseDown,v=(t.required,t["aria-required"],t.autoFocus),y=JG(t,UU),Z="rtl"===f,S=e.useContext(gj).prefixCls,G=e.useMemo((function(){if("string"===typeof o)return[o];var e=o||{};return[e.start,e.end]}),[o]),B=e.useRef(),k=e.useRef(),w=e.useRef(),R=function(e){var t;return null===(t=[k,w][e])||void 0===t?void 0:t.current};e.useImperativeHandle(n,(function(){return{nativeElement:B.current,focus:function(e){if("object"===on(e)){var t,n=e||{},o=n.index,r=void 0===o?0:o,a=JG(n,PU);null===(t=R(r))||void 0===t||t.focus(a)}else{var i;null===(i=R(null!==e&&void 0!==e?e:0))||void 0===i||i.focus()}},blur:function(){var e,t;null===(e=R(0))||void 0===e||e.blur(),null===(t=R(1))||void 0===t||t.blur()}}}));var V=YU(y),W=e.useMemo((function(){return Array.isArray(g)?g:[g,g]}),[g]),x=hv(EU(cn(cn({},t),{},{id:G,placeholder:W})),1)[0],X=Z?"right":"left",N=hv(e.useState(an({position:"absolute",width:0},X,0)),2),J=N[0],E=N[1],H=jG((function(){var e=R(c);if(e){var t=e.nativeElement,n=t.offsetWidth,o=t.offsetLeft,r=t.offsetParent,a=o;if(Z){var i=r,l=getComputedStyle(i);a=i.offsetWidth-parseFloat(l.borderRightWidth)-parseFloat(l.borderLeftWidth)-o-n}E((function(e){return cn(cn({},e),{},an({width:n},X,a))})),A(0===c?0:a)}}));e.useEffect((function(){H()}),[c]);var Y=r&&(m[0]&&!h[0]||m[1]&&!h[1]),F=v&&!h[0],K=v&&!F&&!h[1];return e.createElement(ZV,{onResize:H},e.createElement("div",Ey({},V,{className:BG()(S,"".concat(S,"-range"),an(an(an(an({},"".concat(S,"-focused"),s),"".concat(S,"-disabled"),h.every((function(e){return e}))),"".concat(S,"-invalid"),p.some((function(e){return e}))),"".concat(S,"-rtl"),Z),u),style:d,ref:B,onClick:I,onMouseDown:function(e){var t=e.target;t!==k.current.inputElement&&t!==w.current.inputElement&&e.preventDefault(),null===b||void 0===b||b(e)}}),e.createElement(jU,Ey({ref:k},x(0),{autoFocus:F,"date-range":"start"})),e.createElement("div",{className:"".concat(S,"-range-separator")},l),e.createElement(jU,Ey({ref:w},x(1),{autoFocus:K,"date-range":"end"})),e.createElement("div",{className:"".concat(S,"-active-bar"),style:J}),e.createElement(MU,{type:"suffix",icon:a}),Y&&e.createElement(LU,{icon:r,onClear:C})))}const _U=e.forwardRef(QU);function qU(e,t){var n=null!==e&&void 0!==e?e:t;return Array.isArray(n)?n:[n,n]}function $U(e){return 1===e?"end":"start"}function eP(t,n){var o=Uj(t,(function(){var e=t.disabled,n=t.allowEmpty;return{disabled:qU(e,!1),allowEmpty:qU(n,!1)}})),r=hv(o,6),a=r[0],i=r[1],l=r[2],c=r[3],s=r[4],g=r[5],u=a.prefixCls,d=a.styles,I=a.classNames,C=a.defaultValue,m=a.value,h=a.needConfirm,p=a.onKeyDown,f=a.disabled,A=a.allowEmpty,b=a.disabledDate,v=a.minDate,y=a.maxDate,Z=a.defaultOpen,S=a.open,G=a.onOpenChange,B=a.locale,k=a.generateConfig,w=a.picker,R=a.showNow,V=a.showToday,W=a.showTime,x=a.mode,X=a.onPanelChange,N=a.onCalendarChange,J=a.onOk,E=a.defaultPickerValue,H=a.pickerValue,Y=a.onPickerValueChange,F=a.inputReadOnly,K=a.suffixIcon,M=a.onFocus,L=a.onBlur,T=a.presets,z=a.ranges,D=a.components,O=a.cellRender,j=a.dateRender,U=a.monthCellRender,P=a.onClick,Q=Qj(n),_=hv(Pj(S,Z,f,G),2),q=_[0],$=_[1],ee=function(e,t){!f.some((function(e){return!e}))&&e||$(e,t)},te=hv(lU(k,B,c,!0,!1,C,m,N,J),5),ne=te[0],oe=te[1],re=te[2],ae=te[3],ie=te[4],le=re(),ce=hv($j(f,A),7),se=ce[0],ge=ce[1],ue=ce[2],de=ce[3],Ie=ce[4],Ce=ce[5],me=ce[6],he=function(e,t){ge(!0),null===M||void 0===M||M(e,{range:$U(null!==t&&void 0!==t?t:de)})},pe=function(e,t){ge(!1),null===L||void 0===L||L(e,{range:$U(null!==t&&void 0!==t?t:de)})},fe=e.useMemo((function(){if(!W)return null;var e=W.disabledTime,t=e?function(t){var n=$U(de),o=fj(le,me,de);return e(t,n,{from:o})}:void 0;return cn(cn({},W),{},{disabledTime:t})}),[W,de,le,me]),Ae=hv(QG([w,w],{value:x}),2),be=Ae[0],ve=Ae[1],ye=be[de]||w,Ze="date"===ye&&fe?"datetime":ye,Se=Ze===w&&"time"!==Ze,Ge=sU(w,ye,R,V,!0),Be=hv(cU(a,ne,oe,re,ae,f,c,se,q,g),2),ke=Be[0],we=Be[1],Re=function(e,t,n,o,r,a){var i=n[n.length-1];return function(l,c){var s=hv(e,2),g=s[0],u=s[1],d=cn(cn({},c),{},{from:fj(e,n)});return!(1!==i||!t[0]||!g||Lj(o,r,g,l,d.type)||!o.isAfter(g,l))||!(0!==i||!t[1]||!u||Lj(o,r,u,l,d.type)||!o.isAfter(l,u))||(null===a||void 0===a?void 0:a(l,d))}}(le,f,me,k,B,b),Ve=hv(vj(le,g,A),2),We=Ve[0],xe=Ve[1],Xe=hv(nU(k,B,le,be,q,de,i,Se,E,H,null===fe||void 0===fe?void 0:fe.defaultOpenValue,Y,v,y),2),Ne=Xe[0],Je=Xe[1],Ee=jG((function(e,t,n){var o=mj(be,de,t);if(o[0]===be[0]&&o[1]===be[1]||ve(o),X&&!1!==n){var r=fv(le);e&&(r[de]=e),X(r,o)}})),He=function(e,t){return mj(le,t,e)},Ye=function(e,t){var n=le;e&&(n=He(e,de));var o=Ce(n);ae(n),ke(de,null===o),null===o?ee(!1,{force:!0}):t||Q.current.focus({index:o})},Fe=hv(e.useState(null),2),Ke=Fe[0],Me=Fe[1],Le=hv(e.useState(null),2),Te=Le[0],ze=Le[1],De=e.useMemo((function(){return Te||le}),[le,Te]);e.useEffect((function(){q||ze(null)}),[q]);var Oe=hv(e.useState(0),2),je=Oe[0],Ue=Oe[1],Pe=_j(T,z),Qe=bj(O,j,U,$U(de)),_e=le[de]||null,qe=jG((function(e){return g(e,{activeIndex:de})})),$e=e.useMemo((function(){var e=sw(a,!1);return cW(a,[].concat(fv(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]))}),[a]),et=e.createElement(JU,Ey({},$e,{showNow:Ge,showTime:fe,range:!0,multiplePanel:Se,activeOffset:je,disabledDate:Re,onFocus:function(e){ee(!0),he(e)},onBlur:pe,picker:w,mode:ye,internalMode:Ze,onPanelChange:Ee,format:s,value:_e,isInvalid:qe,onChange:null,onSelect:function(e){ue("panel");var t=mj(le,de,e);ae(t),h||l||i!==Ze||Ye(e)},pickerValue:Ne,defaultOpenValue:Cj(null===W||void 0===W?void 0:W.defaultOpenValue)[de],onPickerValueChange:Je,hoverValue:De,onHover:function(e){ze(e?He(e,de):null),Me("cell")},needConfirm:h,onSubmit:Ye,onOk:ie,presets:Pe,onPresetHover:function(e){ze(e),Me("preset")},onPresetSubmit:function(e){we(e)&&ee(!1,{force:!0})},onNow:function(e){Ye(e)},cellRender:Qe})),tt=e.useMemo((function(){return{prefixCls:u,locale:B,generateConfig:k,button:D.button,input:D.input}}),[u,B,k,D.button,D.input]);return vy((function(){q&&void 0!==de&&Ee(null,w,!1)}),[q,de,w]),vy((function(){var e=ue();q||"input"!==e||(ee(!1),Ye(null,!0)),q||!l||h||"panel"!==e||(ee(!0),Ye())}),[q]),e.createElement(gj.Provider,{value:tt},e.createElement(dj,Ey({},Aj(a),{popupElement:et,popupStyle:d.popup,popupClassName:I.popup,visible:q,onClose:function(){ee(!1)},range:!0}),e.createElement(_U,Ey({},a,{ref:Q,suffixIcon:K,activeIndex:se||q?de:null,activeHelp:!!Te,allHelp:!!Te&&"preset"===Ke,focused:se,onFocus:function(e,t){ue("input"),ee(!0,{inherit:!0}),Ie(t),he(e,t)},onBlur:function(e,t){ee(!1),pe(e,t)},onKeyDown:function(e,t){"Tab"===e.key&&Ye(null,!0),null===p||void 0===p||p(e,t)},onSubmit:Ye,value:De,maskFormat:s,onChange:function(e,t){var n=He(e,t);ae(n)},onInputChange:function(){ue("input")},format:c,inputReadOnly:F,disabled:f,open:q,onOpenChange:ee,onClick:function(e){if(!Q.current.nativeElement.contains(document.activeElement)){var t=f.findIndex((function(e){return!e}));t>=0&&Q.current.focus({index:t})}ee(!0),null===P||void 0===P||P(e)},onClear:function(){we(null),ee(!1,{force:!0})},invalid:We,onInvalid:xe,onActiveOffset:Ue}))))}const tP=e.forwardRef(eP);function nP(t){var n=t.prefixCls,o=t.value,r=t.onRemove,a=t.removeIcon,i=void 0===a?"\xd7":a,l=t.formatDate,c=t.disabled,s=t.maxTagCount,g=t.placeholder,u="".concat(n,"-selector"),d="".concat(n,"-selection"),I="".concat(d,"-overflow");function C(t,n){return e.createElement("span",{className:BG()("".concat(d,"-item")),title:"string"===typeof t?t:null},e.createElement("span",{className:"".concat(d,"-item-content")},t),!c&&n&&e.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:n,className:"".concat(d,"-item-remove")},i))}return e.createElement("div",{className:u},e.createElement(zW,{prefixCls:I,data:o,renderItem:function(e){return C(l(e),(function(t){t&&t.stopPropagation(),r(e)}))},renderRest:function(e){return C("+ ".concat(e.length," ..."))},itemKey:function(e){return l(e)},maxCount:s}),!o.length&&e.createElement("span",{className:"".concat(n,"-selection-placeholder")},g))}var oP=["id","open","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","removeIcon"];function rP(t,n){t.id;var o=t.open,r=t.clearIcon,a=t.suffixIcon,i=(t.activeHelp,t.allHelp,t.focused),l=(t.onFocus,t.onBlur,t.onKeyDown,t.locale),c=t.generateConfig,s=t.placeholder,g=t.className,u=t.style,d=t.onClick,I=t.onClear,C=t.internalPicker,m=t.value,h=t.onChange,p=t.onSubmit,f=(t.onInputChange,t.multiple),A=t.maxTagCount,b=(t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid,t.disabled),v=t.invalid,y=(t.inputReadOnly,t.direction),Z=(t.onOpenChange,t.onMouseDown),S=(t.required,t["aria-required"],t.autoFocus),G=t.removeIcon,B=JG(t,oP),k="rtl"===y,w=e.useContext(gj).prefixCls,R=e.useRef(),V=e.useRef();e.useImperativeHandle(n,(function(){return{nativeElement:R.current,focus:function(e){var t;null===(t=V.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=V.current)||void 0===e||e.blur()}}}));var W=YU(B),x=EU(cn(cn({},t),{},{onChange:function(e){h([e])}}),(function(e){return{value:e.valueTexts[0]||"",active:i}})),X=hv(x,2),N=X[0],J=X[1],E=!(!r||!m.length||b),H=f?e.createElement(e.Fragment,null,e.createElement(nP,{prefixCls:w,value:m,onRemove:function(e){var t=m.filter((function(t){return t&&!Lj(c,l,t,e,C)}));h(t),o||p()},formatDate:J,maxTagCount:A,disabled:b,removeIcon:G,placeholder:s}),e.createElement("input",{className:"".concat(w,"-multiple-input"),value:m.map(J).join(","),ref:V,readOnly:!0,autoFocus:S}),e.createElement(MU,{type:"suffix",icon:a}),E&&e.createElement(LU,{icon:r,onClear:I})):e.createElement(jU,Ey({ref:V},N(),{autoFocus:S,suffixIcon:a,clearIcon:E&&e.createElement(LU,{icon:r,onClear:I}),showActiveCls:!1}));return e.createElement("div",Ey({},W,{className:BG()(w,an(an(an(an(an({},"".concat(w,"-multiple"),f),"".concat(w,"-focused"),i),"".concat(w,"-disabled"),b),"".concat(w,"-invalid"),v),"".concat(w,"-rtl"),k),g),style:u,ref:R,onClick:d,onMouseDown:function(e){var t;e.target!==(null===(t=V.current)||void 0===t?void 0:t.inputElement)&&e.preventDefault(),null===Z||void 0===Z||Z(e)}}),H)}const aP=e.forwardRef(rP);function iP(t,n){var o=hv(Uj(t),6),r=o[0],a=o[1],i=o[2],l=o[3],c=o[4],s=o[5],g=r,u=g.prefixCls,d=g.styles,I=g.classNames,C=g.order,m=g.defaultValue,h=g.value,p=g.needConfirm,f=g.onChange,A=g.onKeyDown,b=g.disabled,v=g.disabledDate,y=g.minDate,Z=g.maxDate,S=g.defaultOpen,G=g.open,B=g.onOpenChange,k=g.locale,w=g.generateConfig,R=g.picker,V=g.showNow,W=g.showToday,x=g.showTime,X=g.mode,N=g.onPanelChange,J=g.onCalendarChange,E=g.onOk,H=g.multiple,Y=g.defaultPickerValue,F=g.pickerValue,K=g.onPickerValueChange,M=g.inputReadOnly,L=g.suffixIcon,T=g.removeIcon,z=g.onFocus,D=g.onBlur,O=g.presets,j=g.components,U=g.cellRender,P=g.dateRender,Q=g.monthCellRender,_=g.onClick,q=Qj(n);function $(e){return null===e?null:H?e:e[0]}var ee=CU(w,k,a),te=hv(Pj(G,S,[b],B),2),ne=te[0],oe=te[1],re=hv(lU(w,k,l,!1,C,m,h,(function(e,t,n){if(J){var o=cn({},n);delete o.range,J($(e),$(t),o)}}),(function(e){null===E||void 0===E||E($(e))})),5),ae=re[0],ie=re[1],le=re[2],ce=re[3],se=re[4],ge=le(),ue=hv($j([b]),4),de=ue[0],Ie=ue[1],Ce=ue[2],me=ue[3],he=function(e){Ie(!0),null===z||void 0===z||z(e,{})},pe=function(e){Ie(!1),null===D||void 0===D||D(e,{})},fe=hv(QG(R,{value:X}),2),Ae=fe[0],be=fe[1],ve="date"===Ae&&x?"datetime":Ae,ye=sU(R,Ae,V,W),Ze=f&&function(e,t){f($(e),$(t))},Se=hv(cU(cn(cn({},r),{},{onChange:Ze}),ae,ie,le,ce,[],l,de,ne,s),2)[1],Ge=hv(vj(ge,s),2),Be=Ge[0],ke=Ge[1],we=e.useMemo((function(){return Be.some((function(e){return e}))}),[Be]),Re=hv(nU(w,k,ge,[Ae],ne,me,a,!1,Y,F,Cj(null===x||void 0===x?void 0:x.defaultOpenValue),(function(e,t){if(K){var n=cn(cn({},t),{},{mode:t.mode[0]});delete n.range,K(e[0],n)}}),y,Z),2),Ve=Re[0],We=Re[1],xe=jG((function(e,t,n){if(be(t),N&&!1!==n){var o=e||ge[ge.length-1];N(o,t)}})),Xe=function(){Se(le()),oe(!1,{force:!0})},Ne=hv(e.useState(null),2),Je=Ne[0],Ee=Ne[1],He=hv(e.useState(null),2),Ye=He[0],Fe=He[1],Ke=e.useMemo((function(){var e=[Ye].concat(fv(ge)).filter((function(e){return e}));return H?e:e.slice(0,1)}),[ge,Ye,H]),Me=e.useMemo((function(){return!H&&Ye?[Ye]:ge.filter((function(e){return e}))}),[ge,Ye,H]);e.useEffect((function(){ne||Fe(null)}),[ne]);var Le=_j(O),Te=function(e){var t=H?ee(le(),e):[e];Se(t)&&!H&&oe(!1,{force:!0})},ze=bj(U,P,Q),De=e.useMemo((function(){var e=sw(r,!1);return cn(cn({},cW(r,[].concat(fv(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange"]))),{},{multiple:r.multiple})}),[r]),Oe=e.createElement(JU,Ey({},De,{showNow:ye,showTime:x,disabledDate:v,onFocus:function(e){oe(!0),he(e)},onBlur:pe,picker:R,mode:Ae,internalMode:ve,onPanelChange:xe,format:c,value:ge,isInvalid:s,onChange:null,onSelect:function(e){Ce("panel");var t=H?ee(le(),e):[e];ce(t),p||i||a!==ve||Xe()},pickerValue:Ve,defaultOpenValue:null===x||void 0===x?void 0:x.defaultOpenValue,onPickerValueChange:We,hoverValue:Ke,onHover:function(e){Fe(e),Ee("cell")},needConfirm:p,onSubmit:Xe,onOk:se,presets:Le,onPresetHover:function(e){Fe(e),Ee("preset")},onPresetSubmit:Te,onNow:function(e){Te(e)},cellRender:ze})),je=e.useMemo((function(){return{prefixCls:u,locale:k,generateConfig:w,button:j.button,input:j.input}}),[u,k,w,j.button,j.input]);return vy((function(){ne&&void 0!==me&&xe(null,R,!1)}),[ne,me,R]),vy((function(){var e=Ce();ne||"input"!==e||(oe(!1),Xe()),ne||!i||p||"panel"!==e||(oe(!0),Xe())}),[ne]),e.createElement(gj.Provider,{value:je},e.createElement(dj,Ey({},Aj(r),{popupElement:Oe,popupStyle:d.popup,popupClassName:I.popup,visible:ne,onClose:function(){oe(!1)}}),e.createElement(aP,Ey({},r,{ref:q,suffixIcon:L,removeIcon:T,activeHelp:!!Ye,allHelp:!!Ye&&"preset"===Je,focused:de,onFocus:function(e){Ce("input"),oe(!0,{inherit:!0}),he(e)},onBlur:function(e){oe(!1),pe(e)},onKeyDown:function(e,t){"Tab"===e.key&&Xe(),null===A||void 0===A||A(e,t)},onSubmit:Xe,value:Me,maskFormat:c,onChange:function(e){ce(e)},onInputChange:function(){Ce("input")},internalPicker:a,format:l,inputReadOnly:M,disabled:b,open:ne,onOpenChange:oe,onClick:function(e){b||q.current.nativeElement.contains(document.activeElement)||q.current.focus(),oe(!0),null===_||void 0===_||_(e)},onClear:function(){Se(null),oe(!1,{force:!0})},invalid:we,onInvalid:function(e){ke(e,0)}}))))}const lP=e.forwardRef(iP);function cP(e){return xw(e,{inputAffixPadding:e.paddingXXS})}const sP=e=>{const{controlHeight:t,fontSize:n,lineHeight:o,lineWidth:r,controlHeightSM:a,controlHeightLG:i,fontSizeLG:l,lineHeightLG:c,paddingSM:s,controlPaddingHorizontalSM:g,controlPaddingHorizontal:u,colorFillAlter:d,colorPrimaryHover:I,colorPrimary:C,controlOutlineWidth:m,controlOutline:h,colorErrorOutline:p,colorWarningOutline:f,colorBgContainer:A}=e;return{paddingBlock:Math.max(Math.round((t-n*o)/2*10)/10-r,0),paddingBlockSM:Math.max(Math.round((a-n*o)/2*10)/10-r,0),paddingBlockLG:Math.ceil((i-l*c)/2*10)/10-r,paddingInline:s-r,paddingInlineSM:g-r,paddingInlineLG:u-r,addonBg:d,activeBorderColor:C,hoverBorderColor:I,activeShadow:"0 0 0 ".concat(m,"px ").concat(h),errorActiveShadow:"0 0 0 ".concat(m,"px ").concat(p),warningActiveShadow:"0 0 0 ".concat(m,"px ").concat(f),hoverBg:A,activeBg:A,inputFontSize:n,inputFontSizeLG:l,inputFontSizeSM:n}},gP=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),uP=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},gP(xw(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),dP=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),IP=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},dP(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}}),["&".concat(e.componentCls,"-status-").concat(t.status).concat(e.componentCls,"-disabled")]:{borderColor:t.borderColor}}),CP=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dP(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},uP(e))}),IP(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),IP(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),mP=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),hP=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.addonBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},mP(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),mP(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group-addon")]:Object.assign({},uP(e))}})}),pP=(e,t)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},["&".concat(e.componentCls,"-disabled, &[disabled]")]:{color:e.colorTextDisabled}},t)}),fP=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===t||void 0===t?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),AP=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},fP(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}})}),bP=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fP(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},uP(e))}),AP(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),AP(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),vP=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{background:t.addonBg,color:t.addonColor}}}),yP=e=>({"&-filled":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary},["".concat(e.componentCls,"-filled:not(:focus):not(:focus-within)")]:{"&:not(:first-child)":{borderInlineStart:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},"&:not(:last-child)":{borderInlineEnd:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}}}},vP(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),vP(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:last-child":{borderInlineEnd:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)}}}})}),ZP=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),SP=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:o,paddingInlineLG:r}=e;return{padding:"".concat(Iy(t)," ").concat(Iy(r)),fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:o}},GP=e=>({padding:"".concat(Iy(e.paddingBlockSM)," ").concat(Iy(e.paddingInlineSM)),fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),BP=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(Iy(e.paddingBlock)," ").concat(Iy(e.paddingInline)),color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},ZP(e.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},SP(e)),"&-sm":Object.assign({},GP(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),kP=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},["&-lg ".concat(t,", &-lg > ").concat(t,"-group-addon")]:Object.assign({},SP(e)),["&-sm ".concat(t,", &-sm > ").concat(t,"-group-addon")]:Object.assign({},GP(e)),["&-lg ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightLG},["&-sm ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightSM},["> ".concat(t)]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},["".concat(t,"-group")]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:"0 ".concat(Iy(e.paddingInline)),color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1,["".concat(n,"-select")]:{margin:"".concat(Iy(e.calc(e.paddingBlock).add(1).mul(-1).equal())," ").concat(Iy(e.calc(e.paddingInline).mul(-1).equal())),["&".concat(n,"-select-single:not(").concat(n,"-select-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["".concat(n,"-select-selector")]:{backgroundColor:"inherit",border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," transparent"),boxShadow:"none"}},"&-open, &-focused":{["".concat(n,"-select-selector")]:{color:e.colorPrimary}}},["".concat(n,"-cascader-picker")]:{margin:"-9px ".concat(Iy(e.calc(e.paddingInline).mul(-1).equal())),backgroundColor:"transparent",["".concat(n,"-cascader-input")]:{textAlign:"start",border:0,boxShadow:"none"}}}},["".concat(t)]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,["".concat(t,"-search-with-button &")]:{zIndex:0}}},["> ".concat(t,":first-child, ").concat(t,"-group-addon:first-child")]:{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,"-affix-wrapper")]:{["&:not(:first-child) ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0},["&:not(:last-child) ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,":last-child, ").concat(t,"-group-addon:last-child")]:{borderStartStartRadius:0,borderEndStartRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["".concat(t,"-affix-wrapper")]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(t,"-search &")]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},["&:not(:first-child), ".concat(t,"-search &:not(:first-child)")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&".concat(t,"-group-compact")]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{["".concat(t,"-group-addon, ").concat(t,"-group-wrap, > ").concat(t)]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},["\n        & > ".concat(t,"-affix-wrapper,\n        & > ").concat(t,"-number-affix-wrapper,\n        & > ").concat(n,"-picker-range\n      ")]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},["".concat(t)]:{float:"none"},["& > ".concat(n,"-select > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete ").concat(t,",\n      & > ").concat(n,"-cascader-picker ").concat(t,",\n      & > ").concat(t,"-group-wrapper ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},["& > ".concat(n,"-select-focused")]:{zIndex:1},["& > ".concat(n,"-select > ").concat(n,"-select-arrow")]:{zIndex:1},["& > *:first-child,\n      & > ".concat(n,"-select:first-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete:first-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker:first-child ").concat(t)]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},["& > *:last-child,\n      & > ".concat(n,"-select:last-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-cascader-picker:last-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker-focused:last-child ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},["& > ".concat(n,"-select-auto-complete ").concat(t)]:{verticalAlign:"top"},["".concat(t,"-group-wrapper + ").concat(t,"-group-wrapper")]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),["".concat(t,"-affix-wrapper")]:{borderRadius:0}},["".concat(t,"-group-wrapper:not(:last-child)")]:{["&".concat(t,"-search > ").concat(t,"-group")]:{["& > ".concat(t,"-group-addon > ").concat(t,"-search-button")]:{borderRadius:0},["& > ".concat(t)]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},wP=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:o,calc:r}=e,a=r(n).sub(r(o).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ik(e)),BP(e)),CP(e)),bP(e)),pP(e)),{'&[type="color"]':{height:e.controlHeight,["&".concat(t,"-lg")]:{height:e.controlHeightLG},["&".concat(t,"-sm")]:{height:n,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},RP=e=>{const{componentCls:t}=e;return{["".concat(t,"-clear-icon")]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(Iy(e.inputAffixPadding))}}}},VP=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:o,motionDurationSlow:r,colorIcon:a,colorIconHover:i,iconCls:l}=e,c="".concat(t,"-affix-wrapper");return{[c]:Object.assign(Object.assign(Object.assign(Object.assign({},BP(e)),{display:"inline-flex",["&:not(".concat(t,"-disabled):hover")]:{zIndex:1,["".concat(t,"-search-with-button &")]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},["> input".concat(t)]:{padding:0},["> input".concat(t,", > textarea").concat(t)]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(t)]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:o},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),RP(e)),{["".concat(l).concat(t,"-password-icon")]:{color:a,cursor:"pointer",transition:"all ".concat(r),"&:hover":{color:i}}})}},WP=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:o}=e;return{["".concat(t,"-group")]:Object.assign(Object.assign(Object.assign({},ik(e)),kP(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{["".concat(t,"-group-addon")]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{["".concat(t,"-group-addon")]:{borderRadius:o}}},hP(e)),yP(e)),{["&:not(".concat(t,"-compact-first-item):not(").concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-first-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-last-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,"-affix-wrapper")]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},xP=e=>{const{componentCls:t,antCls:n}=e,o="".concat(t,"-search");return{[o]:{["".concat(t)]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,["+ ".concat(t,"-group-addon ").concat(o,"-button:not(").concat(n,"-btn-primary)")]:{borderInlineStartColor:e.colorPrimaryHover}}},["".concat(t,"-affix-wrapper")]:{borderRadius:0},["".concat(t,"-lg")]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal({unit:!1})},["> ".concat(t,"-group")]:{["> ".concat(t,"-group-addon:last-child")]:{insetInlineStart:-1,padding:0,border:0,["".concat(o,"-button")]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},["".concat(o,"-button:not(").concat(n,"-btn-primary)")]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},["&".concat(n,"-btn-loading::before")]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},["".concat(o,"-button")]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},["&-large ".concat(o,"-button")]:{height:e.controlHeightLG},["&-small ".concat(o,"-button")]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},["&".concat(t,"-compact-item")]:{["&:not(".concat(t,"-compact-last-item)")]:{["".concat(t,"-group-addon")]:{["".concat(t,"-search-button")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},["&:not(".concat(t,"-compact-first-item)")]:{["".concat(t,",").concat(t,"-affix-wrapper")]:{borderRadius:0}},["> ".concat(t,"-group-addon ").concat(t,"-search-button,\n        > ").concat(t,",\n        ").concat(t,"-affix-wrapper")]:{"&:hover, &:focus, &:active":{zIndex:2}},["> ".concat(t,"-affix-wrapper-focused")]:{zIndex:2}}}}},XP=e=>{const{componentCls:t,paddingLG:n}=e,o="".concat(t,"-textarea");return{[o]:{position:"relative","&-show-count":{["> ".concat(t)]:{height:"100%"},["".concat(t,"-data-count")]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},["\n        &-allow-clear > ".concat(t,",\n        &-affix-wrapper").concat(o,"-has-feedback ").concat(t,"\n      ")]:{paddingInlineEnd:n},["&-affix-wrapper".concat(t,"-affix-wrapper")]:{padding:0,["> textarea".concat(t)]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},["".concat(t,"-suffix")]:{margin:0,"> *:not(:last-child)":{marginInline:0},["".concat(t,"-clear-icon")]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},["".concat(o,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},NP=e=>{const{componentCls:t}=e;return{["".concat(t,"-out-of-range")]:{["&, & input, & textarea, ".concat(t,"-show-count-suffix, ").concat(t,"-data-count")]:{color:e.colorError}}}},JP=Uw("Input",(e=>{const t=xw(e,cP(e));return[wP(t),XP(t),VP(t),WP(t),xP(t),NP(t),uE(t)]}),sP,{resetFont:!1}),EP=(e,t)=>{const{componentCls:n,controlHeight:o}=e,r=t?"".concat(n,"-").concat(t):"",a=eO(e);return[{["".concat(n,"-multiple").concat(r)]:{paddingBlock:a.containerPadding,paddingInlineStart:a.basePadding,minHeight:o,["".concat(n,"-selection-item")]:{height:a.itemHeight,lineHeight:Iy(a.itemLineHeight)}}}]},HP=e=>{const{componentCls:t,calc:n,lineWidth:o}=e,r=xw(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),a=xw(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(o).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[EP(r,"small"),EP(e),EP(a,"large"),{["".concat(t).concat(t,"-multiple")]:Object.assign(Object.assign({width:"100%",cursor:"text",["".concat(t,"-selector")]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},["".concat(t,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},tO(e)),{["".concat(t,"-multiple-input")]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},YP=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:o,borderRadiusSM:r,motionDurationMid:a,cellHoverBg:i,lineWidth:l,lineType:c,colorPrimary:s,cellActiveWithRangeBg:g,colorTextLightSolid:u,colorTextDisabled:d,cellBgDisabled:I,colorFillSecondary:C}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:o,transform:"translateY(-50%)",content:'""'},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:o,height:o,lineHeight:Iy(o),borderRadius:r,transition:"background ".concat(a)},["&:hover:not(".concat(t,"-in-view),\n    &:hover:not(").concat(t,"-selected):not(").concat(t,"-range-start):not(").concat(t,"-range-end)")]:{[n]:{background:i}},["&-in-view".concat(t,"-today ").concat(n)]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:"".concat(Iy(l)," ").concat(c," ").concat(s),borderRadius:r,content:'""'}},["&-in-view".concat(t,"-in-range,\n      &-in-view").concat(t,"-range-start,\n      &-in-view").concat(t,"-range-end")]:{position:"relative",["&:not(".concat(t,"-disabled):before")]:{background:g}},["&-in-view".concat(t,"-selected,\n      &-in-view").concat(t,"-range-start,\n      &-in-view").concat(t,"-range-end")]:{["&:not(".concat(t,"-disabled) ").concat(n)]:{color:u,background:s},["&".concat(t,"-disabled ").concat(n)]:{background:C}},["&-in-view".concat(t,"-range-start:not(").concat(t,"-disabled):before")]:{insetInlineStart:"50%"},["&-in-view".concat(t,"-range-end:not(").concat(t,"-disabled):before")]:{insetInlineEnd:"50%"},["&-in-view".concat(t,"-range-start:not(").concat(t,"-range-end) ").concat(n)]:{borderStartStartRadius:r,borderEndStartRadius:r,borderStartEndRadius:0,borderEndEndRadius:0},["&-in-view".concat(t,"-range-end:not(").concat(t,"-range-start) ").concat(n)]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:r,borderEndEndRadius:r},"&-disabled":{color:d,pointerEvents:"none",[n]:{background:"transparent"},"&::before":{background:I}},["&-disabled".concat(t,"-today ").concat(n,"::before")]:{borderColor:d}}},FP=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:o,pickerYearMonthCellWidth:r,pickerControlIconSize:a,cellWidth:i,paddingSM:l,paddingXS:c,paddingXXS:s,colorBgContainer:g,lineWidth:u,lineType:d,borderRadiusLG:I,colorPrimary:C,colorTextHeading:m,colorSplit:h,pickerControlIconBorderWidth:p,colorIcon:f,textHeight:A,motionDurationMid:b,colorIconHover:v,fontWeightStrong:y,cellHeight:Z,pickerCellPaddingVertical:S,colorTextDisabled:G,colorText:B,fontSize:k,motionDurationSlow:w,withoutTimeCellHeight:R,pickerQuarterPanelContentHeight:V,borderRadiusSM:W,colorTextLightSolid:x,cellHoverBg:X,timeColumnHeight:N,timeColumnWidth:J,timeCellHeight:E,controlItemBgActive:H,marginXXS:Y,pickerDatePanelPaddingHorizontal:F,pickerControlIconMargin:K}=e,M=e.calc(i).mul(7).add(e.calc(F).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:g,borderRadius:I,outline:"none","&-focused":{borderColor:C},"&-rtl":{direction:"rtl",["".concat(t,"-prev-icon,\n              ").concat(t,"-super-prev-icon")]:{transform:"rotate(45deg)"},["".concat(t,"-next-icon,\n              ").concat(t,"-super-next-icon")]:{transform:"rotate(-135deg)"}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:M},"&-header":{display:"flex",padding:"0 ".concat(Iy(c)),color:m,borderBottom:"".concat(Iy(u)," ").concat(d," ").concat(h),"> *":{flex:"none"},button:{padding:0,color:f,lineHeight:Iy(A),background:"transparent",border:0,cursor:"pointer",transition:"color ".concat(b),fontSize:"inherit"},"> button":{minWidth:"1.6em",fontSize:k,"&:hover":{color:v},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:y,lineHeight:Iy(A),button:{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:c},"&:hover":{color:C}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",display:"inline-block",width:a,height:a,"&::before":{position:"absolute",top:0,insetInlineStart:0,display:"inline-block",width:a,height:a,border:"0 solid currentcolor",borderBlockWidth:"".concat(Iy(p)," 0"),borderInlineWidth:"".concat(Iy(p)," 0"),content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:K,insetInlineStart:K,display:"inline-block",width:a,height:a,border:"0 solid currentcolor",borderBlockWidth:"".concat(Iy(p)," 0"),borderInlineWidth:"".concat(Iy(p)," 0"),content:'""'}},"&-prev-icon,\n        &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon,\n        &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:Z,fontWeight:"normal"},th:{height:e.calc(Z).add(e.calc(S).mul(2)).equal(),color:B,verticalAlign:"middle"}},"&-cell":Object.assign({padding:"".concat(Iy(S)," 0"),color:G,cursor:"pointer","&-in-view":{color:B}},YP(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{["".concat(t,"-content")]:{height:e.calc(R).mul(4).equal()},[o]:{padding:"0 ".concat(Iy(c))}},"&-quarter-panel":{["".concat(t,"-content")]:{height:V}},"&-decade-panel":{[o]:{padding:"0 ".concat(Iy(e.calc(c).div(2).equal()))},["".concat(t,"-cell::before")]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{["".concat(t,"-body")]:{padding:"0 ".concat(Iy(c))},[o]:{width:r}},"&-date-panel":{["".concat(t,"-body")]:{padding:"".concat(Iy(c)," ").concat(Iy(F))},["".concat(t,"-content th")]:{boxSizing:"border-box",padding:0}},"&-week-panel":{["".concat(t,"-cell")]:{["&:hover ".concat(o,",\n            &-selected ").concat(o,",\n            ").concat(o)]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:"background ".concat(b)},"&:first-child:before":{borderStartStartRadius:W,borderEndStartRadius:W},"&:last-child:before":{borderStartEndRadius:W,borderEndEndRadius:W}},"&:hover td":{"&:before":{background:X}},"&-range-start td,\n            &-range-end td,\n            &-selected td,\n            &-hover td":{["&".concat(n)]:{"&:before":{background:C},["&".concat(t,"-cell-week")]:{color:new tG(x).setAlpha(.5).toHexString()},[o]:{color:x}}},"&-range-hover td:before":{background:H}}},"&-week-panel, &-date-panel-show-week":{["".concat(t,"-body")]:{padding:"".concat(Iy(c)," ").concat(Iy(l))},["".concat(t,"-content th")]:{width:"auto"}},"&-datetime-panel":{display:"flex",["".concat(t,"-time-panel")]:{borderInlineStart:"".concat(Iy(u)," ").concat(d," ").concat(h)},["".concat(t,"-date-panel,\n          ").concat(t,"-time-panel")]:{transition:"opacity ".concat(w)},"&-active":{["".concat(t,"-date-panel,\n            ").concat(t,"-time-panel")]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",direction:"ltr",["".concat(t,"-content")]:{display:"flex",flex:"auto",height:N},"&-column":{flex:"1 0 auto",width:J,margin:"".concat(Iy(s)," 0"),padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:"background ".concat(b),overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:"".concat(e.colorTextTertiary," transparent")},"&::after":{display:"block",height:e.calc("100%").sub(E).equal(),content:'""'},"&:not(:first-child)":{borderInlineStart:"".concat(Iy(u)," ").concat(d," ").concat(h)},"&-active":{background:new tG(H).setAlpha(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,["&".concat(t,"-time-panel-cell")]:{marginInline:Y,["".concat(t,"-time-panel-cell-inner")]:{display:"block",width:e.calc(J).sub(e.calc(Y).mul(2)).equal(),height:E,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(J).sub(E).div(2).equal(),color:B,lineHeight:Iy(E),borderRadius:W,cursor:"pointer",transition:"background ".concat(b),"&:hover":{background:X}},"&-selected":{["".concat(t,"-time-panel-cell-inner")]:{background:H}},"&-disabled":{["".concat(t,"-time-panel-cell-inner")]:{color:G,background:"transparent",cursor:"not-allowed"}}}}}}}}},KP=e=>{const{componentCls:t,textHeight:n,lineWidth:o,paddingSM:r,antCls:a,colorPrimary:i,cellActiveWithRangeBg:l,colorPrimaryBorder:c,lineType:s,colorSplit:g}=e;return{["".concat(t,"-dropdown")]:{["".concat(t,"-footer")]:{borderTop:"".concat(Iy(o)," ").concat(s," ").concat(g),"&-extra":{padding:"0 ".concat(Iy(r)),lineHeight:Iy(e.calc(n).sub(e.calc(o).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:"".concat(Iy(o)," ").concat(s," ").concat(g)}}},["".concat(t,"-panels + ").concat(t,"-footer ").concat(t,"-ranges")]:{justifyContent:"space-between"},["".concat(t,"-ranges")]:{marginBlock:0,paddingInline:Iy(r),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:Iy(e.calc(n).sub(e.calc(o).mul(2)).equal()),display:"inline-block"},["".concat(t,"-now-btn-disabled")]:{pointerEvents:"none",color:e.colorTextDisabled},["".concat(t,"-preset > ").concat(a,"-tag-blue")]:{color:i,background:l,borderColor:c,cursor:"pointer"},["".concat(t,"-ok")]:{paddingBlock:e.calc(o).mul(2).equal(),marginInlineStart:"auto"}}}}},MP=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign({},CP(e)),bP(e)),pP(e)),{"&-outlined":{["&".concat(t,"-multiple ").concat(t,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}},"&-filled":{["&".concat(t,"-multiple ").concat(t,"-selection-item")]:{background:e.colorBgContainer,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}},"&-borderless":{["&".concat(t,"-multiple ").concat(t,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}}}]}},LP=(e,t,n,o)=>{const r=e.calc(n).add(2).equal(),a=e.max(e.calc(t).sub(r).div(2).equal(),0),i=e.max(e.calc(t).sub(r).sub(a).equal(),0);return{padding:"".concat(Iy(a)," ").concat(Iy(o)," ").concat(Iy(i))}},TP=e=>{const{componentCls:t,colorError:n,colorWarning:o}=e;return{["".concat(t,":not(").concat(t,"-disabled):not([disabled])")]:{["&".concat(t,"-status-error")]:{["".concat(t,"-active-bar")]:{background:n}},["&".concat(t,"-status-warning")]:{["".concat(t,"-active-bar")]:{background:o}}}}},zP=e=>{const{componentCls:t,antCls:n,controlHeight:o,paddingInline:r,lineWidth:a,lineType:i,colorBorder:l,borderRadius:c,motionDurationMid:s,colorTextDisabled:g,colorTextPlaceholder:u,controlHeightLG:d,fontSizeLG:I,controlHeightSM:C,paddingInlineSM:m,paddingXS:h,marginXS:p,colorTextDescription:f,lineWidthBold:A,colorPrimary:b,motionDurationSlow:v,zIndexPopup:y,paddingXXS:Z,sizePopupArrow:S,colorBgElevated:G,borderRadiusLG:B,boxShadowSecondary:k,borderRadiusSM:w,colorSplit:R,cellHoverBg:V,presetsWidth:W,presetsMaxWidth:x,boxShadowPopoverArrow:X,fontHeight:N,fontHeightLG:J,lineHeightLG:E}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},ik(e)),LP(e,o,N,r)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:c,transition:"border ".concat(s,", box-shadow ").concat(s,", background ").concat(s),["".concat(t,"-input")]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:"all ".concat(s)},ZP(u)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:g,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:u}}},"&-large":Object.assign(Object.assign({},LP(e,d,J,r)),{["".concat(t,"-input > input")]:{fontSize:I,lineHeight:E}}),"&-small":Object.assign({},LP(e,C,N,m)),["".concat(t,"-suffix")]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(h).div(2).equal(),color:g,lineHeight:1,pointerEvents:"none",transition:"opacity ".concat(s,", color ").concat(s),"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:p}}},["".concat(t,"-clear")]:{position:"absolute",top:"50%",insetInlineEnd:0,color:g,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:"opacity ".concat(s,", color ").concat(s),"> *":{verticalAlign:"top"},"&:hover":{color:f}},"&:hover":{["".concat(t,"-clear")]:{opacity:1},["".concat(t,"-suffix:not(:last-child)")]:{opacity:0}},["".concat(t,"-separator")]:{position:"relative",display:"inline-block",width:"1em",height:I,color:g,fontSize:I,verticalAlign:"top",cursor:"default",["".concat(t,"-focused &")]:{color:f},["".concat(t,"-range-separator &")]:{["".concat(t,"-disabled &")]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",["".concat(t,"-active-bar")]:{bottom:e.calc(a).mul(-1).equal(),height:A,background:b,opacity:0,transition:"all ".concat(v," ease-out"),pointerEvents:"none"},["&".concat(t,"-focused")]:{["".concat(t,"-active-bar")]:{opacity:1}},["".concat(t,"-range-separator")]:{alignItems:"center",padding:"0 ".concat(Iy(h)),lineHeight:1}},"&-range, &-multiple":{["".concat(t,"-clear")]:{insetInlineEnd:r},["&".concat(t,"-small")]:{["".concat(t,"-clear")]:{insetInlineEnd:m}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},ik(e)),FP(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:y,["&".concat(t,"-dropdown-hidden")]:{display:"none"},["&".concat(t,"-dropdown-placement-bottomLeft")]:{["".concat(t,"-range-arrow")]:{top:0,display:"block",transform:"translateY(-100%)"}},["&".concat(t,"-dropdown-placement-topLeft")]:{["".concat(t,"-range-arrow")]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},["&".concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(t,"-dropdown-placement-topLeft,\n          &").concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(t,"-dropdown-placement-topRight,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(t,"-dropdown-placement-topLeft,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(t,"-dropdown-placement-topRight")]:{animationName:kN},["&".concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(t,"-dropdown-placement-bottomLeft,\n          &").concat(n,"-slide-up-enter").concat(n,"-slide-up-enter-active").concat(t,"-dropdown-placement-bottomRight,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(t,"-dropdown-placement-bottomLeft,\n          &").concat(n,"-slide-up-appear").concat(n,"-slide-up-appear-active").concat(t,"-dropdown-placement-bottomRight")]:{animationName:GN},["&".concat(n,"-slide-up-leave ").concat(t,"-panel-container")]:{pointerEvents:"none"},["&".concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(t,"-dropdown-placement-topLeft,\n          &").concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(t,"-dropdown-placement-topRight")]:{animationName:wN},["&".concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(t,"-dropdown-placement-bottomLeft,\n          &").concat(n,"-slide-up-leave").concat(n,"-slide-up-leave-active").concat(t,"-dropdown-placement-bottomRight")]:{animationName:BN},["".concat(t,"-panel > ").concat(t,"-time-panel")]:{paddingTop:Z},["".concat(t,"-range-wrapper")]:{display:"flex",position:"relative"},["".concat(t,"-range-arrow")]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(r).mul(1.5).equal(),boxSizing:"content-box",transition:"left ".concat(v," ease-out")},gW(e,G,X)),{"&:before":{insetInlineStart:e.calc(r).mul(1.5).equal()}}),["".concat(t,"-panel-container")]:{overflow:"hidden",verticalAlign:"top",background:G,borderRadius:B,boxShadow:k,transition:"margin ".concat(v),display:"inline-block",pointerEvents:"auto",["".concat(t,"-panel-layout")]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},["".concat(t,"-presets")]:{display:"flex",flexDirection:"column",minWidth:W,maxWidth:x,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:h,borderInlineEnd:"".concat(Iy(a)," ").concat(i," ").concat(R),li:Object.assign(Object.assign({},ak),{borderRadius:w,paddingInline:h,paddingBlock:e.calc(C).sub(N).div(2).equal(),cursor:"pointer",transition:"all ".concat(v),"+ li":{marginTop:p},"&:hover":{background:V}})}},["".concat(t,"-panels")]:{display:"inline-flex",flexWrap:"nowrap",direction:"ltr","&:last-child":{["".concat(t,"-panel")]:{borderWidth:0}}},["".concat(t,"-panel")]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,["".concat(t,"-content,\n            table")]:{textAlign:"center"},"&-focused":{borderColor:l}}}}),"&-dropdown-range":{padding:"".concat(Iy(e.calc(S).mul(2).div(3).equal())," 0"),"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",["".concat(t,"-separator")]:{transform:"rotate(180deg)"},["".concat(t,"-footer")]:{"&-extra":{direction:"rtl"}}}})},NN(e,"slide-up"),NN(e,"slide-down"),lJ(e,"move-up"),lJ(e,"move-down")]},DP=Uw("DatePicker",(e=>{const t=xw(cP(e),(e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:o,padding:r}=e;return{pickerCellCls:"".concat(t,"-cell"),pickerCellInnerCls:"".concat(t,"-cell-inner"),pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(o).add(e.calc(o).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(r).add(e.calc(o).div(2)).equal()}})(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[KP(t),zP(t),MP(t),TP(t),HP(t),uE(e,{focusElCls:"".concat(e.componentCls,"-focused")})]}),(e=>Object.assign(Object.assign(Object.assign(Object.assign({},sP(e)),(e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:o,controlHeightLG:r,paddingXXS:a,lineWidth:i}=e,l=2*a,c=2*i,s=Math.min(n-l,n-c),g=Math.min(o-l,o-c),u=Math.min(r-l,r-c);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new tG(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new tG(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:1.4*r,timeColumnHeight:224,timeCellHeight:28,cellWidth:1.5*o,cellHeight:o,textHeight:r,withoutTimeCellHeight:1.65*r,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:s,multipleItemHeightSM:g,multipleItemHeightLG:u,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}})(e)),sW(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50})));function OP(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function jP(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function UP(e,t){const n={adjustX:1,adjustY:1};switch(t){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return{points:"rtl"===e?["tr","br"]:["tl","bl"],offset:[0,4],overflow:n}}}function PP(t,n){const{allowClear:o=!0}=t,{clearIcon:r,removeIcon:a}=RO(Object.assign(Object.assign({},t),{prefixCls:n,componentName:"DatePicker"}));return[e.useMemo((()=>{if(!1===o)return!1;const e=!0===o?{}:o;return Object.assign({clearIcon:r},e)}),[o,r]),a]}function QP(t){return e.createElement(AE,Object.assign({size:"small",type:"primary"},t))}function _P(t){return(0,e.useMemo)((()=>Object.assign({button:QP},t)),[t])}var qP=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var $P=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const eQ=function(t){const{DatePicker:n,WeekPicker:o,MonthPicker:r,YearPicker:a,TimePicker:i,QuarterPicker:l}=function(t){function n(n,o){const r="TimePicker"===o?"timePicker":"datePicker",a=(0,e.forwardRef)(((o,a)=>{var i;const{prefixCls:l,getPopupContainer:c,components:s,style:g,className:u,rootClassName:d,size:I,bordered:C,placement:m,placeholder:h,popupClassName:p,dropdownClassName:f,disabled:A,status:b,variant:v,onCalendarChange:y}=o,Z=$P(o,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:S,direction:G,getPopupContainer:B,[r]:k}=(0,e.useContext)(gv),w=S("picker",l),{compactSize:R,compactItemClassnames:V}=KX(w,G),W=e.useRef(null),[x,X]=QD(v,C),N=Zw(w),[J,E,H]=DP(w,N);(0,e.useImperativeHandle)(a,(()=>W.current));const Y=n||o.picker,F=S(),{onSelect:K,multiple:M}=Z,L=K&&"time"===n&&!M,[T,z]=PP(o,w),D=_P(s),O=XX((e=>{var t;return null!==(t=null!==I&&void 0!==I?I:R)&&void 0!==t?t:e})),j=e.useContext(pG),U=null!==A&&void 0!==A?A:j,P=(0,e.useContext)(PL),{hasFeedback:Q,status:_,feedbackIcon:q}=P,$=e.createElement(e.Fragment,null,"time"===Y?e.createElement(ij,null):e.createElement(oj,null),Q&&q),[ee]=rz("DatePicker",iS),te=Object.assign(Object.assign({},ee),o.locale),[ne]=Rw("DatePicker",null===(i=o.popupStyle)||void 0===i?void 0:i.zIndex);return J(e.createElement(MX,null,e.createElement(lP,Object.assign({ref:W,placeholder:OP(te,Y,h),suffixIcon:$,dropdownAlign:UP(G,m),prevIcon:e.createElement("span",{className:"".concat(w,"-prev-icon")}),nextIcon:e.createElement("span",{className:"".concat(w,"-next-icon")}),superPrevIcon:e.createElement("span",{className:"".concat(w,"-super-prev-icon")}),superNextIcon:e.createElement("span",{className:"".concat(w,"-super-next-icon")}),transitionName:"".concat(F,"-slide-up"),picker:n,onCalendarChange:(e,t,n)=>{null===y||void 0===y||y(e,t,n),L&&K(e)}},{showToday:!0},Z,{locale:te.lang,className:BG()({["".concat(w,"-").concat(O)]:O,["".concat(w,"-").concat(x)]:X},HD(w,YD(_,b),Q),E,V,null===k||void 0===k?void 0:k.className,u,H,N,d),style:Object.assign(Object.assign({},null===k||void 0===k?void 0:k.style),g),prefixCls:w,getPopupContainer:c||B,generateConfig:t,components:D,direction:G,disabled:U,classNames:{popup:BG()(E,H,N,d,p||f)},styles:{popup:Object.assign(Object.assign({},o.popupStyle),{zIndex:ne})},allowClear:T,removeIcon:z}))))}));return a}const o=n(),r=n("week","WeekPicker"),a=n("month","MonthPicker"),i=n("year","YearPicker"),l=n("quarter","QuarterPicker");return{DatePicker:o,WeekPicker:r,MonthPicker:a,YearPicker:i,TimePicker:n("time","TimePicker"),QuarterPicker:l}}(t),c=function(t){const n=(0,e.forwardRef)(((n,o)=>{var r;const{prefixCls:a,getPopupContainer:i,components:l,className:c,style:s,placement:g,size:u,disabled:d,bordered:I=!0,placeholder:C,popupClassName:m,dropdownClassName:h,status:p,rootClassName:f,variant:A}=n,b=qP(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant"]),v=e.useRef(null),{getPrefixCls:y,direction:Z,getPopupContainer:S,rangePicker:G}=(0,e.useContext)(gv),B=y("picker",a),{compactSize:k,compactItemClassnames:w}=KX(B,Z),{picker:R}=n,V=y(),[W,x]=QD(A,I),X=Zw(B),[N,J,E]=DP(B,X),[H]=PP(n,B),Y=_P(l),F=XX((e=>{var t;return null!==(t=null!==u&&void 0!==u?u:k)&&void 0!==t?t:e})),K=e.useContext(pG),M=null!==d&&void 0!==d?d:K,L=(0,e.useContext)(PL),{hasFeedback:T,status:z,feedbackIcon:D}=L,O=e.createElement(e.Fragment,null,"time"===R?e.createElement(ij,null):e.createElement(oj,null),T&&D);(0,e.useImperativeHandle)(o,(()=>v.current));const[j]=rz("Calendar",iS),U=Object.assign(Object.assign({},j),n.locale),[P]=Rw("DatePicker",null===(r=n.popupStyle)||void 0===r?void 0:r.zIndex);return N(e.createElement(MX,null,e.createElement(tP,Object.assign({separator:e.createElement("span",{"aria-label":"to",className:"".concat(B,"-separator")},e.createElement(sj,null)),disabled:M,ref:v,popupAlign:UP(Z,g),placeholder:jP(U,R,C),suffixIcon:O,prevIcon:e.createElement("span",{className:"".concat(B,"-prev-icon")}),nextIcon:e.createElement("span",{className:"".concat(B,"-next-icon")}),superPrevIcon:e.createElement("span",{className:"".concat(B,"-super-prev-icon")}),superNextIcon:e.createElement("span",{className:"".concat(B,"-super-next-icon")}),transitionName:"".concat(V,"-slide-up")},b,{className:BG()({["".concat(B,"-").concat(F)]:F,["".concat(B,"-").concat(W)]:x},HD(B,YD(z,p),T),J,w,c,null===G||void 0===G?void 0:G.className,E,X,f),style:Object.assign(Object.assign({},null===G||void 0===G?void 0:G.style),s),locale:U.lang,prefixCls:B,getPopupContainer:i||S,generateConfig:t,components:Y,direction:Z,classNames:{popup:BG()(J,m||h,E,X,f)},styles:{popup:Object.assign(Object.assign({},n.popupStyle),{zIndex:P})},allowClear:H}))))}));return n}(t),s=n;return s.WeekPicker=o,s.MonthPicker=r,s.YearPicker=a,s.RangePicker=c,s.TimePicker=i,s.QuarterPicker=l,s},tQ=eQ(ej);function nQ(e){const t=UP(e.direction,e.placement);return t.overflow.adjustY=!1,t.overflow.adjustX=!1,Object.assign(Object.assign({},e),{dropdownAlign:t})}const oQ=bW(tQ,"picker",null,nQ);tQ._InternalPanelDoNotUseOrYouWillBeFired=oQ;const rQ=bW(tQ.RangePicker,"picker",null,nQ);tQ._InternalRangePanelDoNotUseOrYouWillBeFired=rQ,tQ.generatePicker=eQ;const aQ=tQ,iQ=t=>{const{getPrefixCls:n,direction:o}=(0,e.useContext)(gv),{prefixCls:r,className:a}=t,i=n("input-group",r),l=n("input"),[c,s]=JP(l),g=BG()(i,{["".concat(i,"-lg")]:"large"===t.size,["".concat(i,"-sm")]:"small"===t.size,["".concat(i,"-compact")]:t.compact,["".concat(i,"-rtl")]:"rtl"===o},s,a),u=(0,e.useContext)(PL),d=(0,e.useMemo)((()=>Object.assign(Object.assign({},u),{isFormItemInput:!1})),[u]);return c(e.createElement("span",{className:g,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},e.createElement(PL.Provider,{value:d},t.children)))};function lQ(e,t,n){var o=t.cloneNode(!0),r=Object.create(e,{target:{value:o},currentTarget:{value:o}});return o.value=n,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(o.selectionStart=t.selectionStart,o.selectionEnd=t.selectionEnd),o.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},r}function cQ(e,t,n,o){if(n){var r=t;"click"!==t.type?"file"===e.type||void 0===o?n(r):n(r=lQ(t,e,o)):n(r=lQ(t,e,""))}}var sQ=e.forwardRef((function(t,n){var o,r,a=t.inputElement,i=t.children,l=t.prefixCls,c=t.prefix,s=t.suffix,g=t.addonBefore,u=t.addonAfter,d=t.className,I=t.style,C=t.disabled,m=t.readOnly,h=t.focused,p=t.triggerFocus,f=t.allowClear,A=t.value,b=t.handleReset,v=t.hidden,y=t.classes,Z=t.classNames,S=t.dataAttrs,G=t.styles,B=t.components,k=null!==i&&void 0!==i?i:a,w=(null===B||void 0===B?void 0:B.affixWrapper)||"span",R=(null===B||void 0===B?void 0:B.groupWrapper)||"span",V=(null===B||void 0===B?void 0:B.wrapper)||"span",W=(null===B||void 0===B?void 0:B.groupAddon)||"span",x=(0,e.useRef)(null),X=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(t),N=(0,e.cloneElement)(k,{value:A,className:BG()(k.props.className,!X&&(null===Z||void 0===Z?void 0:Z.variant))||null}),J=(0,e.useRef)(null);if(e.useImperativeHandle(n,(function(){return{nativeElement:J.current||x.current}})),X){var E,H=null;if(f){var Y,F=!C&&!m&&A,K="".concat(l,"-clear-icon"),M="object"===on(f)&&null!==f&&void 0!==f&&f.clearIcon?f.clearIcon:"\u2716";H=e.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:BG()(K,(Y={},an(Y,"".concat(K,"-hidden"),!F),an(Y,"".concat(K,"-has-suffix"),!!s),Y)),role:"button",tabIndex:-1},M)}var L="".concat(l,"-affix-wrapper"),T=BG()(L,(an(E={},"".concat(l,"-disabled"),C),an(E,"".concat(L,"-disabled"),C),an(E,"".concat(L,"-focused"),h),an(E,"".concat(L,"-readonly"),m),an(E,"".concat(L,"-input-with-clear-btn"),s&&f&&A),E),null===y||void 0===y?void 0:y.affixWrapper,null===Z||void 0===Z?void 0:Z.affixWrapper,null===Z||void 0===Z?void 0:Z.variant),z=(s||f)&&e.createElement("span",{className:BG()("".concat(l,"-suffix"),null===Z||void 0===Z?void 0:Z.suffix),style:null===G||void 0===G?void 0:G.suffix},H,s);N=e.createElement(w,Ey({className:T,style:null===G||void 0===G?void 0:G.affixWrapper,onClick:function(e){var t;null!==(t=x.current)&&void 0!==t&&t.contains(e.target)&&(null===p||void 0===p||p())}},null===S||void 0===S?void 0:S.affixWrapper,{ref:x}),c&&e.createElement("span",{className:BG()("".concat(l,"-prefix"),null===Z||void 0===Z?void 0:Z.prefix),style:null===G||void 0===G?void 0:G.prefix},c),N,z)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(t)){var D="".concat(l,"-group"),O="".concat(D,"-addon"),j="".concat(D,"-wrapper"),U=BG()("".concat(l,"-wrapper"),D,null===y||void 0===y?void 0:y.wrapper,null===Z||void 0===Z?void 0:Z.wrapper),P=BG()(j,an({},"".concat(j,"-disabled"),C),null===y||void 0===y?void 0:y.group,null===Z||void 0===Z?void 0:Z.groupWrapper);N=e.createElement(R,{className:P,ref:J},e.createElement(V,{className:U},g&&e.createElement(W,{className:O},g),N,u&&e.createElement(W,{className:O},u)))}return e.cloneElement(N,{className:BG()(null===(o=N.props)||void 0===o?void 0:o.className,d)||null,style:cn(cn({},null===(r=N.props)||void 0===r?void 0:r.style),I),hidden:v})}));const gQ=sQ;var uQ=["show"];function dQ(t,n){return e.useMemo((function(){var e={};n&&(e.show="object"===on(n)&&n.formatter?n.formatter:!!n);var o=e=cn(cn({},e),t),r=o.show,a=JG(o,uQ);return cn(cn({},a),{},{show:!!r,showFormatter:"function"===typeof r?r:void 0,strategy:a.strategy||function(e){return e.length}})}),[t,n])}var IQ=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],CQ=(0,e.forwardRef)((function(t,n){var o=t.autoComplete,r=t.onChange,a=t.onFocus,i=t.onBlur,l=t.onPressEnter,c=t.onKeyDown,s=t.prefixCls,g=void 0===s?"rc-input":s,u=t.disabled,d=t.htmlSize,I=t.className,C=t.maxLength,m=t.suffix,h=t.showCount,p=t.count,f=t.type,A=void 0===f?"text":f,b=t.classes,v=t.classNames,y=t.styles,Z=t.onCompositionStart,S=t.onCompositionEnd,G=JG(t,IQ),B=hv((0,e.useState)(!1),2),k=B[0],w=B[1],R=(0,e.useRef)(!1),V=(0,e.useRef)(null),W=(0,e.useRef)(null),x=function(e){V.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var o=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(o,o);break;default:e.setSelectionRange(0,o)}}}}(V.current,e)},X=hv(QG(t.defaultValue,{value:t.value}),2),N=X[0],J=X[1],E=void 0===N||null===N?"":String(N),H=hv((0,e.useState)(null),2),Y=H[0],F=H[1],K=dQ(p,h),M=K.max||C,L=K.strategy(E),T=!!M&&L>M;(0,e.useImperativeHandle)(n,(function(){var e;return{focus:x,blur:function(){var e;null===(e=V.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var o;null===(o=V.current)||void 0===o||o.setSelectionRange(e,t,n)},select:function(){var e;null===(e=V.current)||void 0===e||e.select()},input:V.current,nativeElement:(null===(e=W.current)||void 0===e?void 0:e.nativeElement)||V.current}})),(0,e.useEffect)((function(){w((function(e){return(!e||!u)&&e}))}),[u]);var z=function(e,t,n){var o,a,i=t;if(!R.current&&K.exceedFormatter&&K.max&&K.strategy(t)>K.max)t!==(i=K.exceedFormatter(t,{max:K.max}))&&F([(null===(o=V.current)||void 0===o?void 0:o.selectionStart)||0,(null===(a=V.current)||void 0===a?void 0:a.selectionEnd)||0]);else if("compositionEnd"===n.source)return;J(i),V.current&&cQ(V.current,e,r,i)};(0,e.useEffect)((function(){var e;Y&&(null===(e=V.current)||void 0===e||e.setSelectionRange.apply(e,fv(Y)))}),[Y]);var D=function(e){z(e,e.target.value,{source:"change"})},O=function(e){R.current=!1,z(e,e.currentTarget.value,{source:"compositionEnd"}),null===S||void 0===S||S(e)},j=function(e){l&&"Enter"===e.key&&l(e),null===c||void 0===c||c(e)},U=function(e){w(!0),null===a||void 0===a||a(e)},P=function(e){w(!1),null===i||void 0===i||i(e)},Q=T&&"".concat(g,"-out-of-range");return e.createElement(gQ,Ey({},G,{prefixCls:g,className:BG()(I,Q),handleReset:function(e){J(""),x(),V.current&&cQ(V.current,e,r)},value:E,focused:k,triggerFocus:x,suffix:function(){var t=Number(M)>0;if(m||K.show){var n=K.showFormatter?K.showFormatter({value:E,count:L,maxLength:M}):"".concat(L).concat(t?" / ".concat(M):"");return e.createElement(e.Fragment,null,K.show&&e.createElement("span",{className:BG()("".concat(g,"-show-count-suffix"),an({},"".concat(g,"-show-count-has-suffix"),!!m),null===v||void 0===v?void 0:v.count),style:cn({},null===y||void 0===y?void 0:y.count)},n),m)}return null}(),disabled:u,classes:b,classNames:v,styles:y}),function(){var n=cW(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return e.createElement("input",Ey({autoComplete:o},n,{onChange:D,onFocus:U,onBlur:P,onKeyDown:j,className:BG()(g,an({},"".concat(g,"-disabled"),u),null===v||void 0===v?void 0:v.input),style:null===y||void 0===y?void 0:y.input,ref:V,size:d,type:A,onCompositionStart:function(e){R.current=!0,null===Z||void 0===Z||Z(e)},onCompositionEnd:O}))}())}));const mQ=CQ,hQ=t=>{let n;return"object"===typeof t&&(null===t||void 0===t?void 0:t.clearIcon)?n=t:t&&(n={clearIcon:e.createElement(zk,null)}),n};function pQ(t,n){const o=(0,e.useRef)([]),r=()=>{o.current.push(setTimeout((()=>{var e,n,o,r;(null===(e=t.current)||void 0===e?void 0:e.input)&&"password"===(null===(n=t.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(o=t.current)||void 0===o?void 0:o.input.hasAttribute("value"))&&(null===(r=t.current)||void 0===r||r.input.removeAttribute("value"))})))};return(0,e.useEffect)((()=>(n&&r(),()=>o.current.forEach((e=>{e&&clearTimeout(e)})))),[]),r}var fQ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const AQ=(0,e.forwardRef)(((t,n)=>{var o;const{prefixCls:r,bordered:a=!0,status:i,size:l,disabled:c,onBlur:s,onFocus:g,suffix:u,allowClear:d,addonAfter:I,addonBefore:C,className:m,style:h,styles:p,rootClassName:f,onChange:A,classNames:b,variant:v}=t,y=fQ(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:Z,direction:S,input:G}=e.useContext(gv),B=Z("input",r),k=(0,e.useRef)(null),w=Zw(B),[R,V,W]=JP(B,w),{compactSize:x,compactItemClassnames:X}=KX(B,S),N=XX((e=>{var t;return null!==(t=null!==l&&void 0!==l?l:x)&&void 0!==t?t:e})),J=e.useContext(pG),E=null!==c&&void 0!==c?c:J,{status:H,hasFeedback:Y,feedbackIcon:F}=(0,e.useContext)(PL),K=YD(H,i),M=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(t)||!!Y;(0,e.useRef)(M);const L=pQ(k,!0),T=(Y||u)&&e.createElement(e.Fragment,null,u,Y&&F),z=t=>t&&e.createElement(MX,null,e.createElement(QL,{override:!0,status:!0},t)),D=hQ(null!==d&&void 0!==d?d:null===G||void 0===G?void 0:G.allowClear),[O,j]=QD(v,a);return R(e.createElement(mQ,Object.assign({ref:WG(n,k),prefixCls:B,autoComplete:null===G||void 0===G?void 0:G.autoComplete},y,{disabled:E,onBlur:e=>{L(),null===s||void 0===s||s(e)},onFocus:e=>{L(),null===g||void 0===g||g(e)},style:Object.assign(Object.assign({},null===G||void 0===G?void 0:G.style),h),styles:Object.assign(Object.assign({},null===G||void 0===G?void 0:G.styles),p),suffix:T,allowClear:D,className:BG()(m,f,W,w,X,null===G||void 0===G?void 0:G.className),onChange:e=>{L(),null===A||void 0===A||A(e)},addonBefore:z(C),addonAfter:z(I),classNames:Object.assign(Object.assign(Object.assign({},b),null===G||void 0===G?void 0:G.classNames),{input:BG()({["".concat(B,"-sm")]:"small"===N,["".concat(B,"-lg")]:"large"===N,["".concat(B,"-rtl")]:"rtl"===S},null===b||void 0===b?void 0:b.input,null===(o=null===G||void 0===G?void 0:G.classNames)||void 0===o?void 0:o.input,V),variant:BG()({["".concat(B,"-").concat(O)]:j},HD(B,K)),affixWrapper:BG()({["".concat(B,"-affix-wrapper-sm")]:"small"===N,["".concat(B,"-affix-wrapper-lg")]:"large"===N,["".concat(B,"-affix-wrapper-rtl")]:"rtl"===S},V),wrapper:BG()({["".concat(B,"-group-rtl")]:"rtl"===S},V),groupWrapper:BG()({["".concat(B,"-group-wrapper-sm")]:"small"===N,["".concat(B,"-group-wrapper-lg")]:"large"===N,["".concat(B,"-group-wrapper-rtl")]:"rtl"===S,["".concat(B,"-group-wrapper-").concat(O)]:j},HD("".concat(B,"-group-wrapper"),K,Y),V)})})))}));const bQ=AQ,vQ=e=>{const{componentCls:t,paddingXS:n}=e;return{["".concat(t)]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},["".concat(t,"-input")]:{textAlign:"center",paddingInline:e.paddingXXS},["&".concat(t,"-sm ").concat(t,"-input")]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},["&".concat(t,"-lg ").concat(t,"-input")]:{paddingInline:e.paddingXS}}}},yQ=Uw(["Input","OTP"],(e=>{const t=xw(e,cP(e));return[vQ(t)]}),sP);var ZQ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const SQ=e.forwardRef(((t,n)=>{const{value:o,onChange:r,onActiveChange:a,index:i,mask:l}=t,c=ZQ(t,["value","onChange","onActiveChange","index","mask"]),s=o&&"string"===typeof l?l:o,g=e.useRef(null);e.useImperativeHandle(n,(()=>g.current));const u=()=>{kB((()=>{var e;const t=null===(e=g.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return e.createElement(bQ,Object.assign({},c,{ref:g,value:s,onInput:e=>{r(i,e.target.value)},onFocus:u,onKeyDown:e=>{let{key:t}=e;"ArrowLeft"===t?a(i-1):"ArrowRight"===t&&a(i+1),u()},onKeyUp:e=>{"Backspace"!==e.key||o||a(i-1),u()},onMouseDown:u,onMouseUp:u,type:!0===l?"password":"text"}))})),GQ=SQ;var BQ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function kQ(e){return(e||"").split("")}const wQ=e.forwardRef(((t,n)=>{const{prefixCls:o,length:r=6,size:a,defaultValue:i,value:l,onChange:c,formatter:s,variant:g,disabled:u,status:d,autoFocus:I,mask:C}=t,m=BQ(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]);const{getPrefixCls:h,direction:p}=e.useContext(gv),f=h("otp",o),A=sw(m,{aria:!0,data:!0,attr:!0}),b=Zw(f),[v,y,Z]=yQ(f,b),S=XX((e=>null!==a&&void 0!==a?a:e)),G=e.useContext(PL),B=YD(G.status,d),k=e.useMemo((()=>Object.assign(Object.assign({},G),{status:B,hasFeedback:!1,feedbackIcon:null})),[G,B]),w=e.useRef(null),R=e.useRef({});e.useImperativeHandle(n,(()=>({focus:()=>{var e;null===(e=R.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<r;t+=1)null===(e=R.current[t])||void 0===e||e.blur()},nativeElement:w.current})));const V=e=>s?s(e):e,[W,x]=e.useState(kQ(V(i||"")));e.useEffect((()=>{void 0!==l&&x(kQ(l))}),[l]);const X=jG((e=>{x(e),c&&e.length===r&&e.every((e=>e))&&e.some(((e,t)=>W[t]!==e))&&c(e.join(""))})),N=jG(((e,t)=>{let n=fv(W);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(kQ(t)),n=n.slice(0,r);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const o=V(n.map((e=>e||" ")).join(""));return n=kQ(o).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),J=(e,t)=>{var n;const o=N(e,t),a=Math.min(e+t.length,r-1);a!==e&&(null===(n=R.current[a])||void 0===n||n.focus()),X(o)},E=e=>{var t;null===(t=R.current[e])||void 0===t||t.focus()},H={variant:g,disabled:u,status:B,mask:C};return v(e.createElement("div",Object.assign({},A,{ref:w,className:BG()(f,{["".concat(f,"-sm")]:"small"===S,["".concat(f,"-lg")]:"large"===S,["".concat(f,"-rtl")]:"rtl"===p},Z,y)}),e.createElement(PL.Provider,{value:k},Array.from({length:r}).map(((t,n)=>{const o="otp-".concat(n),r=W[n]||"";return e.createElement(GQ,Object.assign({ref:e=>{R.current[n]=e},key:o,index:n,size:S,htmlSize:1,className:"".concat(f,"-input"),onChange:J,value:r,onActiveChange:E,autoFocus:0===n&&I},H))})))))})),RQ=wQ;const VQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var WQ=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:VQ}))};const xQ=e.forwardRef(WQ);const XQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var NQ=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:XQ}))};const JQ=e.forwardRef(NQ);var EQ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const HQ=t=>t?e.createElement(JQ,null):e.createElement(xQ,null),YQ={click:"onClick",hover:"onMouseOver"},FQ=e.forwardRef(((t,n)=>{const{disabled:o,action:r="click",visibilityToggle:a=!0,iconRender:i=HQ}=t,l="object"===typeof a&&void 0!==a.visible,[c,s]=(0,e.useState)((()=>!!l&&a.visible)),g=(0,e.useRef)(null);e.useEffect((()=>{l&&s(a.visible)}),[l,a]);const u=pQ(g),d=()=>{o||(c&&u(),s((e=>{var t;const n=!e;return"object"===typeof a&&(null===(t=a.onVisibleChange)||void 0===t||t.call(a,n)),n})))},{className:I,prefixCls:C,inputPrefixCls:m,size:h}=t,p=EQ(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:f}=e.useContext(gv),A=f("input",m),b=f("input-password",C),v=a&&(t=>{const n=YQ[r]||"",o=i(c),a={[n]:d,className:"".concat(t,"-icon"),key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(o)?o:e.createElement("span",null,o),a)})(b),y=BG()(b,I,{["".concat(b,"-").concat(h)]:!!h}),Z=Object.assign(Object.assign({},cW(p,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:y,prefixCls:A,suffix:v});return h&&(Z.size=h),e.createElement(bQ,Object.assign({ref:WG(n,g)},Z))}));const KQ=FQ;var MQ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const LQ=e.forwardRef(((t,n)=>{const{prefixCls:o,inputPrefixCls:r,className:a,size:i,suffix:l,enterButton:c=!1,addonAfter:s,loading:g,disabled:u,onSearch:d,onChange:I,onCompositionStart:C,onCompositionEnd:m}=t,h=MQ(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:p,direction:f}=e.useContext(gv),A=e.useRef(!1),b=p("input-search",o),v=p("input",r),{compactSize:y}=KX(b,f),Z=XX((e=>{var t;return null!==(t=null!==i&&void 0!==i?i:y)&&void 0!==t?t:e})),S=e.useRef(null),G=e=>{var t;document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input)&&e.preventDefault()},B=e=>{var t,n;d&&d(null===(n=null===(t=S.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},k="boolean"===typeof c?e.createElement(wO,null):null,w="".concat(b,"-button");let R;const V=c||{},W=V.type&&!0===V.type.__ANT_BUTTON;R=W||"button"===V.type?ZW(V,Object.assign({onMouseDown:G,onClick:e=>{var t,n;null===(n=null===(t=null===V||void 0===V?void 0:V.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),B(e)},key:"enterButton"},W?{className:w,size:Z}:{})):e.createElement(AE,{className:w,type:c?"primary":void 0,size:Z,disabled:u,key:"enterButton",onMouseDown:G,onClick:B,loading:g,icon:k},c),s&&(R=[R,ZW(s,{key:"addonAfter"})]);const x=BG()(b,{["".concat(b,"-rtl")]:"rtl"===f,["".concat(b,"-").concat(Z)]:!!Z,["".concat(b,"-with-button")]:!!c},a);return e.createElement(bQ,Object.assign({ref:WG(S,n),onPressEnter:e=>{A.current||g||B(e)}},h,{size:Z,onCompositionStart:e=>{A.current=!0,null===C||void 0===C||C(e)},onCompositionEnd:e=>{A.current=!1,null===m||void 0===m||m(e)},prefixCls:v,addonAfter:R,suffix:l,onChange:e=>{e&&e.target&&"click"===e.type&&d&&d(e.target.value,e,{source:"clear"}),I&&I(e)},className:x,disabled:u}))}));const TQ=LQ;var zQ,DQ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],OQ={};function jQ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;zQ||((zQ=document.createElement("textarea")).setAttribute("tab-index","-1"),zQ.setAttribute("aria-hidden","true"),document.body.appendChild(zQ)),e.getAttribute("wrap")?zQ.setAttribute("wrap",e.getAttribute("wrap")):zQ.removeAttribute("wrap");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&OQ[n])return OQ[n];var o=window.getComputedStyle(e),r=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),a=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),i=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),l={sizingStyle:DQ.map((function(e){return"".concat(e,":").concat(o.getPropertyValue(e))})).join(";"),paddingSize:a,borderSize:i,boxSizing:r};return t&&n&&(OQ[n]=l),l}(e,t),a=r.paddingSize,i=r.borderSize,l=r.boxSizing,c=r.sizingStyle;zQ.setAttribute("style","".concat(c,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),zQ.value=e.value||e.placeholder||"";var s,g=void 0,u=void 0,d=zQ.scrollHeight;if("border-box"===l?d+=i:"content-box"===l&&(d-=a),null!==n||null!==o){zQ.value=" ";var I=zQ.scrollHeight-a;null!==n&&(g=I*n,"border-box"===l&&(g=g+a+i),d=Math.max(g,d)),null!==o&&(u=I*o,"border-box"===l&&(u=u+a+i),s=d>u?"":"hidden",d=Math.min(u,d))}var C={height:d,overflowY:s,resize:"none"};return g&&(C.minHeight=g),u&&(C.maxHeight=u),C}var UQ=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],PQ=e.forwardRef((function(t,n){var o=t,r=o.prefixCls,a=(o.onPressEnter,o.defaultValue),i=o.value,l=o.autoSize,c=o.onResize,s=o.className,g=o.style,u=o.disabled,d=o.onChange,I=(o.onInternalAutoSize,JG(o,UQ)),C=hv(QG(a,{value:i,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),m=C[0],h=C[1],p=e.useRef();e.useImperativeHandle(n,(function(){return{textArea:p.current}}));var f=hv(e.useMemo((function(){return l&&"object"===on(l)?[l.minRows,l.maxRows]:[]}),[l]),2),A=f[0],b=f[1],v=!!l,y=hv(e.useState(2),2),Z=y[0],S=y[1],G=hv(e.useState(),2),B=G[0],k=G[1],w=function(){S(0)};vy((function(){v&&w()}),[i,A,b,v]),vy((function(){if(0===Z)S(1);else if(1===Z){var e=jQ(p.current,!1,A,b);S(2),k(e)}else!function(){try{if(document.activeElement===p.current){var e=p.current,t=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;p.current.setSelectionRange(t,n),p.current.scrollTop=o}}catch(Tie){}}()}),[Z]);var R=e.useRef(),V=function(){kB.cancel(R.current)};e.useEffect((function(){return V}),[]);var W=v?B:null,x=cn(cn({},g),W);return 0!==Z&&1!==Z||(x.overflowY="hidden",x.overflowX="hidden"),e.createElement(ZV,{onResize:function(e){2===Z&&(null===c||void 0===c||c(e),l&&(V(),R.current=kB((function(){w()}))))},disabled:!(l||c)},e.createElement("textarea",Ey({},I,{ref:p,style:x,className:BG()(r,s,an({},"".concat(r,"-disabled"),u)),disabled:u,value:m,onChange:function(e){h(e.target.value),null===d||void 0===d||d(e)}})))}));const QQ=PQ;var _Q=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","readOnly"],qQ=e.forwardRef((function(t,n){var o,r=t.defaultValue,a=t.value,i=t.onFocus,l=t.onBlur,c=t.onChange,s=t.allowClear,g=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,I=t.suffix,C=t.prefixCls,m=void 0===C?"rc-textarea":C,h=t.showCount,p=t.count,f=t.className,A=t.style,b=t.disabled,v=t.hidden,y=t.classNames,Z=t.styles,S=t.onResize,G=t.readOnly,B=JG(t,_Q),k=hv(QG(r,{value:a,defaultValue:r}),2),w=k[0],R=k[1],V=void 0===w||null===w?"":String(w),W=hv(e.useState(!1),2),x=W[0],X=W[1],N=e.useRef(!1),J=hv(e.useState(null),2),E=J[0],H=J[1],Y=(0,e.useRef)(null),F=(0,e.useRef)(null),K=function(){var e;return null===(e=F.current)||void 0===e?void 0:e.textArea},M=function(){K().focus()};(0,e.useImperativeHandle)(n,(function(){var e;return{resizableTextArea:F.current,focus:M,blur:function(){K().blur()},nativeElement:(null===(e=Y.current)||void 0===e?void 0:e.nativeElement)||K()}})),(0,e.useEffect)((function(){X((function(e){return!b&&e}))}),[b]);var L=hv(e.useState(null),2),T=L[0],z=L[1];e.useEffect((function(){var e;T&&(e=K()).setSelectionRange.apply(e,fv(T))}),[T]);var D,O=dQ(p,h),j=null!==(o=O.max)&&void 0!==o?o:g,U=Number(j)>0,P=O.strategy(V),Q=!!j&&P>j,_=function(e,t){var n=t;!N.current&&O.exceedFormatter&&O.max&&O.strategy(t)>O.max&&t!==(n=O.exceedFormatter(t,{max:O.max}))&&z([K().selectionStart||0,K().selectionEnd||0]),R(n),cQ(e.currentTarget,e,c,n)},q=I;O.show&&(D=O.showFormatter?O.showFormatter({value:V,count:P,maxLength:j}):"".concat(P).concat(U?" / ".concat(j):""),q=e.createElement(e.Fragment,null,q,e.createElement("span",{className:BG()("".concat(m,"-data-count"),null===y||void 0===y?void 0:y.count),style:null===Z||void 0===Z?void 0:Z.count},D)));var $=!B.autoSize&&!h&&!s;return e.createElement(gQ,{ref:Y,value:V,allowClear:s,handleReset:function(e){R(""),M(),cQ(K(),e,c)},suffix:q,prefixCls:m,classNames:cn(cn({},y),{},{affixWrapper:BG()(null===y||void 0===y?void 0:y.affixWrapper,an(an({},"".concat(m,"-show-count"),h),"".concat(m,"-textarea-allow-clear"),s))}),disabled:b,focused:x,className:BG()(f,Q&&"".concat(m,"-out-of-range")),style:cn(cn({},A),E&&!$?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof D?D:void 0}},hidden:v,readOnly:G},e.createElement(QQ,Ey({},B,{maxLength:g,onKeyDown:function(e){var t=B.onPressEnter,n=B.onKeyDown;"Enter"===e.key&&t&&t(e),null===n||void 0===n||n(e)},onChange:function(e){_(e,e.target.value)},onFocus:function(e){X(!0),null===i||void 0===i||i(e)},onBlur:function(e){X(!1),null===l||void 0===l||l(e)},onCompositionStart:function(e){N.current=!0,null===u||void 0===u||u(e)},onCompositionEnd:function(e){N.current=!1,_(e,e.currentTarget.value),null===d||void 0===d||d(e)},className:BG()(null===y||void 0===y?void 0:y.textarea),style:cn(cn({},null===Z||void 0===Z?void 0:Z.textarea),{},{resize:null===A||void 0===A?void 0:A.resize}),disabled:b,prefixCls:m,onResize:function(e){var t;null===S||void 0===S||S(e),null!==(t=K())&&void 0!==t&&t.style.height&&H(!0)},ref:F,readOnly:G})))}));const $Q=qQ;var e_=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const t_=(0,e.forwardRef)(((t,n)=>{var o,r;const{prefixCls:a,bordered:i=!0,size:l,disabled:c,status:s,allowClear:g,classNames:u,rootClassName:d,className:I,style:C,styles:m,variant:h}=t,p=e_(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:f,direction:A,textArea:b}=e.useContext(gv),v=XX(l),y=e.useContext(pG),Z=null!==c&&void 0!==c?c:y,{status:S,hasFeedback:G,feedbackIcon:B}=e.useContext(PL),k=YD(S,s),w=e.useRef(null);e.useImperativeHandle(n,(()=>{var e;return{resizableTextArea:null===(e=w.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;!function(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}(null===(n=null===(t=w.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.blur()}}}));const R=f("input",a),V=Zw(R),[W,x,X]=JP(R,V),[N,J]=QD(h,i),E=hQ(null!==g&&void 0!==g?g:null===b||void 0===b?void 0:b.allowClear);return W(e.createElement($Q,Object.assign({autoComplete:null===b||void 0===b?void 0:b.autoComplete},p,{style:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),C),styles:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.styles),m),disabled:Z,allowClear:E,className:BG()(X,V,I,d,null===b||void 0===b?void 0:b.className),classNames:Object.assign(Object.assign(Object.assign({},u),null===b||void 0===b?void 0:b.classNames),{textarea:BG()({["".concat(R,"-sm")]:"small"===v,["".concat(R,"-lg")]:"large"===v},x,null===u||void 0===u?void 0:u.textarea,null===(o=null===b||void 0===b?void 0:b.classNames)||void 0===o?void 0:o.textarea),variant:BG()({["".concat(R,"-").concat(N)]:J},HD(R,k)),affixWrapper:BG()("".concat(R,"-textarea-affix-wrapper"),{["".concat(R,"-affix-wrapper-rtl")]:"rtl"===A,["".concat(R,"-affix-wrapper-sm")]:"small"===v,["".concat(R,"-affix-wrapper-lg")]:"large"===v,["".concat(R,"-textarea-show-count")]:t.showCount||(null===(r=t.count)||void 0===r?void 0:r.show)},x)}),prefixCls:R,suffix:G&&e.createElement("span",{className:"".concat(R,"-textarea-suffix")},B),ref:w})))})),n_=t_,o_=bQ;o_.Group=iQ,o_.Search=TQ,o_.TextArea=n_,o_.Password=KQ,o_.OTP=RQ;const r_=o_;var a_=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const{TimePicker:i_,RangePicker:l_}=aQ,c_=e.forwardRef(((t,n)=>e.createElement(l_,Object.assign({},t,{picker:"time",mode:void 0,ref:n})))),s_=e.forwardRef(((t,n)=>{var{addon:o,renderExtraFooter:r}=t,a=a_(t,["addon","renderExtraFooter"]);const i=e.useMemo((()=>r||(o||void 0)),[o,r]);return e.createElement(i_,Object.assign({},a,{mode:void 0,ref:n,renderExtraFooter:i}))}));const g_=bW(s_,"picker");s_._InternalPanelDoNotUseOrYouWillBeFired=g_,s_.RangePicker=c_,s_._InternalPanelDoNotUseOrYouWillBeFired=g_;const u_=s_,d_=pz.Item,{Option:I_}=JO,C_=e=>t=>{let{field:n,form:o,hasFeedback:r,label:a,selectOptions:i,submitCount:l,type:c,...s}=t;const g=o.touched[n.name],u=l>0,d=o.errors[n.name],I=d&&u,C=d&&g;return(0,et.jsx)("div",{className:"field-container",children:(0,et.jsx)(d_,{label:a,hasFeedback:!!(r&&u||r&&g),help:!(!I&&!C)&&d,validateStatus:I||C?"error":"success",children:(0,et.jsx)(e,{...n,...s,onBlur:()=>o.setFieldTouched(n.name,!0),onChange:c?e=>{let{target:{value:t}}=e;return o.setFieldValue(n.name,t)}:e=>o.setFieldValue(n.name,e)})})})},m_=C_(JO),h_=C_(aQ),p_=C_(r_),f_=C_(r_.TextArea),A_=C_(r_.Password);C_(u_);n(178);const b_=e=>{let t;return e?/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||(t="Email kh\xf4ng h\u1ee3p l\u1ec7"):t="Email \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng",t},v_=e=>t=>t?"":"".concat(e," kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),y_=e=>{let t="";return e?e.length<8?t="M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i \xedt nh\u1ea5t 8 k\xed t\u1ef1":/(?=.*[0-9])/.test(e)||(t="M\u1eadt kh\u1ea9u ph\u1ea3i bao g\u1ed3m \xedt nh\u1ea5t 1 ch\u1eef s\u1ed1 (1-9)"):t="M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng",t},Z_=e=>{let t;return e||(t="H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t},S_=e=>{let t;return e?e>=Date.now()&&(t="Ng\xe0y sinh kh\xf4ng h\u1ee3p l\u1ec7"):t="Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng",t},G_=e=>{let t;return e||(t="\u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t},B_=e=>{let t;return e?/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||(t="Email kh\xf4ng h\u1ee3p l\u1ec7"):t="Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng",t},k_=e=>{let t;return e?/(03|05|07|08|09|01[2|6|8|9])+([0-9]{8})\b/.test(e)||(t="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"):t="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng",t},w_=e=>e&&isFinite(e)&&Math.abs(e)<=90?"":"V\u0129 \u0111\u1ed9 kh\xf4ng \u0111\xfang",R_=e=>e&&isFinite(e)&&Math.abs(e)<=180?"":"Kinh \u0111\u1ed9 kh\xf4ng \u0111\xfang",V_=pz.Item,W_=t=>{let{handleSubmit:n,values:o,submitCount:r}=t;const[a,i]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const e=await fz("GET","https://vn-public-apis.fpo.vn/provinces/getAll?limit=-1");i(e.data.data)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[]),(0,et.jsx)("div",{className:"SignUpForm",children:(0,et.jsxs)(sM,{className:"form-container tw-flex tw-flex-col tw-items-center",onSubmit:n,children:[(0,et.jsx)(cM,{component:p_,name:"username",type:"textarea",label:"T\xean ng\u01b0\u1eddi d\xf9ng",validate:v_("T\xean ng\u01b0\u1eddi d\xf9ng"),submitCount:r,hasFeedback:!0,style:{width:"400px"},placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng"}),(0,et.jsx)(cM,{component:p_,name:"email",type:"email",label:"Email \u0111\u0103ng nh\u1eadp",validate:b_,submitCount:r,hasFeedback:!0,style:{width:"400px"},placeholder:"Email \u0111\u0103ng nh\u1eadp"}),(0,et.jsx)(cM,{component:A_,name:"password",type:"password",label:"M\u1eadt kh\u1ea9u",validate:y_,submitCount:r,hasFeedback:!0,placeholder:"M\u1eadt kh\u1ea9u"}),(0,et.jsx)(cM,{component:A_,name:"confirmPassword",type:"password",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",validate:e=>((e,t)=>{let n="";return e&&e!==t&&(n="M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng \u0111\xfang"),n})(o.password,e),submitCount:r,hasFeedback:!0,placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),(0,et.jsx)(cM,{component:m_,name:"province",label:"Ch\u1ecdn t\u1ec9nh/th\xe0nh ph\u1ed1",defaultValue:o.province,validate:v_("T\u1ec9nh/th\xe0nh ph\u1ed1"),submitCount:r,tokenSeparators:[","],style:{width:"400px"},hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:a.map((e=>({value:e.name,label:e.name}))),filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}}),(0,et.jsx)("div",{className:"submit-container",children:(0,et.jsx)(V_,{children:(0,et.jsx)(AE,{type:"primary",style:{width:"400px"},htmlType:"submit",children:"Ti\u1ebfp t\u1ee5c"})})})]})})},x_=()=>{const[t,n]=(0,e.useState)([]),o=Se(),r=ye();return(0,et.jsx)("div",{className:"LoginFormContainer",children:(0,et.jsx)(oM,{initialValues:{username:"",email:"",password:"",retypePassword:"",province:"H\xe0 N\u1ed9i"},onSubmit:e=>{const t=(e=>{let{username:t,email:n,password:o,province:r}=e;return{username:t,email:n,password:o,province:r}})(e);o(r.pathname+"/role",{state:t})},enableReinitialize:!0,children:W_})})};function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X_(Object(n),!0).forEach((function(t){H_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J_(e){return J_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J_(e)}function E_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return a}(e,t)||K_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F_(e){return function(e){if(Array.isArray(e))return M_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K_(e,t){if(e){if("string"===typeof e)return M_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M_(e,t):void 0}}function M_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var L_=function(){},T_={},z_={},D_=null,O_={mark:L_,measure:L_};try{"undefined"!==typeof window&&(T_=window),"undefined"!==typeof document&&(z_=document),"undefined"!==typeof MutationObserver&&(D_=MutationObserver),"undefined"!==typeof performance&&(O_=performance)}catch(Tie){}var j_,U_,P_,Q_,__,q_=(T_.navigator||{}).userAgent,$_=void 0===q_?"":q_,eq=T_,tq=z_,nq=D_,oq=O_,rq=(eq.document,!!tq.documentElement&&!!tq.head&&"function"===typeof tq.addEventListener&&"function"===typeof tq.createElement),aq=~$_.indexOf("MSIE")||~$_.indexOf("Trident/"),iq="___FONT_AWESOME___",lq=16,cq="fa",sq="svg-inline--fa",gq="data-fa-i2svg",uq="data-fa-pseudo-element",dq="data-fa-pseudo-element-pending",Iq="data-prefix",Cq="data-icon",mq="fontawesome-i2svg",hq="async",pq=["HTML","HEAD","STYLE","SCRIPT"],fq=function(){try{return!0}catch(Tie){return!1}}(),Aq="classic",bq="sharp",vq=[Aq,bq];function yq(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[Aq]}})}var Zq=yq((H_(j_={},Aq,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),H_(j_,bq,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),j_)),Sq=yq((H_(U_={},Aq,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),H_(U_,bq,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),U_)),Gq=yq((H_(P_={},Aq,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),H_(P_,bq,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),P_)),Bq=yq((H_(Q_={},Aq,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),H_(Q_,bq,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Q_)),kq=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,wq="fa-layers-text",Rq=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Vq=yq((H_(__={},Aq,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),H_(__,bq,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),__)),Wq=[1,2,3,4,5,6,7,8,9,10],xq=Wq.concat([11,12,13,14,15,16,17,18,19,20]),Xq=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Nq={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Jq=new Set;Object.keys(Sq[Aq]).map(Jq.add.bind(Jq)),Object.keys(Sq[bq]).map(Jq.add.bind(Jq));var Eq=[].concat(vq,F_(Jq),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Nq.GROUP,Nq.SWAP_OPACITY,Nq.PRIMARY,Nq.SECONDARY]).concat(Wq.map((function(e){return"".concat(e,"x")}))).concat(xq.map((function(e){return"w-".concat(e)}))),Hq=eq.FontAwesomeConfig||{};if(tq&&"function"===typeof tq.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Y_(e,2),n=t[0],o=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=tq.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==r&&null!==r&&(Hq[o]=r)}))}var Yq={styleDefault:"solid",familyDefault:"classic",cssPrefix:cq,replacementClass:sq,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Hq.familyPrefix&&(Hq.cssPrefix=Hq.familyPrefix);var Fq=N_(N_({},Yq),Hq);Fq.autoReplaceSvg||(Fq.observeMutations=!1);var Kq={};Object.keys(Yq).forEach((function(e){Object.defineProperty(Kq,e,{enumerable:!0,set:function(t){Fq[e]=t,Mq.forEach((function(e){return e(Kq)}))},get:function(){return Fq[e]}})})),Object.defineProperty(Kq,"familyPrefix",{enumerable:!0,set:function(e){Fq.cssPrefix=e,Mq.forEach((function(e){return e(Kq)}))},get:function(){return Fq.cssPrefix}}),eq.FontAwesomeConfig=Kq;var Mq=[];var Lq=lq,Tq={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var zq="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Dq(){for(var e=12,t="";e-- >0;)t+=zq[62*Math.random()|0];return t}function Oq(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function jq(e){return e.classList?Oq(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Uq(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pq(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Qq(e){return e.size!==Tq.size||e.x!==Tq.x||e.y!==Tq.y||e.rotate!==Tq.rotate||e.flipX||e.flipY}var _q=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, 0));\n          transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function qq(){var e=cq,t=sq,n=Kq.cssPrefix,o=Kq.replacementClass,r=_q;if(n!==e||o!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");r=r.replace(a,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(l,".".concat(o))}return r}var $q=!1;function e$(){Kq.autoAddCss&&!$q&&(!function(e){if(e&&rq){var t=tq.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=tq.head.childNodes,o=null,r=n.length-1;r>-1;r--){var a=n[r],i=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(o=a)}tq.head.insertBefore(t,o)}}(qq()),$q=!0)}var t$={mixout:function(){return{dom:{css:qq,insertCss:e$}}},hooks:function(){return{beforeDOMElementCreation:function(){e$()},beforeI2svg:function(){e$()}}}},n$=eq||{};n$[iq]||(n$[iq]={}),n$[iq].styles||(n$[iq].styles={}),n$[iq].hooks||(n$[iq].hooks={}),n$[iq].shims||(n$[iq].shims=[]);var o$=n$[iq],r$=[],a$=!1;function i$(e){var t=e.tag,n=e.attributes,o=void 0===n?{}:n,r=e.children,a=void 0===r?[]:r;return"string"===typeof e?Uq(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Uq(e[n]),'" ')}),"").trim()}(o),">").concat(a.map(i$).join(""),"</").concat(t,">")}function l$(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}rq&&((a$=(tq.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(tq.readyState))||tq.addEventListener("DOMContentLoaded",(function e(){tq.removeEventListener("DOMContentLoaded",e),a$=1,r$.map((function(e){return e()}))})));var c$=function(e,t,n,o){var r,a,i,l=Object.keys(e),c=l.length,s=void 0!==o?function(e,t){return function(n,o,r,a){return e.call(t,n,o,r,a)}}(t,o):t;for(void 0===n?(r=1,i=e[l[0]]):(r=0,i=n);r<c;r++)i=s(i,e[a=l[r]],a,e);return i};function s$(e){var t=function(e){for(var t=[],n=0,o=e.length;n<o;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function g$(e){return Object.keys(e).reduce((function(t,n){var o=e[n];return!!o.icon?t[o.iconName]=o.icon:t[n]=o,t}),{})}function u$(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,o=void 0!==n&&n,r=g$(t);"function"!==typeof o$.hooks.addPack||o?o$.styles[e]=N_(N_({},o$.styles[e]||{}),r):o$.hooks.addPack(e,g$(t)),"fas"===e&&u$("fa",t)}var d$,I$,C$,m$=o$.styles,h$=o$.shims,p$=(H_(d$={},Aq,Object.values(Gq[Aq])),H_(d$,bq,Object.values(Gq[bq])),d$),f$=null,A$={},b$={},v$={},y$={},Z$={},S$=(H_(I$={},Aq,Object.keys(Zq[Aq])),H_(I$,bq,Object.keys(Zq[bq])),I$);function G$(e,t){var n,o=t.split("-"),r=o[0],a=o.slice(1).join("-");return r!==e||""===a||(n=a,~Eq.indexOf(n))?null:a}var B$=function(){var e=function(e){return c$(m$,(function(t,n,o){return t[o]=c$(n,e,{}),t}),{})};A$=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var o=t[2].filter((function(e){return"number"===typeof e}));o.forEach((function(t){e[t.toString(16)]=n}))}return e})),b$=e((function(e,t,n){if(e[n]=n,t[2]){var o=t[2].filter((function(e){return"string"===typeof e}));o.forEach((function(t){e[t]=n}))}return e})),Z$=e((function(e,t,n){var o=t[2];return e[n]=n,o.forEach((function(t){e[t]=n})),e}));var t="far"in m$||Kq.autoFetchSvg,n=c$(h$,(function(e,n){var o=n[0],r=n[1],a=n[2];return"far"!==r||t||(r="fas"),"string"===typeof o&&(e.names[o]={prefix:r,iconName:a}),"number"===typeof o&&(e.unicodes[o.toString(16)]={prefix:r,iconName:a}),e}),{names:{},unicodes:{}});v$=n.names,y$=n.unicodes,f$=x$(Kq.styleDefault,{family:Kq.familyDefault})};function k$(e,t){return(A$[e]||{})[t]}function w$(e,t){return(Z$[e]||{})[t]}function R$(e){return v$[e]||{prefix:null,iconName:null}}function V$(){return f$}!function(e){Mq.push(e)}((function(e){f$=x$(e.styleDefault,{family:Kq.familyDefault})})),B$();var W$=function(){return{prefix:null,iconName:null,rest:[]}};function x$(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?Aq:t,o=Zq[n][e],r=Sq[n][e]||Sq[n][o],a=e in o$.styles?e:null;return r||a||null}var X$=(H_(C$={},Aq,Object.keys(Gq[Aq])),H_(C$,bq,Object.keys(Gq[bq])),C$);function N$(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,o=void 0!==n&&n,r=(H_(t={},Aq,"".concat(Kq.cssPrefix,"-").concat(Aq)),H_(t,bq,"".concat(Kq.cssPrefix,"-").concat(bq)),t),a=null,i=Aq;(e.includes(r[Aq])||e.some((function(e){return X$[Aq].includes(e)})))&&(i=Aq),(e.includes(r[bq])||e.some((function(e){return X$[bq].includes(e)})))&&(i=bq);var l=e.reduce((function(e,t){var n=G$(Kq.cssPrefix,t);if(m$[t]?(t=p$[i].includes(t)?Bq[i][t]:t,a=t,e.prefix=t):S$[i].indexOf(t)>-1?(a=t,e.prefix=x$(t,{family:i})):n?e.iconName=n:t!==Kq.replacementClass&&t!==r[Aq]&&t!==r[bq]&&e.rest.push(t),!o&&e.prefix&&e.iconName){var l="fa"===a?R$(e.iconName):{},c=w$(e.prefix,e.iconName);l.prefix&&(a=null),e.iconName=l.iconName||c||e.iconName,e.prefix=l.prefix||e.prefix,"far"!==e.prefix||m$.far||!m$.fas||Kq.autoFetchSvg||(e.prefix="fas")}return e}),W$());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),l.prefix||i!==bq||!m$.fass&&!Kq.autoFetchSvg||(l.prefix="fass",l.iconName=w$(l.prefix,l.iconName)||l.iconName),"fa"!==l.prefix&&"fa"!==a||(l.prefix=V$()||"fas"),l}var J$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,o;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(t){e.definitions[t]=N_(N_({},e.definitions[t]||{}),r[t]),u$(t,r[t]);var n=Gq[Aq][t];n&&u$(n,r[t]),B$()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var o=n[t],r=o.prefix,a=o.iconName,i=o.icon,l=i[2];e[r]||(e[r]={}),l.length>0&&l.forEach((function(t){"string"===typeof t&&(e[r][t]=i)})),e[r][a]=i})),e}}],n&&E_(t.prototype,n),o&&E_(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),E$=[],H$={},Y$={},F$=Object.keys(Y$);function K$(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return(H$[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(o))})),t}function M$(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];(H$[e]||[]).forEach((function(e){e.apply(null,n)}))}function L$(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Y$[e]?Y$[e].apply(null,t):void 0}function T$(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||V$();if(t)return t=w$(n,t)||t,l$(z$.definitions,n,t)||l$(o$.styles,n,t)}var z$=new J$,D$={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rq?(M$("beforeI2svg",e),L$("pseudoElements2svg",e),L$("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Kq.autoReplaceSvg&&(Kq.autoReplaceSvg=!0),Kq.observeMutations=!0,function(e){rq&&(a$?setTimeout(e,0):r$.push(e))}((function(){U$({autoReplaceSvgRoot:t}),M$("watch",e)}))}},O$={icon:function(e){if(null===e)return null;if("object"===J_(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:w$(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=x$(e[0]);return{prefix:n,iconName:w$(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Kq.cssPrefix,"-"))>-1||e.match(kq))){var o=N$(e.split(" "),{skipLookups:!0});return{prefix:o.prefix||V$(),iconName:w$(o.prefix,o.iconName)||o.iconName}}if("string"===typeof e){var r=V$();return{prefix:r,iconName:w$(r,e)||e}}}},j$={noAuto:function(){Kq.autoReplaceSvg=!1,Kq.observeMutations=!1,M$("noAuto")},config:Kq,dom:D$,parse:O$,library:z$,findIconDefinition:T$,toHtml:i$},U$=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?tq:e;(Object.keys(o$.styles).length>0||Kq.autoFetchSvg)&&rq&&Kq.autoReplaceSvg&&j$.dom.i2svg({node:t})};function P$(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return i$(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(rq){var t=tq.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Q$(e){var t=e.icons,n=t.main,o=t.mask,r=e.prefix,a=e.iconName,i=e.transform,l=e.symbol,c=e.title,s=e.maskId,g=e.titleId,u=e.extra,d=e.watchable,I=void 0!==d&&d,C=o.found?o:n,m=C.width,h=C.height,p="fak"===r,f=[Kq.replacementClass,a?"".concat(Kq.cssPrefix,"-").concat(a):""].filter((function(e){return-1===u.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(u.classes).join(" "),A={children:[],attributes:N_(N_({},u.attributes),{},{"data-prefix":r,"data-icon":a,class:f,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(h)})},b=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(m/h*16*.0625,"em")}:{};I&&(A.attributes[gq]=""),c&&(A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(g||Dq())},children:[c]}),delete A.attributes.title);var v=N_(N_({},A),{},{prefix:r,iconName:a,main:n,mask:o,maskId:s,transform:i,symbol:l,styles:N_(N_({},b),u.styles)}),y=o.found&&n.found?L$("generateAbstractMask",v)||{children:[],attributes:{}}:L$("generateAbstractIcon",v)||{children:[],attributes:{}},Z=y.children,S=y.attributes;return v.children=Z,v.attributes=S,l?function(e){var t=e.prefix,n=e.iconName,o=e.children,r=e.attributes,a=e.symbol,i=!0===a?"".concat(t,"-").concat(Kq.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:N_(N_({},r),{},{id:i}),children:o}]}]}(v):function(e){var t=e.children,n=e.main,o=e.mask,r=e.attributes,a=e.styles,i=e.transform;if(Qq(i)&&n.found&&!o.found){var l={x:n.width/n.height/2,y:.5};r.style=Pq(N_(N_({},a),{},{"transform-origin":"".concat(l.x+i.x/16,"em ").concat(l.y+i.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(v)}function _$(e){var t=e.content,n=e.width,o=e.height,r=e.transform,a=e.title,i=e.extra,l=e.watchable,c=void 0!==l&&l,s=N_(N_(N_({},i.attributes),a?{title:a}:{}),{},{class:i.classes.join(" ")});c&&(s[gq]="");var g=N_({},i.styles);Qq(r)&&(g.transform=function(e){var t=e.transform,n=e.width,o=void 0===n?lq:n,r=e.height,a=void 0===r?lq:r,i=e.startCentered,l=void 0!==i&&i,c="";return c+=l&&aq?"translate(".concat(t.x/Lq-o/2,"em, ").concat(t.y/Lq-a/2,"em) "):l?"translate(calc(-50% + ".concat(t.x/Lq,"em), calc(-50% + ").concat(t.y/Lq,"em)) "):"translate(".concat(t.x/Lq,"em, ").concat(t.y/Lq,"em) "),c+="scale(".concat(t.size/Lq*(t.flipX?-1:1),", ").concat(t.size/Lq*(t.flipY?-1:1),") "),c+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:o}),g["-webkit-transform"]=g.transform);var u=Pq(g);u.length>0&&(s.style=u);var d=[];return d.push({tag:"span",attributes:s,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}var q$=o$.styles;function $$(e){var t=e[0],n=e[1],o=Y_(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Kq.cssPrefix,"-").concat(Nq.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Kq.cssPrefix,"-").concat(Nq.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Kq.cssPrefix,"-").concat(Nq.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var e0={found:!1,width:512,height:512};function t0(e,t){var n=t;return"fa"===t&&null!==Kq.styleDefault&&(t=V$()),new Promise((function(o,r){L$("missingIconAbstract");if("fa"===n){var a=R$(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&q$[t]&&q$[t][e])return o($$(q$[t][e]));!function(e,t){fq||Kq.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),o(N_(N_({},e0),{},{icon:Kq.showMissingIcons&&e&&L$("missingIconAbstract")||{}}))}))}var n0=function(){},o0=Kq.measurePerformance&&oq&&oq.mark&&oq.measure?oq:{mark:n0,measure:n0},r0='FA "6.5.2"',a0=function(e){o0.mark("".concat(r0," ").concat(e," ends")),o0.measure("".concat(r0," ").concat(e),"".concat(r0," ").concat(e," begins"),"".concat(r0," ").concat(e," ends"))},i0={begin:function(e){return o0.mark("".concat(r0," ").concat(e," begins")),function(){return a0(e)}},end:a0},l0=function(){};function c0(e){return"string"===typeof(e.getAttribute?e.getAttribute(gq):null)}function s0(e){return tq.createElementNS("http://www.w3.org/2000/svg",e)}function g0(e){return tq.createElement(e)}function u0(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?s0:g0:t;if("string"===typeof e)return tq.createTextNode(e);var o=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){o.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){o.appendChild(u0(e,{ceFn:n}))})),o}var d0={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(u0(e),t)})),null===t.getAttribute(gq)&&Kq.keepOriginalSource){var n=tq.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~jq(t).indexOf(Kq.replacementClass))return d0.replace(e);var o=new RegExp("".concat(Kq.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var r=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Kq.replacementClass||t.match(o)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var a=n.map((function(e){return i$(e)})).join("\n");t.setAttribute(gq,""),t.innerHTML=a}};function I0(e){e()}function C0(e,t){var n="function"===typeof t?t:l0;if(0===e.length)n();else{var o=I0;Kq.mutateApproach===hq&&(o=eq.requestAnimationFrame||I0),o((function(){var t=!0===Kq.autoReplaceSvg?d0.replace:d0[Kq.autoReplaceSvg]||d0.replace,o=i0.begin("mutate");e.map(t),o(),n()}))}}var m0=!1;function h0(){m0=!0}function p0(){m0=!1}var f0=null;function A0(e){if(nq&&Kq.observeMutations){var t=e.treeCallback,n=void 0===t?l0:t,o=e.nodeCallback,r=void 0===o?l0:o,a=e.pseudoElementsCallback,i=void 0===a?l0:a,l=e.observeMutationsRoot,c=void 0===l?tq:l;f0=new nq((function(e){if(!m0){var t=V$();Oq(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!c0(e.addedNodes[0])&&(Kq.searchPseudoElements&&i(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Kq.searchPseudoElements&&i(e.target.parentNode),"attributes"===e.type&&c0(e.target)&&~Xq.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Iq):null,n=e.getAttribute?e.getAttribute(Cq):null;return t&&n}(e.target)){var o=N$(jq(e.target)),a=o.prefix,l=o.iconName;e.target.setAttribute(Iq,a||t),l&&e.target.setAttribute(Cq,l)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Kq.replacementClass)})(e.target)&&r(e.target)}))}})),rq&&f0.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function b0(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),o=void 0!==e.innerText?e.innerText.trim():"",r=N$(jq(e));return r.prefix||(r.prefix=V$()),t&&n&&(r.prefix=t,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&o.length>0&&(r.iconName=function(e,t){return(b$[e]||{})[t]}(r.prefix,e.innerText)||k$(r.prefix,s$(e.innerText))),!r.iconName&&Kq.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function v0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=b0(e),o=n.iconName,r=n.prefix,a=n.rest,i=function(e){var t=Oq(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),o=e.getAttribute("data-fa-title-id");return Kq.autoA11y&&(n?t["aria-labelledby"]="".concat(Kq.replacementClass,"-title-").concat(o||Dq()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),l=K$("parseNodeAttributes",{},e),c=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),o=n[0],r=n.slice(1);return o&&r.length>0&&(e[o]=r.join(":").trim()),e}),{})),n}(e):[];return N_({iconName:o,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Tq,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:c,attributes:i}},l)}var y0=o$.styles;function Z0(e){var t="nest"===Kq.autoReplaceSvg?v0(e,{styleParser:!1}):v0(e);return~t.extra.classes.indexOf(wq)?L$("generateLayersText",e,t):L$("generateSvgReplacementMutation",e,t)}var S0=new Set;function G0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!rq)return Promise.resolve();var n=tq.documentElement.classList,o=function(e){return n.add("".concat(mq,"-").concat(e))},r=function(e){return n.remove("".concat(mq,"-").concat(e))},a=Kq.autoFetchSvg?S0:vq.map((function(e){return"fa-".concat(e)})).concat(Object.keys(y0));a.includes("fa")||a.push("fa");var i=[".".concat(wq,":not([").concat(gq,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(gq,"])")}))).join(", ");if(0===i.length)return Promise.resolve();var l=[];try{l=Oq(e.querySelectorAll(i))}catch(Tie){}if(!(l.length>0))return Promise.resolve();o("pending"),r("complete");var c=i0.begin("onTree"),s=l.reduce((function(e,t){try{var n=Z0(t);n&&e.push(n)}catch(Tie){fq||"MissingIcon"===Tie.name&&console.error(Tie)}return e}),[]);return new Promise((function(e,n){Promise.all(s).then((function(n){C0(n,(function(){o("active"),o("complete"),r("pending"),"function"===typeof t&&t(),c(),e()}))})).catch((function(e){c(),n(e)}))}))}function B0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Z0(e).then((function(e){e&&C0([e],t)}))}function k0(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(t||{}).icon?t:T$(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:T$(r||{})),e(o,N_(N_({},n),{},{mask:r}))}}vq.map((function(e){S0.add("fa-".concat(e))})),Object.keys(Zq[Aq]).map(S0.add.bind(S0)),Object.keys(Zq[bq]).map(S0.add.bind(S0)),S0=F_(S0);var w0=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,o=void 0===n?Tq:n,r=t.symbol,a=void 0!==r&&r,i=t.mask,l=void 0===i?null:i,c=t.maskId,s=void 0===c?null:c,g=t.title,u=void 0===g?null:g,d=t.titleId,I=void 0===d?null:d,C=t.classes,m=void 0===C?[]:C,h=t.attributes,p=void 0===h?{}:h,f=t.styles,A=void 0===f?{}:f;if(e){var b=e.prefix,v=e.iconName,y=e.icon;return P$(N_({type:"icon"},e),(function(){return M$("beforeDOMElementCreation",{iconDefinition:e,params:t}),Kq.autoA11y&&(u?p["aria-labelledby"]="".concat(Kq.replacementClass,"-title-").concat(I||Dq()):(p["aria-hidden"]="true",p.focusable="false")),Q$({icons:{main:$$(y),mask:l?$$(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:v,transform:N_(N_({},Tq),o),symbol:a,title:u,maskId:s,titleId:I,extra:{attributes:p,styles:A,classes:m}})}))}},R0={mixout:function(){return{icon:k0(w0)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=G0,e.nodeCallback=B0,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?tq:t,o=e.callback;return G0(n,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,o=t.title,r=t.titleId,a=t.prefix,i=t.transform,l=t.symbol,c=t.mask,s=t.maskId,g=t.extra;return new Promise((function(t,u){Promise.all([t0(n,a),c.iconName?t0(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(c){var u=Y_(c,2),d=u[0],I=u[1];t([e,Q$({icons:{main:d,mask:I},prefix:a,iconName:n,transform:i,symbol:l,maskId:s,title:o,titleId:r,extra:g,watchable:!0})])})).catch(u)}))},e.generateAbstractIcon=function(e){var t,n=e.children,o=e.attributes,r=e.main,a=e.transform,i=Pq(e.styles);return i.length>0&&(o.style=i),Qq(a)&&(t=L$("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),n.push(t||r.icon),{children:n,attributes:o}}}},V0={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,o=void 0===n?[]:n;return P$({type:"layer"},(function(){M$("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Kq.cssPrefix,"-layers")].concat(F_(o)).join(" ")},children:n}]}))}}}},W0={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,o=void 0===n?null:n,r=t.classes,a=void 0===r?[]:r,i=t.attributes,l=void 0===i?{}:i,c=t.styles,s=void 0===c?{}:c;return P$({type:"counter",content:e},(function(){return M$("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,o=e.extra,r=N_(N_(N_({},o.attributes),n?{title:n}:{}),{},{class:o.classes.join(" ")}),a=Pq(o.styles);a.length>0&&(r.style=a);var i=[];return i.push({tag:"span",attributes:r,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}({content:e.toString(),title:o,extra:{attributes:l,styles:s,classes:["".concat(Kq.cssPrefix,"-layers-counter")].concat(F_(a))}})}))}}}},x0={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,o=void 0===n?Tq:n,r=t.title,a=void 0===r?null:r,i=t.classes,l=void 0===i?[]:i,c=t.attributes,s=void 0===c?{}:c,g=t.styles,u=void 0===g?{}:g;return P$({type:"text",content:e},(function(){return M$("beforeDOMElementCreation",{content:e,params:t}),_$({content:e,transform:N_(N_({},Tq),o),title:a,extra:{attributes:s,styles:u,classes:["".concat(Kq.cssPrefix,"-layers-text")].concat(F_(l))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,o=t.transform,r=t.extra,a=null,i=null;if(aq){var l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/l,i=c.height/l}return Kq.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,_$({content:e.innerHTML,width:a,height:i,transform:o,title:n,extra:r,watchable:!0})])}}},X0=new RegExp('"',"ug"),N0=[1105920,1112319];function J0(e,t){var n="".concat(dq).concat(t.replace(":","-"));return new Promise((function(o,r){if(null!==e.getAttribute(n))return o();var a=Oq(e.children).filter((function(e){return e.getAttribute(uq)===t}))[0],i=eq.getComputedStyle(e,t),l=i.getPropertyValue("font-family").match(Rq),c=i.getPropertyValue("font-weight"),s=i.getPropertyValue("content");if(a&&!l)return e.removeChild(a),o();if(l&&"none"!==s&&""!==s){var g=i.getPropertyValue("content"),u=~["Sharp"].indexOf(l[2])?bq:Aq,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Sq[u][l[2].toLowerCase()]:Vq[u][c],I=function(e){var t=e.replace(X0,""),n=function(e,t){var n,o=e.length,r=e.charCodeAt(t);return r>=55296&&r<=56319&&o>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}(t,0),o=n>=N0[0]&&n<=N0[1],r=2===t.length&&t[0]===t[1];return{value:s$(r?t[0]:t),isSecondary:o||r}}(g),C=I.value,m=I.isSecondary,h=l[0].startsWith("FontAwesome"),p=k$(d,C),f=p;if(h){var A=function(e){var t=y$[e],n=k$("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(C);A.iconName&&A.prefix&&(p=A.iconName,d=A.prefix)}if(!p||m||a&&a.getAttribute(Iq)===d&&a.getAttribute(Cq)===f)o();else{e.setAttribute(n,f),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:Tq,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},v=b.extra;v.attributes[uq]=t,t0(p,d).then((function(r){var a=Q$(N_(N_({},b),{},{icons:{main:r,mask:W$()},prefix:d,iconName:f,extra:v,watchable:!0})),i=tq.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(i,e.firstChild):e.appendChild(i),i.outerHTML=a.map((function(e){return i$(e)})).join("\n"),e.removeAttribute(n),o()})).catch(r)}}else o()}))}function E0(e){return Promise.all([J0(e,"::before"),J0(e,"::after")])}function H0(e){return e.parentNode!==document.head&&!~pq.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(uq)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Y0(e){if(rq)return new Promise((function(t,n){var o=Oq(e.querySelectorAll("*")).filter(H0).map(E0),r=i0.begin("searchPseudoElements");h0(),Promise.all(o).then((function(){r(),p0(),t()})).catch((function(){r(),p0(),n()}))}))}var F0={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Y0,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?tq:t;Kq.searchPseudoElements&&Y0(n)}}},K0=!1,M0=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),o=n[0],r=n.slice(1).join("-");if(o&&"h"===r)return e.flipX=!0,e;if(o&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(o){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},L0={mixout:function(){return{parse:{transform:function(e){return M0(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=M0(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,o=e.containerWidth,r=e.iconWidth,a={transform:"translate(".concat(o/2," 256)")},i="translate(".concat(32*n.x,", ").concat(32*n.y,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),s={outer:a,inner:{transform:"".concat(i," ").concat(l," ").concat(c)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:N_({},s.outer),children:[{tag:"g",attributes:N_({},s.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:N_(N_({},t.icon.attributes),s.path)}]}]}}}},T0={x:0,y:0,width:"100%",height:"100%"};function z0(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var D0={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),o=n?N$(n.split(" ").map((function(e){return e.trim()}))):W$();return o.prefix||(o.prefix=V$()),e.mask=o,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,o=e.attributes,r=e.main,a=e.mask,i=e.maskId,l=e.transform,c=r.width,s=r.icon,g=a.width,u=a.icon,d=function(e){var t=e.transform,n=e.containerWidth,o=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(a," ").concat(i," ").concat(l)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}({transform:l,containerWidth:g,iconWidth:c}),I={tag:"rect",attributes:N_(N_({},T0),{},{fill:"white"})},C=s.children?{children:s.children.map(z0)}:{},m={tag:"g",attributes:N_({},d.inner),children:[z0(N_({tag:s.tag,attributes:N_(N_({},s.attributes),d.path)},C))]},h={tag:"g",attributes:N_({},d.outer),children:[m]},p="mask-".concat(i||Dq()),f="clip-".concat(i||Dq()),A={tag:"mask",attributes:N_(N_({},T0),{},{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,h]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:f},children:(t=u,"g"===t.tag?t.children:[t])},A]};return n.push(b,{tag:"rect",attributes:N_({fill:"currentColor","clip-path":"url(#".concat(f,")"),mask:"url(#".concat(p,")")},T0)}),{children:n,attributes:o}}}},O0={provides:function(e){var t=!1;eq.matchMedia&&(t=eq.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:N_(N_({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=N_(N_({},o),{},{attributeName:"opacity"}),a={tag:"circle",attributes:N_(N_({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:N_(N_({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:N_(N_({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:N_(N_({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:N_(N_({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:N_(N_({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:N_(N_({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},j0=[t$,R0,V0,W0,x0,F0,{mixout:function(){return{dom:{unwatch:function(){h0(),K0=!0}}}},hooks:function(){return{bootstrap:function(){A0(K$("mutationObserverCallbacks",{}))},noAuto:function(){f0&&f0.disconnect()},watch:function(e){var t=e.observeMutationsRoot;K0?p0():A0(K$("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},L0,D0,O0,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),o=null!==n&&(""===n||n);return e.symbol=o,e}}}}];!function(e,t){var n=t.mixoutsTo;E$=e,H$={},Object.keys(Y$).forEach((function(e){-1===F$.indexOf(e)&&delete Y$[e]})),E$.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===J_(t[e])&&Object.keys(t[e]).forEach((function(o){n[e]||(n[e]={}),n[e][o]=t[e][o]}))})),e.hooks){var o=e.hooks();Object.keys(o).forEach((function(e){H$[e]||(H$[e]=[]),H$[e].push(o[e])}))}e.provides&&e.provides(Y$)}))}(j0,{mixoutsTo:j$});var U0=j$.parse,P0=j$.icon,Q0=n(173),_0=n.n(Q0);function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q0(Object(n),!0).forEach((function(t){t1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e1(e){return e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e1(e)}function t1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n1(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o1(e){return function(e){if(Array.isArray(e))return r1(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a1(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var i1=["style"];var l1=!1;try{l1=!0}catch(Tie){}function c1(e){return e&&"object"===e1(e)&&e.prefix&&e.iconName&&e.icon?e:U0.icon?U0.icon(e):null===e?null:e&&"object"===e1(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function s1(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?t1({},e,t):{}}var g1={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},u1=e.forwardRef((function(e,t){var n=$0($0({},g1),e),o=n.icon,r=n.mask,a=n.symbol,i=n.className,l=n.title,c=n.titleId,s=n.maskId,g=c1(o),u=s1("classes",[].concat(o1(function(e){var t,n=e.beat,o=e.fade,r=e.beatFade,a=e.bounce,i=e.shake,l=e.flash,c=e.spin,s=e.spinPulse,g=e.spinReverse,u=e.pulse,d=e.fixedWidth,I=e.inverse,C=e.border,m=e.listItem,h=e.flip,p=e.size,f=e.rotation,A=e.pull,b=(t1(t={"fa-beat":n,"fa-fade":o,"fa-beat-fade":r,"fa-bounce":a,"fa-shake":i,"fa-flash":l,"fa-spin":c,"fa-spin-reverse":g,"fa-spin-pulse":s,"fa-pulse":u,"fa-fw":d,"fa-inverse":I,"fa-border":C,"fa-li":m,"fa-flip":!0===h,"fa-flip-horizontal":"horizontal"===h||"both"===h,"fa-flip-vertical":"vertical"===h||"both"===h},"fa-".concat(p),"undefined"!==typeof p&&null!==p),t1(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f&&0!==f),t1(t,"fa-pull-".concat(A),"undefined"!==typeof A&&null!==A),t1(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),o1((i||"").split(" ")))),d=s1("transform","string"===typeof n.transform?U0.transform(n.transform):n.transform),I=s1("mask",c1(r)),C=P0(g,$0($0($0($0({},u),d),I),{},{symbol:a,title:l,titleId:c,maskId:s}));if(!C)return function(){var e;!l1&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",g),null;var m=C.abstract,h={ref:t};return Object.keys(n).forEach((function(e){g1.hasOwnProperty(e)||(h[e]=n[e])})),d1(m[0],h)}));u1.displayName="FontAwesomeIcon",u1.propTypes={beat:_0().bool,border:_0().bool,beatFade:_0().bool,bounce:_0().bool,className:_0().string,fade:_0().bool,flash:_0().bool,mask:_0().oneOfType([_0().object,_0().array,_0().string]),maskId:_0().string,fixedWidth:_0().bool,inverse:_0().bool,flip:_0().oneOf([!0,!1,"horizontal","vertical","both"]),icon:_0().oneOfType([_0().object,_0().array,_0().string]),listItem:_0().bool,pull:_0().oneOf(["right","left"]),pulse:_0().bool,rotation:_0().oneOf([0,90,180,270]),shake:_0().bool,size:_0().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:_0().bool,spinPulse:_0().bool,spinReverse:_0().bool,symbol:_0().oneOfType([_0().bool,_0().string]),title:_0().string,titleId:_0().string,transform:_0().oneOfType([_0().string,_0().object]),swapOpacity:_0().bool};var d1=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var r=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var o=n.attributes[t];switch(t){case"class":e.attrs.className=o,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,o=t.indexOf(":"),r=a1(t.slice(0,o)),a=t.slice(o+1).trim();return r.startsWith("webkit")?e[(n=r,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[r]=a,e}),{})}(o);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=o:e.attrs[a1(t)]=o}return e}),{attrs:{}}),i=o.style,l=void 0===i?{}:i,c=n1(o,i1);return a.attrs.style=$0($0({},a.attrs.style),l),t.apply(void 0,[n.tag,$0($0({},a.attrs),c)].concat(o1(r)))}.bind(null,e.createElement),I1={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},C1={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"]},m1={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},h1={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]};const p1=e=>{let{className:t}=e;const n=Se();return(0,et.jsxs)("div",{className:"BackButton tw-flex tw-flex-row tw-items-center tw-self-start tw-mt-5 ".concat(t),onClick:()=>n(-1),style:{color:"#017AFF"},children:[(0,et.jsx)(u1,{icon:h1}),(0,et.jsx)("div",{className:"tw-ml-2 tw-text-base",children:"Tr\u1edf l\u1ea1i"})]})},f1=e=>{const t=Se(),n=R(),o=async e=>{try{const{user:o,isExist:r}=await e(),a=(e=>{let{displayName:t,email:n,uid:o}=e;return{username:t,email:n,uid:o}})(o);if(r){const{uid:e}=o,r=await Fb(e);n(qn(r)),localStorage.setItem("user",JSON.stringify(r)),RR.success({message:"\u0110\u0103ng nh\u1eadp!",description:"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"}),t("/home")}else t("/signup/role",{state:a})}catch(Tie){console.error(Tie)}};return(0,et.jsxs)("div",{className:"LoginProviders tw-flex tw-flex-row tw-m-3",children:[(0,et.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/2991/2991148.png",alt:"google icon",onClick:()=>o(Mb)}),(0,et.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/900px-Facebook_Logo_%282019%29.png",alt:"facebook icon",className:"tw-ml-2",onClick:()=>o(Lb)})]})},A1=e=>(0,et.jsxs)("div",{className:"SignUpPage tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)("div",{style:{width:"400px"},children:(0,et.jsx)(p1,{})}),(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/dogtor.png"),alt:"dogtor",width:"140px",height:"140px",className:"tw-rounded-full"}),(0,et.jsx)(x_,{}),(0,et.jsx)("div",{className:"tw-mt-4",children:"Ho\u1eb7c \u0111\u0103ng k\xed v\u1edbi"}),(0,et.jsx)(f1,{})]});function b1(e){return!(!e||!e.then)}const v1=t=>{const{type:n,children:o,prefixCls:r,buttonProps:a,close:i,autoFocus:l,emitEvent:c,isSilent:s,quitOnNullishReturnValue:g,actionFn:u}=t,d=e.useRef(!1),I=e.useRef(null),[C,m]=UG(!1),h=function(){null===i||void 0===i||i.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return l&&(e=setTimeout((()=>{var e;null===(e=I.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(AE,Object.assign({},wJ(n),{onClick:e=>{if(d.current)return;if(d.current=!0,!u)return void h();let t;if(c){if(t=u(e),g&&!b1(t))return d.current=!1,void h(e)}else if(u.length)t=u(i),d.current=!1;else if(t=u(),!b1(t))return void h();(e=>{b1(e)&&(m(!0),e.then((function(){m(!1,!0),h.apply(void 0,arguments),d.current=!1}),(e=>{if(m(!1,!0),d.current=!1,!(null===s||void 0===s?void 0:s()))return Promise.reject(e)})))})(t)},loading:C,prefixCls:r},a,{ref:I}),o)},y1=e.createContext({}),{Provider:Z1}=y1,S1=()=>{const{autoFocusButton:t,cancelButtonProps:n,cancelTextLocale:o,isSilent:r,mergedOkCancel:a,rootPrefixCls:i,close:l,onCancel:c,onConfirm:s}=(0,e.useContext)(y1);return a?e.createElement(v1,{isSilent:r,actionFn:c,close:function(){null===l||void 0===l||l.apply(void 0,arguments),null===s||void 0===s||s(!1)},autoFocus:"cancel"===t,buttonProps:n,prefixCls:"".concat(i,"-btn")},o):null},G1=()=>{const{autoFocusButton:t,close:n,isSilent:o,okButtonProps:r,rootPrefixCls:a,okTextLocale:i,okType:l,onConfirm:c,onOk:s}=(0,e.useContext)(y1);return e.createElement(v1,{isSilent:o,type:l||"primary",actionFn:s,close:function(){null===n||void 0===n||n.apply(void 0,arguments),null===c||void 0===c||c(!0)},autoFocus:"ok"===t,buttonProps:r,prefixCls:"".concat(a,"-btn")},i)};var B1=e.createContext({});function k1(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function w1(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var r=e.document;"number"!==typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}const R1=e.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var V1={width:0,height:0,overflow:"hidden",outline:"none"},W1={outline:"none"},x1=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.className,a=t.style,i=t.title,l=t.ariaId,c=t.footer,s=t.closable,g=t.closeIcon,u=t.onClose,d=t.children,I=t.bodyStyle,C=t.bodyProps,m=t.modalRender,h=t.onMouseDown,p=t.onMouseUp,f=t.holderRef,A=t.visible,b=t.forceRender,v=t.width,y=t.height,Z=t.classNames,S=t.styles,G=e.useContext(B1).panel,B=xG(f,G),k=(0,e.useRef)(),w=(0,e.useRef)(),R=(0,e.useRef)();e.useImperativeHandle(n,(function(){return{focus:function(){var e;null===(e=R.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===w.current?k.current.focus():e||t!==k.current||w.current.focus()}}}));var V,W,x={};void 0!==v&&(x.width=v),void 0!==y&&(x.height=y),c&&(V=e.createElement("div",{className:BG()("".concat(o,"-footer"),null===Z||void 0===Z?void 0:Z.footer),style:cn({},null===S||void 0===S?void 0:S.footer)},c)),i&&(W=e.createElement("div",{className:BG()("".concat(o,"-header"),null===Z||void 0===Z?void 0:Z.header),style:cn({},null===S||void 0===S?void 0:S.header)},e.createElement("div",{className:"".concat(o,"-title"),id:l},i)));var X,N=(0,e.useMemo)((function(){return"object"===on(s)&&null!==s?s:s?{closeIcon:null!==g&&void 0!==g?g:e.createElement("span",{className:"".concat(o,"-close-x")})}:{}}),[s,g]),J=sw(N,!0);s&&(X=e.createElement("button",Ey({type:"button",onClick:u,"aria-label":"Close"},J,{className:"".concat(o,"-close")}),N.closeIcon));var E=e.createElement("div",{className:BG()("".concat(o,"-content"),null===Z||void 0===Z?void 0:Z.content),style:null===S||void 0===S?void 0:S.content},X,W,e.createElement("div",Ey({className:BG()("".concat(o,"-body"),null===Z||void 0===Z?void 0:Z.body),style:cn(cn({},I),null===S||void 0===S?void 0:S.body)},C),d),V);return e.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?l:null,"aria-modal":"true",ref:B,style:cn(cn({},a),x),className:BG()(o,r),onMouseDown:h,onMouseUp:p},e.createElement("div",{tabIndex:0,ref:k,style:V1,"aria-hidden":"true"}),e.createElement("div",{ref:R,tabIndex:-1,style:W1},e.createElement(R1,{shouldUpdate:A||b},m?m(E):E)),e.createElement("div",{tabIndex:0,ref:w,style:V1,"aria-hidden":"true"}))}));const X1=x1;var N1=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.title,a=t.style,i=t.className,l=t.visible,c=t.forceRender,s=t.destroyOnClose,g=t.motionName,u=t.ariaId,d=t.onVisibleChanged,I=t.mousePosition,C=(0,e.useRef)(),m=hv(e.useState(),2),h=m[0],p=m[1],f={};function A(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow;return n.left+=w1(r),n.top+=w1(r,!0),n}(C.current);p(I?"".concat(I.x-e.left,"px ").concat(I.y-e.top,"px"):"")}return h&&(f.transformOrigin=h),e.createElement(DB,{visible:l,onVisibleChanged:d,onAppearPrepare:A,onEnterPrepare:A,forceRender:c,motionName:g,removeOnLeave:s,ref:C},(function(l,c){var s=l.className,g=l.style;return e.createElement(X1,Ey({},t,{ref:n,title:r,ariaId:u,prefixCls:o,holderRef:c,style:cn(cn(cn({},g),a),f),className:BG()(i,s)}))}))}));N1.displayName="Content";const J1=N1;function E1(t){var n=t.prefixCls,o=t.style,r=t.visible,a=t.maskProps,i=t.motionName,l=t.className;return e.createElement(DB,{key:"mask",visible:r,motionName:i,leavedClassName:"".concat(n,"-mask-hidden")},(function(t,r){var i=t.className,c=t.style;return e.createElement("div",Ey({ref:r,style:cn(cn({},c),o),className:BG()("".concat(n,"-mask"),i,l)},a))}))}function H1(t){var n=t.prefixCls,o=void 0===n?"rc-dialog":n,r=t.zIndex,a=t.visible,i=void 0!==a&&a,l=t.keyboard,c=void 0===l||l,s=t.focusTriggerAfterClose,g=void 0===s||s,u=t.wrapStyle,d=t.wrapClassName,I=t.wrapProps,C=t.onClose,m=t.afterOpenChange,h=t.afterClose,p=t.transitionName,f=t.animation,A=t.closable,b=void 0===A||A,v=t.mask,y=void 0===v||v,Z=t.maskTransitionName,S=t.maskAnimation,G=t.maskClosable,B=void 0===G||G,k=t.maskStyle,w=t.maskProps,R=t.rootClassName,V=t.classNames,W=t.styles;var x=(0,e.useRef)(),X=(0,e.useRef)(),N=(0,e.useRef)(),J=hv(e.useState(i),2),E=J[0],H=J[1],Y=BV();function F(e){null===C||void 0===C||C(e)}var K=(0,e.useRef)(!1),M=(0,e.useRef)(),L=null;return B&&(L=function(e){K.current?K.current=!1:X.current===e.target&&F(e)}),(0,e.useEffect)((function(){i&&(H(!0),vv(X.current,document.activeElement)||(x.current=document.activeElement))}),[i]),(0,e.useEffect)((function(){return function(){clearTimeout(M.current)}}),[]),e.createElement("div",Ey({className:BG()("".concat(o,"-root"),R)},sw(t,{data:!0})),e.createElement(E1,{prefixCls:o,visible:y&&i,motionName:k1(o,Z,S),style:cn(cn({zIndex:r},k),null===W||void 0===W?void 0:W.mask),maskProps:w,className:null===V||void 0===V?void 0:V.mask}),e.createElement("div",Ey({tabIndex:-1,onKeyDown:function(e){if(c&&e.keyCode===rw.ESC)return e.stopPropagation(),void F(e);i&&e.keyCode===rw.TAB&&N.current.changeActive(!e.shiftKey)},className:BG()("".concat(o,"-wrap"),d,null===V||void 0===V?void 0:V.wrapper),ref:X,onClick:L,style:cn(cn(cn({zIndex:r},u),null===W||void 0===W?void 0:W.wrapper),{},{display:E?null:"none"})},I),e.createElement(J1,Ey({},t,{onMouseDown:function(){clearTimeout(M.current),K.current=!0},onMouseUp:function(){M.current=setTimeout((function(){K.current=!1}))},ref:N,closable:b,ariaId:Y,prefixCls:o,visible:i&&E,onClose:F,onVisibleChanged:function(e){if(e)!function(){var e;vv(X.current,document.activeElement)||null===(e=N.current)||void 0===e||e.focus()}();else{if(H(!1),y&&x.current&&g){try{x.current.focus({preventScroll:!0})}catch(Tie){}x.current=null}E&&(null===h||void 0===h||h())}null===m||void 0===m||m(e)},motionName:k1(o,p,f)}))))}var Y1=function(t){var n=t.visible,o=t.getContainer,r=t.forceRender,a=t.destroyOnClose,i=void 0!==a&&a,l=t.afterClose,c=t.panelRef,s=hv(e.useState(n),2),g=s[0],u=s[1],d=e.useMemo((function(){return{panel:c}}),[c]);return e.useEffect((function(){n&&u(!0)}),[n]),r||!i||g?e.createElement(B1.Provider,{value:d},e.createElement(DR,{open:n||r||g,autoDestroy:!1,getContainer:o,autoLock:n||g},e.createElement(H1,Ey({},t,{destroyOnClose:i,afterClose:function(){null===l||void 0===l||l(),u(!1)}})))):null};Y1.displayName="Dialog";const F1=Y1;function K1(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function M1(t){const{closable:n,closeIcon:o}=t||{};return e.useMemo((()=>{if(!n&&(!1===n||!1===o||null===o))return!1;if(void 0===n&&void 0===o)return null;let e={closeIcon:"boolean"!==typeof o&&null!==o?o:void 0};return n&&"object"===typeof n&&(e=Object.assign(Object.assign({},e),n)),e}),[n,o])}function L1(){const e={};for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((t=>{t&&Object.keys(t).forEach((n=>{void 0!==t[n]&&(e[n]=t[n])}))})),e}const T1={};const z1=t=>{const{prefixCls:n,className:o,style:r,size:a,shape:i}=t,l=BG()({["".concat(n,"-lg")]:"large"===a,["".concat(n,"-sm")]:"small"===a}),c=BG()({["".concat(n,"-circle")]:"circle"===i,["".concat(n,"-square")]:"square"===i,["".concat(n,"-round")]:"round"===i}),s=e.useMemo((()=>"number"===typeof a?{width:a,height:a,lineHeight:"".concat(a,"px")}:{}),[a]);return e.createElement("span",{className:BG()(n,l,c,o),style:Object.assign(Object.assign({},s),r)})},D1=new TZ("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),O1=e=>({height:e,lineHeight:Iy(e)}),j1=e=>Object.assign({width:e},O1(e)),U1=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:D1,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),P1=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},O1(e)),Q1=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:o,controlHeightLG:r,controlHeightSM:a}=e;return{["".concat(t)]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},j1(o)),["".concat(t).concat(t,"-circle")]:{borderRadius:"50%"},["".concat(t).concat(t,"-lg")]:Object.assign({},j1(r)),["".concat(t).concat(t,"-sm")]:Object.assign({},j1(a))}},_1=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:o,controlHeightLG:r,controlHeightSM:a,gradientFromColor:i,calc:l}=e;return{["".concat(o)]:Object.assign({display:"inline-block",verticalAlign:"top",background:i,borderRadius:n},P1(t,l)),["".concat(o,"-lg")]:Object.assign({},P1(r,l)),["".concat(o,"-sm")]:Object.assign({},P1(a,l))}},q1=e=>Object.assign({width:e},O1(e)),$1=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:o,borderRadiusSM:r,calc:a}=e;return{["".concat(t)]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:r},q1(a(n).mul(2).equal())),{["".concat(t,"-path")]:{fill:"#bfbfbf"},["".concat(t,"-svg")]:Object.assign(Object.assign({},q1(n)),{maxWidth:a(n).mul(4).equal(),maxHeight:a(n).mul(4).equal()}),["".concat(t,"-svg").concat(t,"-svg-circle")]:{borderRadius:"50%"}}),["".concat(t).concat(t,"-circle")]:{borderRadius:"50%"}}},e2=(e,t,n)=>{const{skeletonButtonCls:o}=e;return{["".concat(n).concat(o,"-circle")]:{width:t,minWidth:t,borderRadius:"50%"},["".concat(n).concat(o,"-round")]:{borderRadius:t}}},t2=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},O1(e)),n2=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:o,controlHeightLG:r,controlHeightSM:a,gradientFromColor:i,calc:l}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({["".concat(n)]:Object.assign({display:"inline-block",verticalAlign:"top",background:i,borderRadius:t,width:l(o).mul(2).equal(),minWidth:l(o).mul(2).equal()},t2(o,l))},e2(e,o,n)),{["".concat(n,"-lg")]:Object.assign({},t2(r,l))}),e2(e,r,"".concat(n,"-lg"))),{["".concat(n,"-sm")]:Object.assign({},t2(a,l))}),e2(e,a,"".concat(n,"-sm")))},o2=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:o,skeletonParagraphCls:r,skeletonButtonCls:a,skeletonInputCls:i,skeletonImageCls:l,controlHeight:c,controlHeightLG:s,controlHeightSM:g,gradientFromColor:u,padding:d,marginSM:I,borderRadius:C,titleHeight:m,blockRadius:h,paragraphLiHeight:p,controlHeightXS:f,paragraphMarginTop:A}=e;return{["".concat(t)]:{display:"table",width:"100%",["".concat(t,"-header")]:{display:"table-cell",paddingInlineEnd:d,verticalAlign:"top",["".concat(n)]:Object.assign({display:"inline-block",verticalAlign:"top",background:u},j1(c)),["".concat(n,"-circle")]:{borderRadius:"50%"},["".concat(n,"-lg")]:Object.assign({},j1(s)),["".concat(n,"-sm")]:Object.assign({},j1(g))},["".concat(t,"-content")]:{display:"table-cell",width:"100%",verticalAlign:"top",["".concat(o)]:{width:"100%",height:m,background:u,borderRadius:h,["+ ".concat(r)]:{marginBlockStart:g}},["".concat(r)]:{padding:0,"> li":{width:"100%",height:p,listStyle:"none",background:u,borderRadius:h,"+ li":{marginBlockStart:f}}},["".concat(r,"> li:last-child:not(:first-child):not(:nth-child(2))")]:{width:"61%"}},["&-round ".concat(t,"-content")]:{["".concat(o,", ").concat(r," > li")]:{borderRadius:C}}},["".concat(t,"-with-avatar ").concat(t,"-content")]:{["".concat(o)]:{marginBlockStart:I,["+ ".concat(r)]:{marginBlockStart:A}}},["".concat(t).concat(t,"-element")]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},n2(e)),Q1(e)),_1(e)),$1(e)),["".concat(t).concat(t,"-block")]:{width:"100%",["".concat(a)]:{width:"100%"},["".concat(i)]:{width:"100%"}},["".concat(t).concat(t,"-active")]:{["\n        ".concat(o,",\n        ").concat(r," > li,\n        ").concat(n,",\n        ").concat(a,",\n        ").concat(i,",\n        ").concat(l,"\n      ")]:Object.assign({},U1(e))}}},r2=Uw("Skeleton",(e=>{const{componentCls:t,calc:n}=e,o=xw(e,{skeletonAvatarCls:"".concat(t,"-avatar"),skeletonTitleCls:"".concat(t,"-title"),skeletonParagraphCls:"".concat(t,"-paragraph"),skeletonButtonCls:"".concat(t,"-button"),skeletonInputCls:"".concat(t,"-input"),skeletonImageCls:"".concat(t,"-image"),imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, ".concat(e.gradientFromColor," 25%, ").concat(e.gradientToColor," 37%, ").concat(e.gradientFromColor," 63%)"),skeletonLoadingMotionDuration:"1.4s"});return[o2(o)]}),(e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}}),{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),a2=t=>{const{prefixCls:n,className:o,rootClassName:r,active:a,shape:i="circle",size:l="default"}=t,{getPrefixCls:c}=e.useContext(gv),s=c("skeleton",n),[g,u,d]=r2(s),I=cW(t,["prefixCls","className"]),C=BG()(s,"".concat(s,"-element"),{["".concat(s,"-active")]:a},o,r,u,d);return g(e.createElement("div",{className:C},e.createElement(z1,Object.assign({prefixCls:"".concat(s,"-avatar"),shape:i,size:l},I))))},i2=t=>{const{prefixCls:n,className:o,rootClassName:r,active:a,block:i=!1,size:l="default"}=t,{getPrefixCls:c}=e.useContext(gv),s=c("skeleton",n),[g,u,d]=r2(s),I=cW(t,["prefixCls"]),C=BG()(s,"".concat(s,"-element"),{["".concat(s,"-active")]:a,["".concat(s,"-block")]:i},o,r,u,d);return g(e.createElement("div",{className:C},e.createElement(z1,Object.assign({prefixCls:"".concat(s,"-button"),size:l},I))))},l2=t=>{const{prefixCls:n,className:o,rootClassName:r,style:a,active:i}=t,{getPrefixCls:l}=e.useContext(gv),c=l("skeleton",n),[s,g,u]=r2(c),d=BG()(c,"".concat(c,"-element"),{["".concat(c,"-active")]:i},o,r,g,u);return s(e.createElement("div",{className:d},e.createElement("div",{className:BG()("".concat(c,"-image"),o),style:a},e.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(c,"-image-svg")},e.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(c,"-image-path")})))))},c2=t=>{const{prefixCls:n,className:o,rootClassName:r,active:a,block:i,size:l="default"}=t,{getPrefixCls:c}=e.useContext(gv),s=c("skeleton",n),[g,u,d]=r2(s),I=cW(t,["prefixCls"]),C=BG()(s,"".concat(s,"-element"),{["".concat(s,"-active")]:a,["".concat(s,"-block")]:i},o,r,u,d);return g(e.createElement("div",{className:C},e.createElement(z1,Object.assign({prefixCls:"".concat(s,"-input"),size:l},I))))};const s2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};var g2=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:s2}))};const u2=e.forwardRef(g2),d2=t=>{const{prefixCls:n,className:o,rootClassName:r,style:a,active:i,children:l}=t,{getPrefixCls:c}=e.useContext(gv),s=c("skeleton",n),[g,u,d]=r2(s),I=BG()(s,"".concat(s,"-element"),{["".concat(s,"-active")]:i},u,o,r,d),C=null!==l&&void 0!==l?l:e.createElement(u2,null);return g(e.createElement("div",{className:I},e.createElement("div",{className:BG()("".concat(s,"-image"),o),style:a},C)))},I2=(e,t)=>{const{width:n,rows:o=2}=t;return Array.isArray(n)?n[e]:o-1===e?n:void 0},C2=t=>{const{prefixCls:n,className:o,style:r,rows:a}=t,i=fv(Array(a)).map(((n,o)=>e.createElement("li",{key:o,style:{width:I2(o,t)}})));return e.createElement("ul",{className:BG()(n,o),style:r},i)},m2=t=>{let{prefixCls:n,className:o,width:r,style:a}=t;return e.createElement("h3",{className:BG()(n,o),style:Object.assign({width:r},a)})};function h2(e){return e&&"object"===typeof e?e:{}}const p2=t=>{const{prefixCls:n,loading:o,className:r,rootClassName:a,style:i,children:l,avatar:c=!1,title:s=!0,paragraph:g=!0,active:u,round:d}=t,{getPrefixCls:I,direction:C,skeleton:m}=e.useContext(gv),h=I("skeleton",n),[p,f,A]=r2(h);if(o||!("loading"in t)){const t=!!c,n=!!s,o=!!g;let l,I;if(t){const t=Object.assign(Object.assign({prefixCls:"".concat(h,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(n,o)),h2(c));l=e.createElement("div",{className:"".concat(h,"-header")},e.createElement(z1,Object.assign({},t)))}if(n||o){let r,a;if(n){const n=Object.assign(Object.assign({prefixCls:"".concat(h,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(t,o)),h2(s));r=e.createElement(m2,Object.assign({},n))}if(o){const o=Object.assign(Object.assign({prefixCls:"".concat(h,"-paragraph")},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(t,n)),h2(g));a=e.createElement(C2,Object.assign({},o))}I=e.createElement("div",{className:"".concat(h,"-content")},r,a)}const b=BG()(h,{["".concat(h,"-with-avatar")]:t,["".concat(h,"-active")]:u,["".concat(h,"-rtl")]:"rtl"===C,["".concat(h,"-round")]:d},null===m||void 0===m?void 0:m.className,r,a,f,A);return p(e.createElement("div",{className:b,style:Object.assign(Object.assign({},null===m||void 0===m?void 0:m.style),i)},l,I))}return null!==l&&void 0!==l?l:null};p2.Button=i2,p2.Avatar=a2,p2.Input=c2,p2.Image=l2,p2.Node=d2;const f2=p2;function A2(){}const b2=e.createContext({add:A2,remove:A2});const v2=()=>{const{cancelButtonProps:t,cancelTextLocale:n,onCancel:o}=(0,e.useContext)(y1);return e.createElement(AE,Object.assign({onClick:o},t),n)},y2=()=>{const{confirmLoading:t,okButtonProps:n,okType:o,okTextLocale:r,onOk:a}=(0,e.useContext)(y1);return e.createElement(AE,Object.assign({},wJ(o),{loading:t,onClick:a},n),r)};function Z2(t,n){return e.createElement("span",{className:"".concat(t,"-close-x")},n||e.createElement(jk,{className:"".concat(t,"-close-icon")}))}const S2=t=>{const{okText:n,okType:o="primary",cancelText:r,confirmLoading:a,onOk:i,onCancel:l,okButtonProps:c,cancelButtonProps:s,footer:g}=t,[u]=rz("Modal",dS()),d={confirmLoading:a,okButtonProps:c,cancelButtonProps:s,okTextLocale:n||(null===u||void 0===u?void 0:u.okText),cancelTextLocale:r||(null===u||void 0===u?void 0:u.cancelText),okType:o,onOk:i,onCancel:l},I=e.useMemo((()=>d),fv(Object.values(d)));let C;return"function"===typeof g||"undefined"===typeof g?(C=e.createElement(e.Fragment,null,e.createElement(v2,null),e.createElement(y2,null)),"function"===typeof g&&(C=g(C,{OkBtn:y2,CancelBtn:v2})),C=e.createElement(Z1,{value:I},C)):C=g,e.createElement(hG,{disabled:!1},C)},G2=new TZ("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),B2=new TZ("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),k2=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=e,o="".concat(n,"-fade"),r=t?"&":"";return[OX(o,G2,B2,e.motionDurationMid,t),{["\n        ".concat(r).concat(o,"-enter,\n        ").concat(r).concat(o,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(r).concat(o,"-leave")]:{animationTimingFunction:"linear"}}]};function w2(e){return{position:e,inset:0}}const R2=e=>{const{componentCls:t,antCls:n}=e;return[{["".concat(t,"-root")]:{["".concat(t).concat(n,"-zoom-enter, ").concat(t).concat(n,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},["".concat(t).concat(n,"-zoom-leave ").concat(t,"-content")]:{pointerEvents:"none"},["".concat(t,"-mask")]:Object.assign(Object.assign({},w2("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",["".concat(t,"-hidden")]:{display:"none"}}),["".concat(t,"-wrap")]:Object.assign(Object.assign({},w2("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(t,"-root")]:k2(e)}]},V2=e=>{const{componentCls:t}=e;return[{["".concat(t,"-root")]:{["".concat(t,"-wrap-rtl")]:{direction:"rtl"},["".concat(t,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(e.screenSMMax,"px)")]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:"".concat(Iy(e.marginXS)," auto")},["".concat(t,"-centered")]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},ik(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(Iy(e.calc(e.margin).mul(2).equal()),")"),margin:"0 auto",paddingBottom:e.paddingLG,["".concat(t,"-title")]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},["".concat(t,"-content")]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},["".concat(t,"-close")]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(e.motionDurationMid,", background-color ").concat(e.motionDurationMid),"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(Iy(e.modalCloseBtnSize)),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},gk(e)),["".concat(t,"-header")]:{color:e.colorText,background:e.headerBg,borderRadius:"".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0 0"),marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},["".concat(t,"-body")]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,["".concat(t,"-body-skeleton")]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(Iy(e.margin)," auto")}},["".concat(t,"-footer")]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,["> ".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginInlineStart:e.marginXS}},["".concat(t,"-open")]:{overflow:"hidden"}})},{["".concat(t,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(t,"-content,\n          ").concat(t,"-body,\n          ").concat(t,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(t,"-confirm-body")]:{marginBottom:"auto"}}}]},W2=e=>{const{componentCls:t}=e;return{["".concat(t,"-root")]:{["".concat(t,"-wrap-rtl")]:{direction:"rtl",["".concat(t,"-confirm-body")]:{direction:"rtl"}}}}},x2=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return xw(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},X2=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:"".concat(Iy(e.paddingMD)," ").concat(Iy(e.paddingContentHorizontalLG)),headerPadding:e.wireframe?"".concat(Iy(e.padding)," ").concat(Iy(e.paddingLG)):0,headerBorderBottom:e.wireframe?"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit):"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?"".concat(Iy(e.paddingXS)," ").concat(Iy(e.padding)):0,footerBorderTop:e.wireframe?"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit):"none",footerBorderRadius:e.wireframe?"0 0 ".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)):0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?"".concat(Iy(2*e.padding)," ").concat(Iy(2*e.padding)," ").concat(Iy(e.paddingLG)):0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),N2=Uw("Modal",(e=>{const t=x2(e);return[V2(t),W2(t),R2(t),iN(t,"zoom")]}),X2,{unitless:{titleLineHeight:!0}});var J2=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};let E2;const H2=e=>{E2={x:e.pageX,y:e.pageY},setTimeout((()=>{E2=null}),100)};bv()&&window.document.documentElement&&document.documentElement.addEventListener("click",H2,!0);const Y2=t=>{var n;const{getPopupContainer:o,getPrefixCls:r,direction:a,modal:i}=e.useContext(gv),l=e=>{const{onCancel:n}=t;null===n||void 0===n||n(e)};const{prefixCls:c,className:s,rootClassName:g,open:u,wrapClassName:d,centered:I,getContainer:C,focusTriggerAfterClose:m=!0,style:h,visible:p,width:f=520,footer:A,classNames:b,styles:v,children:y,loading:Z}=t,S=J2(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),G=r("modal",c),B=r(),k=Zw(G),[w,R,V]=N2(G,k),W=BG()(d,{["".concat(G,"-centered")]:!!I,["".concat(G,"-wrap-rtl")]:"rtl"===a}),x=null===A||Z?null:e.createElement(S2,Object.assign({},t,{onOk:e=>{const{onOk:n}=t;null===n||void 0===n||n(e)},onCancel:l})),[X,N]=function(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T1;const r=M1(t),a=M1(n),i=e.useMemo((()=>Object.assign({closeIcon:e.createElement(jk,null)},o)),[o]),l=e.useMemo((()=>!1!==r&&(r?L1(i,a,r):!1!==a&&(a?L1(i,a):!!i.closable&&i))),[r,a,i]);return e.useMemo((()=>{if(!1===l)return[!1,null];const{closeIconRender:t}=i,{closeIcon:n}=l;let o=n;if(null!==o&&void 0!==o){t&&(o=t(n));const r=sw(l,!0);Object.keys(r).length&&(o=e.isValidElement(o)?e.cloneElement(o,r):e.createElement("span",Object.assign({},r),o))}return[!0,o]}),[l,i])}(K1(t),K1(i),{closable:!0,closeIcon:e.createElement(jk,{className:"".concat(G,"-close-icon")}),closeIconRender:e=>Z2(G,e)}),J=function(t){const n=e.useContext(b2),o=e.useRef();return jG((e=>{if(e){const r=t?e.querySelector(t):e;n.add(r),o.current=r}else n.remove(o.current)}))}(".".concat(G,"-content")),[E,H]=Rw("Modal",S.zIndex);return w(e.createElement(MX,null,e.createElement(QL,{status:!0,override:!0},e.createElement(Sw.Provider,{value:H},e.createElement(F1,Object.assign({width:f},S,{zIndex:E,getContainer:void 0===C?o:C,prefixCls:G,rootClassName:BG()(R,g,V,k),footer:x,visible:null!==u&&void 0!==u?u:p,mousePosition:null!==(n=S.mousePosition)&&void 0!==n?n:E2,onClose:l,closable:X,closeIcon:N,focusTriggerAfterClose:m,transitionName:bX(B,"zoom",t.transitionName),maskTransitionName:bX(B,"fade",t.maskTransitionName),className:BG()(R,s,null===i||void 0===i?void 0:i.className),style:Object.assign(Object.assign({},null===i||void 0===i?void 0:i.style),h),classNames:Object.assign(Object.assign(Object.assign({},null===i||void 0===i?void 0:i.classNames),b),{wrapper:BG()(W,null===b||void 0===b?void 0:b.wrapper)}),styles:Object.assign(Object.assign({},null===i||void 0===i?void 0:i.styles),v),panelRef:J}),Z?e.createElement(f2,{active:!0,title:!1,paragraph:{rows:4},className:"".concat(G,"-body-skeleton")}):y)))))},F2=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:r,fontSize:a,lineHeight:i,modalTitleHeight:l,fontHeight:c,confirmBodyPadding:s}=e,g="".concat(t,"-confirm");return{[g]:{"&-rtl":{direction:"rtl"},["".concat(e.antCls,"-modal-header")]:{display:"none"},["".concat(g,"-body-wrapper")]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),["&".concat(t," ").concat(t,"-body")]:{padding:s},["".concat(g,"-body")]:{display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(e.iconCls)]:{flex:"none",fontSize:r,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(r).equal()).div(2).equal()},["&-has-title > ".concat(e.iconCls)]:{marginTop:e.calc(e.calc(l).sub(r).equal()).div(2).equal()}},["".concat(g,"-paragraph")]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},["".concat(e.iconCls," + ").concat(g,"-paragraph")]:{maxWidth:"calc(100% - ".concat(Iy(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal()),")")},["".concat(g,"-title")]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},["".concat(g,"-content")]:{color:e.colorText,fontSize:a,lineHeight:i},["".concat(g,"-btns")]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginBottom:0,marginInlineStart:e.marginXS}}},["".concat(g,"-error ").concat(g,"-body > ").concat(e.iconCls)]:{color:e.colorError},["".concat(g,"-warning ").concat(g,"-body > ").concat(e.iconCls,",\n        ").concat(g,"-confirm ").concat(g,"-body > ").concat(e.iconCls)]:{color:e.colorWarning},["".concat(g,"-info ").concat(g,"-body > ").concat(e.iconCls)]:{color:e.colorInfo},["".concat(g,"-success ").concat(g,"-body > ").concat(e.iconCls)]:{color:e.colorSuccess}}},K2=jw(["Modal","confirm"],(e=>{const t=x2(e);return[F2(t)]}),X2,{order:-1e3});var M2=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function L2(t){const{prefixCls:n,icon:o,okText:r,cancelText:a,confirmPrefixCls:i,type:l,okCancel:c,footer:s,locale:g}=t,u=M2(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=o;if(!o&&null!==o)switch(l){case"info":d=e.createElement($k,null);break;case"success":d=e.createElement(Mk,null);break;case"error":d=e.createElement(zk,null);break;default:d=e.createElement(Qk,null)}const I=null!==c&&void 0!==c?c:"confirm"===l,C=null!==t.autoFocusButton&&(t.autoFocusButton||"ok"),[m]=rz("Modal"),h=g||m,p=r||(I?null===h||void 0===h?void 0:h.okText:null===h||void 0===h?void 0:h.justOkText),f=a||(null===h||void 0===h?void 0:h.cancelText),A=Object.assign({autoFocusButton:C,cancelTextLocale:f,okTextLocale:p,mergedOkCancel:I},u),b=e.useMemo((()=>A),fv(Object.values(A))),v=e.createElement(e.Fragment,null,e.createElement(S1,null),e.createElement(G1,null)),y=void 0!==t.title&&null!==t.title,Z="".concat(i,"-body");return e.createElement("div",{className:"".concat(i,"-body-wrapper")},e.createElement("div",{className:BG()(Z,{["".concat(Z,"-has-title")]:y})},d,e.createElement("div",{className:"".concat(i,"-paragraph")},y&&e.createElement("span",{className:"".concat(i,"-title")},t.title),e.createElement("div",{className:"".concat(i,"-content")},t.content))),void 0===s||"function"===typeof s?e.createElement(Z1,{value:b},e.createElement("div",{className:"".concat(i,"-btns")},"function"===typeof s?s(v,{OkBtn:G1,CancelBtn:S1}):v)):s,e.createElement(K2,{prefixCls:n}))}const T2=t=>{const{close:n,zIndex:o,afterClose:r,open:a,keyboard:i,centered:l,getContainer:c,maskStyle:s,direction:g,prefixCls:u,wrapClassName:d,rootPrefixCls:I,bodyStyle:C,closable:m=!1,closeIcon:h,modalRender:p,focusTriggerAfterClose:f,onConfirm:A,styles:b}=t;const v="".concat(u,"-confirm"),y=t.width||416,Z=t.style||{},S=void 0===t.mask||t.mask,G=void 0!==t.maskClosable&&t.maskClosable,B=BG()(v,"".concat(v,"-").concat(t.type),{["".concat(v,"-rtl")]:"rtl"===g},t.className),[,k]=nk(),w=e.useMemo((()=>void 0!==o?o:k.zIndexPopupBase+Bw),[o,k]);return e.createElement(Y2,{prefixCls:u,className:B,wrapClassName:BG()({["".concat(v,"-centered")]:!!t.centered},d),onCancel:()=>{null===n||void 0===n||n({triggerCancel:!0}),null===A||void 0===A||A(!1)},open:a,title:"",footer:null,transitionName:bX(I||"","zoom",t.transitionName),maskTransitionName:bX(I||"","fade",t.maskTransitionName),mask:S,maskClosable:G,style:Z,styles:Object.assign({body:C,mask:s},b),width:y,zIndex:w,afterClose:r,keyboard:i,centered:l,getContainer:c,closable:m,closeIcon:h,modalRender:p,focusTriggerAfterClose:f},e.createElement(L2,Object.assign({},t,{confirmPrefixCls:v})))};const z2=t=>{const{rootPrefixCls:n,iconPrefixCls:o,direction:r,theme:a}=t;return e.createElement(Zk,{prefixCls:n,iconPrefixCls:o,direction:r,theme:a},e.createElement(T2,Object.assign({},t)))},D2=[];let O2="";function j2(){return O2}const U2=t=>{var n,o;const{prefixCls:r,getContainer:a,direction:i}=t,l=dS(),c=(0,e.useContext)(gv),s=j2()||c.getPrefixCls(),g=r||"".concat(s,"-modal");let u=a;return!1===u&&(u=void 0),e.createElement(z2,Object.assign({},t,{rootPrefixCls:s,prefixCls:g,iconPrefixCls:c.iconPrefixCls,theme:c.theme,direction:null!==i&&void 0!==i?i:c.direction,locale:null!==(o=null===(n=c.locale)||void 0===n?void 0:n.Modal)&&void 0!==o?o:l,getContainer:u}))};function P2(t){const n=bk();const o=document.createDocumentFragment();let r,a=Object.assign(Object.assign({},t),{close:c,open:!0});function i(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n.some((e=>e&&e.triggerCancel));t.onCancel&&a&&t.onCancel.apply(t,[()=>{}].concat(fv(n.slice(1))));for(let t=0;t<D2.length;t++){if(D2[t]===c){D2.splice(t,1);break}}iv(o)}function l(t){clearTimeout(r),r=setTimeout((()=>{const r=n.getPrefixCls(void 0,j2()),a=n.getIconPrefixCls(),i=n.getTheme(),l=e.createElement(U2,Object.assign({},t));nv(e.createElement(Zk,{prefixCls:r,iconPrefixCls:a,theme:i},n.holderRender?n.holderRender(l):l),o)}))}function c(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];a=Object.assign(Object.assign({},a),{open:!1,afterClose:()=>{"function"===typeof t.afterClose&&t.afterClose(),i.apply(this,n)}}),a.visible&&delete a.visible,l(a)}return l(a),D2.push(c),{destroy:c,update:function(e){a="function"===typeof e?e(a):Object.assign(Object.assign({},a),e),l(a)}}}function Q2(e){return Object.assign(Object.assign({},e),{type:"warning"})}function _2(e){return Object.assign(Object.assign({},e),{type:"info"})}function q2(e){return Object.assign(Object.assign({},e),{type:"success"})}function $2(e){return Object.assign(Object.assign({},e),{type:"error"})}function e9(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var t9=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const n9=AW((t=>{const{prefixCls:n,className:o,closeIcon:r,closable:a,type:i,title:l,children:c,footer:s}=t,g=t9(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=e.useContext(gv),d=u(),I=n||u("modal"),C=Zw(d),[m,h,p]=N2(I,C),f="".concat(I,"-confirm");let A={};return A=i?{closable:null!==a&&void 0!==a&&a,title:"",footer:"",children:e.createElement(L2,Object.assign({},t,{prefixCls:I,confirmPrefixCls:f,rootPrefixCls:d,content:c}))}:{closable:null===a||void 0===a||a,title:l,footer:null!==s&&e.createElement(S2,Object.assign({},t)),children:c},m(e.createElement(X1,Object.assign({prefixCls:I,className:BG()(h,"".concat(I,"-pure-panel"),i&&f,i&&"".concat(f,"-").concat(i),o,p,C)},g,{closeIcon:Z2(I,r),closable:a},A)))}));var o9=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const r9=(t,n)=>{var o,{afterClose:r,config:a}=t,i=o9(t,["afterClose","config"]);const[l,c]=e.useState(!0),[s,g]=e.useState(a),{direction:u,getPrefixCls:d}=e.useContext(gv),I=d("modal"),C=d(),m=function(){c(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.some((e=>e&&e.triggerCancel));s.onCancel&&o&&s.onCancel.apply(s,[()=>{}].concat(fv(t.slice(1))))};e.useImperativeHandle(n,(()=>({destroy:m,update:e=>{g((t=>Object.assign(Object.assign({},t),e)))}})));const h=null!==(o=s.okCancel)&&void 0!==o?o:"confirm"===s.type,[p]=rz("Modal",cS.Modal);return e.createElement(z2,Object.assign({prefixCls:I,rootPrefixCls:C},s,{close:m,open:l,afterClose:()=>{var e;r(),null===(e=s.afterClose)||void 0===e||e.call(s)},okText:s.okText||(h?null===p||void 0===p?void 0:p.okText:null===p||void 0===p?void 0:p.justOkText),direction:s.direction||u,cancelText:s.cancelText||(null===p||void 0===p?void 0:p.cancelText)},i))},a9=e.forwardRef(r9);let i9=0;const l9=e.memo(e.forwardRef(((t,n)=>{const[o,r]=function(){const[t,n]=e.useState([]);return[t,e.useCallback((e=>(n((t=>[].concat(fv(t),[e]))),()=>{n((t=>t.filter((t=>t!==e))))})),[])]}();return e.useImperativeHandle(n,(()=>({patchElement:r})),[]),e.createElement(e.Fragment,null,o)})));const c9=function(){const t=e.useRef(null),[n,o]=e.useState([]);e.useEffect((()=>{if(n.length){fv(n).forEach((e=>{e()})),o([])}}),[n]);const r=e.useCallback((n=>function(r){var a;i9+=1;const i=e.createRef();let l;const c=new Promise((e=>{l=e}));let s,g=!1;const u=e.createElement(a9,{key:"modal-".concat(i9),config:n(r),ref:i,afterClose:()=>{null===s||void 0===s||s()},isSilent:()=>g,onConfirm:e=>{l(e)}});s=null===(a=t.current)||void 0===a?void 0:a.patchElement(u),s&&D2.push(s);const d={destroy:()=>{function e(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?e():o((t=>[].concat(fv(t),[e])))},update:e=>{function t(){var t;null===(t=i.current)||void 0===t||t.update(e)}i.current?t():o((e=>[].concat(fv(e),[t])))},then:e=>(g=!0,c.then(e))};return d}),[]);return[e.useMemo((()=>({info:r(_2),success:r(q2),error:r($2),warning:r(Q2),confirm:r(e9)})),[]),e.createElement(l9,{key:"modal-holder",ref:t})]};function s9(e){return P2(Q2(e))}const g9=Y2;g9.useModal=c9,g9.info=function(e){return P2(_2(e))},g9.success=function(e){return P2(q2(e))},g9.error=function(e){return P2($2(e))},g9.warning=s9,g9.warn=s9,g9.confirm=function(e){return P2(e9(e))},g9.destroyAll=function(){for(;D2.length;){const e=D2.pop();e&&e()}},g9.config=function(e){let{rootPrefixCls:t}=e;O2=t},g9._InternalPanelDoNotUseOrYouWillBeFired=n9;const u9=g9,d9=t=>{let{addressValues:n,setAddressValues:o,requiredFields:r=!0,style:a}=t;const[i,l]=(0,e.useState)([]),[c,s]=(0,e.useState)([]),[g,u]=(0,e.useState)([]),d=TK();return o||(o=e=>{}),(0,e.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const e=await fz("GET","https://vn-public-apis.fpo.vn/provinces/getAll?limit=-1");l(e.data.data)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[]),(0,e.useEffect)((()=>{const e=new AbortController;if(!i||!d.values.province||!i.find((e=>e.name===d.values.province)))return;return(async()=>{try{const e=await fz("GET","https://vn-public-apis.fpo.vn/districts/getByProvince",{provinceCode:i.find((e=>e.name===d.values.province)).code,limit:-1});s(e.data.data)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[i,d.values.province]),(0,e.useEffect)((()=>{const e=new AbortController;if(!c||!i||!d.values.province||!d.values.city||!c.find((e=>e.name===d.values.city)))return;return(async()=>{try{const e=await fz("GET","https://vn-public-apis.fpo.vn/wards/getByDistrict",{districtCode:c.find((e=>e.name===d.values.city)).code,limit:-1});u(e.data.data)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[c,d.values.city,i,d.values.province]),(0,et.jsxs)("div",{className:"AddressPickForm",children:[(0,et.jsx)(cM,{component:m_,name:"province",label:"Ch\u1ecdn t\u1ec9nh/th\xe0nh ph\u1ed1",defaultValue:d.values.province,validate:r?v_("T\u1ec9nh/th\xe0nh ph\u1ed1"):e=>!1,submitCount:d.submitCount,tokenSeparators:[","],style:Object.assign({width:"400px"},a),hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:i?i.map((e=>({value:e.name,label:e.name}))).concat({value:"",label:"Kh\xf4ng"}):[],filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onSelect:e=>{d.setFieldValue("city",""),d.setFieldValue("ward",""),o({...n,province:e,city:"",ward:""})}}),(0,et.jsx)(cM,{component:m_,name:"city",label:"Ch\u1ecdn th\xe0nh ph\u1ed1/qu\u1eadn/huy\u1ec7n",defaultValue:d.values.city,validate:r?v_("Th\xe0nh ph\u1ed1/qu\u1eadn/huy\u1ec7n"):e=>!1,submitCount:d.submitCount,tokenSeparators:[","],style:Object.assign({width:"400px"},a),hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:c?c.map((e=>({value:e.name,label:e.name}))).concat({value:"",label:"Kh\xf4ng"}):[],filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onSelect:e=>{d.setFieldValue("ward",""),o({...n,city:e,ward:""})}}),(0,et.jsx)(cM,{component:m_,name:"ward",label:"Ch\u1ecdn ph\u01b0\u1eddng/x\xe3",defaultValue:d.values.ward,submitCount:d.submitCount,tokenSeparators:[","],style:Object.assign({width:"400px"},a),hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:g?g.map((e=>({value:e.name,label:e.name}))).concat({value:"",label:"Kh\xf4ng"}):[],filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onSelect:e=>o({...n,ward:e})})]})},I9=e=>{let{values:t,handleSubmit:n,submitCount:o,initialValues:r}=e;return(0,et.jsx)("div",{className:"CreateClinicForm",children:(0,et.jsxs)(sM,{className:"form-container tw-flex tw-flex-col tw-items-center",onSubmit:n,children:[(0,et.jsx)(cM,{component:p_,name:"OTP",type:"textarea",label:"Nh\u1eadp OTP \u0111\xe3 \u0111\u01b0\u1ee3c c\u1ea5p",validate:v_("OTP"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"M\xe3 OTP"}),(0,et.jsx)(cM,{component:p_,name:"id_clinic",type:"textarea",label:"Nh\u1eadp ID ph\xf2ng kh\xe1m \u0111\xe3 \u0111\u01b0\u1ee3c c\u1ea5p",validate:v_("ID ph\xf2ng kh\xe1m"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"ID ph\xf2ng kh\xe1m"}),(0,et.jsx)(cM,{component:p_,name:"name_clinic",type:"textarea",label:"Nh\u1eadp t\xean ph\xf2ng kh\xe1m",validate:v_("T\xean ph\xf2ng kh\xe1m"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"T\xean ph\xf2ng kh\xe1m"}),(0,et.jsx)(cM,{component:p_,name:"name_doctor",type:"textarea",label:"T\xean ch\u1ee7 ph\xf2ng kh\xe1m",validate:v_("T\xean ch\u1ee7 ph\xf2ng kh\xe1m"),submitCount:o,hasFeedback:!0,style:{width:"400px"},disabled:!0,placeholder:"T\xean ch\u1ee7 ph\xf2ng kh\xe1m"}),(0,et.jsx)(d9,{values:t,submitCount:o,initialValues:r,disabledByInit:!0}),(0,et.jsx)(cM,{component:p_,name:"address",type:"textarea",label:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m",validate:v_("\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m"}),(0,et.jsxs)("div",{className:"tw-flex tw-flex-row tw-justify-between tw-w-full",children:[(0,et.jsx)(cM,{component:p_,name:"lng",type:"textarea",label:"Kinh \u0111\u1ed9",validate:R_,submitCount:o,hasFeedback:!0,style:{width:"190px"},placeholder:"Kinh \u0111\u1ed9"}),(0,et.jsx)(cM,{component:p_,name:"lat",type:"textarea",label:"V\u0129 \u0111\u1ed9",validate:w_,submitCount:o,hasFeedback:!0,style:{width:"190px"},placeholder:"V\u0129 \u0111\u1ed9"})]})]})})},C9=e=>{let{username:t,province:n,formRef:o}=e;const r={OTP:"",id_clinic:"",name_clinic:"",name_doctor:t||"",province:n||"",city:"",ward:"",address:"",lat:"",lng:""};return(0,et.jsx)("div",{className:"CreateClinicFormContainer",children:(0,et.jsx)(oM,{initialValues:r,innerRef:o,children:I9})})},m9=e=>{let{values:t,handleSubmit:n,submitCount:o,hostSide:r}=e;return(0,et.jsx)("div",{className:"StaffSignUpForm",children:(0,et.jsxs)(sM,{className:"form-container tw-flex tw-flex-col tw-items-center",onSubmit:n,id:"staffSignUpForm",children:[(0,et.jsx)(cM,{component:p_,name:"OTP",type:"textarea",label:"Nh\u1eadp OTP \u0111\xe3 \u0111\u01b0\u1ee3c c\u1ea5p",validate:v_("OTP"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"M\xe3 OTP"}),r?(0,et.jsx)(cM,{component:p_,name:"uid",type:"textarea",label:"Nh\u1eadp UID nh\xe2n vi\xean",validate:v_("UID nh\xe2n vi\xean"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"UID nh\xe2n vi\xean"}):(0,et.jsxs)("div",{children:[(0,et.jsx)(cM,{component:p_,name:"id_clinic",type:"textarea",label:"Nh\u1eadp ID ph\xf2ng kh\xe1m",validate:v_("ID ph\xf2ng kh\xe1m"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"ID ph\xf2ng kh\xe1m"}),(0,et.jsx)(cM,{component:p_,name:"name",type:"textarea",label:"Nh\u1eadp t\xean nh\xe2n vi\xean",validate:v_("T\xean nh\xe2n vi\xean"),submitCount:o,hasFeedback:!0,style:{width:"400px"},disabled:!0,placeholder:"T\xean nh\xe2n vi\xean"})]}),(0,et.jsx)(cM,{component:p_,name:"number",type:"textarea",label:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",validate:v_("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,et.jsx)(cM,{component:m_,name:"type",label:"Ch\u1ecdn lo\u1ea1i nh\xe2n vi\xean",defaultValue:t.type,validate:v_("Lo\u1ea1i nh\xe2n vi\xean"),submitCount:o,tokenSeparators:[","],style:{width:"400px"},hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:["B\xe1c s\u0129","Nh\xe2n vi\xean","\u0110i\u1ec1u h\u01b0\u1edbng vi\xean"].map((e=>({value:e,label:e}))),filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}}),"B\xe1c s\u0129"===t.type&&(0,et.jsx)(cM,{component:m_,name:"department",label:"Ch\u1ecdn khoa",defaultValue:t.department,validate:v_("Khoa"),submitCount:o,tokenSeparators:[","],style:{width:"400px"},hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:["A","B","C"].map((e=>({value:e,label:e}))),filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})]})})},h9=e=>{let{username:t,province:n,id_clinic:o,hostSide:r=!1,setRequestData:a,formRef:i}=e;const l={OTP:"",uid:"",id_clinic:o||"",name:t||"",province:n||"",number:"",type:"B\xe1c s\u0129",department:"A"};return(0,et.jsx)("div",{className:"StaffSignUpFormContainer",children:(0,et.jsx)(oM,{initialValues:l,onSubmit:r?async e=>{await(async()=>{if(!await Yb(e.uid))return!1;const t=await Fb(e.uid);if(t.id_clinic||t.id_staff||"staff"!==t.role)return!1;const n=await fz("POST","https://pharma-track-be.onrender.com/api/v1/staff",{...e,name:t.username,department:"B\xe1c s\u0129"===e.type?e.department:null});return"that bai"!==n.results&&(await Hb(e.uid,{...t,id_clinic:e.id_clinic,id_staff:n.data.id_staff}),!0)})()?RR.success({message:"Th\xeam nh\xe2n vi\xean",description:"Th\xeam nh\xe2n vi\xean th\xe0nh c\xf4ng"}):RR.error({message:"Th\xeam nh\xe2n vi\xean",description:"Th\xeam nh\xe2n vi\xean th\u1ea5t b\u1ea1i"}),a(new Date)}:async e=>{let t={};try{const n=await fz("POST","https://pharma-track-be.onrender.com/api/v1/staff",{...e,department:"B\xe1c s\u0129"===e.type?e.department:null});if("that bai"===n.results)return RR.error({message:"T\u1ea1o t\xe0i kho\u1ea3n nh\xe2n vi\xean",description:"Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng kh\xe1m v\u1edbi ID ".concat(e.id_clinic)}),!1;t.id_staff=n.data.id_staff,t.id_clinic=n.data.id_clinic}catch(Tie){console.error(Tie)}return t},innerRef:i,children:e=>(0,et.jsx)(m9,{...e,hostSide:r})})})};const p9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var f9=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:p9}))};const A9=e.forwardRef(f9),b9=(0,e.createContext)(null);const v9=function(t){var n=t.activeTabOffset,o=t.horizontal,r=t.rtl,a=t.indicator,i=void 0===a?{}:a,l=i.size,c=i.align,s=void 0===c?"center":c,g=hv((0,e.useState)(),2),u=g[0],d=g[1],I=(0,e.useRef)(),C=e.useCallback((function(e){return"function"===typeof l?l(e):"number"===typeof l?l:e}),[l]);function m(){kB.cancel(I.current)}return(0,e.useEffect)((function(){var e={};if(n)if(o){e.width=C(n.width);var t=r?"right":"left";"start"===s&&(e[t]=n[t]),"center"===s&&(e[t]=n[t]+n.width/2,e.transform=r?"translateX(50%)":"translateX(-50%)"),"end"===s&&(e[t]=n[t]+n.width,e.transform="translateX(-100%)")}else e.height=C(n.height),"start"===s&&(e.top=n.top),"center"===s&&(e.top=n.top+n.height/2,e.transform="translateY(-50%)"),"end"===s&&(e.top=n.top+n.height,e.transform="translateY(-100%)");return m(),I.current=kB((function(){d(e)})),m}),[n,o,r,s,C]),{style:u}};var y9={width:0,height:0,left:0,top:0};function Z9(t,n){var o=e.useRef(t),r=hv(e.useState({}),2)[1];return[o.current,function(e){var t="function"===typeof e?e(o.current):e;t!==o.current&&n(t,o.current),o.current=t,r({})}]}var S9=Math.pow(.995,20);function G9(t){var n=hv((0,e.useState)(0),2),o=n[0],r=n[1],a=(0,e.useRef)(0),i=(0,e.useRef)();return i.current=t,by((function(){var e;null===(e=i.current)||void 0===e||e.call(i)}),[o]),function(){a.current===o&&(a.current+=1,r(a.current))}}var B9={width:0,height:0,left:0,top:0,right:0};function k9(e){var t;return e instanceof Map?(t={},e.forEach((function(e,n){t[n]=e}))):t=e,JSON.stringify(t)}function w9(e){return String(e).replace(/"/g,"TABS_DQ")}function R9(e,t,n,o){return!(!n||o||!1===e||void 0===e&&(!1===t||null===t))}var V9=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.editable,a=t.locale,i=t.style;return r&&!1!==r.showAdd?e.createElement("button",{ref:n,type:"button",className:"".concat(o,"-nav-add"),style:i,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}));const W9=V9;var x9=e.forwardRef((function(t,n){var o,r=t.position,a=t.prefixCls,i=t.extra;if(!i)return null;var l={};return"object"!==on(i)||e.isValidElement(i)?l.right=i:l=i,"right"===r&&(o=l.right),"left"===r&&(o=l.left),o?e.createElement("div",{className:"".concat(a,"-extra-content"),ref:n},o):null}));const X9=x9;var N9=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.id,a=t.tabs,i=t.locale,l=t.mobile,c=t.more,s=void 0===c?{}:c,g=t.style,u=t.className,d=t.editable,I=t.tabBarGutter,C=t.rtl,m=t.removeAriaLabel,h=t.onTabClick,p=t.getPopupContainer,f=t.popupClassName,A=hv((0,e.useState)(!1),2),b=A[0],v=A[1],y=hv((0,e.useState)(null),2),Z=y[0],S=y[1],G=s.icon,B=void 0===G?"More":G,k="".concat(r,"-more-popup"),w="".concat(o,"-dropdown"),R=null!==Z?"".concat(k,"-").concat(Z):null,V=null===i||void 0===i?void 0:i.dropdownAriaLabel;var W=e.createElement(uX,{onClick:function(e){var t=e.key,n=e.domEvent;h(t,n),v(!1)},prefixCls:"".concat(w,"-menu"),id:k,tabIndex:-1,role:"listbox","aria-activedescendant":R,selectedKeys:[Z],"aria-label":void 0!==V?V:"expanded dropdown"},a.map((function(t){var n=t.closable,o=t.disabled,a=t.closeIcon,i=t.key,l=t.label,c=R9(n,a,d,o);return e.createElement(Hx,{key:i,id:"".concat(k,"-").concat(i),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(i),disabled:o},e.createElement("span",null,l),c&&e.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(w,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),d.onEdit("remove",{key:t,event:e})}(e,i)}},a||d.removeIcon||"\xd7"))})));function x(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===Z}))||0,o=t.length,r=0;r<o;r+=1){var i=t[n=(n+e+o)%o];if(!i.disabled)return void S(i.key)}}(0,e.useEffect)((function(){var e=document.getElementById(R);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[Z]),(0,e.useEffect)((function(){b||S(null)}),[b]);var X=an({},C?"marginRight":"marginLeft",I);a.length||(X.visibility="hidden",X.order=1);var N=BG()(an({},"".concat(w,"-rtl"),C)),J=l?null:e.createElement(lW,Ey({prefixCls:w,overlay:W,visible:!!a.length&&b,onVisibleChange:v,overlayClassName:BG()(N,f),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:p},s),e.createElement("button",{type:"button",className:"".concat(o,"-nav-more"),style:X,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":k,id:"".concat(r,"-more"),"aria-expanded":b,onKeyDown:function(e){var t=e.which;if(b)switch(t){case rw.UP:x(-1),e.preventDefault();break;case rw.DOWN:x(1),e.preventDefault();break;case rw.ESC:v(!1);break;case rw.SPACE:case rw.ENTER:null!==Z&&h(Z,e)}else[rw.DOWN,rw.SPACE,rw.ENTER].includes(t)&&(v(!0),e.preventDefault())}},B));return e.createElement("div",{className:BG()("".concat(o,"-nav-operations"),u),style:g,ref:n},J,e.createElement(W9,{prefixCls:o,locale:i,editable:d}))}));const J9=e.memo(N9,(function(e,t){return t.tabMoving}));const E9=function(t){var n=t.prefixCls,o=t.id,r=t.active,a=t.tab,i=a.key,l=a.label,c=a.disabled,s=a.closeIcon,g=a.icon,u=t.closable,d=t.renderWrapper,I=t.removeAriaLabel,C=t.editable,m=t.onClick,h=t.onFocus,p=t.style,f="".concat(n,"-tab"),A=R9(u,s,C,c);function b(e){c||m(e)}var v=e.useMemo((function(){return g&&"string"===typeof l?e.createElement("span",null,l):l}),[l,g]),y=e.createElement("div",{key:i,"data-node-key":w9(i),className:BG()(f,an(an(an({},"".concat(f,"-with-remove"),A),"".concat(f,"-active"),r),"".concat(f,"-disabled"),c)),style:p,onClick:b},e.createElement("div",{role:"tab","aria-selected":r,id:o&&"".concat(o,"-tab-").concat(i),className:"".concat(f,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(i),"aria-disabled":c,tabIndex:c?null:0,onClick:function(e){e.stopPropagation(),b(e)},onKeyDown:function(e){[rw.SPACE,rw.ENTER].includes(e.which)&&(e.preventDefault(),b(e))},onFocus:h},g&&e.createElement("span",{className:"".concat(f,"-icon")},g),l&&v),A&&e.createElement("button",{type:"button","aria-label":I||"remove",tabIndex:0,className:"".concat(f,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),C.onEdit("remove",{key:i,event:t})}},s||C.removeIcon||"\xd7"));return d?d(y):y};var H9=function(e){var t=e.current||{},n=t.offsetWidth,o=void 0===n?0:n,r=t.offsetHeight,a=void 0===r?0:r;if(e.current){var i=e.current.getBoundingClientRect(),l=i.width,c=i.height;if(Math.abs(l-o)<1)return[l,c]}return[o,a]},Y9=function(e,t){return e[t?0:1]},F9=e.forwardRef((function(t,n){var o=t.className,r=t.style,a=t.id,i=t.animated,l=t.activeKey,c=t.rtl,s=t.extra,g=t.editable,u=t.locale,d=t.tabPosition,I=t.tabBarGutter,C=t.children,m=t.onTabClick,h=t.onTabScroll,p=t.indicator,f=e.useContext(b9),A=f.prefixCls,b=f.tabs,v=(0,e.useRef)(null),y=(0,e.useRef)(null),Z=(0,e.useRef)(null),S=(0,e.useRef)(null),G=(0,e.useRef)(null),B=(0,e.useRef)(null),k=(0,e.useRef)(null),w="top"===d||"bottom"===d,R=Z9(0,(function(e,t){w&&h&&h({direction:e>t?"left":"right"})})),V=hv(R,2),W=V[0],x=V[1],X=Z9(0,(function(e,t){!w&&h&&h({direction:e>t?"top":"bottom"})})),N=hv(X,2),J=N[0],E=N[1],H=hv((0,e.useState)([0,0]),2),Y=H[0],F=H[1],K=hv((0,e.useState)([0,0]),2),M=K[0],L=K[1],T=hv((0,e.useState)([0,0]),2),z=T[0],D=T[1],O=hv((0,e.useState)([0,0]),2),j=O[0],U=O[1],P=function(t){var n=(0,e.useRef)([]),o=hv((0,e.useState)({}),2)[1],r=(0,e.useRef)("function"===typeof t?t():t),a=G9((function(){var e=r.current;n.current.forEach((function(t){e=t(e)})),n.current=[],r.current=e,o({})}));return[r.current,function(e){n.current.push(e),a()}]}(new Map),Q=hv(P,2),_=Q[0],q=Q[1],$=function(t,n,o){return(0,e.useMemo)((function(){for(var e,o=new Map,r=n.get(null===(e=t[0])||void 0===e?void 0:e.key)||y9,a=r.left+r.width,i=0;i<t.length;i+=1){var l,c=t[i].key,s=n.get(c);s||(s=n.get(null===(l=t[i-1])||void 0===l?void 0:l.key)||y9);var g=o.get(c)||cn({},s);g.right=a-g.left-g.width,o.set(c,g)}return o}),[t.map((function(e){return e.key})).join("_"),n,o])}(b,_,M[0]),ee=Y9(Y,w),te=Y9(M,w),ne=Y9(z,w),oe=Y9(j,w),re=ee<te+ne,ae=re?ee-oe:ee-ne,ie="".concat(A,"-nav-operations-hidden"),le=0,ce=0;function se(e){return e<le?le:e>ce?ce:e}w&&c?(le=0,ce=Math.max(0,te-ae)):(le=Math.min(0,ae-te),ce=0);var ge=(0,e.useRef)(null),ue=hv((0,e.useState)(),2),de=ue[0],Ie=ue[1];function Ce(){Ie(Date.now())}function me(){ge.current&&clearTimeout(ge.current)}!function(t,n){var o=hv((0,e.useState)(),2),r=o[0],a=o[1],i=hv((0,e.useState)(0),2),l=i[0],c=i[1],s=hv((0,e.useState)(0),2),g=s[0],u=s[1],d=hv((0,e.useState)(),2),I=d[0],C=d[1],m=(0,e.useRef)(),h=(0,e.useRef)(),p=(0,e.useRef)(null);p.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,o=t.screenY;a({x:n,y:o}),window.clearInterval(m.current)},onTouchMove:function(e){if(r){e.preventDefault();var t=e.touches[0],o=t.screenX,i=t.screenY;a({x:o,y:i});var s=o-r.x,g=i-r.y;n(s,g);var d=Date.now();c(d),u(d-l),C({x:s,y:g})}},onTouchEnd:function(){if(r&&(a(null),C(null),I)){var e=I.x/g,t=I.y/g,o=Math.abs(e),i=Math.abs(t);if(Math.max(o,i)<.1)return;var l=e,c=t;m.current=window.setInterval((function(){Math.abs(l)<.01&&Math.abs(c)<.01?window.clearInterval(m.current):n(20*(l*=S9),20*(c*=S9))}),20)}},onWheel:function(e){var t=e.deltaX,o=e.deltaY,r=0,a=Math.abs(t),i=Math.abs(o);a===i?r="x"===h.current?t:o:a>i?(r=t,h.current="x"):(r=o,h.current="y"),n(-r,-r)&&e.preventDefault()}},e.useEffect((function(){function e(e){p.current.onTouchMove(e)}function n(e){p.current.onTouchEnd(e)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",n,{passive:!0}),t.current.addEventListener("touchstart",(function(e){p.current.onTouchStart(e)}),{passive:!0}),t.current.addEventListener("wheel",(function(e){p.current.onWheel(e)}),{passive:!1}),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",n)}}),[])}(S,(function(e,t){function n(e,t){e((function(e){return se(e+t)}))}return!!re&&(w?n(x,e):n(E,t),me(),Ce(),!0)})),(0,e.useEffect)((function(){return me(),de&&(ge.current=setTimeout((function(){Ie(0)}),100)),me}),[de]);var he=function(t,n,o,r,a,i,l){var c,s,g,u=l.tabs,d=l.tabPosition,I=l.rtl;return["top","bottom"].includes(d)?(c="width",s=I?"right":"left",g=Math.abs(o)):(c="height",s="top",g=-o),(0,e.useMemo)((function(){if(!u.length)return[0,0];for(var e=u.length,o=e,r=0;r<e;r+=1){var a=t.get(u[r].key)||B9;if(a[s]+a[c]>g+n){o=r-1;break}}for(var i=0,l=e-1;l>=0;l-=1)if((t.get(u[l].key)||B9)[s]<g){i=l+1;break}return i>=o?[0,0]:[i,o]}),[t,n,r,a,i,g,d,u.map((function(e){return e.key})).join("_"),I])}($,ae,w?W:J,te,ne,oe,cn(cn({},t),{},{tabs:b})),pe=hv(he,2),fe=pe[0],Ae=pe[1],be=jG((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=$.get(e)||{width:0,height:0,left:0,right:0,top:0};if(w){var n=W;c?t.right<W?n=t.right:t.right+t.width>W+ae&&(n=t.right+t.width-ae):t.left<-W?n=-t.left:t.left+t.width>-W+ae&&(n=-(t.left+t.width-ae)),E(0),x(se(n))}else{var o=J;t.top<-J?o=-t.top:t.top+t.height>-J+ae&&(o=-(t.top+t.height-ae)),x(0),E(se(o))}})),ve={};"top"===d||"bottom"===d?ve[c?"marginRight":"marginLeft"]=I:ve.marginTop=I;var ye=b.map((function(t,n){var o=t.key;return e.createElement(E9,{id:a,prefixCls:A,key:o,tab:t,style:0===n?void 0:ve,closable:t.closable,editable:g,active:o===l,renderWrapper:C,removeAriaLabel:null===u||void 0===u?void 0:u.removeAriaLabel,onClick:function(e){m(o,e)},onFocus:function(){be(o),Ce(),S.current&&(c||(S.current.scrollLeft=0),S.current.scrollTop=0)}})})),Ze=function(){return q((function(){var e,t=new Map,n=null===(e=G.current)||void 0===e?void 0:e.getBoundingClientRect();return b.forEach((function(e){var o,r=e.key,a=null===(o=G.current)||void 0===o?void 0:o.querySelector('[data-node-key="'.concat(w9(r),'"]'));if(a){var i=function(e,t){var n=e.offsetWidth,o=e.offsetHeight,r=e.offsetTop,a=e.offsetLeft,i=e.getBoundingClientRect(),l=i.width,c=i.height,s=i.x,g=i.y;return Math.abs(l-n)<1?[l,c,s-t.x,g-t.y]:[n,o,a,r]}(a,n),l=hv(i,4),c=l[0],s=l[1],g=l[2],u=l[3];t.set(r,{width:c,height:s,left:g,top:u})}})),t}))};(0,e.useEffect)((function(){Ze()}),[b.map((function(e){return e.key})).join("_")]);var Se=G9((function(){var e=H9(v),t=H9(y),n=H9(Z);F([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var o=H9(k);D(o);var r=H9(B);U(r);var a=H9(G);L([a[0]-o[0],a[1]-o[1]]),Ze()})),Ge=b.slice(0,fe),Be=b.slice(Ae+1),ke=[].concat(fv(Ge),fv(Be)),we=$.get(l),Re=v9({activeTabOffset:we,horizontal:w,indicator:p,rtl:c}).style;(0,e.useEffect)((function(){be()}),[l,le,ce,k9(we),k9($),w]),(0,e.useEffect)((function(){Se()}),[c]);var Ve,We,xe,Xe,Ne=!!ke.length,Je="".concat(A,"-nav-wrap");return w?c?(We=W>0,Ve=W!==ce):(Ve=W<0,We=W!==le):(xe=J<0,Xe=J!==le),e.createElement(ZV,{onResize:Se},e.createElement("div",{ref:xG(n,v),role:"tablist",className:BG()("".concat(A,"-nav"),o),style:r,onKeyDown:function(){Ce()}},e.createElement(X9,{ref:y,position:"left",extra:s,prefixCls:A}),e.createElement(ZV,{onResize:Se},e.createElement("div",{className:BG()(Je,an(an(an(an({},"".concat(Je,"-ping-left"),Ve),"".concat(Je,"-ping-right"),We),"".concat(Je,"-ping-top"),xe),"".concat(Je,"-ping-bottom"),Xe)),ref:S},e.createElement(ZV,{onResize:Se},e.createElement("div",{ref:G,className:"".concat(A,"-nav-list"),style:{transform:"translate(".concat(W,"px, ").concat(J,"px)"),transition:de?"none":void 0}},ye,e.createElement(W9,{ref:k,prefixCls:A,locale:u,editable:g,style:cn(cn({},0===ye.length?void 0:ve),{},{visibility:Ne?"hidden":null})}),e.createElement("div",{className:BG()("".concat(A,"-ink-bar"),an({},"".concat(A,"-ink-bar-animated"),i.inkBar)),style:Re}))))),e.createElement(J9,Ey({},t,{removeAriaLabel:null===u||void 0===u?void 0:u.removeAriaLabel,ref:B,prefixCls:A,tabs:ke,className:!Ne&&ie,tabMoving:!!de})),e.createElement(X9,{ref:Z,position:"right",extra:s,prefixCls:A})))}));const K9=F9;var M9=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.className,a=t.style,i=t.id,l=t.active,c=t.tabKey,s=t.children;return e.createElement("div",{id:i&&"".concat(i,"-panel-").concat(c),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(c),"aria-hidden":!l,style:a,className:BG()(o,l&&"".concat(o,"-active"),r),ref:n},s)}));const L9=M9;var T9=["renderTabBar"],z9=["label","key"];const D9=function(t){var n=t.renderTabBar,o=JG(t,T9),r=e.useContext(b9).tabs;return n?n(cn(cn({},o),{},{panes:r.map((function(t){var n=t.label,o=t.key,r=JG(t,z9);return e.createElement(L9,Ey({tab:n,key:o,tabKey:o},r))}))}),K9):e.createElement(K9,o)};var O9=["key","forceRender","style","className","destroyInactiveTabPane"];const j9=function(t){var n=t.id,o=t.activeKey,r=t.animated,a=t.tabPosition,i=t.destroyInactiveTabPane,l=e.useContext(b9),c=l.prefixCls,s=l.tabs,g=r.tabPane,u="".concat(c,"-tabpane");return e.createElement("div",{className:BG()("".concat(c,"-content-holder"))},e.createElement("div",{className:BG()("".concat(c,"-content"),"".concat(c,"-content-").concat(a),an({},"".concat(c,"-content-animated"),g))},s.map((function(t){var a=t.key,l=t.forceRender,c=t.style,s=t.className,d=t.destroyInactiveTabPane,I=JG(t,O9),C=a===o;return e.createElement(DB,Ey({key:a,visible:C,forceRender:l,removeOnLeave:!(!i&&!d),leavedClassName:"".concat(u,"-hidden")},r.tabPaneMotion),(function(t,o){var r=t.style,i=t.className;return e.createElement(L9,Ey({},I,{prefixCls:u,id:n,tabKey:a,animated:g,active:C,style:cn(cn({},c),r),className:BG()(s,i),ref:o}))}))}))))};var U9=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],P9=0,Q9=e.forwardRef((function(t,n){var o=t.id,r=t.prefixCls,a=void 0===r?"rc-tabs":r,i=t.className,l=t.items,c=t.direction,s=t.activeKey,g=t.defaultActiveKey,u=t.editable,d=t.animated,I=t.tabPosition,C=void 0===I?"top":I,m=t.tabBarGutter,h=t.tabBarStyle,p=t.tabBarExtraContent,f=t.locale,A=t.more,b=t.destroyInactiveTabPane,v=t.renderTabBar,y=t.onChange,Z=t.onTabClick,S=t.onTabScroll,G=t.getPopupContainer,B=t.popupClassName,k=t.indicator,w=JG(t,U9),R=e.useMemo((function(){return(l||[]).filter((function(e){return e&&"object"===on(e)&&"key"in e}))}),[l]),V="rtl"===c,W=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:cn({inkBar:!0},"object"===on(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(d),x=hv((0,e.useState)(!1),2),X=x[0],N=x[1];(0,e.useEffect)((function(){N(kV())}),[]);var J=hv(QG((function(){var e;return null===(e=R[0])||void 0===e?void 0:e.key}),{value:s,defaultValue:g}),2),E=J[0],H=J[1],Y=hv((0,e.useState)((function(){return R.findIndex((function(e){return e.key===E}))})),2),F=Y[0],K=Y[1];(0,e.useEffect)((function(){var e,t=R.findIndex((function(e){return e.key===E}));-1===t&&(t=Math.max(0,Math.min(F,R.length-1)),H(null===(e=R[t])||void 0===e?void 0:e.key));K(t)}),[R.map((function(e){return e.key})).join("_"),E,F]);var M=hv(QG(null,{value:o}),2),L=M[0],T=M[1];(0,e.useEffect)((function(){o||(T("rc-tabs-".concat(P9)),P9+=1)}),[]);var z={id:L,activeKey:E,animated:W,tabPosition:C,rtl:V,mobile:X},D=cn(cn({},z),{},{editable:u,locale:f,more:A,tabBarGutter:m,onTabClick:function(e,t){null===Z||void 0===Z||Z(e,t);var n=e!==E;H(e),n&&(null===y||void 0===y||y(e))},onTabScroll:S,extra:p,style:h,panes:null,getPopupContainer:G,popupClassName:B,indicator:k});return e.createElement(b9.Provider,{value:{tabs:R,prefixCls:a}},e.createElement("div",Ey({ref:n,id:o,className:BG()(a,"".concat(a,"-").concat(C),an(an(an({},"".concat(a,"-mobile"),X),"".concat(a,"-editable"),u),"".concat(a,"-rtl"),V),i)},w),e.createElement(D9,Ey({},D,{renderTabBar:v})),e.createElement(j9,Ey({destroyInactiveTabPane:b},z,{animated:W}))))}));const _9=Q9,q9={motionAppear:!1,motionEnter:!0,motionLeave:!0};var $9=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const e5=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{["".concat(t,"-switch")]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:"opacity ".concat(n)}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:"opacity ".concat(n)}}}}},[NN(e,"slide-up"),NN(e,"slide-down")]]},t5=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:o,cardGutter:r,colorBorderSecondary:a,itemSelectedColor:i}=e;return{["".concat(t,"-card")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{margin:0,padding:n,background:o,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(a),transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)},["".concat(t,"-tab-active")]:{color:i,background:e.colorBgContainer},["".concat(t,"-ink-bar")]:{visibility:"hidden"}},["&".concat(t,"-top, &").concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab + ").concat(t,"-tab")]:{marginLeft:{_skip_check_:!0,value:Iy(r)}}}},["&".concat(t,"-top")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:"".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0 0")},["".concat(t,"-tab-active")]:{borderBottomColor:e.colorBgContainer}}},["&".concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:"0 0 ".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG))},["".concat(t,"-tab-active")]:{borderTopColor:e.colorBgContainer}}},["&".concat(t,"-left, &").concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab + ").concat(t,"-tab")]:{marginTop:Iy(r)}}},["&".concat(t,"-left")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"".concat(Iy(e.borderRadiusLG)," 0 0 ").concat(Iy(e.borderRadiusLG))}},["".concat(t,"-tab-active")]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},["&".concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"0 ".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0")}},["".concat(t,"-tab-active")]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},n5=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:o}=e;return{["".concat(t,"-dropdown")]:Object.assign(Object.assign({},ik(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},["".concat(t,"-dropdown-menu")]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:"".concat(Iy(o)," 0"),overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},ak),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:"".concat(Iy(e.paddingXXS)," ").concat(Iy(e.paddingSM)),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},o5=e=>{const{componentCls:t,margin:n,colorBorderSecondary:o,horizontalMargin:r,verticalItemPadding:a,verticalItemMargin:i,calc:l}=e;return{["".concat(t,"-top, ").concat(t,"-bottom")]:{flexDirection:"column",["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{margin:r,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(o),content:"''"},["".concat(t,"-ink-bar")]:{height:e.lineWidthBold,"&-animated":{transition:"width ".concat(e.motionDurationSlow,", left ").concat(e.motionDurationSlow,",\n            right ").concat(e.motionDurationSlow)}},["".concat(t,"-nav-wrap")]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},["&".concat(t,"-nav-wrap-ping-left::before")]:{opacity:1},["&".concat(t,"-nav-wrap-ping-right::after")]:{opacity:1}}}},["".concat(t,"-top")]:{["> ".concat(t,"-nav,\n        > div > ").concat(t,"-nav")]:{"&::before":{bottom:0},["".concat(t,"-ink-bar")]:{bottom:0}}},["".concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},["".concat(t,"-ink-bar")]:{top:0}},["> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder")]:{order:0}},["".concat(t,"-left, ").concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{flexDirection:"column",minWidth:l(e.controlHeight).mul(1.25).equal(),["".concat(t,"-tab")]:{padding:a,textAlign:"center"},["".concat(t,"-tab + ").concat(t,"-tab")]:{margin:i},["".concat(t,"-nav-wrap")]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},["&".concat(t,"-nav-wrap-ping-top::before")]:{opacity:1},["&".concat(t,"-nav-wrap-ping-bottom::after")]:{opacity:1}},["".concat(t,"-ink-bar")]:{width:e.lineWidthBold,"&-animated":{transition:"height ".concat(e.motionDurationSlow,", top ").concat(e.motionDurationSlow)}},["".concat(t,"-nav-list, ").concat(t,"-nav-operations")]:{flex:"1 0 auto",flexDirection:"column"}}},["".concat(t,"-left")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-ink-bar")]:{right:{_skip_check_:!0,value:0}}},["> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder")]:{marginLeft:{_skip_check_:!0,value:Iy(l(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},["> ".concat(t,"-content > ").concat(t,"-tabpane")]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},["".concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{order:1,["".concat(t,"-ink-bar")]:{left:{_skip_check_:!0,value:0}}},["> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder")]:{order:0,marginRight:{_skip_check_:!0,value:l(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},["> ".concat(t,"-content > ").concat(t,"-tabpane")]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},r5=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:o,horizontalItemPaddingSM:r,horizontalItemPaddingLG:a}=e;return{[t]:{"&-small":{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:r,fontSize:e.titleFontSizeSM}}},"&-large":{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:a,fontSize:e.titleFontSizeLG}}}},["".concat(t,"-card")]:{["&".concat(t,"-small")]:{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:n}},["&".concat(t,"-bottom")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:"0 0 ".concat(Iy(e.borderRadius)," ").concat(Iy(e.borderRadius))}},["&".concat(t,"-top")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:"".concat(Iy(e.borderRadius)," ").concat(Iy(e.borderRadius)," 0 0")}},["&".concat(t,"-right")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"0 ".concat(Iy(e.borderRadius)," ").concat(Iy(e.borderRadius)," 0")}}},["&".concat(t,"-left")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"".concat(Iy(e.borderRadius)," 0 0 ").concat(Iy(e.borderRadius))}}}},["&".concat(t,"-large")]:{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:o}}}}}},a5=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:o,iconCls:r,tabsHorizontalItemMargin:a,horizontalItemPadding:i,itemSelectedColor:l,itemColor:c}=e,s="".concat(t,"-tab");return{[s]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:i,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:c,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},gk(e)),"&-btn":{outline:"none",transition:"all ".concat(e.motionDurationSlow),["".concat(s,"-icon:not(:last-child)")]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextHeading}},"&:hover":{color:o},["&".concat(s,"-active ").concat(s,"-btn")]:{color:l,textShadow:e.tabsActiveTextShadow},["&".concat(s,"-disabled")]:{color:e.colorTextDisabled,cursor:"not-allowed"},["&".concat(s,"-disabled ").concat(s,"-btn, &").concat(s,"-disabled ").concat(t,"-remove")]:{"&:focus, &:active":{color:e.colorTextDisabled}},["& ".concat(s,"-remove ").concat(r)]:{margin:0},["".concat(r,":not(:last-child)")]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},["".concat(s," + ").concat(s)]:{margin:{_skip_check_:!0,value:a}}}},i5=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:o,cardGutter:r,calc:a}=e,i="".concat(t,"-rtl");return{[i]:{direction:"rtl",["".concat(t,"-nav")]:{["".concat(t,"-tab")]:{margin:{_skip_check_:!0,value:n},["".concat(t,"-tab:last-of-type")]:{marginLeft:{_skip_check_:!0,value:0}},[o]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:Iy(e.marginSM)}},["".concat(t,"-tab-remove")]:{marginRight:{_skip_check_:!0,value:Iy(e.marginXS)},marginLeft:{_skip_check_:!0,value:Iy(a(e.marginXXS).mul(-1).equal())},[o]:{margin:0}}}},["&".concat(t,"-left")]:{["> ".concat(t,"-nav")]:{order:1},["> ".concat(t,"-content-holder")]:{order:0}},["&".concat(t,"-right")]:{["> ".concat(t,"-nav")]:{order:0},["> ".concat(t,"-content-holder")]:{order:1}},["&".concat(t,"-card").concat(t,"-top, &").concat(t,"-card").concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab + ").concat(t,"-tab")]:{marginRight:{_skip_check_:!0,value:r},marginLeft:{_skip_check_:!0,value:0}}}}},["".concat(t,"-dropdown-rtl")]:{direction:"rtl"},["".concat(t,"-menu-item")]:{["".concat(t,"-dropdown-rtl")]:{textAlign:{_skip_check_:!0,value:"right"}}}}},l5=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:o,cardGutter:r,itemHoverColor:a,itemActiveColor:i,colorBorderSecondary:l}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ik(e)),{display:"flex",["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{position:"relative",display:"flex",flex:"none",alignItems:"center",["".concat(t,"-nav-wrap")]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:"opacity ".concat(e.motionDurationSlow),content:"''",pointerEvents:"none"}},["".concat(t,"-nav-list")]:{position:"relative",display:"flex",transition:"opacity ".concat(e.motionDurationSlow)},["".concat(t,"-nav-operations")]:{display:"flex",alignSelf:"stretch"},["".concat(t,"-nav-operations-hidden")]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},["".concat(t,"-nav-more")]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},["".concat(t,"-nav-add")]:Object.assign({minWidth:o,minHeight:o,marginLeft:{_skip_check_:!0,value:r},padding:"0 ".concat(Iy(e.paddingXS)),background:"transparent",border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(l),borderRadius:"".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0 0"),outline:"none",cursor:"pointer",color:e.colorText,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&:hover":{color:a},"&:active, &:focus:not(:focus-visible)":{color:i}},gk(e))},["".concat(t,"-extra-content")]:{flex:"none"},["".concat(t,"-ink-bar")]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),a5(e)),{["".concat(t,"-content")]:{position:"relative",width:"100%"},["".concat(t,"-content-holder")]:{flex:"auto",minWidth:0,minHeight:0},["".concat(t,"-tabpane")]:{outline:"none","&-hidden":{display:"none"}}}),["".concat(t,"-centered")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-nav-wrap")]:{["&:not([class*='".concat(t,"-nav-wrap-ping'])")]:{justifyContent:"center"}}}}}},c5=Uw("Tabs",(e=>{const t=xw(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:"0 0 0 ".concat(Iy(e.horizontalItemGutter)),tabsHorizontalItemMarginRTL:"0 0 0 ".concat(Iy(e.horizontalItemGutter))});return[r5(t),i5(t),o5(t),n5(t),t5(t),l5(t),e5(t)]}),(e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:"".concat((t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth,"px ").concat(e.padding,"px"),cardPaddingSM:"".concat(1.5*e.paddingXXS,"px ").concat(e.padding,"px"),cardPaddingLG:"".concat(e.paddingXS,"px ").concat(e.padding,"px ").concat(1.5*e.paddingXXS,"px"),titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:"0 0 ".concat(e.margin,"px 0"),horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:"".concat(e.paddingSM,"px 0"),horizontalItemPaddingSM:"".concat(e.paddingXS,"px 0"),horizontalItemPaddingLG:"".concat(e.padding,"px 0"),verticalItemPadding:"".concat(e.paddingXS,"px ").concat(e.paddingLG,"px"),verticalItemMargin:"".concat(e.margin,"px 0 0 0"),itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}}));var s5=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const g5=t=>{var n,o,r,a,i,l,c,s,g,u,d;const{type:I,className:C,rootClassName:m,size:h,onEdit:p,hideAdd:f,centered:A,addIcon:b,removeIcon:v,moreIcon:y,more:Z,popupClassName:S,children:G,items:B,animated:k,style:w,indicatorSize:R,indicator:V}=t,W=s5(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:x}=W,{direction:X,tabs:N,getPrefixCls:J,getPopupContainer:E}=e.useContext(gv),H=J("tabs",x),Y=Zw(H),[F,K,M]=c5(H,Y);let L;"editable-card"===I&&(L={onEdit:(e,t)=>{let{key:n,event:o}=t;null===p||void 0===p||p("add"===e?o:n,e)},removeIcon:null!==(n=null!==v&&void 0!==v?v:null===N||void 0===N?void 0:N.removeIcon)&&void 0!==n?n:e.createElement(jk,null),addIcon:(null!==b&&void 0!==b?b:null===N||void 0===N?void 0:N.addIcon)||e.createElement(A9,null),showAdd:!0!==f});const T=J();const z=XX(h),D=function(t,n){if(t)return t;const o=OR(n).map((t=>{if(e.isValidElement(t)){const{key:e,props:n}=t,o=n||{},{tab:r}=o,a=$9(o,["tab"]);return Object.assign(Object.assign({key:String(e)},a),{label:r})}return null}));return function(e){return e.filter((e=>e))}(o)}(B,G),O=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof n?n:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},q9),{motionName:bX(e,"switch")})),t}(H,k),j=Object.assign(Object.assign({},null===N||void 0===N?void 0:N.style),w),U={align:null!==(o=null===V||void 0===V?void 0:V.align)&&void 0!==o?o:null===(r=null===N||void 0===N?void 0:N.indicator)||void 0===r?void 0:r.align,size:null!==(c=null!==(i=null!==(a=null===V||void 0===V?void 0:V.size)&&void 0!==a?a:R)&&void 0!==i?i:null===(l=null===N||void 0===N?void 0:N.indicator)||void 0===l?void 0:l.size)&&void 0!==c?c:null===N||void 0===N?void 0:N.indicatorSize};return F(e.createElement(_9,Object.assign({direction:X,getPopupContainer:E},W,{items:D,className:BG()({["".concat(H,"-").concat(z)]:z,["".concat(H,"-card")]:["card","editable-card"].includes(I),["".concat(H,"-editable-card")]:"editable-card"===I,["".concat(H,"-centered")]:A},null===N||void 0===N?void 0:N.className,C,m,K,M,Y),popupClassName:BG()(S,K,M,Y),style:j,editable:L,more:Object.assign({icon:null!==(d=null!==(u=null!==(g=null===(s=null===N||void 0===N?void 0:N.more)||void 0===s?void 0:s.icon)&&void 0!==g?g:null===N||void 0===N?void 0:N.moreIcon)&&void 0!==u?u:y)&&void 0!==d?d:e.createElement(mX,null),transitionName:"".concat(T,"-slide-up")},Z),prefixCls:H,animated:O,indicator:U})))};g5.TabPane=()=>null;const u5=g5;var d5=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const I5=t=>{var{prefixCls:n,className:o,hoverable:r=!0}=t,a=d5(t,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=e.useContext(gv),l=i("card",n),c=BG()("".concat(l,"-grid"),o,{["".concat(l,"-grid-hoverable")]:r});return e.createElement("div",Object.assign({},a,{className:c}))},C5=e=>{const{antCls:t,componentCls:n,headerHeight:o,cardPaddingBase:r,tabsMarginBottom:a}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:o,marginBottom:-1,padding:"0 ".concat(Iy(r)),color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorderSecondary),borderRadius:"".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0 0")},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},ak),{["\n          > ".concat(n,"-typography,\n          > ").concat(n,"-typography-edit-content\n        ")]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),["".concat(t,"-tabs-top")]:{clear:"both",marginBottom:a,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorderSecondary)}}})},m5=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:o,lineWidth:r}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:"\n      ".concat(Iy(r)," 0 0 0 ").concat(n,",\n      0 ").concat(Iy(r)," 0 0 ").concat(n,",\n      ").concat(Iy(r)," ").concat(Iy(r)," 0 0 ").concat(n,",\n      ").concat(Iy(r)," 0 0 0 ").concat(n," inset,\n      0 ").concat(Iy(r)," 0 0 ").concat(n," inset;\n    "),transition:"all ".concat(e.motionDurationMid),"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},h5=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:o,cardActionsIconSize:r,colorBorderSecondary:a,actionsBg:i}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:i,borderTop:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(a),display:"flex",borderRadius:"0 0 ".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG))},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"& > li":{margin:o,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:"color ".concat(e.motionDurationMid)},["a:not(".concat(t,"-btn), > ").concat(n)]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:Iy(e.fontHeight),transition:"color ".concat(e.motionDurationMid),"&:hover":{color:e.colorPrimary}},["> ".concat(n)]:{fontSize:r,lineHeight:Iy(e.calc(r).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(a)}}})},p5=e=>Object.assign(Object.assign({margin:"".concat(Iy(e.calc(e.marginXXS).mul(-1).equal())," 0"),display:"flex"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},ak),"&-description":{color:e.colorTextDescription}}),f5=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:o}=e;return{["".concat(t,"-head")]:{padding:"0 ".concat(Iy(n)),background:o,"&-title":{fontSize:e.fontSize}},["".concat(t,"-body")]:{padding:"".concat(Iy(e.padding)," ").concat(Iy(n))}}},A5=e=>{const{componentCls:t}=e;return{overflow:"hidden",["".concat(t,"-body")]:{userSelect:"none"}}},b5=e=>{const{antCls:t,componentCls:n,cardShadow:o,cardHeadPadding:r,colorBorderSecondary:a,boxShadowTertiary:i,cardPaddingBase:l,extraColor:c}=e;return{[n]:Object.assign(Object.assign({},ik(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,["&:not(".concat(n,"-bordered)")]:{boxShadow:i},["".concat(n,"-head")]:C5(e),["".concat(n,"-extra")]:{marginInlineStart:"auto",color:c,fontWeight:"normal",fontSize:e.fontSize},["".concat(n,"-body")]:Object.assign({padding:l,borderRadius:"0 0 ".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG))},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),["".concat(n,"-grid")]:m5(e),["".concat(n,"-cover")]:{"> *":{display:"block",width:"100%"},["img, img + ".concat(t,"-image-mask")]:{borderRadius:"".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0 0")}},["".concat(n,"-actions")]:h5(e),["".concat(n,"-meta")]:p5(e)}),["".concat(n,"-bordered")]:{border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(a),["".concat(n,"-cover")]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},["".concat(n,"-hoverable")]:{cursor:"pointer",transition:"box-shadow ".concat(e.motionDurationMid,", border-color ").concat(e.motionDurationMid),"&:hover":{borderColor:"transparent",boxShadow:o}},["".concat(n,"-contain-grid")]:{borderRadius:"".concat(Iy(e.borderRadiusLG)," ").concat(Iy(e.borderRadiusLG)," 0 0 "),["".concat(n,"-body")]:{display:"flex",flexWrap:"wrap"},["&:not(".concat(n,"-loading) ").concat(n,"-body")]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},["".concat(n,"-contain-tabs")]:{["> div".concat(n,"-head")]:{minHeight:0,["".concat(n,"-head-title, ").concat(n,"-extra")]:{paddingTop:r}}},["".concat(n,"-type-inner")]:f5(e),["".concat(n,"-loading")]:A5(e),["".concat(n,"-rtl")]:{direction:"rtl"}}},v5=e=>{const{componentCls:t,cardPaddingSM:n,headerHeightSM:o,headerFontSizeSM:r}=e;return{["".concat(t,"-small")]:{["> ".concat(t,"-head")]:{minHeight:o,padding:"0 ".concat(Iy(n)),fontSize:r,["> ".concat(t,"-head-wrapper")]:{["> ".concat(t,"-extra")]:{fontSize:e.fontSize}}},["> ".concat(t,"-body")]:{padding:n}},["".concat(t,"-small").concat(t,"-contain-tabs")]:{["> ".concat(t,"-head")]:{["".concat(t,"-head-title, ").concat(t,"-extra")]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},y5=Uw("Card",(e=>{const t=xw(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[b5(t),v5(t)]}),(e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:"".concat(e.paddingSM,"px 0"),tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText})));var Z5=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const S5=t=>{const{actionClasses:n,actions:o=[],actionStyle:r}=t;return e.createElement("ul",{className:n,style:r},o.map(((t,n)=>{const r="action-".concat(n);return e.createElement("li",{style:{width:"".concat(100/o.length,"%")},key:r},e.createElement("span",null,t))})))},G5=e.forwardRef(((t,n)=>{const{prefixCls:o,className:r,rootClassName:a,style:i,extra:l,headStyle:c={},bodyStyle:s={},title:g,loading:u,bordered:d=!0,size:I,type:C,cover:m,actions:h,tabList:p,children:f,activeTabKey:A,defaultActiveTabKey:b,tabBarExtraContent:v,hoverable:y,tabProps:Z={},classNames:S,styles:G}=t,B=Z5(t,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:k,direction:w,card:R}=e.useContext(gv);const V=e=>{var t;return BG()(null===(t=null===R||void 0===R?void 0:R.classNames)||void 0===t?void 0:t[e],null===S||void 0===S?void 0:S[e])},W=e=>{var t;return Object.assign(Object.assign({},null===(t=null===R||void 0===R?void 0:R.styles)||void 0===t?void 0:t[e]),null===G||void 0===G?void 0:G[e])},x=e.useMemo((()=>{let t=!1;return e.Children.forEach(f,(e=>{e&&e.type&&e.type===I5&&(t=!0)})),t}),[f]),X=k("card",o),[N,J,E]=y5(X),H=e.createElement(f2,{loading:!0,active:!0,paragraph:{rows:4},title:!1},f),Y=void 0!==A,F=Object.assign(Object.assign({},Z),{[Y?"activeKey":"defaultActiveKey"]:Y?A:b,tabBarExtraContent:v});let K;const M=XX(I),L=M&&"default"!==M?M:"large",T=p?e.createElement(u5,Object.assign({size:L},F,{className:"".concat(X,"-head-tabs"),onChange:e=>{var n;null===(n=t.onTabChange)||void 0===n||n.call(t,e)},items:p.map((e=>{var{tab:t}=e,n=Z5(e,["tab"]);return Object.assign({label:t},n)}))})):null;if(g||l||T){const t=BG()("".concat(X,"-head"),V("header")),n=BG()("".concat(X,"-head-title"),V("title")),o=BG()("".concat(X,"-extra"),V("extra")),r=Object.assign(Object.assign({},c),W("header"));K=e.createElement("div",{className:t,style:r},e.createElement("div",{className:"".concat(X,"-head-wrapper")},g&&e.createElement("div",{className:n,style:W("title")},g),l&&e.createElement("div",{className:o,style:W("extra")},l)),T)}const z=BG()("".concat(X,"-cover"),V("cover")),D=m?e.createElement("div",{className:z,style:W("cover")},m):null,O=BG()("".concat(X,"-body"),V("body")),j=Object.assign(Object.assign({},s),W("body")),U=e.createElement("div",{className:O,style:j},u?H:f),P=BG()("".concat(X,"-actions"),V("actions")),Q=h&&h.length?e.createElement(S5,{actionClasses:P,actionStyle:W("actions"),actions:h}):null,_=cW(B,["onTabChange"]),q=BG()(X,null===R||void 0===R?void 0:R.className,{["".concat(X,"-loading")]:u,["".concat(X,"-bordered")]:d,["".concat(X,"-hoverable")]:y,["".concat(X,"-contain-grid")]:x,["".concat(X,"-contain-tabs")]:p&&p.length,["".concat(X,"-").concat(M)]:M,["".concat(X,"-type-").concat(C)]:!!C,["".concat(X,"-rtl")]:"rtl"===w},r,a,J,E),$=Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),i);return N(e.createElement("div",Object.assign({ref:n},_,{className:q,style:$}),K,D,U,Q))}));var B5=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const k5=t=>{const{prefixCls:n,className:o,avatar:r,title:a,description:i}=t,l=B5(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:c}=e.useContext(gv),s=c("card",n),g=BG()("".concat(s,"-meta"),o),u=r?e.createElement("div",{className:"".concat(s,"-meta-avatar")},r):null,d=a?e.createElement("div",{className:"".concat(s,"-meta-title")},a):null,I=i?e.createElement("div",{className:"".concat(s,"-meta-description")},i):null,C=d||I?e.createElement("div",{className:"".concat(s,"-meta-detail")},d,I):null;return e.createElement("div",Object.assign({},l,{className:g}),u,C)},w5=G5;w5.Grid=I5,w5.Meta=k5;const R5=w5,{Meta:V5}=R5,W5=e=>{let{title:t,imgsrc:n,description:o,style:r,setTab:a,setDesText:i,index:l}=e;return(0,et.jsx)("div",{className:"RoleCard",children:(0,et.jsx)("div",{children:(0,et.jsx)(R5,{hoverable:!0,cover:(0,et.jsx)("img",{alt:t,src:n}),style:r,onClick:()=>{a(l),i(o)},children:(0,et.jsx)(V5,{title:t})})})})},x5=t=>{const n=Se(),o=R(),{state:r}=ye(),[a,i]=(0,e.useState)(-1),[l,c]=(0,e.useState)(),[s,g]=(0,e.useState)(),[u,d]=(0,e.useState)(!1),I=(0,e.useRef)(null),C=(0,e.useRef)(null);let m={};const h=[{name:"host",title:"Ch\u1ee7 Ph\xf2ng Kh\xe1m",imgsrc:"".concat("/pharma-track-fe","/assets/host.png"),description:"Ch\u1ee7 ph\xf2ng kh\xe1m"},{name:"staff",title:"Nh\xe2n Vi\xean",imgsrc:"".concat("/pharma-track-fe","/assets/staff.png"),description:"Nh\xe2n vi\xean"},{name:"user",title:"Ng\u01b0\u1eddi D\xf9ng",imgsrc:"".concat("/pharma-track-fe","/assets/user.png"),description:"Ng\u01b0\u1eddi d\xf9ng"}],p=async e=>{if(e>=3||e<0)c("B\u1ea1n ch\u01b0a ch\u1ecdn lo\u1ea1i t\xe0i kho\u1ea3n !");else{const t=h[e].name;try{if(r.password){const e=await Tb({...r,role:t,...m});if(!e)return void RR.error({message:"\u0110\u0103ng k\xed",description:"L\u1ed7i \u0111\u0103ng k\xed"});const{uid:a}=e;RR.success({message:"\u0110\u0103ng k\xed",description:"\u0110\u0103ng k\xed th\xe0nh c\xf4ng"});const i=await Fb(a);o(qn(i)),localStorage.setItem("user",JSON.stringify(i)),RR.success({message:"\u0110\u0103ng nh\u1eadp",description:"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"}),n("/home")}else Hb(r.uid,{...r,role:t}),n("/login"),RR.success({message:"\u0110\u0103ng k\xed",description:"\u0110\u0103ng k\xed th\xe0nh c\xf4ng"})}catch(Tie){RR.error({message:"\u0110\u0103ng k\xed",description:"auth/email-already-in-use"===Tie.code?"Email \u0111\xe3 \u0111\u01b0\u1ee3c d\xf9ng":""})}}};return(0,et.jsxs)("div",{className:"RolePage tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)(u9,{open:u,title:0===a?"Th\xf4ng tin ph\xf2ng kh\xe1m":"Th\xf4ng tin nh\xe2n vi\xean",onCancel:()=>d(!1),footer:[(0,et.jsx)(AE,{onClick:()=>d(!1),children:"Quay l\u1ea1i"},"back"),(0,et.jsx)(AE,{type:"primary",onClick:async()=>{if(0===a){if(!await(async()=>{if(I.current){if(I.current.handleSubmit(),!(I.current.isValid&&Object.keys(I.current.touched).length>0))return!1;try{if("that bai"===(await fz("POST","https://pharma-track-be.onrender.com/api/v1/clinic",{...I.current.values,status_clinic:!0})).results)return RR.error({message:"T\u1ea1o ph\xf2ng kh\xe1m",description:"Ph\xf2ng kh\xe1m v\u1edbi ID ".concat(I.current.values.id_clinic," \u0111\xe3 t\u1ed3n t\u1ea1i")}),!1}catch(Tie){console.error(Tie)}}return m.id_clinic=I.current.values.id_clinic,!0})())return!1}else if(m=await C.current.submitForm(),!m)return!1;return await p(a),!0},children:0===a?"T\u1ea1o ph\xf2ng kh\xe1m":"T\u1ea1o t\xe0i kho\u1ea3n"},"submit")],width:448,style:{top:120},children:0===a?(0,et.jsx)(C9,{...r,formRef:I}):(0,et.jsx)(h9,{...r,formRef:C})}),(0,et.jsxs)("div",{children:[(0,et.jsx)(p1,{}),(0,et.jsxs)("div",{className:"RoleHeader",children:[(0,et.jsx)("div",{className:"header1 ",children:"Vui l\xf2ng ch\u1ecdn lo\u1ea1i"}),(0,et.jsx)("div",{className:"header2 ",children:" T\xc0I KHO\u1ea2N"})]}),(0,et.jsx)("div",{className:"RoleCardList tw-flex tw-flex-row",children:h.map(((e,t)=>(0,et.jsx)(W5,{...e,style:a===t?{borderColor:"rgba(0, 121, 255, 0.5)"}:{},setTab:i,setDesText:g,index:t})))}),(0,et.jsx)("div",{className:"tw-text-gray-400 tw-text-center tw-mt-2",children:s})]}),-1===a&&l&&(0,et.jsx)("div",{className:"warn-container tw-text-red-500 tw-text-base tw-mt-3",style:{animation:"fadeIn 1s"},children:l}),(0,et.jsxs)("div",{className:"RoleButton tw-flex tw-flex-row tw-justify-center tw-space-x-40 tw-mt-5",children:[(0,et.jsx)("div",{children:(0,et.jsx)(AE,{className:"button1",type:"primary",shape:"round",style:{width:"150px",height:"40px"},onClick:()=>n(-1),children:"QUAY L\u1ea0I"})}),(0,et.jsx)("div",{children:(0,et.jsx)(AE,{className:"button2",type:"primary",shape:"round",style:{backgroundColor:"blue",width:"150px",height:"40px"},onClick:async()=>{2===a?await p(a):d(!0)},children:"TI\u1ebeP T\u1ee4C"})})]})]})},X5=pz.Item,N5=e=>{let{handleSubmit:t,values:n,submitCount:o,setForgotPassword:r}=e;return(0,et.jsx)("div",{className:"LoginForm",children:(0,et.jsxs)(sM,{className:"form-container tw-flex tw-flex-col tw-items-center",onSubmit:t,children:[(0,et.jsx)(cM,{component:p_,name:"email",type:"email",label:"Email \u0111\u0103ng nh\u1eadp",validate:b_,submitCount:o,hasFeedback:!0,style:{width:"400px"},placeholder:"Email \u0111\u0103ng nh\u1eadp"}),(0,et.jsx)(cM,{component:A_,name:"password",type:"password",label:"M\u1eadt kh\u1ea9u",validate:y_,submitCount:o,hasFeedback:!0,placeholder:"M\u1eadt kh\u1ea9u"}),(0,et.jsx)("div",{className:"tw-text-red-500 tw-mt-3 tw-ml-3 tw-self-start forgot-password",onClick:()=>r(!0),children:"Qu\xean m\u1eadt kh\u1ea9u"}),(0,et.jsx)("div",{className:"submit-container",children:(0,et.jsx)(X5,{children:(0,et.jsx)(AE,{type:"primary",style:{width:"400px"},htmlType:"submit",children:"\u0110\u0103ng nh\u1eadp"})})})]})})},J5={email:"",password:""};RR.config({placement:"topRight",top:120,duration:1.5});const E5=e=>{let{setForgotPassword:t}=e;const n=R(),o=Se();return(0,et.jsx)("div",{className:"LoginFormContainer",children:(0,et.jsx)(oM,{initialValues:J5,onSubmit:async e=>{try{const{email:t,password:r}=e,a=await zb(t,r);if(!a)return void RR.error({message:"\u0110\u0103ng nh\u1eadp",description:"L\u1ed7i \u0111\u0103ng nh\u1eadp"});RR.success({message:"\u0110\u0103ng nh\u1eadp",description:"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"});const{uid:i}=a,l=await Fb(i);n(qn(l)),localStorage.setItem("user",JSON.stringify(l)),o("/home")}catch(Tie){RR.error({message:"\u0110\u0103ng nh\u1eadp",description:"auth/user-not-found"===Tie.code?"Kh\xf4ng t\u1ed3n t\u1ea1i ng\u01b0\u1eddi d\xf9ng":"auth/wrong-password"===Tie.code?"Sai m\u1eadt kh\u1ea9u":""})}},children:e=>(0,et.jsx)(N5,{...e,setForgotPassword:t})})})},H5=pz.Item,Y5=t=>{const n=Se(),[o,r]=(0,e.useState)(!1);return(0,et.jsx)("div",{className:"LoginPage tw-flex tw-flex-col tw-items-center",children:(0,et.jsxs)("div",{style:{width:"400px"},className:"tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)(p1,{}),(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/dogtor.png"),alt:"dogtor",width:"140px",height:"140px",className:"tw-rounded-full"}),o?(0,et.jsx)(oM,{initialValues:{email:""},onSubmit:async e=>{try{await async function(e,t,n){var o;const r=di(e),a={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(o=r._getRecaptchaConfig())||void 0===o?void 0:o.emailPasswordEnabled){const e=await si(r,a,"getOobCode",!0);n&&zi(r,e,n),await vi(r,e)}else n&&zi(r,a,n),await vi(r,a).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await si(r,a,"getOobCode",!0);n&&zi(r,e,n),await vi(r,e)}}))}(xb,e.email)}catch(Tie){return RR.error({message:"G\u1eedi y\xeau c\u1ea7u x\xe1c nh\u1eadn",description:"auth/user-not-found"===Tie.code?"Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi d\xf9ng":""}),!1}return RR.success({message:"G\u1eedi y\xeau c\u1ea7u x\xe1c nh\u1eadn",description:"\u0110\xe3 g\u1eedi y\xeau c\u1ea7u x\xe1c nh\u1eadn t\u1edbi email"}),r(!1),!0},children:(0,et.jsxs)(sM,{className:"form-container tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)(cM,{component:p_,name:"email",type:"email",label:"Email \u0111\u0103ng nh\u1eadp",validate:b_,hasFeedback:!0,style:{width:"400px"},placeholder:"Email \u0111\u0103ng nh\u1eadp"}),(0,et.jsx)("div",{className:"tw-mt-3 tw-ml-3 tw-self-start forgot-password tw-text-slate-400",onClick:()=>r(!1),children:"Quay l\u1ea1i trang \u0111\u0103ng nh\u1eadp"}),(0,et.jsx)("div",{className:"submit-container",children:(0,et.jsx)(H5,{children:(0,et.jsx)(AE,{type:"primary",style:{width:"400px"},htmlType:"submit",children:"G\u1eedi y\xeau c\u1ea7u x\xe1c nh\u1eadn"})})})]})}):(0,et.jsxs)("div",{className:"login-action-container tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)(E5,{setForgotPassword:r}),(0,et.jsx)("div",{className:"tw-mt-3",children:"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n, n\u1ebfu b\u1ea1n ch\u01b0a \u0111\u0103ng k\xed!"}),(0,et.jsx)(AE,{className:"tw-mt-3",style:{width:"400px"},onClick:()=>n("/signup"),children:"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n"}),(0,et.jsx)("div",{className:"tw-mt-4",children:"Ho\u1eb7c \u0111\u0103ng nh\u1eadp v\u1edbi"}),(0,et.jsx)(f1,{})]})]})})},F5=e=>{let{step:t,content:n,style:o}=e;return(0,et.jsxs)("div",{className:"StepComponent tw-flex-1 tw-px-12 tw-py-5 tw-rounded-none tw-select-none",style:Object.assign({background:"#D9D9D9",color:"#808192"},o),children:[(0,et.jsx)("div",{className:"tw-text-2xl",children:t}),(0,et.jsx)("div",{className:"tw-text-xl tw-font-bold ",children:n})]})},K5=e=>{let{current:t}=e;return(0,et.jsx)("div",{className:"BookApNav",children:(0,et.jsx)("div",{className:"Boxes tw-flex tw-mx-auto tw-max-w-5xl tw-pt-12 ",children:[{step:"B\u01b0\u1edbc 1",content:"Ch\u1ecdn ph\xf2ng kh\xe1m"},{step:"B\u01b0\u1edbc 2",content:"Phi\u1ebfu th\xf4ng tin"},{step:"B\u01b0\u1edbc 3",content:"X\xe1c nh\u1eadn & Thanh to\xe1n"}].map(((e,n)=>(0,et.jsx)(F5,{...e,style:t===n?{background:"linear-gradient(133deg, #383f75, #f1795c)",color:"white"}:{}})))})})};function M5(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var L5=M5("Tab"),T5=M5("TabList"),z5=M5("TabPanel");function D5(t,n){return e.Children.map(t,(function(t){return null===t?null:function(e){return L5(e)||T5(e)||z5(e)}(t)?n(t):t.props&&t.props.children&&"object"===typeof t.props.children?(0,e.cloneElement)(t,Object.assign({},t.props,{children:D5(t.props.children,n)})):t}))}function O5(t,n){return e.Children.forEach(t,(function(e){null!==e&&(L5(e)||z5(e)?n(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(T5(e)&&n(e),O5(e.props.children,n)))}))}function j5(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=j5(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}const U5=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=j5(e))&&(o&&(o+=" "),o+=t);return o};function P5(e){var t=0;return O5(e,(function(e){L5(e)&&t++})),t}var Q5,_5=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function q5(e){return e&&"getAttribute"in e}function $5(e){return q5(e)&&e.getAttribute("data-rttab")}function e3(e){return q5(e)&&"true"===e.getAttribute("aria-disabled")}var t3=function(t){var n=(0,e.useRef)([]),o=(0,e.useRef)([]),r=(0,e.useRef)();function a(e,n){e<0||e>=c()||(0,t.onSelect)(e,t.selectedIndex,n)}function i(e){for(var t=c(),n=e+1;n<t;n++)if(!e3(s(n)))return n;for(var o=0;o<e;o++)if(!e3(s(o)))return o;return e}function l(e){for(var t=e;t--;)if(!e3(s(t)))return t;for(t=c();t-- >e;)if(!e3(s(t)))return t;return e}function c(){return P5(t.children)}function s(e){return n.current["tabs-"+e]}function g(e){var t=e.target;do{if(u(t)){if(e3(t))return;return void a([].slice.call(t.parentNode.children).filter($5).indexOf(t),e)}}while(null!=(t=t.parentNode))}function u(e){if(!$5(e))return!1;var t=e.parentElement;do{if(t===r.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}t.children;var d=t.className,I=(t.disabledTabClassName,t.domRef),C=(t.focus,t.forceRenderTabPanel,t.onSelect,t.selectedIndex,t.selectedTabClassName,t.selectedTabPanelClassName,t.environment,t.disableUpDownKeys,t.disableLeftRightKeys,function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,_5));return e.createElement("div",Object.assign({},C,{className:U5(d),onClick:g,onKeyDown:function(e){var n=t.direction,o=t.disableUpDownKeys,r=t.disableLeftRightKeys;if(u(e.target)){var d=t.selectedIndex,I=!1,C=!1;"Space"!==e.code&&32!==e.keyCode&&"Enter"!==e.code&&13!==e.keyCode||(I=!0,C=!1,g(e)),(r||37!==e.keyCode&&"ArrowLeft"!==e.code)&&(o||38!==e.keyCode&&"ArrowUp"!==e.code)?(r||39!==e.keyCode&&"ArrowRight"!==e.code)&&(o||40!==e.keyCode&&"ArrowDown"!==e.code)?35===e.keyCode||"End"===e.code?(d=function(){for(var e=c();e--;)if(!e3(s(e)))return e;return null}(),I=!0,C=!0):36!==e.keyCode&&"Home"!==e.code||(d=function(){for(var e=c(),t=0;t<e;t++)if(!e3(s(t)))return t;return null}(),I=!0,C=!0):(d="rtl"===n?l(d):i(d),I=!0,C=!0):(d="rtl"===n?i(d):l(d),I=!0,C=!0),I&&e.preventDefault(),C&&a(d,e)}},ref:function(e){r.current=e,I&&I(e)},"data-rttabs":!0}),function(){var r=0,a=t.children,i=t.disabledTabClassName,l=t.focus,g=t.forceRenderTabPanel,u=t.selectedIndex,d=t.selectedTabClassName,I=t.selectedTabPanelClassName,C=t.environment;o.current=o.current||[];for(var m=o.current.length-c(),h=(0,e.useId)();m++<0;)o.current.push(""+h+o.current.length);return D5(a,(function(t){var a=t;if(T5(t)){var c=0,m=!1;null==Q5&&function(e){var t=e||("undefined"!==typeof window?window:void 0);try{Q5=!("undefined"===typeof t||!t.document||!t.document.activeElement)}catch(Tie){Q5=!1}}(C);var h=C||("undefined"!==typeof window?window:void 0);Q5&&h&&(m=e.Children.toArray(t.props.children).filter(L5).some((function(e,t){return h.document.activeElement===s(t)}))),a=(0,e.cloneElement)(t,{children:D5(t.props.children,(function(t){var r="tabs-"+c,a=u===c,s={tabRef:function(e){n.current[r]=e},id:o.current[c],selected:a,focus:a&&(l||m)};return d&&(s.selectedClassName=d),i&&(s.disabledClassName=i),c++,(0,e.cloneElement)(t,s)}))})}else if(z5(t)){var p={id:o.current[r],selected:u===r};g&&(p.forceRender=g),I&&(p.selectedClassName=I),r++,a=(0,e.cloneElement)(t,p)}return a}))}())};t3.defaultProps={className:"react-tabs",focus:!1},t3.propTypes={};const n3=t3;var o3=function(t){var n=t.children,o=t.defaultFocus,r=t.defaultIndex,a=t.focusTabOnClick,i=t.onSelect,l=(0,e.useState)(o),c=l[0],s=l[1],g=(0,e.useState)(function(e){return null===e.selectedIndex?1:0}(t)),u=g[0],d=(0,e.useState)(1===u?r||0:null),I=d[0],C=d[1];if((0,e.useEffect)((function(){s(!1)}),[]),1===u){var m=P5(n);(0,e.useEffect)((function(){if(null!=I){var e=Math.max(0,m-1);C(Math.min(I,e))}}),[m])}var h=Object.assign({},t);return h.focus=c,h.onSelect=function(e,t,n){"function"===typeof i&&!1===i(e,t,n)||(a&&s(!0),1===u&&C(e))},null!=I&&(h.selectedIndex=I),delete h.defaultFocus,delete h.defaultIndex,delete h.focusTabOnClick,e.createElement(n3,h,n)};o3.propTypes={},o3.defaultProps={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},o3.tabsRole="Tabs";const r3=o3;var a3=["children","className"];var i3=function(t){var n=t.children,o=t.className,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,a3);return e.createElement("ul",Object.assign({},r,{className:U5(o),role:"tablist"}),n)};i3.tabsRole="TabList",i3.propTypes={},i3.defaultProps={className:"react-tabs__tab-list"};const l3=i3;var c3=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];var s3="react-tabs__tab",g3={className:s3,disabledClassName:s3+"--disabled",focus:!1,id:null,selected:!1,selectedClassName:s3+"--selected"},u3=function(t){var n,o=(0,e.useRef)(),r=t.children,a=t.className,i=t.disabled,l=t.disabledClassName,c=t.focus,s=t.id,g=t.selected,u=t.selectedClassName,d=t.tabIndex,I=t.tabRef,C=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,c3);return(0,e.useEffect)((function(){g&&c&&o.current.focus()}),[g,c]),e.createElement("li",Object.assign({},C,{className:U5(a,(n={},n[u]=g,n[l]=i,n)),ref:function(e){o.current=e,I&&I(e)},role:"tab",id:"tab"+s,"aria-selected":g?"true":"false","aria-disabled":i?"true":"false","aria-controls":"panel"+s,tabIndex:d||(g?"0":null),"data-rttab":!0}),r)};u3.propTypes={},u3.tabsRole="Tab",u3.defaultProps=g3;const d3=u3;var I3=["children","className","forceRender","id","selected","selectedClassName"];var C3="react-tabs__tab-panel",m3={className:C3,forceRender:!1,selectedClassName:C3+"--selected"},h3=function(t){var n,o=t.children,r=t.className,a=t.forceRender,i=t.id,l=t.selected,c=t.selectedClassName,s=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,I3);return e.createElement("div",Object.assign({},s,{className:U5(r,(n={},n[c]=l,n)),role:"tabpanel",id:"panel"+i,"aria-labelledby":"tab"+i}),a||l?o:null)};h3.tabsRole="TabPanel",h3.propTypes={},h3.defaultProps=m3;const p3=h3,f3=e=>{let{id_staff:t,name:n,province:o,city:r,ward:a,address:i,department:l,style:c,changeStyle:s,setStyle:g,handleDoubleClick:u,setID:d}=e;return(0,et.jsxs)("div",{className:"DoctorCard tw-border-2 tw-px-8 tw-pt-10 tw-select-none tw-cursor-pointer tw-transform tw-transition tw-duration-500 hover:tw-scale-110",style:c,onClick:()=>{d(t),g(t)},onDoubleClick:()=>{u(),d(t)},children:[(0,et.jsx)("div",{className:"tw-flex tw-justify-center",children:(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/avatardoctor.png"),alt:"dogtor"})}),(0,et.jsxs)("div",{className:"tw-text-center tw-my-auto tw-pt-2 ",children:[(0,et.jsx)("div",{className:"Name tw-text-2xl tw-font-bold tw-pb-2",children:n}),(0,et.jsxs)("div",{className:"\u0110\u1ecba ch\u1ec9 tw-text-sm ",children:["\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m: ",i,", ",a,", ",r,", ",o]}),(0,et.jsxs)("div",{className:"field tw-text-sm",children:["Khoa: ",l]})]})]})},A3=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];n&&Object.keys(n).forEach((t=>{const o=n[t];void 0!==o&&(e[t]=o)}))}return e};function b3(){const[,t]=e.useReducer((e=>e+1),0);return t}const v3=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,e.useRef)({}),o=b3(),r=HT();return vy((()=>{const e=r.subscribe((e=>{n.current=e,t&&o()}));return()=>r.unsubscribe(e)}),[]),n.current};const y3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};var Z3=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:y3}))};const S3=e.forwardRef(Z3);const G3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};var B3=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:G3}))};const k3=e.forwardRef(B3);const w3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var R3=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:w3}))};const V3=e.forwardRef(R3);const W3={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"};var x3=["10","20","50","100"];const X3=function(t){var n=t.pageSizeOptions,o=void 0===n?x3:n,r=t.locale,a=t.changeSize,i=t.pageSize,l=t.goButton,c=t.quickGo,s=t.rootPrefixCls,g=t.selectComponentClass,u=t.selectPrefixCls,d=t.disabled,I=t.buildOptionText,C=hv(e.useState(""),2),m=C[0],h=C[1],p=function(){return!m||Number.isNaN(m)?void 0:Number(m)},f="function"===typeof I?I:function(e){return"".concat(e," ").concat(r.items_per_page)},A=function(e){""!==m&&(e.keyCode!==rw.ENTER&&"click"!==e.type||(h(""),null===c||void 0===c||c(p())))},b="".concat(s,"-options");if(!a&&!c)return null;var v=null,y=null,Z=null;if(a&&g){var S=(o.some((function(e){return e.toString()===i.toString()}))?o:o.concat([i.toString()]).sort((function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))}))).map((function(t,n){return e.createElement(g.Option,{key:n,value:t.toString()},f(t))}));v=e.createElement(g,{disabled:d,prefixCls:u,showSearch:!1,className:"".concat(b,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(i||o[0]).toString(),onChange:function(e){null===a||void 0===a||a(Number(e))},getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},S)}return c&&(l&&(Z="boolean"===typeof l?e.createElement("button",{type:"button",onClick:A,onKeyUp:A,disabled:d,className:"".concat(b,"-quick-jumper-button")},r.jump_to_confirm):e.createElement("span",{onClick:A,onKeyUp:A},l)),y=e.createElement("div",{className:"".concat(b,"-quick-jumper")},r.jump_to,e.createElement("input",{disabled:d,type:"text",value:m,onChange:function(e){h(e.target.value)},onKeyUp:A,onBlur:function(e){l||""===m||(h(""),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(s,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(s,"-item"))>=0)||null===c||void 0===c||c(p()))},"aria-label":r.page}),r.page,Z)),e.createElement("li",{className:b},v,y)};const N3=function(t){var n,o=t.rootPrefixCls,r=t.page,a=t.active,i=t.className,l=t.showTitle,c=t.onClick,s=t.onKeyPress,g=t.itemRender,u="".concat(o,"-item"),d=BG()(u,"".concat(u,"-").concat(r),(an(n={},"".concat(u,"-active"),a),an(n,"".concat(u,"-disabled"),!r),n),i),I=g(r,"page",e.createElement("a",{rel:"nofollow"},r));return I?e.createElement("li",{title:l?String(r):null,className:d,onClick:function(){c(r)},onKeyDown:function(e){s(e,c,r)},tabIndex:0},I):null};var J3=function(e,t,n){return n};function E3(){}function H3(e){var t=Number(e);return"number"===typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Y3(e,t,n){var o="undefined"===typeof e?t:e;return Math.floor((n-1)/o)+1}const F3=function(t){var n,o=t.prefixCls,r=void 0===o?"rc-pagination":o,a=t.selectPrefixCls,i=void 0===a?"rc-select":a,l=t.className,c=t.selectComponentClass,s=t.current,g=t.defaultCurrent,u=void 0===g?1:g,d=t.total,I=void 0===d?0:d,C=t.pageSize,m=t.defaultPageSize,h=void 0===m?10:m,p=t.onChange,f=void 0===p?E3:p,A=t.hideOnSinglePage,b=t.showPrevNextJumpers,v=void 0===b||b,y=t.showQuickJumper,Z=t.showLessItems,S=t.showTitle,G=void 0===S||S,B=t.onShowSizeChange,k=void 0===B?E3:B,w=t.locale,R=void 0===w?W3:w,V=t.style,W=t.totalBoundaryShowSizeChanger,x=void 0===W?50:W,X=t.disabled,N=t.simple,J=t.showTotal,E=t.showSizeChanger,H=t.pageSizeOptions,Y=t.itemRender,F=void 0===Y?J3:Y,K=t.jumpPrevIcon,M=t.jumpNextIcon,L=t.prevIcon,T=t.nextIcon,z=e.useRef(null),D=hv(QG(10,{value:C,defaultValue:h}),2),O=D[0],j=D[1],U=QG(1,{value:s,defaultValue:u,postState:function(e){return Math.max(1,Math.min(e,Y3(void 0,O,I)))}}),P=hv(U,2),Q=P[0],_=P[1],q=hv(e.useState(Q),2),$=q[0],ee=q[1];(0,e.useEffect)((function(){ee(Q)}),[Q]);var te=Math.max(1,Q-(Z?3:5)),ne=Math.min(Y3(void 0,O,I),Q+(Z?3:5));function oe(n,o){var a=n||e.createElement("button",{type:"button","aria-label":o,className:"".concat(r,"-item-link")});return"function"===typeof n&&(a=e.createElement(n,cn({},t))),a}function re(e){var t=e.target.value,n=Y3(void 0,O,I);return""===t?t:Number.isNaN(Number(t))?$:t>=n?n:Number(t)}var ae=I>O&&y;function ie(e){var t=re(e);switch(t!==$&&ee(t),e.keyCode){case rw.ENTER:le(t);break;case rw.UP:le(t-1);break;case rw.DOWN:le(t+1)}}function le(e){if(function(e){return H3(e)&&e!==Q&&H3(I)&&I>0}(e)&&!X){var t=Y3(void 0,O,I),n=e;return e>t?n=t:e<1&&(n=1),n!==$&&ee(n),_(n),null===f||void 0===f||f(n,O),n}return Q}var ce=Q>1,se=Q<Y3(void 0,O,I),ge=null!==E&&void 0!==E?E:I>x;function ue(){ce&&le(Q-1)}function de(){se&&le(Q+1)}function Ie(){le(te)}function Ce(){le(ne)}function me(e,t){if("Enter"===e.key||e.charCode===rw.ENTER||e.keyCode===rw.ENTER){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];t.apply(void 0,o)}}function he(e){"click"!==e.type&&e.keyCode!==rw.ENTER||le($)}var pe=null,fe=sw(t,{aria:!0,data:!0}),Ae=J&&e.createElement("li",{className:"".concat(r,"-total-text")},J(I,[0===I?0:(Q-1)*O+1,Q*O>I?I:Q*O])),be=null,ve=Y3(void 0,O,I);if(A&&I<=O)return null;var ye=[],Ze={rootPrefixCls:r,onClick:le,onKeyPress:me,showTitle:G,itemRender:F,page:-1},Se=Q-1>0?Q-1:0,Ge=Q+1<ve?Q+1:ve,Be=y&&y.goButton,ke=Be,we=null;N&&(Be&&(ke="boolean"===typeof Be?e.createElement("button",{type:"button",onClick:he,onKeyUp:he},R.jump_to_confirm):e.createElement("span",{onClick:he,onKeyUp:he},Be),ke=e.createElement("li",{title:G?"".concat(R.jump_to).concat(Q,"/").concat(ve):null,className:"".concat(r,"-simple-pager")},ke)),we=e.createElement("li",{title:G?"".concat(Q,"/").concat(ve):null,className:"".concat(r,"-simple-pager")},e.createElement("input",{type:"text",value:$,disabled:X,onKeyDown:function(e){e.keyCode!==rw.UP&&e.keyCode!==rw.DOWN||e.preventDefault()},onKeyUp:ie,onChange:ie,onBlur:function(e){le(re(e))},size:3}),e.createElement("span",{className:"".concat(r,"-slash")},"/"),ve));var Re=Z?1:2;if(ve<=3+2*Re){ve||ye.push(e.createElement(N3,Ey({},Ze,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var Ve=1;Ve<=ve;Ve+=1)ye.push(e.createElement(N3,Ey({},Ze,{key:Ve,page:Ve,active:Q===Ve})))}else{var We=Z?R.prev_3:R.prev_5,xe=Z?R.next_3:R.next_5,Xe=F(te,"jump-prev",oe(K,"prev page")),Ne=F(ne,"jump-next",oe(M,"next page"));v&&(pe=Xe?e.createElement("li",{title:G?We:null,key:"prev",onClick:Ie,tabIndex:0,onKeyDown:function(e){me(e,Ie)},className:BG()("".concat(r,"-jump-prev"),an({},"".concat(r,"-jump-prev-custom-icon"),!!K))},Xe):null,be=Ne?e.createElement("li",{title:G?xe:null,key:"next",onClick:Ce,tabIndex:0,onKeyDown:function(e){me(e,Ce)},className:BG()("".concat(r,"-jump-next"),an({},"".concat(r,"-jump-next-custom-icon"),!!M))},Ne):null);var Je=Math.max(1,Q-Re),Ee=Math.min(Q+Re,ve);Q-1<=Re&&(Ee=1+2*Re),ve-Q<=Re&&(Je=ve-2*Re);for(var He=Je;He<=Ee;He+=1)ye.push(e.createElement(N3,Ey({},Ze,{key:He,page:He,active:Q===He})));if(Q-1>=2*Re&&3!==Q&&(ye[0]=e.cloneElement(ye[0],{className:BG()("".concat(r,"-item-after-jump-prev"),ye[0].props.className)}),ye.unshift(pe)),ve-Q>=2*Re&&Q!==ve-2){var Ye=ye[ye.length-1];ye[ye.length-1]=e.cloneElement(Ye,{className:BG()("".concat(r,"-item-before-jump-next"),Ye.props.className)}),ye.push(be)}1!==Je&&ye.unshift(e.createElement(N3,Ey({},Ze,{key:1,page:1}))),Ee!==ve&&ye.push(e.createElement(N3,Ey({},Ze,{key:ve,page:ve})))}var Fe=function(t){var n=F(t,"prev",oe(L,"prev page"));return e.isValidElement(n)?e.cloneElement(n,{disabled:!ce}):n}(Se);if(Fe){var Ke=!ce||!ve;Fe=e.createElement("li",{title:G?R.prev_page:null,onClick:ue,tabIndex:Ke?null:0,onKeyDown:function(e){me(e,ue)},className:BG()("".concat(r,"-prev"),an({},"".concat(r,"-disabled"),Ke)),"aria-disabled":Ke},Fe)}var Me,Le,Te=function(t){var n=F(t,"next",oe(T,"next page"));return e.isValidElement(n)?e.cloneElement(n,{disabled:!se}):n}(Ge);Te&&(N?(Me=!se,Le=ce?0:null):Le=(Me=!se||!ve)?null:0,Te=e.createElement("li",{title:G?R.next_page:null,onClick:de,tabIndex:Le,onKeyDown:function(e){me(e,de)},className:BG()("".concat(r,"-next"),an({},"".concat(r,"-disabled"),Me)),"aria-disabled":Me},Te));var ze=BG()(r,l,(an(n={},"".concat(r,"-simple"),N),an(n,"".concat(r,"-disabled"),X),n));return e.createElement("ul",Ey({className:ze,style:V,ref:z},fe),Ae,Fe,N?we:ye,Te,e.createElement(X3,{locale:R,rootPrefixCls:r,disabled:X,selectComponentClass:c,selectPrefixCls:i,changeSize:ge?function(e){var t=Y3(e,O,I),n=Q>t&&0!==t?t:Q;j(e),ee(n),null===k||void 0===k||k(Q,e),_(n),null===f||void 0===f||f(n,e)}:null,pageSize:O,pageSizeOptions:H,quickGo:ae?le:null,goButton:ke}))},K3=t=>e.createElement(JO,Object.assign({},t,{showSearch:!0,size:"small"})),M3=t=>e.createElement(JO,Object.assign({},t,{showSearch:!0,size:"middle"}));K3.Option=JO.Option,M3.Option=JO.Option;const L3=e=>{const{componentCls:t}=e;return{["".concat(t,"-disabled")]:{"&, &:hover":{cursor:"not-allowed",["".concat(t,"-item-link")]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",["".concat(t,"-item-link")]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},["&".concat(t,"-disabled")]:{cursor:"not-allowed",["".concat(t,"-item")]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},["".concat(t,"-item-link")]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},["".concat(t,"-simple&")]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},["".concat(t,"-simple-pager")]:{color:e.colorTextDisabled},["".concat(t,"-jump-prev, ").concat(t,"-jump-next")]:{["".concat(t,"-item-link-icon")]:{opacity:0},["".concat(t,"-item-ellipsis")]:{opacity:1}}},["&".concat(t,"-simple")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{["&".concat(t,"-disabled ").concat(t,"-item-link")]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},T3=e=>{const{componentCls:t}=e;return{["&".concat(t,"-mini ").concat(t,"-total-text, &").concat(t,"-mini ").concat(t,"-simple-pager")]:{height:e.itemSizeSM,lineHeight:Iy(e.itemSizeSM)},["&".concat(t,"-mini ").concat(t,"-item")]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Iy(e.calc(e.itemSizeSM).sub(2).equal())},["&".concat(t,"-mini:not(").concat(t,"-disabled) ").concat(t,"-item:not(").concat(t,"-item-active)")]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},["&".concat(t,"-mini ").concat(t,"-prev, &").concat(t,"-mini ").concat(t,"-next")]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Iy(e.itemSizeSM)},["&".concat(t,"-mini:not(").concat(t,"-disabled)")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{["&:hover ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextHover},["&:active ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextActive},["&".concat(t,"-disabled:hover ").concat(t,"-item-link")]:{backgroundColor:"transparent"}}},["\n    &".concat(t,"-mini ").concat(t,"-prev ").concat(t,"-item-link,\n    &").concat(t,"-mini ").concat(t,"-next ").concat(t,"-item-link\n    ")]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:Iy(e.itemSizeSM)}},["&".concat(t,"-mini ").concat(t,"-jump-prev, &").concat(t,"-mini ").concat(t,"-jump-next")]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:Iy(e.itemSizeSM)},["&".concat(t,"-mini ").concat(t,"-options")]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:Iy(e.itemSizeSM),input:Object.assign(Object.assign({},GP(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},z3=e=>{const{componentCls:t}=e;return{["\n    &".concat(t,"-simple ").concat(t,"-prev,\n    &").concat(t,"-simple ").concat(t,"-next\n    ")]:{height:e.itemSizeSM,lineHeight:Iy(e.itemSizeSM),verticalAlign:"top",["".concat(t,"-item-link")]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:Iy(e.itemSizeSM)}}},["&".concat(t,"-simple ").concat(t,"-simple-pager")]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:"0 ".concat(Iy(e.paginationItemPaddingInline)),textAlign:"center",backgroundColor:e.itemInputBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,outline:"none",transition:"border-color ".concat(e.motionDurationMid),color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:"".concat(Iy(e.inputOutlineOffset)," 0 ").concat(Iy(e.controlOutlineWidth)," ").concat(e.controlOutline)},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},D3=e=>{const{componentCls:t}=e;return{["".concat(t,"-jump-prev, ").concat(t,"-jump-next")]:{outline:0,["".concat(t,"-item-container")]:{position:"relative",["".concat(t,"-item-link-icon")]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:"all ".concat(e.motionDurationMid),"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},["".concat(t,"-item-ellipsis")]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:"all ".concat(e.motionDurationMid)}},"&:hover":{["".concat(t,"-item-link-icon")]:{opacity:1},["".concat(t,"-item-ellipsis")]:{opacity:0}}},["\n    ".concat(t,"-prev,\n    ").concat(t,"-jump-prev,\n    ").concat(t,"-jump-next\n    ")]:{marginInlineEnd:e.marginXS},["\n    ".concat(t,"-prev,\n    ").concat(t,"-next,\n    ").concat(t,"-jump-prev,\n    ").concat(t,"-jump-next\n    ")]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:"".concat(Iy(e.itemSize)),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:"all ".concat(e.motionDurationMid)},["".concat(t,"-prev, ").concat(t,"-next")]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},["".concat(t,"-item-link")]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:"none",transition:"all ".concat(e.motionDurationMid)},["&:hover ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextHover},["&:active ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextActive},["&".concat(t,"-disabled:hover")]:{["".concat(t,"-item-link")]:{backgroundColor:"transparent"}}},["".concat(t,"-slash")]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},["".concat(t,"-options")]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:Iy(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},BP(e)),dP(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},uP(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},O3=e=>{const{componentCls:t}=e;return{["".concat(t,"-item")]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:Iy(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:"0 ".concat(Iy(e.paginationItemPaddingInline)),color:e.colorText,"&:hover":{textDecoration:"none"}},["&:not(".concat(t,"-item-active)")]:{"&:hover":{transition:"all ".concat(e.motionDurationMid),backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},j3=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ik(e)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},["".concat(t,"-total-text")]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:Iy(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),O3(e)),D3(e)),z3(e)),T3(e)),L3(e)),{["@media only screen and (max-width: ".concat(e.screenLG,"px)")]:{["".concat(t,"-item")]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},["@media only screen and (max-width: ".concat(e.screenSM,"px)")]:{["".concat(t,"-options")]:{display:"none"}}}),["&".concat(e.componentCls,"-rtl")]:{direction:"rtl"}}},U3=e=>{const{componentCls:t}=e;return{["".concat(t,":not(").concat(t,"-disabled)")]:{["".concat(t,"-item")]:Object.assign({},gk(e)),["".concat(t,"-jump-prev, ").concat(t,"-jump-next")]:{"&:focus-visible":Object.assign({["".concat(t,"-item-link-icon")]:{opacity:1},["".concat(t,"-item-ellipsis")]:{opacity:0}},sk(e))},["".concat(t,"-prev, ").concat(t,"-next")]:{["&:focus-visible ".concat(t,"-item-link")]:Object.assign({},sk(e))}}}},P3=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},sP(e)),Q3=e=>xw(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},cP(e)),_3=Uw("Pagination",(e=>{const t=Q3(e);return[j3(t),U3(t)]}),P3),q3=e=>{const{componentCls:t}=e;return{["".concat(t).concat(t,"-bordered").concat(t,"-disabled:not(").concat(t,"-mini)")]:{"&, &:hover":{["".concat(t,"-item-link")]:{borderColor:e.colorBorder}},"&:focus-visible":{["".concat(t,"-item-link")]:{borderColor:e.colorBorder}},["".concat(t,"-item, ").concat(t,"-item-link")]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,["&:hover:not(".concat(t,"-item-active)")]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},["&".concat(t,"-item-active")]:{backgroundColor:e.itemActiveBgDisabled}},["".concat(t,"-prev, ").concat(t,"-next")]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},["".concat(t,"-item-link")]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},["".concat(t).concat(t,"-bordered:not(").concat(t,"-mini)")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},["".concat(t,"-item-link")]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},["&:hover ".concat(t,"-item-link")]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},["&".concat(t,"-disabled")]:{["".concat(t,"-item-link")]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},["".concat(t,"-item")]:{backgroundColor:e.itemBg,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),["&:hover:not(".concat(t,"-item-active)")]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},$3=jw(["Pagination","bordered"],(e=>{const t=Q3(e);return[q3(t)]}),P3);var e4=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const t4=t=>{const{prefixCls:n,selectPrefixCls:o,className:r,rootClassName:a,style:i,size:l,locale:c,selectComponentClass:s,responsive:g,showSizeChanger:u}=t,d=e4(t,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:I}=v3(g),[,C]=nk(),{getPrefixCls:m,direction:h,pagination:p={}}=e.useContext(gv),f=m("pagination",n),[A,b,v]=_3(f),y=null!==u&&void 0!==u?u:p.showSizeChanger,Z=e.useMemo((()=>{const t=e.createElement("span",{className:"".concat(f,"-item-ellipsis")},"\u2022\u2022\u2022");return{prevIcon:e.createElement("button",{className:"".concat(f,"-item-link"),type:"button",tabIndex:-1},"rtl"===h?e.createElement(xR,null):e.createElement(V3,null)),nextIcon:e.createElement("button",{className:"".concat(f,"-item-link"),type:"button",tabIndex:-1},"rtl"===h?e.createElement(V3,null):e.createElement(xR,null)),jumpPrevIcon:e.createElement("a",{className:"".concat(f,"-item-link")},e.createElement("div",{className:"".concat(f,"-item-container")},"rtl"===h?e.createElement(k3,{className:"".concat(f,"-item-link-icon")}):e.createElement(S3,{className:"".concat(f,"-item-link-icon")}),t)),jumpNextIcon:e.createElement("a",{className:"".concat(f,"-item-link")},e.createElement("div",{className:"".concat(f,"-item-container")},"rtl"===h?e.createElement(S3,{className:"".concat(f,"-item-link-icon")}):e.createElement(k3,{className:"".concat(f,"-item-link-icon")}),t))}}),[h,f]),[S]=rz("Pagination",oS),G=Object.assign(Object.assign({},S),c),B=XX(l),k="small"===B||!(!I||B||!g),w=m("select",o),R=BG()({["".concat(f,"-mini")]:k,["".concat(f,"-rtl")]:"rtl"===h,["".concat(f,"-bordered")]:C.wireframe},null===p||void 0===p?void 0:p.className,r,a,b,v),V=Object.assign(Object.assign({},null===p||void 0===p?void 0:p.style),i);return A(e.createElement(e.Fragment,null,C.wireframe&&e.createElement($3,{prefixCls:f}),e.createElement(F3,Object.assign({},Z,d,{style:V,prefixCls:f,selectPrefixCls:w,className:R,selectComponentClass:s||(k?K3:M3),locale:G,showSizeChanger:y}))))},n4=t4;function o4(e,t,n){var o=(n||{}).atBegin;return function(e,t,n){var o,r=n||{},a=r.noTrailing,i=void 0!==a&&a,l=r.noLeading,c=void 0!==l&&l,s=r.debounceMode,g=void 0===s?void 0:s,u=!1,d=0;function I(){o&&clearTimeout(o)}function C(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=this,s=Date.now()-d;function C(){d=Date.now(),t.apply(l,r)}function m(){o=void 0}u||(c||!g||o||C(),I(),void 0===g&&s>e?c?(d=Date.now(),i||(o=setTimeout(g?m:C,e))):C():!0!==i&&(o=setTimeout(g?m:C,void 0===g?e-s:e)))}return C.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;I(),u=!n},C}(e,t,{debounceMode:!1!==(void 0!==o&&o)})}function r4(t){let{percent:n,prefixCls:o}=t;const r="".concat(o,"-dot"),a="".concat(r,"-holder"),i="".concat(a,"-hidden"),[l,c]=e.useState(!1);vy((()=>{0!==n&&c(!0)}),[0!==n]);const s=Math.max(Math.min(n,100),0),g=100,u=80*Math.PI,d=(t,n)=>e.createElement("circle",{className:BG()(t,"".concat(r,"-circle")),r:40,cx:"50",cy:"50",strokeWidth:20,style:n});return l?e.createElement("span",{className:BG()(a,"".concat(r,"-progress"),s<=0&&i)},e.createElement("svg",{viewBox:"0 0 ".concat(g," ").concat(g),role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s},d("".concat(r,"-circle-bg")),d("",{strokeDasharray:"".concat(u*s/100," ").concat(u*(100-s)/100),strokeDashoffset:"".concat(u/4)}))):null}function a4(t){const{prefixCls:n,percent:o=0}=t,r="".concat(n,"-dot"),a="".concat(r,"-holder"),i="".concat(a,"-hidden");return e.createElement(e.Fragment,null,e.createElement("span",{className:BG()(a,o>0&&i)},e.createElement("span",{className:BG()(r,"".concat(n,"-dot-spin"))},[1,2,3,4].map((t=>e.createElement("i",{className:"".concat(n,"-dot-item"),key:t}))))),e.createElement(r4,{prefixCls:n,percent:o}))}function i4(t){const{prefixCls:n,indicator:o,percent:r}=t,a="".concat(n,"-dot");return o&&e.isValidElement(o)?ZW(o,{className:BG()(o.props.className,a)}):e.createElement(a4,{prefixCls:n,percent:r})}const l4=new TZ("antSpinMove",{to:{opacity:1}}),c4=new TZ("antRotate",{to:{transform:"rotate(405deg)"}}),s4=e=>{const{componentCls:t,calc:n}=e;return{["".concat(t)]:Object.assign(Object.assign({},ik(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"relative",display:"inline-block",opacity:1},["".concat(t,"-text")]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:"all ".concat(e.motionDurationMid),"&-show":{opacity:1,visibility:"visible"},[t]:{["".concat(t,"-dot-holder")]:{color:e.colorWhite},["".concat(t,"-text")]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",["> div > ".concat(t)]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,["".concat(t,"-dot")]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},["".concat(t,"-text")]:{position:"absolute",top:"50%",width:"100%",textShadow:"0 1px 2px ".concat(e.colorBgContainer)},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{["".concat(t,"-dot")]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},["".concat(t,"-text")]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{["".concat(t,"-dot")]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},["".concat(t,"-text")]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},["".concat(t,"-container")]:{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}},["".concat(t,"-blur")]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},["".concat(t,"-dot-progress")]:{position:"absolute",top:0,insetInlineStart:0},["".concat(t,"-dot-holder")]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:"transform ".concat(e.motionDurationSlow," ease, opacity ").concat(e.motionDurationSlow," ease"),transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},["".concat(t,"-dot-progress")]:{position:"absolute",top:0,insetInlineStart:0},["".concat(t,"-dot")]:{position:"relative",display:"inline-block",width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:l4,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:c4,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map((t=>"".concat(t," ").concat(e.motionDurationSlow," ease"))).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},["&-sm ".concat(t,"-dot-holder")]:{fontSize:e.dotSizeSM,i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},["&-lg ".concat(t,"-dot-holder")]:{fontSize:e.dotSizeLG,i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},["&".concat(t,"-show-text ").concat(t,"-text")]:{display:"block"}})}},g4=Uw("Spin",(e=>{const t=xw(e,{spinDotDefault:e.colorTextDescription});return[s4(t)]}),(e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:n}})),u4=[[30,.05],[70,.03],[96,.01]];var d4=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};let I4;const C4=t=>{const{prefixCls:n,spinning:o=!0,delay:r=0,className:a,rootClassName:i,size:l="default",tip:c,wrapperClassName:s,style:g,children:u,fullscreen:d=!1,indicator:I,percent:C}=t,m=d4(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:h}=e.useContext(gv),p=h("spin",n),[f,A,b]=g4(p),[v,y]=e.useState((()=>o&&!function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(o,r))),Z=function(t,n){const[o,r]=e.useState(0),a=e.useRef(),i="auto"===n;return e.useEffect((()=>(i&&t&&(r(0),a.current=setInterval((()=>{r((e=>{const t=100-e;for(let n=0;n<u4.length;n+=1){const[o,r]=u4[n];if(e<=o)return e+t*r}return e}))}),200)),()=>{clearInterval(a.current)})),[i,t]),i?o:n}(v,C);e.useEffect((()=>{if(o){const e=o4(r,(()=>{y(!0)}));return e(),()=>{var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}y(!1)}),[r,o]);const S=e.useMemo((()=>"undefined"!==typeof u&&!d),[u,d]);const{direction:G,spin:B}=e.useContext(gv),k=BG()(p,null===B||void 0===B?void 0:B.className,{["".concat(p,"-sm")]:"small"===l,["".concat(p,"-lg")]:"large"===l,["".concat(p,"-spinning")]:v,["".concat(p,"-show-text")]:!!c,["".concat(p,"-rtl")]:"rtl"===G},a,!d&&i,A,b),w=BG()("".concat(p,"-container"),{["".concat(p,"-blur")]:v}),R=Object.assign(Object.assign({},null===B||void 0===B?void 0:B.style),g),V=e.createElement("div",Object.assign({},m,{style:R,className:k,"aria-live":"polite","aria-busy":v}),e.createElement(i4,{prefixCls:p,indicator:null!==I&&void 0!==I?I:I4,percent:Z}),c&&(S||d)?e.createElement("div",{className:"".concat(p,"-text")},c):null);return f(S?e.createElement("div",Object.assign({},m,{className:BG()("".concat(p,"-nested-loading"),s,A,b)}),v&&e.createElement("div",{key:"loading"},V),e.createElement("div",{className:w,key:"container"},u)):d?e.createElement("div",{className:BG()("".concat(p,"-fullscreen"),{["".concat(p,"-fullscreen-show")]:v},i,A,b)},V):V)};C4.setDefaultIndicator=e=>{I4=e};const m4=C4,h4=e.createContext({});h4.Consumer;var p4=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const f4=e.forwardRef(((t,n)=>{const{prefixCls:o,children:r,actions:a,extra:i,styles:l,className:c,classNames:s,colStyle:g}=t,u=p4(t,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:d,itemLayout:I}=(0,e.useContext)(h4),{getPrefixCls:C,list:m}=(0,e.useContext)(gv),h=e=>{var t,n;return BG()(null===(n=null===(t=null===m||void 0===m?void 0:m.item)||void 0===t?void 0:t.classNames)||void 0===n?void 0:n[e],null===s||void 0===s?void 0:s[e])},p=e=>{var t,n;return Object.assign(Object.assign({},null===(n=null===(t=null===m||void 0===m?void 0:m.item)||void 0===t?void 0:t.styles)||void 0===n?void 0:n[e]),null===l||void 0===l?void 0:l[e])},f=C("list",o),A=a&&a.length>0&&e.createElement("ul",{className:BG()("".concat(f,"-item-action"),h("actions")),key:"actions",style:p("actions")},a.map(((t,n)=>e.createElement("li",{key:"".concat(f,"-item-action-").concat(n)},t,n!==a.length-1&&e.createElement("em",{className:"".concat(f,"-item-action-split")}))))),b=d?"div":"li",v=e.createElement(b,Object.assign({},u,d?{}:{ref:n},{className:BG()("".concat(f,"-item"),{["".concat(f,"-item-no-flex")]:!("vertical"===I?i:!(()=>{let t;return e.Children.forEach(r,(e=>{"string"===typeof e&&(t=!0)})),t&&e.Children.count(r)>1})())},c)}),"vertical"===I&&i?[e.createElement("div",{className:"".concat(f,"-item-main"),key:"content"},r,A),e.createElement("div",{className:BG()("".concat(f,"-item-extra"),h("extra")),key:"extra",style:p("extra")},i)]:[r,A,ZW(i,{key:"extra"})]);return d?e.createElement(_T,{ref:n,flex:1,style:g},v):v})),A4=f4;A4.Meta=t=>{var{prefixCls:n,className:o,avatar:r,title:a,description:i}=t,l=p4(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:c}=(0,e.useContext)(gv),s=c("list",n),g=BG()("".concat(s,"-item-meta"),o),u=e.createElement("div",{className:"".concat(s,"-item-meta-content")},a&&e.createElement("h4",{className:"".concat(s,"-item-meta-title")},a),i&&e.createElement("div",{className:"".concat(s,"-item-meta-description")},i));return e.createElement("div",Object.assign({},l,{className:g}),r&&e.createElement("div",{className:"".concat(s,"-item-meta-avatar")},r),(a||i)&&u)};const b4=A4,v4=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:o,margin:r,itemPaddingSM:a,itemPaddingLG:i,marginLG:l,borderRadiusLG:c}=e;return{["".concat(t)]:{border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:c,["".concat(n,"-header,").concat(n,"-footer,").concat(n,"-item")]:{paddingInline:o},["".concat(n,"-pagination")]:{margin:"".concat(Iy(r)," ").concat(Iy(l))}},["".concat(t).concat(n,"-sm")]:{["".concat(n,"-item,").concat(n,"-header,").concat(n,"-footer")]:{padding:a}},["".concat(t).concat(n,"-lg")]:{["".concat(n,"-item,").concat(n,"-header,").concat(n,"-footer")]:{padding:i}}}},y4=e=>{const{componentCls:t,screenSM:n,screenMD:o,marginLG:r,marginSM:a,margin:i}=e;return{["@media screen and (max-width:".concat(o,"px)")]:{["".concat(t)]:{["".concat(t,"-item")]:{["".concat(t,"-item-action")]:{marginInlineStart:r}}},["".concat(t,"-vertical")]:{["".concat(t,"-item")]:{["".concat(t,"-item-extra")]:{marginInlineStart:r}}}},["@media screen and (max-width: ".concat(n,"px)")]:{["".concat(t)]:{["".concat(t,"-item")]:{flexWrap:"wrap",["".concat(t,"-action")]:{marginInlineStart:a}}},["".concat(t,"-vertical")]:{["".concat(t,"-item")]:{flexWrap:"wrap-reverse",["".concat(t,"-item-main")]:{minWidth:e.contentWidth},["".concat(t,"-item-extra")]:{margin:"auto auto ".concat(Iy(i))}}}}}},Z4=e=>{const{componentCls:t,antCls:n,controlHeight:o,minHeight:r,paddingSM:a,marginLG:i,padding:l,itemPadding:c,colorPrimary:s,itemPaddingSM:g,itemPaddingLG:u,paddingXS:d,margin:I,colorText:C,colorTextDescription:m,motionDurationSlow:h,lineWidth:p,headerBg:f,footerBg:A,emptyTextPadding:b,metaMarginBottom:v,avatarMarginRight:y,titleMarginBottom:Z,descriptionFontSize:S}=e,G={};return["start","center","end"].forEach((e=>{G["&-align-".concat(e)]={textAlign:e}})),{["".concat(t)]:Object.assign(Object.assign({},ik(e)),{position:"relative","*":{outline:"none"},["".concat(t,"-header")]:{background:f},["".concat(t,"-footer")]:{background:A},["".concat(t,"-header, ").concat(t,"-footer")]:{paddingBlock:a},["".concat(t,"-pagination")]:Object.assign(Object.assign({marginBlockStart:i},G),{["".concat(n,"-pagination-options")]:{textAlign:"start"}}),["".concat(t,"-spin")]:{minHeight:r,textAlign:"center"},["".concat(t,"-items")]:{margin:0,padding:0,listStyle:"none"},["".concat(t,"-item")]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:c,color:C,["".concat(t,"-item-meta")]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",["".concat(t,"-item-meta-avatar")]:{marginInlineEnd:y},["".concat(t,"-item-meta-content")]:{flex:"1 0",width:0,color:C},["".concat(t,"-item-meta-title")]:{margin:"0 0 ".concat(Iy(e.marginXXS)," 0"),color:C,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:C,transition:"all ".concat(h),"&:hover":{color:s}}},["".concat(t,"-item-meta-description")]:{color:m,fontSize:S,lineHeight:e.lineHeight}},["".concat(t,"-item-action")]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:"0 ".concat(Iy(d)),color:m,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},["".concat(t,"-item-action-split")]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:p,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},["".concat(t,"-empty")]:{padding:"".concat(Iy(l)," 0"),color:m,fontSize:e.fontSizeSM,textAlign:"center"},["".concat(t,"-empty-text")]:{padding:b,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},["".concat(t,"-item-no-flex")]:{display:"block"}}),["".concat(t,"-grid ").concat(n,"-col > ").concat(t,"-item")]:{display:"block",maxWidth:"100%",marginBlockEnd:I,paddingBlock:0,borderBlockEnd:"none"},["".concat(t,"-vertical ").concat(t,"-item")]:{alignItems:"initial",["".concat(t,"-item-main")]:{display:"block",flex:1},["".concat(t,"-item-extra")]:{marginInlineStart:i},["".concat(t,"-item-meta")]:{marginBlockEnd:v,["".concat(t,"-item-meta-title")]:{marginBlockStart:0,marginBlockEnd:Z,color:C,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},["".concat(t,"-item-action")]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:"0 ".concat(Iy(l)),"&:first-child":{paddingInlineStart:0}}}},["".concat(t,"-split ").concat(t,"-item")]:{borderBlockEnd:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"&:last-child":{borderBlockEnd:"none"}},["".concat(t,"-split ").concat(t,"-header")]:{borderBlockEnd:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-split").concat(t,"-empty ").concat(t,"-footer")]:{borderTop:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-loading ").concat(t,"-spin-nested-loading")]:{minHeight:o},["".concat(t,"-split").concat(t,"-something-after-last-item ").concat(n,"-spin-container > ").concat(t,"-items > ").concat(t,"-item:last-child")]:{borderBlockEnd:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-lg ").concat(t,"-item")]:{padding:u},["".concat(t,"-sm ").concat(t,"-item")]:{padding:g},["".concat(t,":not(").concat(t,"-vertical)")]:{["".concat(t,"-item-no-flex")]:{["".concat(t,"-item-action")]:{float:"right"}}}}},S4=Uw("List",(e=>{const t=xw(e,{listBorderedCls:"".concat(e.componentCls,"-bordered"),minHeight:e.controlHeightLG});return[Z4(t),v4(t),y4(t)]}),(e=>({contentWidth:220,itemPadding:"".concat(Iy(e.paddingContentVertical)," 0"),itemPaddingSM:"".concat(Iy(e.paddingContentVerticalSM)," ").concat(Iy(e.paddingContentHorizontal)),itemPaddingLG:"".concat(Iy(e.paddingContentVerticalLG)," ").concat(Iy(e.paddingContentHorizontalLG)),headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize})));var G4=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function B4(t){var n,{pagination:o=!1,prefixCls:r,bordered:a=!1,split:i=!0,className:l,rootClassName:c,style:s,children:g,itemLayout:u,loadMore:d,grid:I,dataSource:C=[],size:m,header:h,footer:p,loading:f=!1,rowKey:A,renderItem:b,locale:v}=t,y=G4(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const Z=o&&"object"===typeof o?o:{},[S,G]=e.useState(Z.defaultCurrent||1),[B,k]=e.useState(Z.defaultPageSize||10),{getPrefixCls:w,renderEmpty:R,direction:V,list:W}=e.useContext(gv),x=e=>(t,n)=>{var r;G(t),k(n),o&&o[e]&&(null===(r=null===o||void 0===o?void 0:o[e])||void 0===r||r.call(o,t,n))},X=x("onChange"),N=x("onShowSizeChange"),J=w("list",r),[E,H,Y]=S4(J);let F=f;"boolean"===typeof F&&(F={spinning:F});const K=F&&F.spinning;let M="";switch(XX(m)){case"large":M="lg";break;case"small":M="sm"}const L=BG()(J,{["".concat(J,"-vertical")]:"vertical"===u,["".concat(J,"-").concat(M)]:M,["".concat(J,"-split")]:i,["".concat(J,"-bordered")]:a,["".concat(J,"-loading")]:K,["".concat(J,"-grid")]:!!I,["".concat(J,"-something-after-last-item")]:!!(d||o||p),["".concat(J,"-rtl")]:"rtl"===V},null===W||void 0===W?void 0:W.className,l,c,H,Y),T=A3({current:1,total:0},{total:C.length,current:S,pageSize:B},o||{}),z=Math.ceil(T.total/T.pageSize);T.current>z&&(T.current=z);const D=o?e.createElement("div",{className:BG()("".concat(J,"-pagination"),"".concat(J,"-pagination-align-").concat(null!==(n=null===T||void 0===T?void 0:T.align)&&void 0!==n?n:"end"))},e.createElement(n4,Object.assign({},T,{onChange:X,onShowSizeChange:N}))):null;let O=fv(C);o&&C.length>(T.current-1)*T.pageSize&&(O=fv(C).splice((T.current-1)*T.pageSize,T.pageSize));const j=Object.keys(I||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),U=v3(j),P=e.useMemo((()=>{for(let e=0;e<NT.length;e+=1){const t=NT[e];if(U[t])return t}}),[U]),Q=e.useMemo((()=>{if(!I)return;const e=P&&I[P]?I[P]:I.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}),[JSON.stringify(I),P]);let _=K&&e.createElement("div",{style:{minHeight:53}});if(O.length>0){const t=O.map(((t,n)=>((t,n)=>{if(!b)return null;let o;return o="function"===typeof A?A(t):A?t[A]:t.key,o||(o="list-item-".concat(n)),e.createElement(e.Fragment,{key:o},b(t,n))})(t,n)));_=I?e.createElement(OT,{gutter:I.gutter},e.Children.map(t,(t=>e.createElement("div",{key:null===t||void 0===t?void 0:t.key,style:Q},t)))):e.createElement("ul",{className:"".concat(J,"-items")},t)}else g||K||(_=e.createElement("div",{className:"".concat(J,"-empty-text")},v&&v.emptyText||(null===R||void 0===R?void 0:R("List"))||e.createElement(UD,{componentName:"List"})));const q=T.position||"bottom",$=e.useMemo((()=>({grid:I,itemLayout:u})),[JSON.stringify(I),u]);return E(e.createElement(h4.Provider,{value:$},e.createElement("div",Object.assign({style:Object.assign(Object.assign({},null===W||void 0===W?void 0:W.style),s),className:L},y),("top"===q||"both"===q)&&D,h&&e.createElement("div",{className:"".concat(J,"-header")},h),e.createElement(m4,Object.assign({},F),_,g),p&&e.createElement("div",{className:"".concat(J,"-footer")},p),d||("bottom"===q||"both"===q)&&D)))}B4.Item=b4;const k4=B4,w4=t=>{let{currentDoctor:n,time:o,setTime:r}=t;const[a,i]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const e=await fz("POST","https://pharma-track-be.onrender.com/api/v1/doctortime/getDoctorShifts",{id_doctortime:"7b8f78f4-b9b8-4c99-8a8d-108035733333"});i(e)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[]);Se();return(0,et.jsx)("div",{className:"OpenDoctorCard",children:(0,et.jsxs)("div",{className:"carddetail ",children:[(0,et.jsxs)("div",{className:"wrap-card ",children:[(0,et.jsx)("div",{className:"wrap-img ",children:(0,et.jsx)("div",{className:"img ",children:(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/avatardoctor.png"),alt:"dogtor",width:"500px",height:"500px"})})}),(0,et.jsxs)("div",{className:"introduction ",children:[(0,et.jsx)("div",{className:"Name ",children:n.name}),(0,et.jsx)("div",{className:"line"}),(0,et.jsx)("div",{className:"information ",children:"Ph\xf2ng kh\xe1m th\xe2n thi\u1ec7n, d\u1ecbch v\u1ee5 to\xe0n di\u1ec7n, chi ph\xed ti\u1ebft ki\u1ec7m. C\xf3 \u0111\u1ea7y \u0111\u1ee7 c\xe1c trang thi\u1ebft b\u1ecb c\u1ea7n thi\u1ebft ph\u1ee5c v\u1ee5 cho nhu c\u1ea7u kh\xe1m ch\u1eefa b\u1ec7nh. B\xe1c s\u0129 tay ngh\u1ec1 cao, ho\u1ea1t \u0111\u1ed9ng trong l\u0129nh v\u1ef1c y t\u1ebf l\xe2u n\u0103m c\xf9ng \u0111\u1ed9i ng\u0169 nh\xe2n vi\xean th\xe2n thi\u1ec7n nhi\u1ec7t t\xecnh."}),(0,et.jsx)("div",{className:"information2",children:"H\xe3y \u0111\u1eb7t l\u1ecbch kh\xe1m ngay \u0111\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c \u01b0u \u0111\xe3i m\u1edbi nh\u1ea5t."})]})]}),(0,et.jsxs)("div",{className:"content ",children:[(0,et.jsxs)("div",{className:"clinic_name ",children:[(0,et.jsx)("strong",{children:"T\xean ph\xf2ng kh\xe1m: "}),n.name_clinic]}),(0,et.jsxs)("div",{className:"address  ",children:[(0,et.jsx)("strong",{children:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m: "}),n.address,", ",n.ward,", ",n.city,","," ",n.province]}),(0,et.jsxs)("div",{className:"department ",children:[(0,et.jsx)("strong",{children:"Khoa: "}),n.department]}),(0,et.jsxs)("div",{className:"status ",children:[(0,et.jsx)("strong",{children:"T\xecnh tr\u1ea1ng ph\xf2ng kh\xe1m: "}),n.status_clinic?"\u0110ang m\u1edf c\u1eeda":"\u0110\xf3ng c\u1eeda"]}),(0,et.jsx)("div",{className:"years ",children:(0,et.jsx)("strong",{children:"S\u1ed1 n\u0103m kinh nghi\u1ec7m: "})})]}),(0,et.jsx)("div",{className:"line2 "}),(0,et.jsxs)("div",{className:"Time",children:[(0,et.jsx)("div",{className:"pickTime ",children:" Ch\u1ecdn gi\u1edd Kh\xe1m "}),(0,et.jsx)("div",{className:"TimeButton ",children:a.map((e=>(0,et.jsx)(AE,{style:o===e?{backgroundColor:"#46C2CB"}:{},onClick:()=>r(e),children:e.shift})))})]})]})})},R4=e=>{let{onClickBack:t,onClickNext:n}=e;return(0,et.jsxs)("div",{className:"BackNextButton tw-flex tw-justify-center tw-my-8",children:[(0,et.jsx)("div",{className:"tw-px-9",children:(0,et.jsx)(AE,{danger:!0,size:"large",style:{width:"120px",height:"50px"},onClick:()=>{t()},children:"Quay l\u1ea1i"})}),(0,et.jsx)("div",{className:"tw-px-9",children:(0,et.jsx)(AE,{size:"large",style:{backgroundColor:"rgba(0, 103, 169, 0.7)",color:"white",width:"120px",height:"50px",backgroundColor:"#4B56D2"},onClick:()=>{n()},children:"Ti\u1ebfp t\u1ee5c"})})]})},V4=t=>{let{DoctorData:n,handleDoubleClick:o,id_staff:r,setID:a}=t;Se();const[i,l]=(0,e.useState)(-1);return(0,et.jsx)("div",{className:"DoctorCardList",children:(0,et.jsx)("div",{className:"List tw-mx-auto tw-flex-wrap tw-max-w-4xl",children:(0,et.jsx)(k4,{grid:{column:3},dataSource:n,pagination:{pageSize:6},renderItem:e=>(0,et.jsx)(k4.Item,{children:(0,et.jsx)(f3,{...e,style:i===e.id_staff?{"border-color":"rgba(0, 121, 255, 0.5)"}:{},changeStyle:i,setID:a,setStyle:l,handleDoubleClick:o})})})})})};var W4=function(e,t){return W4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},W4(e,t)};function x4(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}W4(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var X4=function(){return X4=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},X4.apply(this,arguments)};function N4(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function J4(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(Tie){a(Tie)}}function l(e){try{c(o.throw(e))}catch(Tie){a(Tie)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))}function E4(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Tie){a=[6,Tie],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function H4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Y4=function(e,t,n,o,r,a,i,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,a,i,l],g=0;(c=new Error(t.replace(/%s/g,(function(){return s[g++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},F4=H4(Y4),K4=(0,e.createContext)(null);function M4(e,t,n,o){var r={};return function(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}(e,(function(e,a){var i=n[a];i!==t[a]&&(r[a]=i,e(o,i))})),r}function L4(e,t,n){var o=function(e,t,n){return Object.keys(e).reduce((function(n,o){return t(n,e[o],o)}),n)}(n,(function(n,o,r){return"function"===typeof e[r]&&n.push(google.maps.event.addListener(t,o,e[r])),n}),[]);return o}function T4(e){google.maps.event.removeListener(e)}function z4(e){void 0===e&&(e=[]),e.forEach(T4)}function D4(e){var t=e.updaterMap,n=e.eventMap,o=e.prevProps,r=e.nextProps,a=e.instance,i=L4(r,a,n);return M4(t,o,r,a),i}var O4={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},j4={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,e.memo)((function(t){var n=t.children,o=t.options,r=t.id,a=t.mapContainerStyle,i=t.mapContainerClassName,l=t.center,c=t.onClick,s=t.onDblClick,g=t.onDrag,u=t.onDragEnd,d=t.onDragStart,I=t.onMouseMove,C=t.onMouseOut,m=t.onMouseOver,h=t.onMouseDown,p=t.onMouseUp,f=t.onRightClick,A=t.onCenterChanged,b=t.onLoad,v=t.onUnmount,y=(0,e.useState)(null),Z=y[0],S=y[1],G=(0,e.useRef)(null),B=(0,e.useState)(null),k=B[0],w=B[1],R=(0,e.useState)(null),V=R[0],W=R[1],x=(0,e.useState)(null),X=x[0],N=x[1],J=(0,e.useState)(null),E=J[0],H=J[1],Y=(0,e.useState)(null),F=Y[0],K=Y[1],M=(0,e.useState)(null),L=M[0],T=M[1],z=(0,e.useState)(null),D=z[0],O=z[1],j=(0,e.useState)(null),U=j[0],P=j[1],Q=(0,e.useState)(null),_=Q[0],q=Q[1],$=(0,e.useState)(null),ee=$[0],te=$[1],ne=(0,e.useState)(null),oe=ne[0],re=ne[1],ae=(0,e.useState)(null),ie=ae[0],le=ae[1];return(0,e.useEffect)((function(){o&&null!==Z&&Z.setOptions(o)}),[Z,o]),(0,e.useEffect)((function(){null!==Z&&"undefined"!==typeof l&&Z.setCenter(l)}),[Z,l]),(0,e.useEffect)((function(){Z&&s&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(Z,"dblclick",s)))}),[s]),(0,e.useEffect)((function(){Z&&u&&(null!==X&&google.maps.event.removeListener(X),N(google.maps.event.addListener(Z,"dragend",u)))}),[u]),(0,e.useEffect)((function(){Z&&d&&(null!==E&&google.maps.event.removeListener(E),H(google.maps.event.addListener(Z,"dragstart",d)))}),[d]),(0,e.useEffect)((function(){Z&&h&&(null!==F&&google.maps.event.removeListener(F),K(google.maps.event.addListener(Z,"mousedown",h)))}),[h]),(0,e.useEffect)((function(){Z&&I&&(null!==L&&google.maps.event.removeListener(L),T(google.maps.event.addListener(Z,"mousemove",I)))}),[I]),(0,e.useEffect)((function(){Z&&C&&(null!==D&&google.maps.event.removeListener(D),O(google.maps.event.addListener(Z,"mouseout",C)))}),[C]),(0,e.useEffect)((function(){Z&&m&&(null!==U&&google.maps.event.removeListener(U),P(google.maps.event.addListener(Z,"mouseover",m)))}),[m]),(0,e.useEffect)((function(){Z&&p&&(null!==_&&google.maps.event.removeListener(_),q(google.maps.event.addListener(Z,"mouseup",p)))}),[p]),(0,e.useEffect)((function(){Z&&f&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(Z,"rightclick",f)))}),[f]),(0,e.useEffect)((function(){Z&&c&&(null!==oe&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(Z,"click",c)))}),[c]),(0,e.useEffect)((function(){Z&&g&&(null!==ie&&google.maps.event.removeListener(ie),le(google.maps.event.addListener(Z,"drag",g)))}),[g]),(0,e.useEffect)((function(){Z&&A&&(null!==k&&google.maps.event.removeListener(k),w(google.maps.event.addListener(Z,"center_changed",A)))}),[c]),(0,e.useEffect)((function(){var e=null===G.current?null:new google.maps.Map(G.current,o);return S(e),null!==e&&b&&b(e),function(){null!==e&&v&&v(e)}}),[]),(0,et.jsx)("div",{id:r,ref:G,style:a,className:i,children:(0,et.jsx)(K4.Provider,{value:Z,children:null!==Z?n:null})})}));var U4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return x4(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=D4({updaterMap:j4,eventMap:O4,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:j4,eventMap:O4,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),z4(this.registeredEvents))},t.prototype.render=function(){return(0,et.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,et.jsx)(K4.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})},t}(e.PureComponent),P4="undefined"!==typeof document;function Q4(e){var t=e.url,n=e.id,o=e.nonce;return P4?new Promise((function(e,r){var a=document.getElementById(n),i=window;if(a){var l=a.getAttribute("data-state");if(a.src===t&&"error"!==l){if("ready"===l)return e(n);var c=i.initMap,s=a.onerror;return i.initMap=function(){c&&c(),e(n)},void(a.onerror=function(e){s&&s(e),r(e)})}a.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=t,g.id=n,g.async=!0,g.nonce=o||"",g.onerror=function(e){g.setAttribute("data-state","error"),r(e)},i.initMap=function(){g.setAttribute("data-state","ready"),e(n)},document.head.appendChild(g)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function _4(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function q4(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,o){return _4(n)||Reflect.apply(t,e,[n,o]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return _4(t)||Reflect.apply(n,e,[t]),t}}}function $4(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,o=e.version,r=void 0===o?"weekly":o,a=e.language,i=e.region,l=e.libraries,c=e.channel,s=e.mapIds,g=e.authReferrerPolicy,u=[];return F4(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push("key=".concat(t)):n&&u.push("client=".concat(n)),r&&u.push("v=".concat(r)),a&&u.push("language=".concat(a)),i&&u.push("region=".concat(i)),l&&l.length&&u.push("libraries=".concat(l.sort().join(","))),c&&u.push("channel=".concat(c)),s&&s.length&&u.push("map_ids=".concat(s.join(","))),g&&u.push("auth_referrer_policy=".concat(g)),u.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(u.join("&"))}var e8=!1;function t8(){return(0,et.jsx)("div",{children:"Loading..."})}var n8,o8={id:"script-loader",version:"weekly"};!function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.check=(0,e.createRef)(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return J4(n,void 0,void 0,(function(){function e(e){if(e8){if(P4)var t=window.setInterval((function(){e8||(window.clearInterval(t),e())}),1)}else e()}return E4(this,(function(t){return[2,new Promise(e)]}))}))},n.cleanup=function(){e8=!0;var e=document.getElementById(n.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},n.injectScript=function(){n.props.preventGoogleFontsLoading&&q4(),F4(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id),Q4({id:n.props.id,nonce:n.props.nonce,url:$4(n.props)}).then((function(){n.props.onLoad&&n.props.onLoad(),n.setState((function(){return{loaded:!0}}))})).catch((function(e){n.props.onError&&n.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},n}x4(n,t),n.prototype.componentDidMount=function(){if(P4){if(window.google&&window.google.maps&&!e8)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},n.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),P4&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},n.prototype.componentWillUnmount=function(){var e=this;if(P4){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,e8=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},n.prototype.render=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,et.jsx)(t8,{})]})},n.defaultProps=o8}(e.PureComponent);function r8(t){var n=t.id,o=void 0===n?o8.id:n,r=t.version,a=void 0===r?o8.version:r,i=t.nonce,l=t.googleMapsApiKey,c=t.googleMapsClientId,s=t.language,g=t.region,u=t.libraries,d=t.preventGoogleFontsLoading,I=t.channel,C=t.mapIds,m=t.authReferrerPolicy,h=(0,e.useRef)(!1),p=(0,e.useState)(!1),f=p[0],A=p[1],b=(0,e.useState)(void 0),v=b[0],y=b[1];(0,e.useEffect)((function(){return h.current=!0,function(){h.current=!1}}),[]),(0,e.useEffect)((function(){P4&&d&&q4()}),[d]),(0,e.useEffect)((function(){f&&F4(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[f]);var Z=$4({version:a,googleMapsApiKey:l,googleMapsClientId:c,language:s,region:g,libraries:u,channel:I,mapIds:C,authReferrerPolicy:m});(0,e.useEffect)((function(){function e(){h.current&&(A(!0),n8=Z)}P4&&(window.google&&window.google.maps&&n8===Z?e():Q4({id:o,url:Z,nonce:i}).then(e).catch((function(e){h.current&&y(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(l||"-",") or Client ID (").concat(c||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[o,Z,i]);var S=(0,e.useRef)();return(0,e.useEffect)((function(){S.current&&u!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=u}),[u]),{isLoaded:f,loadError:v,url:Z}}var a8=(0,et.jsx)(t8,{});(0,e.memo)((function(t){var n=t.loadingElement,o=t.onLoad,r=t.onError,a=t.onUnmount,i=t.children,l=r8(N4(t,["loadingElement","onLoad","onError","onUnmount","children"])),c=l.isLoaded,s=l.loadError;return(0,e.useEffect)((function(){c&&"function"===typeof o&&o()}),[c,o]),(0,e.useEffect)((function(){s&&"function"===typeof r&&r(s)}),[s,r]),(0,e.useEffect)((function(){return function(){a&&a()}}),[a]),c?i:n||a8}));var i8;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(i8||(i8={}));var l8={},c8={options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.options,o=t.onLoad,r=t.onUnmount,a=(0,e.useContext)(K4),i=(0,e.useState)(null),l=i[0],c=i[1];return(0,e.useEffect)((function(){null!==l&&l.setMap(a)}),[a]),(0,e.useEffect)((function(){n&&null!==l&&l.setOptions(n)}),[l,n]),(0,e.useEffect)((function(){var e=new google.maps.TrafficLayer(X4(X4({},n||{}),{map:a}));return c(e),o&&o(e),function(){null!==l&&(r&&r(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:c8,eventMap:l8,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:c8,eventMap:l8,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),z4(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);(0,e.memo)((function(t){var n=t.onLoad,o=t.onUnmount,r=(0,e.useContext)(K4),a=(0,e.useState)(null),i=a[0],l=a[1];return(0,e.useEffect)((function(){null!==i&&i.setMap(r)}),[r]),(0,e.useEffect)((function(){var e=new google.maps.BicyclingLayer;return l(e),e.setMap(r),n&&n(e),function(){null!==e&&(o&&o(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);(0,e.memo)((function(t){var n=t.onLoad,o=t.onUnmount,r=(0,e.useContext)(K4),a=(0,e.useState)(null),i=a[0],l=a[1];return(0,e.useEffect)((function(){null!==i&&i.setMap(r)}),[r]),(0,e.useEffect)((function(){var e=new google.maps.TransitLayer;return l(e),e.setMap(r),n&&n(e),function(){null!==i&&(o&&o(i),i.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var s8={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},g8={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.options,o=t.drawingMode,r=t.onCircleComplete,a=t.onMarkerComplete,i=t.onOverlayComplete,l=t.onPolygonComplete,c=t.onPolylineComplete,s=t.onRectangleComplete,g=t.onLoad,u=t.onUnmount,d=(0,e.useContext)(K4),I=(0,e.useState)(null),C=I[0],m=I[1],h=(0,e.useState)(null),p=h[0],f=h[1],A=(0,e.useState)(null),b=A[0],v=A[1],y=(0,e.useState)(null),Z=y[0],S=y[1],G=(0,e.useState)(null),B=G[0],k=G[1],w=(0,e.useState)(null),R=w[0],V=w[1],W=(0,e.useState)(null),x=W[0],X=W[1];return(0,e.useEffect)((function(){null!==C&&C.setMap(d)}),[d]),(0,e.useEffect)((function(){n&&null!==C&&C.setOptions(n)}),[C,n]),(0,e.useEffect)((function(){null!==C&&C.setDrawingMode(null!==o&&void 0!==o?o:null)}),[C,o]),(0,e.useEffect)((function(){C&&r&&(null!==p&&google.maps.event.removeListener(p),f(google.maps.event.addListener(C,"circlecomplete",r)))}),[C,r]),(0,e.useEffect)((function(){C&&a&&(null!==b&&google.maps.event.removeListener(b),v(google.maps.event.addListener(C,"markercomplete",a)))}),[C,a]),(0,e.useEffect)((function(){C&&i&&(null!==Z&&google.maps.event.removeListener(Z),S(google.maps.event.addListener(C,"overlaycomplete",i)))}),[C,i]),(0,e.useEffect)((function(){C&&l&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(C,"polygoncomplete",l)))}),[C,l]),(0,e.useEffect)((function(){C&&c&&(null!==R&&google.maps.event.removeListener(R),V(google.maps.event.addListener(C,"polylinecomplete",c)))}),[C,c]),(0,e.useEffect)((function(){C&&s&&(null!==x&&google.maps.event.removeListener(x),X(google.maps.event.addListener(C,"rectanglecomplete",s)))}),[C,s]),(0,e.useEffect)((function(){F4(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(X4(X4({},n||{}),{map:d}));return o&&e.setDrawingMode(o),r&&f(google.maps.event.addListener(e,"circlecomplete",r)),a&&v(google.maps.event.addListener(e,"markercomplete",a)),i&&S(google.maps.event.addListener(e,"overlaycomplete",i)),l&&k(google.maps.event.addListener(e,"polygoncomplete",l)),c&&V(google.maps.event.addListener(e,"polylinecomplete",c)),s&&X(google.maps.event.addListener(e,"rectanglecomplete",s)),m(e),g&&g(e),function(){null!==C&&(p&&google.maps.event.removeListener(p),b&&google.maps.event.removeListener(b),Z&&google.maps.event.removeListener(Z),B&&google.maps.event.removeListener(B),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),u&&u(C),C.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},F4(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:g8,eventMap:s8,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:g8,eventMap:s8,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),z4(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var u8={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},d8={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},I8={};var C8=(0,e.memo)((function(t){var n=t.position,o=t.options,r=t.clusterer,a=t.noClustererRedraw,i=t.children,l=t.draggable,c=t.visible,s=t.animation,g=t.clickable,u=t.cursor,d=t.icon,I=t.label,C=t.opacity,m=t.shape,h=t.title,p=t.zIndex,f=t.onClick,A=t.onDblClick,b=t.onDrag,v=t.onDragEnd,y=t.onDragStart,Z=t.onMouseOut,S=t.onMouseOver,G=t.onMouseUp,B=t.onMouseDown,k=t.onRightClick,w=t.onClickableChanged,R=t.onCursorChanged,V=t.onAnimationChanged,W=t.onDraggableChanged,x=t.onFlatChanged,X=t.onIconChanged,N=t.onPositionChanged,J=t.onShapeChanged,E=t.onTitleChanged,H=t.onVisibleChanged,Y=t.onZindexChanged,F=t.onLoad,K=t.onUnmount,M=(0,e.useContext)(K4),L=(0,e.useState)(null),T=L[0],z=L[1],D=(0,e.useState)(null),O=D[0],j=D[1],U=(0,e.useState)(null),P=U[0],Q=U[1],_=(0,e.useState)(null),q=_[0],$=_[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],oe=(0,e.useState)(null),re=oe[0],ae=oe[1],ie=(0,e.useState)(null),le=ie[0],ce=ie[1],se=(0,e.useState)(null),ge=se[0],ue=se[1],de=(0,e.useState)(null),Ie=de[0],Ce=de[1],me=(0,e.useState)(null),he=me[0],pe=me[1],fe=(0,e.useState)(null),Ae=fe[0],be=fe[1],ve=(0,e.useState)(null),ye=ve[0],Ze=ve[1],Se=(0,e.useState)(null),Ge=Se[0],Be=Se[1],ke=(0,e.useState)(null),we=ke[0],Re=ke[1],Ve=(0,e.useState)(null),We=Ve[0],xe=Ve[1],Xe=(0,e.useState)(null),Ne=Xe[0],Je=Xe[1],Ee=(0,e.useState)(null),He=Ee[0],Ye=Ee[1],Fe=(0,e.useState)(null),Ke=Fe[0],Me=Fe[1],Le=(0,e.useState)(null),Te=Le[0],ze=Le[1],De=(0,e.useState)(null),Oe=De[0],je=De[1],Ue=(0,e.useState)(null),Pe=Ue[0],Qe=Ue[1],_e=(0,e.useState)(null),qe=_e[0],$e=_e[1];(0,e.useEffect)((function(){null!==T&&T.setMap(M)}),[M]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==T&&T.setOptions(o)}),[T,o]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==T&&T.setDraggable(l)}),[T,l]),(0,e.useEffect)((function(){n&&null!==T&&T.setPosition(n)}),[T,n]),(0,e.useEffect)((function(){"undefined"!==typeof c&&null!==T&&T.setVisible(c)}),[T,c]),(0,e.useEffect)((function(){null===T||void 0===T||T.setAnimation(s)}),[T,s]),(0,e.useEffect)((function(){T&&void 0!==g&&T.setClickable(g)}),[T,g]),(0,e.useEffect)((function(){T&&void 0!==u&&T.setCursor(u)}),[T,u]),(0,e.useEffect)((function(){T&&void 0!==d&&T.setIcon(d)}),[T,d]),(0,e.useEffect)((function(){T&&void 0!==I&&T.setLabel(I)}),[T,I]),(0,e.useEffect)((function(){T&&void 0!==C&&T.setOpacity(C)}),[T,C]),(0,e.useEffect)((function(){T&&void 0!==m&&T.setShape(m)}),[T,m]),(0,e.useEffect)((function(){T&&void 0!==h&&T.setTitle(h)}),[T,h]),(0,e.useEffect)((function(){T&&void 0!==p&&T.setZIndex(p)}),[T,p]),(0,e.useEffect)((function(){T&&A&&(null!==O&&google.maps.event.removeListener(O),j(google.maps.event.addListener(T,"dblclick",A)))}),[A]),(0,e.useEffect)((function(){T&&v&&(null!==P&&google.maps.event.removeListener(P),Q(google.maps.event.addListener(T,"dragend",v)))}),[v]),(0,e.useEffect)((function(){T&&y&&(null!==q&&google.maps.event.removeListener(q),$(google.maps.event.addListener(T,"dragstart",y)))}),[y]),(0,e.useEffect)((function(){T&&B&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(T,"mousedown",B)))}),[B]),(0,e.useEffect)((function(){T&&Z&&(null!==re&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(T,"mouseout",Z)))}),[Z]),(0,e.useEffect)((function(){T&&S&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(T,"mouseover",S)))}),[S]),(0,e.useEffect)((function(){T&&G&&(null!==ge&&google.maps.event.removeListener(ge),ue(google.maps.event.addListener(T,"mouseup",G)))}),[G]),(0,e.useEffect)((function(){T&&k&&(null!==Ie&&google.maps.event.removeListener(Ie),Ce(google.maps.event.addListener(T,"rightclick",k)))}),[k]),(0,e.useEffect)((function(){T&&f&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(T,"click",f)))}),[f]),(0,e.useEffect)((function(){T&&b&&(null!==Ae&&google.maps.event.removeListener(Ae),be(google.maps.event.addListener(T,"drag",b)))}),[b]),(0,e.useEffect)((function(){T&&w&&(null!==ye&&google.maps.event.removeListener(ye),Ze(google.maps.event.addListener(T,"clickable_changed",w)))}),[w]),(0,e.useEffect)((function(){T&&R&&(null!==Ge&&google.maps.event.removeListener(Ge),Be(google.maps.event.addListener(T,"cursor_changed",R)))}),[R]),(0,e.useEffect)((function(){T&&V&&(null!==we&&google.maps.event.removeListener(we),Re(google.maps.event.addListener(T,"animation_changed",V)))}),[V]),(0,e.useEffect)((function(){T&&W&&(null!==We&&google.maps.event.removeListener(We),xe(google.maps.event.addListener(T,"draggable_changed",W)))}),[W]),(0,e.useEffect)((function(){T&&x&&(null!==Ne&&google.maps.event.removeListener(Ne),Je(google.maps.event.addListener(T,"flat_changed",x)))}),[x]),(0,e.useEffect)((function(){T&&X&&(null!==He&&google.maps.event.removeListener(He),Ye(google.maps.event.addListener(T,"icon_changed",X)))}),[X]),(0,e.useEffect)((function(){T&&N&&(null!==Ke&&google.maps.event.removeListener(Ke),Me(google.maps.event.addListener(T,"position_changed",N)))}),[N]),(0,e.useEffect)((function(){T&&J&&(null!==Te&&google.maps.event.removeListener(Te),ze(google.maps.event.addListener(T,"shape_changed",J)))}),[J]),(0,e.useEffect)((function(){T&&E&&(null!==Oe&&google.maps.event.removeListener(Oe),je(google.maps.event.addListener(T,"title_changed",E)))}),[E]),(0,e.useEffect)((function(){T&&H&&(null!==Pe&&google.maps.event.removeListener(Pe),Qe(google.maps.event.addListener(T,"visible_changed",H)))}),[H]),(0,e.useEffect)((function(){T&&Y&&(null!==qe&&google.maps.event.removeListener(qe),$e(google.maps.event.addListener(T,"zindex_changed",Y)))}),[Y]),(0,e.useEffect)((function(){var e=X4(X4(X4({},o||I8),r?I8:{map:M}),{position:n}),t=new google.maps.Marker(e);return r?r.addMarker(t,!!a):t.setMap(M),n&&t.setPosition(n),"undefined"!==typeof c&&t.setVisible(c),"undefined"!==typeof l&&t.setDraggable(l),"undefined"!==typeof g&&t.setClickable(g),"string"===typeof u&&t.setCursor(u),d&&t.setIcon(d),"undefined"!==typeof I&&t.setLabel(I),"undefined"!==typeof C&&t.setOpacity(C),m&&t.setShape(m),"string"===typeof h&&t.setTitle(h),"number"===typeof p&&t.setZIndex(p),A&&j(google.maps.event.addListener(t,"dblclick",A)),v&&Q(google.maps.event.addListener(t,"dragend",v)),y&&$(google.maps.event.addListener(t,"dragstart",y)),B&&ne(google.maps.event.addListener(t,"mousedown",B)),Z&&ae(google.maps.event.addListener(t,"mouseout",Z)),S&&ce(google.maps.event.addListener(t,"mouseover",S)),G&&ue(google.maps.event.addListener(t,"mouseup",G)),k&&Ce(google.maps.event.addListener(t,"rightclick",k)),f&&pe(google.maps.event.addListener(t,"click",f)),b&&be(google.maps.event.addListener(t,"drag",b)),w&&Ze(google.maps.event.addListener(t,"clickable_changed",w)),R&&Be(google.maps.event.addListener(t,"cursor_changed",R)),V&&Re(google.maps.event.addListener(t,"animation_changed",V)),W&&xe(google.maps.event.addListener(t,"draggable_changed",W)),x&&Je(google.maps.event.addListener(t,"flat_changed",x)),X&&Ye(google.maps.event.addListener(t,"icon_changed",X)),N&&Me(google.maps.event.addListener(t,"position_changed",N)),J&&ze(google.maps.event.addListener(t,"shape_changed",J)),E&&je(google.maps.event.addListener(t,"title_changed",E)),H&&Qe(google.maps.event.addListener(t,"visible_changed",H)),Y&&$e(google.maps.event.addListener(t,"zindex_changed",Y)),z(t),F&&F(t),function(){null!==O&&google.maps.event.removeListener(O),null!==P&&google.maps.event.removeListener(P),null!==q&&google.maps.event.removeListener(q),null!==te&&google.maps.event.removeListener(te),null!==re&&google.maps.event.removeListener(re),null!==le&&google.maps.event.removeListener(le),null!==ge&&google.maps.event.removeListener(ge),null!==Ie&&google.maps.event.removeListener(Ie),null!==he&&google.maps.event.removeListener(he),null!==ye&&google.maps.event.removeListener(ye),null!==Ge&&google.maps.event.removeListener(Ge),null!==we&&google.maps.event.removeListener(we),null!==We&&google.maps.event.removeListener(We),null!==Ne&&google.maps.event.removeListener(Ne),null!==He&&google.maps.event.removeListener(He),null!==Ke&&google.maps.event.removeListener(Ke),null!==Oe&&google.maps.event.removeListener(Oe),null!==Pe&&google.maps.event.removeListener(Pe),null!==qe&&google.maps.event.removeListener(qe),K&&K(t),r?r.removeMarker(t,!!a):t&&t.setMap(null)}}),[]);var tt=(0,e.useMemo)((function(){return i?e.Children.map(i,(function(t){if(!(0,e.isValidElement)(t))return t;var n=t;return(0,e.cloneElement)(n,{anchor:T})})):null}),[i,T]);return(0,et.jsx)(et.Fragment,{children:tt})||null})),m8=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e}x4(n,t),n.prototype.componentDidMount=function(){var e=X4(X4(X4({},this.props.options||I8),this.props.clusterer?I8:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=D4({updaterMap:d8,eventMap:u8,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},n.prototype.componentDidUpdate=function(e){this.marker&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:d8,eventMap:u8,prevProps:e,nextProps:this.props,instance:this.marker}))},n.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),z4(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},n.prototype.render=function(){var t=this,n=null;return this.props.children&&(n=e.Children.map(this.props.children,(function(n){if(!(0,e.isValidElement)(n))return n;var o=n;return(0,e.cloneElement)(o,{anchor:t.marker})}))),n||null},n.contextType=K4}(e.PureComponent),function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),o=this.cluster.getBounds(),r=t.getMap();null!==r&&"fitBounds"in r&&r.fitBounds(o),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(o);var r=e.getZoom()||0;null!==n&&r>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,o,r,a;if(this.div&&this.center){var i=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt((null===(e=l[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),s=parseInt((null===(t=l[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==g?"".concat(g.y,"px"):"0","; left: ").concat(null!==g?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var u=document.createElement("img");u.alt=i,u.src=this.url,u.width=this.width,u.height=this.height,u.setAttribute("style","position: absolute; top: ".concat(s,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(u.style.clip="rect(-".concat(s,"px, -").concat(c+this.width,"px, -").concat(s+this.height,", -").concat(c,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(o=this.sums)||void 0===o?void 0:o.text)),(null===(r=this.sums)||void 0===r?void 0:r.html)&&(d.innerHTML="".concat(null===(a=this.sums)||void 0===a?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(u),this.div.appendChild(d),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}()),h8=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new m8(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var o=n[t].getPosition();o&&e.extend(o)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+n.lat())/o,(this.center.lng()*(o-1)+n.lng())/o),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var r=this.markers.length,a=this.markerClusterer.getMaxZoom(),i=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==a&&"undefined"!==typeof i&&i>a)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){c[l].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),o=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof o&&o>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function p8(e,t){var n=e.length,o=n.toString().length,r=Math.min(o,t);return{text:n.toString(),index:r,title:""}}var f8=[53,56,66,78,90],A8=function(){function e(t,n,o){void 0===n&&(n=[]),void 0===o&&(o={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=o.gridSize||60,this.minClusterSize=o.minimumClusterSize||2,this.maxZoom=o.maxZoom||null,this.styles=o.styles||[],this.title=o.title||"",this.zoomOnClick=!0,void 0!==o.zoomOnClick&&(this.zoomOnClick=o.zoomOnClick),this.averageCenter=!1,void 0!==o.averageCenter&&(this.averageCenter=o.averageCenter),this.ignoreHidden=!1,void 0!==o.ignoreHidden&&(this.ignoreHidden=o.ignoreHidden),this.enableRetinaIcons=!1,void 0!==o.enableRetinaIcons&&(this.enableRetinaIcons=o.enableRetinaIcons),this.imagePath=o.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=o.imageExtension||"png",this.imageSizes=o.imageSizes||f8,this.calculator=o.calculator||p8,this.batchSize=o.batchSize||2e3,this.batchSizeIE=o.batchSizeIE||500,this.clusterClass=o.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var o=0,r=this.clusters;o<r.length;o++){r[o].remove()}this.clusters=[];for(var a=0,i=this.listeners;a<i.length;a++){var l=i[a];google.maps.event.removeListener(l)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,o=e;n<o.length;n++){var r=o[n].getPosition();r&&t.extend(r)}var a=this.getMap();null!==a&&"fitBounds"in a&&a.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];o&&this.pushMarkerTo(o)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,o=0,r=e;o<r.length;o++){var a=r[o];n=n||this.removeMarker_(a)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var o=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==o&&(o.x-=this.gridSize,o.y+=this.gridSize),null!==n){var r=t.fromDivPixelToLatLng(n);null!==r&&e.extend(r)}if(null!==o){var a=t.fromDivPixelToLatLng(o);null!==a&&e.extend(a)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var o=0,r=this.markers;o<r.length;o++){var a=r[o];a.isAdded=!1,e&&a.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,o=null,r=0,a=this.clusters;r<a.length;r++){var i=(t=a[r]).getCenter(),l=e.getPosition();if(i&&l){var c=this.distanceBetweenPoints(i,l);c<n&&(n=c,o=t)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):((t=new h8(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),o=(null!==n&&"getBounds"in n?n.getBounds():null),r=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===o||void 0===o?void 0:o.getSouthWest(),null===o||void 0===o?void 0:o.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(r),i=Math.min(e+this.batchSize,this.markers.length),l=e;l<i;l++){var c=this.markers[l];c&&!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(i<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(i)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var s=0,g=this.clusters;s<g.length;s++){g[s].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),b8={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},v8={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},y8={};(0,e.memo)((function(t){var n=t.children,o=t.options,r=t.averageCenter,a=t.batchSizeIE,i=t.calculator,l=t.clusterClass,c=t.enableRetinaIcons,s=t.gridSize,g=t.ignoreHidden,u=t.imageExtension,d=t.imagePath,I=t.imageSizes,C=t.maxZoom,m=t.minimumClusterSize,h=t.styles,p=t.title,f=t.zoomOnClick,A=t.onClick,b=t.onClusteringBegin,v=t.onClusteringEnd,y=t.onMouseOver,Z=t.onMouseOut,S=t.onLoad,G=t.onUnmount,B=(0,e.useState)(null),k=B[0],w=B[1],R=(0,e.useContext)(K4),V=(0,e.useState)(null),W=V[0],x=V[1],X=(0,e.useState)(null),N=X[0],J=X[1],E=(0,e.useState)(null),H=E[0],Y=E[1],F=(0,e.useState)(null),K=F[0],M=F[1],L=(0,e.useState)(null),T=L[0],z=L[1];return(0,e.useEffect)((function(){k&&Z&&(null!==K&&google.maps.event.removeListener(K),M(google.maps.event.addListener(k,b8.onMouseOut,Z)))}),[Z]),(0,e.useEffect)((function(){k&&y&&(null!==T&&google.maps.event.removeListener(T),z(google.maps.event.addListener(k,b8.onMouseOver,y)))}),[y]),(0,e.useEffect)((function(){k&&A&&(null!==W&&google.maps.event.removeListener(W),x(google.maps.event.addListener(k,b8.onClick,A)))}),[A]),(0,e.useEffect)((function(){k&&b&&(null!==N&&google.maps.event.removeListener(N),J(google.maps.event.addListener(k,b8.onClusteringBegin,b)))}),[b]),(0,e.useEffect)((function(){k&&v&&(null!==H&&google.maps.event.removeListener(H),J(google.maps.event.addListener(k,b8.onClusteringEnd,v)))}),[v]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==k&&v8.averageCenter(k,r)}),[k,r]),(0,e.useEffect)((function(){"undefined"!==typeof a&&null!==k&&v8.batchSizeIE(k,a)}),[k,a]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==k&&v8.calculator(k,i)}),[k,i]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==k&&v8.clusterClass(k,l)}),[k,l]),(0,e.useEffect)((function(){"undefined"!==typeof c&&null!==k&&v8.enableRetinaIcons(k,c)}),[k,c]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==k&&v8.gridSize(k,s)}),[k,s]),(0,e.useEffect)((function(){"undefined"!==typeof g&&null!==k&&v8.ignoreHidden(k,g)}),[k,g]),(0,e.useEffect)((function(){"undefined"!==typeof u&&null!==k&&v8.imageExtension(k,u)}),[k,u]),(0,e.useEffect)((function(){"undefined"!==typeof d&&null!==k&&v8.imagePath(k,d)}),[k,d]),(0,e.useEffect)((function(){"undefined"!==typeof I&&null!==k&&v8.imageSizes(k,I)}),[k,I]),(0,e.useEffect)((function(){"undefined"!==typeof C&&null!==k&&v8.maxZoom(k,C)}),[k,C]),(0,e.useEffect)((function(){"undefined"!==typeof m&&null!==k&&v8.minimumClusterSize(k,m)}),[k,m]),(0,e.useEffect)((function(){"undefined"!==typeof h&&null!==k&&v8.styles(k,h)}),[k,h]),(0,e.useEffect)((function(){"undefined"!==typeof p&&null!==k&&v8.title(k,p)}),[k,p]),(0,e.useEffect)((function(){"undefined"!==typeof f&&null!==k&&v8.zoomOnClick(k,f)}),[k,f]),(0,e.useEffect)((function(){if(R){var e=X4({},o||y8),t=new A8(R,[],e);return r&&v8.averageCenter(t,r),a&&v8.batchSizeIE(t,a),i&&v8.calculator(t,i),l&&v8.clusterClass(t,l),c&&v8.enableRetinaIcons(t,c),s&&v8.gridSize(t,s),g&&v8.ignoreHidden(t,g),u&&v8.imageExtension(t,u),d&&v8.imagePath(t,d),I&&v8.imageSizes(t,I),C&&v8.maxZoom(t,C),m&&v8.minimumClusterSize(t,m),h&&v8.styles(t,h),p&&v8.title(t,p),f&&v8.zoomOnClick(t,f),Z&&M(google.maps.event.addListener(t,b8.onMouseOut,Z)),y&&z(google.maps.event.addListener(t,b8.onMouseOver,y)),A&&x(google.maps.event.addListener(t,b8.onClick,A)),b&&J(google.maps.event.addListener(t,b8.onClusteringBegin,b)),v&&Y(google.maps.event.addListener(t,b8.onClusteringEnd,v)),w(t),S&&S(t),function(){null!==K&&google.maps.event.removeListener(K),null!==T&&google.maps.event.removeListener(T),null!==W&&google.maps.event.removeListener(W),null!==N&&google.maps.event.removeListener(N),null!==H&&google.maps.event.removeListener(H),G&&G(t)}}}),[]),null!==k&&n(k)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}x4(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new A8(this.context,[],this.props.options);this.registeredEvents=D4({updaterMap:v8,eventMap:b8,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:v8,eventMap:b8,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),z4(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=K4}(e.PureComponent);function Z8(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var S8=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=0,r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];o<r.length;o++){var a=r[o];this.eventListeners.push(google.maps.event.addListener(this.div,a,Z8))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Z8(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,o=0,r=t.getBounds();r&&!r.contains(this.position)&&t.setCenter(this.position);var a=t.getDiv(),i=a.offsetWidth,l=a.offsetHeight,c=this.pixelOffset.width,s=this.pixelOffset.height,g=this.div.offsetWidth,u=this.div.offsetHeight,d=this.infoBoxClearance.width,I=this.infoBoxClearance.height,C=this.getProjection().fromLatLngToContainerPixel(this.position);null!==C&&(C.x<-c+d?n=C.x+c-d:C.x+g+c+d>i&&(n=C.x+g+c+d-i),this.alignBottom?C.y<-s+I+u?o=C.y+s-I-u:C.y+s+I>l&&(o=C.y+s+I-l):C.y<-s+I?o=C.y+s-I:C.y+u+s+I>l&&(o=C.y+u+s+I-l)),0===n&&0===o||t.panBy(n,o)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),G8={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},B8={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},k8={};(0,e.memo)((function(t){var n=t.children,o=t.anchor,r=t.options,a=t.position,l=t.zIndex,c=t.onCloseClick,s=t.onDomReady,g=t.onContentChanged,u=t.onPositionChanged,d=t.onZindexChanged,I=t.onLoad,C=t.onUnmount,m=(0,e.useContext)(K4),h=(0,e.useState)(null),p=h[0],f=h[1],A=(0,e.useState)(null),b=A[0],v=A[1],y=(0,e.useState)(null),Z=y[0],S=y[1],G=(0,e.useState)(null),B=G[0],k=G[1],w=(0,e.useState)(null),R=w[0],V=w[1],W=(0,e.useState)(null),x=W[0],X=W[1],N=(0,e.useRef)(null);return(0,e.useEffect)((function(){m&&null!==p&&(p.close(),o?p.open(m,o):p.getPosition()&&p.open(m))}),[m,p,o]),(0,e.useEffect)((function(){r&&null!==p&&p.setOptions(r)}),[p,r]),(0,e.useEffect)((function(){if(a&&null!==p){var e=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);p.setPosition(e)}}),[a]),(0,e.useEffect)((function(){"number"===typeof l&&null!==p&&p.setZIndex(l)}),[l]),(0,e.useEffect)((function(){p&&c&&(null!==b&&google.maps.event.removeListener(b),v(google.maps.event.addListener(p,"closeclick",c)))}),[c]),(0,e.useEffect)((function(){p&&s&&(null!==Z&&google.maps.event.removeListener(Z),S(google.maps.event.addListener(p,"domready",s)))}),[s]),(0,e.useEffect)((function(){p&&g&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(p,"content_changed",g)))}),[g]),(0,e.useEffect)((function(){p&&u&&(null!==R&&google.maps.event.removeListener(R),V(google.maps.event.addListener(p,"position_changed",u)))}),[u]),(0,e.useEffect)((function(){p&&d&&(null!==x&&google.maps.event.removeListener(x),X(google.maps.event.addListener(p,"zindex_changed",d)))}),[d]),(0,e.useEffect)((function(){if(m){var e=r||k8,t=e.position,n=N4(e,["position"]),a=void 0;!t||t instanceof google.maps.LatLng||(a=new google.maps.LatLng(t.lat,t.lng));var i=new S8(X4(X4({},n),a?{position:a}:{}));N.current=document.createElement("div"),f(i),c&&v(google.maps.event.addListener(i,"closeclick",c)),s&&S(google.maps.event.addListener(i,"domready",s)),g&&k(google.maps.event.addListener(i,"content_changed",g)),u&&V(google.maps.event.addListener(i,"position_changed",u)),d&&X(google.maps.event.addListener(i,"zindex_changed",d)),i.setContent(N.current),o?i.open(m,o):i.getPosition()?i.open(m):F4(!1,"You must provide either an anchor or a position prop for <InfoBox>."),I&&I(i)}return function(){null!==p&&(b&&google.maps.event.removeListener(b),B&&google.maps.event.removeListener(B),Z&&google.maps.event.removeListener(Z),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),C&&C(p),p.close())}}),[]),N.current?(0,i.createPortal)(e.Children.only(n),N.current):null})),function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e.containerElement=null,e.state={infoBox:null},e.open=function(t,n){n?null!==e.context&&t.open(e.context,n):t.getPosition()?null!==e.context&&t.open(e.context):F4(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},e.setInfoBoxCallback=function(){null!==e.state.infoBox&&null!==e.containerElement&&(e.state.infoBox.setContent(e.containerElement),e.open(e.state.infoBox,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoBox))},e}x4(n,t),n.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,o=N4(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var r=new S8(X4(X4({},o),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=D4({updaterMap:B8,eventMap:G8,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)},n.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:B8,eventMap:G8,prevProps:e,nextProps:this.props,instance:t}))},n.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),z4(this.registeredEvents),t.close())},n.prototype.render=function(){return this.containerElement?(0,i.createPortal)(e.Children.only(this.props.children),this.containerElement):null},n.contextType=K4}(e.PureComponent);var w8=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!==r--;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n},R8=H4(w8);const V8=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class W8{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const o=n>>4;if(1!==o)throw new Error("Got v".concat(o," data when expected v").concat(1,"."));const r=V8[15&n];if(!r)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(e,2,1),[i]=new Uint32Array(e,4,1);return new W8(i,a,r,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const r=V8.indexOf(this.ArrayType),a=2*e*this.ArrayType.BYTES_PER_ELEMENT,i=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-i%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(n,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+l,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+a+i+l),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+l,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return x8(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:a,nodeSize:i}=this,l=[0,r.length-1,0],c=[];for(;l.length;){const s=l.pop()||0,g=l.pop()||0,u=l.pop()||0;if(g-u<=i){for(let i=u;i<=g;i++){const l=a[2*i],s=a[2*i+1];l>=e&&l<=n&&s>=t&&s<=o&&c.push(r[i])}continue}const d=u+g>>1,I=a[2*d],C=a[2*d+1];I>=e&&I<=n&&C>=t&&C<=o&&c.push(r[d]),(0===s?e<=I:t<=C)&&(l.push(u),l.push(d-1),l.push(1-s)),(0===s?n>=I:o>=C)&&(l.push(d+1),l.push(g),l.push(1-s))}return c}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:r,nodeSize:a}=this,i=[0,o.length-1,0],l=[],c=n*n;for(;i.length;){const s=i.pop()||0,g=i.pop()||0,u=i.pop()||0;if(g-u<=a){for(let n=u;n<=g;n++)E8(r[2*n],r[2*n+1],e,t)<=c&&l.push(o[n]);continue}const d=u+g>>1,I=r[2*d],C=r[2*d+1];E8(I,C,e,t)<=c&&l.push(o[d]),(0===s?e-n<=I:t-n<=C)&&(i.push(u),i.push(d-1),i.push(1-s)),(0===s?e+n>=I:t+n>=C)&&(i.push(d+1),i.push(g),i.push(1-s))}return l}}function x8(e,t,n,o,r,a){if(r-o<=n)return;const i=o+r>>1;X8(e,t,i,o,r,a),x8(e,t,n,o,i-1,1-a),x8(e,t,n,i+1,r,1-a)}function X8(e,t,n,o,r,a){for(;r>o;){if(r-o>600){const i=r-o+1,l=n-o+1,c=Math.log(i),s=.5*Math.exp(2*c/3),g=.5*Math.sqrt(c*s*(i-s)/i)*(l-i/2<0?-1:1);X8(e,t,n,Math.max(o,Math.floor(n-l*s/i+g)),Math.min(r,Math.floor(n+(i-l)*s/i+g)),a)}const i=t[2*n+a];let l=o,c=r;for(N8(e,t,o,n),t[2*r+a]>i&&N8(e,t,o,r);l<c;){for(N8(e,t,l,c),l++,c--;t[2*l+a]<i;)l++;for(;t[2*c+a]>i;)c--}t[2*o+a]===i?N8(e,t,o,c):(c++,N8(e,t,c,r)),c<=n&&(o=c+1),n<=c&&(r=c-1)}}function N8(e,t,n,o){J8(e,n,o),J8(t,2*n,2*o),J8(t,2*n+1,2*o+1)}function J8(e,t,n){const o=e[t];e[t]=e[n],e[n]=o}function E8(e,t,n,o){const r=e-n,a=t-o;return r*r+a*a}const H8={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Y8=Math.fround||(F8=new Float32Array(1),e=>(F8[0]=+e,F8[0]));var F8;const K8=3,M8=5,L8=6;class T8{constructor(e){this.options=Object.assign(Object.create(H8),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:o}=this.options;t&&console.time("total time");const r="prepare ".concat(e.length," points");t&&console.time(r),this.points=e;const a=[];for(let l=0;l<e.length;l++){const t=e[l];if(!t.geometry)continue;const[n,o]=t.geometry.coordinates,r=Y8(O8(n)),i=Y8(j8(o));a.push(r,i,1/0,l,-1,1),this.options.reduce&&a.push(0)}let i=this.trees[o+1]=this._createTree(a);t&&console.timeEnd(r);for(let l=o;l>=n;l--){const e=+Date.now();i=this.trees[l]=this._createTree(this._cluster(i,l)),t&&console.log("z%d: %d clusters in %dms",l,i.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,o,180,a],t),i=this.getClusters([-180,o,r,a],t);return e.concat(i)}const i=this.trees[this._limitZoom(t)],l=i.range(O8(n),j8(a),O8(r),j8(o)),c=i.data,s=[];for(const g of l){const e=this.stride*g;s.push(c[e+M8]>1?z8(c,e,this.clusterProps):this.points[c[e+K8]])}return s}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),o="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(o);const a=r.data;if(t*this.stride>=a.length)throw new Error(o);const i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=a[t*this.stride],c=a[t*this.stride+1],s=r.within(l,c,i),g=[];for(const u of s){const t=u*this.stride;a[t+4]===e&&g.push(a[t+M8]>1?z8(a,t,this.clusterProps):this.points[a[t+K8]])}if(0===g.length)throw new Error(o);return g}getLeaves(e,t,n){t=t||10,n=n||0;const o=[];return this._appendLeaves(o,e,t,n,0),o}getTile(e,t,n){const o=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:a,radius:i}=this.options,l=i/a,c=(n-l)/r,s=(n+1+l)/r,g={features:[]};return this._addTileFeatures(o.range((t-l)/r,c,(t+1+l)/r,s),o.data,t,n,r,g),0===t&&this._addTileFeatures(o.range(1-l/r,c,1,s),o.data,r,n,r,g),t===r-1&&this._addTileFeatures(o.range(0,c,l/r,s),o.data,-1,n,r,g),g.features.length?g:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,o,r){const a=this.getChildren(t);for(const i of a){const t=i.properties;if(t&&t.cluster?r+t.point_count<=o?r+=t.point_count:r=this._appendLeaves(e,t.cluster_id,n,o,r):r<o?r++:e.push(i),e.length===n)break}return r}_createTree(e){const t=new W8(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,o,r,a){for(const i of e){const e=i*this.stride,l=t[e+M8]>1;let c,s,g;if(l)c=D8(t,e,this.clusterProps),s=t[e],g=t[e+1];else{const n=this.points[t[e+K8]];c=n.properties;const[o,r]=n.geometry.coordinates;s=O8(o),g=j8(r)}const u={type:1,geometry:[[Math.round(this.options.extent*(s*r-n)),Math.round(this.options.extent*(g*r-o))]],tags:c};let d;d=l||this.options.generateId?t[e+K8]:this.points[t[e+K8]].id,void 0!==d&&(u.id=d),a.features.push(u)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:o,reduce:r,minPoints:a}=this.options,i=n/(o*Math.pow(2,t)),l=e.data,c=[],s=this.stride;for(let g=0;g<l.length;g+=s){if(l[g+2]<=t)continue;l[g+2]=t;const n=l[g],o=l[g+1],u=e.within(l[g],l[g+1],i),d=l[g+M8];let I=d;for(const e of u){const n=e*s;l[n+2]>t&&(I+=l[n+M8])}if(I>d&&I>=a){let e,a=n*d,i=o*d,C=-1;const m=(g/s<<5)+(t+1)+this.points.length;for(const n of u){const o=n*s;if(l[o+2]<=t)continue;l[o+2]=t;const c=l[o+M8];a+=l[o]*c,i+=l[o+1]*c,l[o+4]=m,r&&(e||(e=this._map(l,g,!0),C=this.clusterProps.length,this.clusterProps.push(e)),r(e,this._map(l,o)))}l[g+4]=m,c.push(a/I,i/I,1/0,m,-1,I),r&&c.push(C)}else{for(let e=0;e<s;e++)c.push(l[g+e]);if(I>1)for(const e of u){const n=e*s;if(!(l[n+2]<=t)){l[n+2]=t;for(let e=0;e<s;e++)c.push(l[n+e])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+M8]>1){const o=this.clusterProps[e[t+L8]];return n?Object.assign({},o):o}const o=this.points[e[t+K8]].properties,r=this.options.map(o);return n&&r===o?Object.assign({},r):r}}function z8(e,t,n){return{type:"Feature",id:e[t+K8],properties:D8(e,t,n),geometry:{type:"Point",coordinates:[U8(e[t]),P8(e[t+1])]}}}function D8(e,t,n){const o=e[t+M8],r=o>=1e4?"".concat(Math.round(o/1e3),"k"):o>=1e3?"".concat(Math.round(o/100)/10,"k"):o,a=e[t+L8],i=-1===a?{}:Object.assign({},n[a]);return Object.assign(i,{cluster:!0,cluster_id:e[t+K8],point_count:o,point_count_abbreviated:r})}function O8(e){return e/360+.5}function j8(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function U8(e){return 360*(e-.5)}function P8(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Q8(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}class _8{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class q8{constructor(e){let{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(_8.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>_8.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(_8.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class $8{constructor(e){let{maxZoom:t=16}=e;this.maxZoom=t}noop(e){let{markers:t}=e;return e7(t)}}const e7=e=>e.map((e=>new q8({position:_8.getPosition(e),markers:[e]})));class t7 extends $8{constructor(e){var{maxZoom:t,radius:n=60}=e,o=Q8(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new T8(Object.assign({maxZoom:this.maxZoom,radius:n},o))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!R8(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=_8.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!R8(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){let{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){let{geometry:{coordinates:[t,n]},properties:o}=e;if(o.cluster)return new q8({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});const r=o.marker;return new q8({markers:[r],position:_8.getPosition(r)})}}class n7{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),o=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:o/t.length,sum:o,min:Math.min(...n),max:Math.max(...n)}}}}class o7{render(e,t,n){let{count:o,position:r}=e;const a=o>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",i='<svg fill="'.concat(a,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(o,"</text>\n</svg>"),l="Cluster of ".concat(o," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+o;if(_8.isAdvancedMarkerAvailable(n)){const e=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement;e.setAttribute("transform","translate(0 25)");const t={map:n,position:r,zIndex:c,title:l,content:e};return new google.maps.marker.AdvancedMarkerElement(t)}const s={position:r,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(i)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(s)}}class r7{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(r7,google.maps.OverlayView)}}var a7;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(a7||(a7={}));const i7=(e,t,n)=>{n.fitBounds(t.bounds)};class l7 extends r7{constructor(e){let{map:t,markers:n=[],algorithmOptions:o={},algorithm:r=new t7(o),renderer:a=new o7,onClusterClick:i=i7}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=a,this.onClusterClick=i,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(_8.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,a7.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){const e=new Set;for(const o of t)1==o.markers.length&&e.add(o.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||_8.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>_8.setMap(e,null)))))}google.maps.event.trigger(this,a7.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>_8.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new n7(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>_8.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,a7.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),_8.setMap(n.marker,t)}))}}function c7(t){var n=function(){F4(!!e.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=(0,e.useContext)(K4);return F4(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}(),o=(0,e.useState)(null),r=o[0],a=o[1];return(0,e.useEffect)((function(){if(n&&null===r){var e=new l7(X4(X4({},t),{map:n}));a(e)}}),[n]),r}(0,e.memo)((function(e){var t=e.children,n=c7(e.options);return null!==n?t(n):null}));var s7={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},g7={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,e.memo)((function(t){var n=t.children,o=t.anchor,r=t.options,a=t.position,l=t.zIndex,c=t.onCloseClick,s=t.onDomReady,g=t.onContentChanged,u=t.onPositionChanged,d=t.onZindexChanged,I=t.onLoad,C=t.onUnmount,m=(0,e.useContext)(K4),h=(0,e.useState)(null),p=h[0],f=h[1],A=(0,e.useState)(null),b=A[0],v=A[1],y=(0,e.useState)(null),Z=y[0],S=y[1],G=(0,e.useState)(null),B=G[0],k=G[1],w=(0,e.useState)(null),R=w[0],V=w[1],W=(0,e.useState)(null),x=W[0],X=W[1],N=(0,e.useRef)(null);return(0,e.useEffect)((function(){null!==p&&(p.close(),o?p.open(m,o):p.getPosition()&&p.open(m))}),[m,p,o]),(0,e.useEffect)((function(){r&&null!==p&&p.setOptions(r)}),[p,r]),(0,e.useEffect)((function(){a&&null!==p&&p.setPosition(a)}),[a]),(0,e.useEffect)((function(){"number"===typeof l&&null!==p&&p.setZIndex(l)}),[l]),(0,e.useEffect)((function(){p&&c&&(null!==b&&google.maps.event.removeListener(b),v(google.maps.event.addListener(p,"closeclick",c)))}),[c]),(0,e.useEffect)((function(){p&&s&&(null!==Z&&google.maps.event.removeListener(Z),S(google.maps.event.addListener(p,"domready",s)))}),[s]),(0,e.useEffect)((function(){p&&g&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(p,"content_changed",g)))}),[g]),(0,e.useEffect)((function(){p&&u&&(null!==R&&google.maps.event.removeListener(R),V(google.maps.event.addListener(p,"position_changed",u)))}),[u]),(0,e.useEffect)((function(){p&&d&&(null!==x&&google.maps.event.removeListener(x),X(google.maps.event.addListener(p,"zindex_changed",d)))}),[d]),(0,e.useEffect)((function(){var e=new google.maps.InfoWindow(X4({},r||{}));return f(e),N.current=document.createElement("div"),c&&v(google.maps.event.addListener(e,"closeclick",c)),s&&S(google.maps.event.addListener(e,"domready",s)),g&&k(google.maps.event.addListener(e,"content_changed",g)),u&&V(google.maps.event.addListener(e,"position_changed",u)),d&&X(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(N.current),a&&e.setPosition(a),l&&e.setZIndex(l),o?e.open(m,o):e.getPosition()?e.open(m):F4(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),I&&I(e),function(){b&&google.maps.event.removeListener(b),B&&google.maps.event.removeListener(B),Z&&google.maps.event.removeListener(Z),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),C&&C(e),e.close()}}),[]),N.current?(0,i.createPortal)(e.Children.only(n),N.current):null})),function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e.containerElement=null,e.state={infoWindow:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):F4(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},e.setInfoWindowCallback=function(){null!==e.state.infoWindow&&null!==e.containerElement&&(e.state.infoWindow.setContent(e.containerElement),e.open(e.state.infoWindow,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoWindow))},e}x4(n,t),n.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(X4({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=D4({updaterMap:g7,eventMap:s7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},n.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:g7,eventMap:s7,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},n.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(z4(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},n.prototype.render=function(){return this.containerElement?(0,i.createPortal)(e.Children.only(this.props.children),this.containerElement):null},n.contextType=K4}(e.PureComponent);var u7={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},d7={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},I7={};(0,e.memo)((function(t){var n=t.options,o=t.draggable,r=t.editable,a=t.visible,i=t.path,l=t.onDblClick,c=t.onDragEnd,s=t.onDragStart,g=t.onMouseDown,u=t.onMouseMove,d=t.onMouseOut,I=t.onMouseOver,C=t.onMouseUp,m=t.onRightClick,h=t.onClick,p=t.onDrag,f=t.onLoad,A=t.onUnmount,b=(0,e.useContext)(K4),v=(0,e.useState)(null),y=v[0],Z=v[1],S=(0,e.useState)(null),G=S[0],B=S[1],k=(0,e.useState)(null),w=k[0],R=k[1],V=(0,e.useState)(null),W=V[0],x=V[1],X=(0,e.useState)(null),N=X[0],J=X[1],E=(0,e.useState)(null),H=E[0],Y=E[1],F=(0,e.useState)(null),K=F[0],M=F[1],L=(0,e.useState)(null),T=L[0],z=L[1],D=(0,e.useState)(null),O=D[0],j=D[1],U=(0,e.useState)(null),P=U[0],Q=U[1],_=(0,e.useState)(null),q=_[0],$=_[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1];return(0,e.useEffect)((function(){null!==y&&y.setMap(b)}),[b]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==y&&y.setOptions(n)}),[y,n]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==y&&y.setDraggable(o)}),[y,o]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==y&&y.setEditable(r)}),[y,r]),(0,e.useEffect)((function(){"undefined"!==typeof a&&null!==y&&y.setVisible(a)}),[y,a]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==y&&y.setPath(i)}),[y,i]),(0,e.useEffect)((function(){y&&l&&(null!==G&&google.maps.event.removeListener(G),B(google.maps.event.addListener(y,"dblclick",l)))}),[l]),(0,e.useEffect)((function(){y&&c&&(null!==w&&google.maps.event.removeListener(w),R(google.maps.event.addListener(y,"dragend",c)))}),[c]),(0,e.useEffect)((function(){y&&s&&(null!==W&&google.maps.event.removeListener(W),x(google.maps.event.addListener(y,"dragstart",s)))}),[s]),(0,e.useEffect)((function(){y&&g&&(null!==N&&google.maps.event.removeListener(N),J(google.maps.event.addListener(y,"mousedown",g)))}),[g]),(0,e.useEffect)((function(){y&&u&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(y,"mousemove",u)))}),[u]),(0,e.useEffect)((function(){y&&d&&(null!==K&&google.maps.event.removeListener(K),M(google.maps.event.addListener(y,"mouseout",d)))}),[d]),(0,e.useEffect)((function(){y&&I&&(null!==T&&google.maps.event.removeListener(T),z(google.maps.event.addListener(y,"mouseover",I)))}),[I]),(0,e.useEffect)((function(){y&&C&&(null!==O&&google.maps.event.removeListener(O),j(google.maps.event.addListener(y,"mouseup",C)))}),[C]),(0,e.useEffect)((function(){y&&m&&(null!==P&&google.maps.event.removeListener(P),Q(google.maps.event.addListener(y,"rightclick",m)))}),[m]),(0,e.useEffect)((function(){y&&h&&(null!==q&&google.maps.event.removeListener(q),$(google.maps.event.addListener(y,"click",h)))}),[h]),(0,e.useEffect)((function(){y&&p&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(y,"drag",p)))}),[p]),(0,e.useEffect)((function(){var e=new google.maps.Polyline(X4(X4({},n||I7),{map:b}));return i&&e.setPath(i),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof o&&e.setDraggable(o),l&&B(google.maps.event.addListener(e,"dblclick",l)),c&&R(google.maps.event.addListener(e,"dragend",c)),s&&x(google.maps.event.addListener(e,"dragstart",s)),g&&J(google.maps.event.addListener(e,"mousedown",g)),u&&Y(google.maps.event.addListener(e,"mousemove",u)),d&&M(google.maps.event.addListener(e,"mouseout",d)),I&&z(google.maps.event.addListener(e,"mouseover",I)),C&&j(google.maps.event.addListener(e,"mouseup",C)),m&&Q(google.maps.event.addListener(e,"rightclick",m)),h&&$(google.maps.event.addListener(e,"click",h)),p&&ne(google.maps.event.addListener(e,"drag",p)),Z(e),f&&f(e),function(){null!==G&&google.maps.event.removeListener(G),null!==w&&google.maps.event.removeListener(w),null!==W&&google.maps.event.removeListener(W),null!==N&&google.maps.event.removeListener(N),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==T&&google.maps.event.removeListener(T),null!==O&&google.maps.event.removeListener(O),null!==P&&google.maps.event.removeListener(P),null!==q&&google.maps.event.removeListener(q),A&&A(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:d7,eventMap:u7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:d7,eventMap:u7,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),z4(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var C7={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},m7={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,e.memo)((function(t){var n=t.options,o=t.draggable,r=t.editable,a=t.visible,i=t.path,l=t.paths,c=t.onDblClick,s=t.onDragEnd,g=t.onDragStart,u=t.onMouseDown,d=t.onMouseMove,I=t.onMouseOut,C=t.onMouseOver,m=t.onMouseUp,h=t.onRightClick,p=t.onClick,f=t.onDrag,A=t.onLoad,b=t.onUnmount,v=t.onEdit,y=(0,e.useContext)(K4),Z=(0,e.useState)(null),S=Z[0],G=Z[1],B=(0,e.useState)(null),k=B[0],w=B[1],R=(0,e.useState)(null),V=R[0],W=R[1],x=(0,e.useState)(null),X=x[0],N=x[1],J=(0,e.useState)(null),E=J[0],H=J[1],Y=(0,e.useState)(null),F=Y[0],K=Y[1],M=(0,e.useState)(null),L=M[0],T=M[1],z=(0,e.useState)(null),D=z[0],O=z[1],j=(0,e.useState)(null),U=j[0],P=j[1],Q=(0,e.useState)(null),_=Q[0],q=Q[1],$=(0,e.useState)(null),ee=$[0],te=$[1],ne=(0,e.useState)(null),oe=ne[0],re=ne[1];return(0,e.useEffect)((function(){null!==S&&S.setMap(y)}),[y]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==S&&S.setOptions(n)}),[S,n]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==S&&S.setDraggable(o)}),[S,o]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==S&&S.setEditable(r)}),[S,r]),(0,e.useEffect)((function(){"undefined"!==typeof a&&null!==S&&S.setVisible(a)}),[S,a]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==S&&S.setPath(i)}),[S,i]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==S&&S.setPaths(l)}),[S,l]),(0,e.useEffect)((function(){S&&c&&(null!==k&&google.maps.event.removeListener(k),w(google.maps.event.addListener(S,"dblclick",c)))}),[c]),(0,e.useEffect)((function(){S&&(google.maps.event.addListener(S.getPath(),"insert_at",(function(){null===v||void 0===v||v(S)})),google.maps.event.addListener(S.getPath(),"set_at",(function(){null===v||void 0===v||v(S)})))}),[S,v]),(0,e.useEffect)((function(){S&&s&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(S,"dragend",s)))}),[s]),(0,e.useEffect)((function(){S&&g&&(null!==X&&google.maps.event.removeListener(X),N(google.maps.event.addListener(S,"dragstart",g)))}),[g]),(0,e.useEffect)((function(){S&&u&&(null!==E&&google.maps.event.removeListener(E),H(google.maps.event.addListener(S,"mousedown",u)))}),[u]),(0,e.useEffect)((function(){S&&d&&(null!==F&&google.maps.event.removeListener(F),K(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,e.useEffect)((function(){S&&I&&(null!==L&&google.maps.event.removeListener(L),T(google.maps.event.addListener(S,"mouseout",I)))}),[I]),(0,e.useEffect)((function(){S&&C&&(null!==D&&google.maps.event.removeListener(D),O(google.maps.event.addListener(S,"mouseover",C)))}),[C]),(0,e.useEffect)((function(){S&&m&&(null!==U&&google.maps.event.removeListener(U),P(google.maps.event.addListener(S,"mouseup",m)))}),[m]),(0,e.useEffect)((function(){S&&h&&(null!==_&&google.maps.event.removeListener(_),q(google.maps.event.addListener(S,"rightclick",h)))}),[h]),(0,e.useEffect)((function(){S&&p&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(S,"click",p)))}),[p]),(0,e.useEffect)((function(){S&&f&&(null!==oe&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(S,"drag",f)))}),[f]),(0,e.useEffect)((function(){var e=new google.maps.Polygon(X4(X4({},n||{}),{map:y}));return i&&e.setPath(i),l&&e.setPaths(l),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof o&&e.setDraggable(o),c&&w(google.maps.event.addListener(e,"dblclick",c)),s&&W(google.maps.event.addListener(e,"dragend",s)),g&&N(google.maps.event.addListener(e,"dragstart",g)),u&&H(google.maps.event.addListener(e,"mousedown",u)),d&&K(google.maps.event.addListener(e,"mousemove",d)),I&&T(google.maps.event.addListener(e,"mouseout",I)),C&&O(google.maps.event.addListener(e,"mouseover",C)),m&&P(google.maps.event.addListener(e,"mouseup",m)),h&&q(google.maps.event.addListener(e,"rightclick",h)),p&&te(google.maps.event.addListener(e,"click",p)),f&&re(google.maps.event.addListener(e,"drag",f)),G(e),A&&A(e),function(){null!==k&&google.maps.event.removeListener(k),null!==V&&google.maps.event.removeListener(V),null!==X&&google.maps.event.removeListener(X),null!==E&&google.maps.event.removeListener(E),null!==F&&google.maps.event.removeListener(F),null!==L&&google.maps.event.removeListener(L),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==_&&google.maps.event.removeListener(_),null!==ee&&google.maps.event.removeListener(ee),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:m7,eventMap:C7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:m7,eventMap:C7,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),z4(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var h7={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},p7={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,e.memo)((function(t){var n=t.options,o=t.bounds,r=t.draggable,a=t.editable,i=t.visible,l=t.onDblClick,c=t.onDragEnd,s=t.onDragStart,g=t.onMouseDown,u=t.onMouseMove,d=t.onMouseOut,I=t.onMouseOver,C=t.onMouseUp,m=t.onRightClick,h=t.onClick,p=t.onDrag,f=t.onBoundsChanged,A=t.onLoad,b=t.onUnmount,v=(0,e.useContext)(K4),y=(0,e.useState)(null),Z=y[0],S=y[1],G=(0,e.useState)(null),B=G[0],k=G[1],w=(0,e.useState)(null),R=w[0],V=w[1],W=(0,e.useState)(null),x=W[0],X=W[1],N=(0,e.useState)(null),J=N[0],E=N[1],H=(0,e.useState)(null),Y=H[0],F=H[1],K=(0,e.useState)(null),M=K[0],L=K[1],T=(0,e.useState)(null),z=T[0],D=T[1],O=(0,e.useState)(null),j=O[0],U=O[1],P=(0,e.useState)(null),Q=P[0],_=P[1],q=(0,e.useState)(null),$=q[0],ee=q[1],te=(0,e.useState)(null),ne=te[0],oe=te[1],re=(0,e.useState)(null),ae=re[0],ie=re[1];return(0,e.useEffect)((function(){null!==Z&&Z.setMap(v)}),[v]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==Z&&Z.setOptions(n)}),[Z,n]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==Z&&Z.setDraggable(r)}),[Z,r]),(0,e.useEffect)((function(){"undefined"!==typeof a&&null!==Z&&Z.setEditable(a)}),[Z,a]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==Z&&Z.setVisible(i)}),[Z,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==Z&&Z.setBounds(o)}),[Z,o]),(0,e.useEffect)((function(){Z&&l&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(Z,"dblclick",l)))}),[l]),(0,e.useEffect)((function(){Z&&c&&(null!==R&&google.maps.event.removeListener(R),V(google.maps.event.addListener(Z,"dragend",c)))}),[c]),(0,e.useEffect)((function(){Z&&s&&(null!==x&&google.maps.event.removeListener(x),X(google.maps.event.addListener(Z,"dragstart",s)))}),[s]),(0,e.useEffect)((function(){Z&&g&&(null!==J&&google.maps.event.removeListener(J),E(google.maps.event.addListener(Z,"mousedown",g)))}),[g]),(0,e.useEffect)((function(){Z&&u&&(null!==Y&&google.maps.event.removeListener(Y),F(google.maps.event.addListener(Z,"mousemove",u)))}),[u]),(0,e.useEffect)((function(){Z&&d&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(Z,"mouseout",d)))}),[d]),(0,e.useEffect)((function(){Z&&I&&(null!==z&&google.maps.event.removeListener(z),D(google.maps.event.addListener(Z,"mouseover",I)))}),[I]),(0,e.useEffect)((function(){Z&&C&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(Z,"mouseup",C)))}),[C]),(0,e.useEffect)((function(){Z&&m&&(null!==Q&&google.maps.event.removeListener(Q),_(google.maps.event.addListener(Z,"rightclick",m)))}),[m]),(0,e.useEffect)((function(){Z&&h&&(null!==$&&google.maps.event.removeListener($),ee(google.maps.event.addListener(Z,"click",h)))}),[h]),(0,e.useEffect)((function(){Z&&p&&(null!==ne&&google.maps.event.removeListener(ne),oe(google.maps.event.addListener(Z,"drag",p)))}),[p]),(0,e.useEffect)((function(){Z&&f&&(null!==ae&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(Z,"bounds_changed",f)))}),[f]),(0,e.useEffect)((function(){var e=new google.maps.Rectangle(X4(X4({},n||{}),{map:v}));return"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof a&&e.setEditable(a),"undefined"!==typeof r&&e.setDraggable(r),"undefined"!==typeof o&&e.setBounds(o),l&&k(google.maps.event.addListener(e,"dblclick",l)),c&&V(google.maps.event.addListener(e,"dragend",c)),s&&X(google.maps.event.addListener(e,"dragstart",s)),g&&E(google.maps.event.addListener(e,"mousedown",g)),u&&F(google.maps.event.addListener(e,"mousemove",u)),d&&L(google.maps.event.addListener(e,"mouseout",d)),I&&D(google.maps.event.addListener(e,"mouseover",I)),C&&U(google.maps.event.addListener(e,"mouseup",C)),m&&_(google.maps.event.addListener(e,"rightclick",m)),h&&ee(google.maps.event.addListener(e,"click",h)),p&&oe(google.maps.event.addListener(e,"drag",p)),f&&ie(google.maps.event.addListener(e,"bounds_changed",f)),S(e),A&&A(e),function(){null!==B&&google.maps.event.removeListener(B),null!==R&&google.maps.event.removeListener(R),null!==x&&google.maps.event.removeListener(x),null!==J&&google.maps.event.removeListener(J),null!==Y&&google.maps.event.removeListener(Y),null!==M&&google.maps.event.removeListener(M),null!==z&&google.maps.event.removeListener(z),null!==j&&google.maps.event.removeListener(j),null!==Q&&google.maps.event.removeListener(Q),null!==$&&google.maps.event.removeListener($),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:p7,eventMap:h7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:p7,eventMap:h7,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),z4(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var f7={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},A7={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},b7={};(0,e.memo)((function(t){var n=t.options,o=t.center,r=t.radius,a=t.draggable,i=t.editable,l=t.visible,c=t.onDblClick,s=t.onDragEnd,g=t.onDragStart,u=t.onMouseDown,d=t.onMouseMove,I=t.onMouseOut,C=t.onMouseOver,m=t.onMouseUp,h=t.onRightClick,p=t.onClick,f=t.onDrag,A=t.onCenterChanged,b=t.onRadiusChanged,v=t.onLoad,y=t.onUnmount,Z=(0,e.useContext)(K4),S=(0,e.useState)(null),G=S[0],B=S[1],k=(0,e.useState)(null),w=k[0],R=k[1],V=(0,e.useState)(null),W=V[0],x=V[1],X=(0,e.useState)(null),N=X[0],J=X[1],E=(0,e.useState)(null),H=E[0],Y=E[1],F=(0,e.useState)(null),K=F[0],M=F[1],L=(0,e.useState)(null),T=L[0],z=L[1],D=(0,e.useState)(null),O=D[0],j=D[1],U=(0,e.useState)(null),P=U[0],Q=U[1],_=(0,e.useState)(null),q=_[0],$=_[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],oe=(0,e.useState)(null),re=oe[0],ae=oe[1],ie=(0,e.useState)(null),le=ie[0],ce=ie[1],se=(0,e.useState)(null),ge=se[0],ue=se[1];return(0,e.useEffect)((function(){null!==G&&G.setMap(Z)}),[Z]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==G&&G.setOptions(n)}),[G,n]),(0,e.useEffect)((function(){"undefined"!==typeof a&&null!==G&&G.setDraggable(a)}),[G,a]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==G&&G.setEditable(i)}),[G,i]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==G&&G.setVisible(l)}),[G,l]),(0,e.useEffect)((function(){"number"===typeof r&&null!==G&&G.setRadius(r)}),[G,r]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==G&&G.setCenter(o)}),[G,o]),(0,e.useEffect)((function(){G&&c&&(null!==w&&google.maps.event.removeListener(w),R(google.maps.event.addListener(G,"dblclick",c)))}),[c]),(0,e.useEffect)((function(){G&&s&&(null!==W&&google.maps.event.removeListener(W),x(google.maps.event.addListener(G,"dragend",s)))}),[s]),(0,e.useEffect)((function(){G&&g&&(null!==N&&google.maps.event.removeListener(N),J(google.maps.event.addListener(G,"dragstart",g)))}),[g]),(0,e.useEffect)((function(){G&&u&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(G,"mousedown",u)))}),[u]),(0,e.useEffect)((function(){G&&d&&(null!==K&&google.maps.event.removeListener(K),M(google.maps.event.addListener(G,"mousemove",d)))}),[d]),(0,e.useEffect)((function(){G&&I&&(null!==T&&google.maps.event.removeListener(T),z(google.maps.event.addListener(G,"mouseout",I)))}),[I]),(0,e.useEffect)((function(){G&&C&&(null!==O&&google.maps.event.removeListener(O),j(google.maps.event.addListener(G,"mouseover",C)))}),[C]),(0,e.useEffect)((function(){G&&m&&(null!==P&&google.maps.event.removeListener(P),Q(google.maps.event.addListener(G,"mouseup",m)))}),[m]),(0,e.useEffect)((function(){G&&h&&(null!==q&&google.maps.event.removeListener(q),$(google.maps.event.addListener(G,"rightclick",h)))}),[h]),(0,e.useEffect)((function(){G&&p&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(G,"click",p)))}),[p]),(0,e.useEffect)((function(){G&&f&&(null!==re&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(G,"drag",f)))}),[f]),(0,e.useEffect)((function(){G&&A&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(G,"center_changed",A)))}),[p]),(0,e.useEffect)((function(){G&&b&&(null!==ge&&google.maps.event.removeListener(ge),ue(google.maps.event.addListener(G,"radius_changed",b)))}),[b]),(0,e.useEffect)((function(){var e=new google.maps.Circle(X4(X4({},n||b7),{map:Z}));return"number"===typeof r&&e.setRadius(r),"undefined"!==typeof o&&e.setCenter(o),"number"===typeof r&&e.setRadius(r),"undefined"!==typeof l&&e.setVisible(l),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof a&&e.setDraggable(a),c&&R(google.maps.event.addListener(e,"dblclick",c)),s&&x(google.maps.event.addListener(e,"dragend",s)),g&&J(google.maps.event.addListener(e,"dragstart",g)),u&&Y(google.maps.event.addListener(e,"mousedown",u)),d&&M(google.maps.event.addListener(e,"mousemove",d)),I&&z(google.maps.event.addListener(e,"mouseout",I)),C&&j(google.maps.event.addListener(e,"mouseover",C)),m&&Q(google.maps.event.addListener(e,"mouseup",m)),h&&$(google.maps.event.addListener(e,"rightclick",h)),p&&ne(google.maps.event.addListener(e,"click",p)),f&&ae(google.maps.event.addListener(e,"drag",f)),A&&ce(google.maps.event.addListener(e,"center_changed",A)),b&&ue(google.maps.event.addListener(e,"radius_changed",b)),B(e),v&&v(e),function(){null!==w&&google.maps.event.removeListener(w),null!==W&&google.maps.event.removeListener(W),null!==N&&google.maps.event.removeListener(N),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==T&&google.maps.event.removeListener(T),null!==O&&google.maps.event.removeListener(O),null!==P&&google.maps.event.removeListener(P),null!==q&&google.maps.event.removeListener(q),null!==te&&google.maps.event.removeListener(te),null!==le&&google.maps.event.removeListener(le),null!==ge&&google.maps.event.removeListener(ge),y&&y(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:A7,eventMap:f7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:A7,eventMap:f7,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),z4(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var v7={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},y7={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,o){e.loadGeoJson(t,n,o)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,e.memo)((function(t){var n=t.options,o=t.onClick,r=t.onDblClick,a=t.onMouseDown,i=t.onMouseMove,l=t.onMouseOut,c=t.onMouseOver,s=t.onMouseUp,g=t.onRightClick,u=t.onAddFeature,d=t.onRemoveFeature,I=t.onRemoveProperty,C=t.onSetGeometry,m=t.onSetProperty,h=t.onLoad,p=t.onUnmount,f=(0,e.useContext)(K4),A=(0,e.useState)(null),b=A[0],v=A[1],y=(0,e.useState)(null),Z=y[0],S=y[1],G=(0,e.useState)(null),B=G[0],k=G[1],w=(0,e.useState)(null),R=w[0],V=w[1],W=(0,e.useState)(null),x=W[0],X=W[1],N=(0,e.useState)(null),J=N[0],E=N[1],H=(0,e.useState)(null),Y=H[0],F=H[1],K=(0,e.useState)(null),M=K[0],L=K[1],T=(0,e.useState)(null),z=T[0],D=T[1],O=(0,e.useState)(null),j=O[0],U=O[1],P=(0,e.useState)(null),Q=P[0],_=P[1],q=(0,e.useState)(null),$=q[0],ee=q[1],te=(0,e.useState)(null),ne=te[0],oe=te[1],re=(0,e.useState)(null),ae=re[0],ie=re[1];return(0,e.useEffect)((function(){null!==b&&b.setMap(f)}),[f]),(0,e.useEffect)((function(){b&&r&&(null!==Z&&google.maps.event.removeListener(Z),S(google.maps.event.addListener(b,"dblclick",r)))}),[r]),(0,e.useEffect)((function(){b&&a&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(b,"mousedown",a)))}),[a]),(0,e.useEffect)((function(){b&&i&&(null!==R&&google.maps.event.removeListener(R),V(google.maps.event.addListener(b,"mousemove",i)))}),[i]),(0,e.useEffect)((function(){b&&l&&(null!==x&&google.maps.event.removeListener(x),X(google.maps.event.addListener(b,"mouseout",l)))}),[l]),(0,e.useEffect)((function(){b&&c&&(null!==J&&google.maps.event.removeListener(J),E(google.maps.event.addListener(b,"mouseover",c)))}),[c]),(0,e.useEffect)((function(){b&&s&&(null!==Y&&google.maps.event.removeListener(Y),F(google.maps.event.addListener(b,"mouseup",s)))}),[s]),(0,e.useEffect)((function(){b&&g&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(b,"rightclick",g)))}),[g]),(0,e.useEffect)((function(){b&&o&&(null!==z&&google.maps.event.removeListener(z),D(google.maps.event.addListener(b,"click",o)))}),[o]),(0,e.useEffect)((function(){b&&u&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(b,"addfeature",u)))}),[u]),(0,e.useEffect)((function(){b&&d&&(null!==Q&&google.maps.event.removeListener(Q),_(google.maps.event.addListener(b,"removefeature",d)))}),[d]),(0,e.useEffect)((function(){b&&I&&(null!==$&&google.maps.event.removeListener($),ee(google.maps.event.addListener(b,"removeproperty",I)))}),[I]),(0,e.useEffect)((function(){b&&C&&(null!==ne&&google.maps.event.removeListener(ne),oe(google.maps.event.addListener(b,"setgeometry",C)))}),[C]),(0,e.useEffect)((function(){b&&m&&(null!==ae&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(b,"setproperty",m)))}),[m]),(0,e.useEffect)((function(){if(null!==f){var e=new google.maps.Data(X4(X4({},n||{}),{map:f}));r&&S(google.maps.event.addListener(e,"dblclick",r)),a&&k(google.maps.event.addListener(e,"mousedown",a)),i&&V(google.maps.event.addListener(e,"mousemove",i)),l&&X(google.maps.event.addListener(e,"mouseout",l)),c&&E(google.maps.event.addListener(e,"mouseover",c)),s&&F(google.maps.event.addListener(e,"mouseup",s)),g&&L(google.maps.event.addListener(e,"rightclick",g)),o&&D(google.maps.event.addListener(e,"click",o)),u&&U(google.maps.event.addListener(e,"addfeature",u)),d&&_(google.maps.event.addListener(e,"removefeature",d)),I&&ee(google.maps.event.addListener(e,"removeproperty",I)),C&&oe(google.maps.event.addListener(e,"setgeometry",C)),m&&ie(google.maps.event.addListener(e,"setproperty",m)),v(e),h&&h(e)}return function(){b&&(null!==Z&&google.maps.event.removeListener(Z),null!==B&&google.maps.event.removeListener(B),null!==R&&google.maps.event.removeListener(R),null!==x&&google.maps.event.removeListener(x),null!==J&&google.maps.event.removeListener(J),null!==Y&&google.maps.event.removeListener(Y),null!==M&&google.maps.event.removeListener(M),null!==z&&google.maps.event.removeListener(z),null!==j&&google.maps.event.removeListener(j),null!==Q&&google.maps.event.removeListener(Q),null!==$&&google.maps.event.removeListener($),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),p&&p(b),b.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}x4(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(X4(X4({},this.props.options||{}),{map:this.context}));this.registeredEvents=D4({updaterMap:y7,eventMap:v7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:y7,eventMap:v7,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),z4(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var Z7={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},S7={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(X4(X4({},this.props.options),{map:this.context}));this.registeredEvents=D4({updaterMap:S7,eventMap:Z7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:S7,eventMap:Z7,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),z4(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);function G7(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function B7(e,t){return new t(e.lat,e.lng)}function k7(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function w7(e,t,n,o){return void 0!==n?function(e,t,n){var o=e&&e.fromLatLngToDivPixel(n.getNorthEast()),r=e&&e.fromLatLngToDivPixel(n.getSouthWest());return o&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(o.y+t.y,"px"),width:"".concat(o.x-r.x-t.x,"px"),height:"".concat(r.y-o.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,k7)):function(e,t,n){var o=e&&e.fromLatLngToDivPixel(n);if(o){var r=o.x,a=o.y;return{left:"".concat(r+t.x,"px"),top:"".concat(a+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(o,google.maps.LatLng,B7))}function R7(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function V7(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,e.memo)((function(t){var n=t.position,o=t.bounds,r=t.mapPaneName,a=t.zIndex,l=t.onLoad,c=t.onUnmount,s=t.getPixelPositionOffset,g=t.children,u=(0,e.useContext)(K4),d=(0,e.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),I=(0,e.useMemo)((function(){return function(e,t,n,o,r){var a=function(e){function t(t,n,o,r){var a=e.call(this)||this;return a.container=t,a.pane=n,a.position=o,a.bounds=r,a}return x4(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=w7(this.getProjection(),X4({},this.container?G7(this.container,r):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var o=n[t],a=o[0],i=o[1];this.container.style[a]=i}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new a(e,t,n,o)}(d,r,n,o,s)}),[d,r,n,o]);return(0,e.useEffect)((function(){return null===l||void 0===l||l(I),null===I||void 0===I||I.setMap(u),function(){null===c||void 0===c||c(I),null===I||void 0===I||I.setMap(null)}}),[u,I]),(0,e.useEffect)((function(){d.style.zIndex="".concat(a)}),[a,d]),i.createPortal(g,d)})),function(t){function n(n){var o=t.call(this,n)||this;o.state={paneEl:null,containerStyle:{position:"absolute"}},o.updatePane=function(){var e=o.props.mapPaneName,t=o.overlayView.getPanes();F4(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?o.setState({paneEl:t[e]}):o.setState({paneEl:null})},o.onAdd=function(){var e,t;o.updatePane(),null===(t=(e=o.props).onLoad)||void 0===t||t.call(e,o.overlayView)},o.onPositionElement=function(){var e,t,n=w7(o.overlayView.getProjection(),X4({x:0,y:0},o.containerRef.current?G7(o.containerRef.current,o.props.getPixelPositionOffset):{}),o.props.bounds,o.props.position),r=o.state.containerStyle,a=r.left,i=r.top,l=r.width,c=r.height;t={left:a,top:i,width:l,height:c},((e=n).left!==t.left||e.top!==t.top||e.width!==t.height||e.height!==t.height)&&o.setState({containerStyle:{top:n.top||0,left:n.left||0,width:n.width||0,height:n.height||0,position:"absolute"}})},o.draw=function(){o.onPositionElement()},o.onRemove=function(){var e,t;o.setState((function(){return{paneEl:null}})),null===(t=(e=o.props).onUnmount)||void 0===t||t.call(e,o.overlayView)},o.containerRef=(0,e.createRef)();var r=new google.maps.OverlayView;return r.onAdd=o.onAdd,r.draw=o.draw,r.onRemove=o.onRemove,o.overlayView=r,o}x4(n,t),n.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},n.prototype.componentDidUpdate=function(e){var t=R7(e.position),n=R7(this.props.position),o=V7(e.bounds),r=V7(this.props.bounds);t===n&&o===r||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},n.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},n.prototype.render=function(){var t=this.state.paneEl;return t?i.createPortal((0,et.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:e.Children.only(this.props.children)}),t):null},n.FLOAT_PANE="floatPane",n.MAP_PANE="mapPane",n.MARKER_LAYER="markerLayer",n.OVERLAY_LAYER="overlayLayer",n.OVERLAY_MOUSE_TARGET="overlayMouseTarget",n.contextType=K4}(e.PureComponent);function W7(){}var x7={onDblClick:"dblclick",onClick:"click"},X7={opacity:function(e,t){e.setOpacity(t)}};(0,e.memo)((function(t){var n=t.url,o=t.bounds,r=t.options,a=t.visible,i=(0,e.useContext)(K4),l=new google.maps.LatLngBounds(new google.maps.LatLng(o.south,o.west),new google.maps.LatLng(o.north,o.east)),c=(0,e.useMemo)((function(){return new google.maps.GroundOverlay(n,l,X4({},r))}),[]);return(0,e.useEffect)((function(){null!==c&&c.setMap(i)}),[i]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==c&&(c.set("url",n),c.setMap(i))}),[c,n]),(0,e.useEffect)((function(){"undefined"!==typeof a&&null!==c&&c.setOpacity(a?1:0)}),[c,a]),(0,e.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(o.south,o.west),new google.maps.LatLng(o.north,o.east));"undefined"!==typeof o&&null!==c&&(c.set("bounds",e),c.setMap(i))}),[c,o]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}x4(t,e),t.prototype.componentDidMount=function(){F4(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,X4(X4({},this.props.options),{map:this.context}));this.registeredEvents=D4({updaterMap:X7,eventMap:x7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:X7,eventMap:x7,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:W7},t.contextType=K4}(e.PureComponent);var N7={},J7={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.data,o=t.onLoad,r=t.onUnmount,a=t.options,i=(0,e.useContext)(K4),l=(0,e.useState)(null),c=l[0],s=l[1];return(0,e.useEffect)((function(){google.maps.visualization||F4(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,e.useEffect)((function(){F4(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,e.useEffect)((function(){null!==c&&c.setMap(i)}),[i]),(0,e.useEffect)((function(){a&&null!==c&&c.setOptions(a)}),[c,a]),(0,e.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(X4(X4({},a||{}),{data:n,map:i}));return s(e),o&&o(e),function(){null!==c&&(r&&r(c),c.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}x4(t,e),t.prototype.componentDidMount=function(){F4(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),F4(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(X4(X4({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=D4({updaterMap:J7,eventMap:N7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:J7,eventMap:N7,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),z4(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent);var E7={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},H7={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},Y7=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}x4(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=D4({updaterMap:H7,eventMap:E7,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:H7,eventMap:E7,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),z4(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=K4}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}x4(t,e),t.prototype.componentDidMount=function(){F4(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(e.PureComponent),{onDirectionsChanged:"directions_changed"}),F7={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},K7=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}x4(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=D4({updaterMap:F7,eventMap:Y7,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:F7,eventMap:Y7,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),z4(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,et.jsx)(et.Fragment,{})},t.contextType=K4}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}x4(t,e),t.prototype.componentDidMount=function(){F4(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(e.PureComponent),{onPlacesChanged:"places_changed"}),M7={bounds:function(e,t){e.setBounds(t)}},L7=(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=(0,e.createRef)(),n.state={searchBox:null},n.setSearchBoxCallback=function(){null!==n.state.searchBox&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}x4(n,t),n.prototype.componentDidMount=function(){if(F4(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=D4({updaterMap:M7,eventMap:K7,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},n.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:M7,eventMap:K7,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},n.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),z4(this.registeredEvents))},n.prototype.render=function(){return(0,et.jsx)("div",{ref:this.containerElement,children:e.Children.only(this.props.children)})},n.contextType=K4}(e.PureComponent),{onPlaceChanged:"place_changed"}),T7={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}};!function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=(0,e.createRef)(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){null!==n.state.autocomplete&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}x4(n,t),n.prototype.componentDidMount=function(){var e;F4(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=D4({updaterMap:T7,eventMap:L7,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},n.prototype.componentDidUpdate=function(e){z4(this.registeredEvents),this.registeredEvents=D4({updaterMap:T7,eventMap:L7,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},n.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&z4(this.registeredEvents)},n.prototype.render=function(){return(0,et.jsx)("div",{ref:this.containerElement,className:this.props.className,children:e.Children.only(this.props.children)})},n.defaultProps={className:""},n.contextType=K4}(e.PureComponent);const z7=()=>{const[t,n]=(0,e.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),o=e=>{n({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},r=e=>{n({loaded:!0,error:{code:e.code,message:e.message}})};return(0,e.useEffect)((()=>{"geolocation"in navigator||r({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(o,r)}),[]),t},D7=["places"],O7={width:"600px",height:"600px"},j7={disableDefaultUI:!0,zoomControl:!0};function U7(e){let{panTo:t}=e;const n=z7();return(0,et.jsx)("button",{className:"locate",onClick:()=>{t(n.coordinates)},children:(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/currentlocation.png"),alt:"location",width:"40px",height:"40px"})})}const P7=t=>{let{DoctorData:n,handleDoubleClickMap:o,currentDoctor:r,setCurrentDoctor:a,id_staff:i,setID:l}=t;Se();const[c,s]=(0,e.useState)(0),g=z7(),{isLoaded:u,loadError:d}=r8({googleMapsApiKey:"AIzaSyCXyl8cV0kbV42iLv6qmXmSU5wZie9F2n4",libraries:D7}),I=e.useRef(),C=e.useCallback((e=>{I.current=e}),[]),m=e.useCallback((e=>{let{lat:t,lng:n}=e;I.current.panTo({lat:t,lng:n}),I.current.setZoom(17)}),[]);return d?(0,et.jsx)("div",{children:"Error..."}):u?(0,et.jsx)("div",{className:"GoogleMapContain",children:(0,et.jsxs)("div",{className:"container tw-flex tw-justify-center tw-items-center",children:[(0,et.jsxs)("div",{className:"GoogleMap",children:[(0,et.jsx)(U7,{panTo:m}),(0,et.jsxs)(U4,{id:"map",mapContainerStyle:O7,zoom:17,center:g.coordinates,options:j7,onLoad:C,children:[(0,et.jsx)(C8,{position:g.coordinates}),n.map(((e,t)=>(0,et.jsx)(C8,{position:{lat:e.lat,lng:e.lng},options:{icon:"".concat("/pharma-track-fe","/assets/cliniclogo.png")},onClick:()=>{l(e.id_staff),a(n.find((t=>t.id_staff===e.id_staff))),m({lat:e.lat,lng:e.lng})}})))]})]}),(0,et.jsx)("div",{className:"tw-ml-20",children:0===Object.keys(r).length?(0,et.jsx)(f3,{...n[0],handleDoubleClick:o}):(0,et.jsx)(f3,{...r,handleDoubleClick:o})})]})}):(0,et.jsx)("div",{children:"Loading..."})},Q7=t=>{const n=Se(),[o,r]=(0,e.useState)([]),[a,i]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[s,g]=(0,e.useState)(-1),[u,d]=(0,e.useState)(-1),[I,C]=(0,e.useState)(!1),[m,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)({province:"",city:"",ward:"",department:""}),A=[{name:"A"},{name:"B"},{name:"C"},{name:"D"},{name:"E"}];(0,e.useEffect)((()=>{const e=new AbortController;localStorage.getItem("bookingState")&&n("/bookap3"),h(!0);return(async()=>{try{const[e,t]=await Promise.all([fz("GET","https://pharma-track-be.onrender.com/api/v1/clinic/"),fz("GET","https://pharma-track-be.onrender.com/api/v1/staff")]),n=t.filter((e=>"B\xe1c s\u0129"===e.type));r(n.map((t=>({...t,...e.find((e=>e.id_clinic===t.id_clinic))})))),h(!1)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[n]),(0,e.useEffect)((()=>{i(o)}),[o]);const b=()=>{C(!0)},v=()=>{if(-1===u)return RR.error({message:"L\u1ed7i",description:"B\u1ea1n v\u1eabn ch\u01b0a ch\u1ecdn Gi\u1edd"}),!1;i(o),C(!1),n("/bookap2",{state:{currentDoctor:l,time:u}})},y=()=>{C(!1)};(0,e.useEffect)((()=>{null!==p&&void 0!==p&&p.province?i(o.filter((e=>e.province===p.province))):i(o),null!==p&&void 0!==p&&p.city&&i((e=>e.filter((e=>e.city===p.city)))),null!==p&&void 0!==p&&p.ward&&i((e=>e.filter((e=>e.ward===p.ward)))),null!==p&&void 0!==p&&p.department&&i((e=>e.filter((e=>e.department===p.department))))}),[JSON.stringify(p)]);return(0,et.jsxs)("div",{className:"BookApTab1",children:[(0,et.jsxs)(r3,{className:"Tabs",children:[(0,et.jsxs)(l3,{className:"Option tw-flex tw-max-w-3xl tw-mx-auto tw-mt-10 tw-text-lg tw-cursor-pointer tw-select-none",children:[(0,et.jsx)(d3,{className:"Option_1 tw-flex-1 tw-text-center tw-py-5 tw-rounded-none\t",children:"Ch\u1ecdn ph\xf2ng kh\xe1m theo b\xe1c s\u0129"}),(0,et.jsx)(d3,{className:"Option_2 tw-flex-1 tw-text-center tw-py-5 tw-rounded-none\t",children:"Ch\u1ecdn ph\xf2ng kh\xe1m theo v\u1ecb tr\xed"})]}),(0,et.jsxs)(m4,{spinning:m,tip:"Loading...",children:[(0,et.jsxs)(p3,{children:[(0,et.jsx)("div",{className:"wrap-picker ",children:(0,et.jsx)("div",{className:"picker ",children:(0,et.jsx)(oM,{initialValues:p,children:e=>(0,et.jsxs)(sM,{children:[(0,et.jsx)(d9,{addressValues:p,setAddressValues:f,requiredFields:!1,style:{width:"200px"},...e}),(0,et.jsx)(cM,{component:m_,name:"department",label:"Ch\u1ecdn Khoa",validate:()=>!1,tokenSeparators:[","],hasFeedback:!0,showSearch:!0,submitCount:e.submitCount,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:A?A.map((e=>({value:e.name,label:e.name}))).concat({value:"",label:"Kh\xf4ng"}):[],filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onSelect:e=>f({...p,department:e})})]})})})}),(0,et.jsx)(V4,{DoctorData:a,handleDoubleClick:()=>{c(a.find((e=>e.id_staff===s))),b()},id_staff:s,setID:g}),(0,et.jsx)(u9,{title:"CHI TI\u1ebeT B\xc1C S\u0128",open:I,okType:"primary",onOk:v,onCancel:y,width:1e3,okButtonProps:{style:{backgroundColor:"#4B56D2",width:"120px",height:"50px","margin-left":"24px"}},cancelButtonProps:{style:{width:"120px",height:"50px","margin-right":"24px"}},okText:"Ti\u1ebfp t\u1ee5c",cancelText:"Quay l\u1ea1i",children:(0,et.jsx)(w4,{currentDoctor:l,time:u,setTime:d})})]}),(0,et.jsxs)(p3,{children:[(0,et.jsx)("div",{className:"tw-flex tw-justify-center tw-mt-6",children:(0,et.jsx)(oM,{initialValues:p,children:e=>(0,et.jsx)(sM,{children:(0,et.jsx)(cM,{component:m_,name:"department",label:"Ch\u1ecdn Khoa",validate:e=>!1,tokenSeparators:[","],hasFeedback:!0,showSearch:!0,filterSort:(e,t)=>{var n,o;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().localeCompare((null!==(o=null===t||void 0===t?void 0:t.label)&&void 0!==o?o:"").toLowerCase())},options:A?A.map((e=>({value:e.name,label:e.name}))).concat({value:"",label:"Kh\xf4ng"}):[],filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})})}),(0,et.jsxs)("div",{className:"tw-mt-10",children:[(0,et.jsx)(P7,{DoctorData:a,handleDoubleClickMap:()=>{b()},currentDoctor:l,setCurrentDoctor:c,id_staff:s,setID:g}),(0,et.jsx)(u9,{title:"CHI TI\u1ebeT B\xc1C S\u0128",open:I,okType:"primary",onOk:v,onCancel:y,width:1e3,okButtonProps:{style:{backgroundColor:"#4B56D2",width:"120px",height:"50px","margin-left":"24px"}},cancelButtonProps:{style:{width:"120px",height:"50px","margin-right":"24px"}},okText:"Ti\u1ebfp t\u1ee5c",cancelText:"Quay l\u1ea1i",children:(0,et.jsx)(w4,{currentDoctor:l,time:u,setTime:d})})]})]})]})]}),(0,et.jsx)(R4,{onClickBack:()=>{n("/homepage")},onClickNext:()=>{if(-1===s)return RR.error({message:"L\u1ed7i",description:"B\u1ea1n v\u1eabn ch\u01b0a ch\u1ecdn b\xe1c s\u0129"}),!1;c(a.find((e=>e.id_staff===s))),b()}})]})},_7=e=>{Se();return(0,et.jsxs)("div",{className:"BookApPage",children:[(0,et.jsx)(K5,{current:0}),(0,et.jsx)(Q7,{})]})};var q7=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],$7=(0,e.forwardRef)((function(t,n){var o=t.prefixCls,r=void 0===o?"rc-checkbox":o,a=t.className,i=t.style,l=t.checked,c=t.disabled,s=t.defaultChecked,g=void 0!==s&&s,u=t.type,d=void 0===u?"checkbox":u,I=t.title,C=t.onChange,m=JG(t,q7),h=(0,e.useRef)(null),p=(0,e.useRef)(null),f=hv(QG(g,{value:l}),2),A=f[0],b=f[1];(0,e.useImperativeHandle)(n,(function(){return{focus:function(e){var t;null===(t=h.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=h.current)||void 0===e||e.blur()},input:h.current,nativeElement:p.current}}));var v=BG()(r,a,an(an({},"".concat(r,"-checked"),A),"".concat(r,"-disabled"),c));return e.createElement("span",{className:v,title:I,style:i,ref:p},e.createElement("input",Ey({},m,{className:"".concat(r,"-input"),ref:h,onChange:function(e){c||("checked"in t||b(e.target.checked),null===C||void 0===C||C({target:cn(cn({},t),{},{type:d,checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},disabled:c,checked:!!A,type:d})),e.createElement("span",{className:"".concat(r,"-inner")}))}));const e6=$7,t6=e.createContext(null),n6=e=>{const{checkboxCls:t}=e,n="".concat(t,"-wrapper");return[{["".concat(t,"-group")]:Object.assign(Object.assign({},ik(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,["> ".concat(e.antCls,"-row")]:{flex:1}}),[n]:Object.assign(Object.assign({},ik(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(n)]:{marginInlineStart:0},["&".concat(n,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},ik(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",["".concat(t,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(t,"-inner")]:Object.assign({},sk(e))},["".concat(t,"-inner")]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(Iy(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:"".concat(Iy(e.lineWidthBold)," solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{["\n        ".concat(n,":not(").concat(n,"-disabled),\n        ").concat(t,":not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{borderColor:e.colorPrimary}},["".concat(n,":not(").concat(n,"-disabled)")]:{["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled) ").concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled):after")]:{borderColor:e.colorPrimaryHover}}},{["".concat(t,"-checked")]:{["".concat(t,"-inner")]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}},["\n        ".concat(n,"-checked:not(").concat(n,"-disabled),\n        ").concat(t,"-checked:not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{["".concat(t,"-inner")]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{["".concat(n,"-disabled")]:{cursor:"not-allowed"},["".concat(t,"-disabled")]:{["&, ".concat(t,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(t,"-inner")]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},["&".concat(t,"-indeterminate ").concat(t,"-inner::after")]:{background:e.colorTextDisabled}}}]};function o6(e,t){const n=xw(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize});return[n6(n)]}const r6=Uw("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[o6(n,e)]}));var a6=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const i6=(t,n)=>{var o;const{prefixCls:r,className:a,rootClassName:i,children:l,indeterminate:c=!1,style:s,onMouseEnter:g,onMouseLeave:u,skipGroup:d=!1,disabled:I}=t,C=a6(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:m,direction:h,checkbox:p}=e.useContext(gv),f=e.useContext(t6),{isFormItemInput:A}=e.useContext(PL),b=e.useContext(pG),v=null!==(o=(null===f||void 0===f?void 0:f.disabled)||I)&&void 0!==o?o:b,y=e.useRef(C.value);e.useEffect((()=>{null===f||void 0===f||f.registerValue(C.value)}),[]),e.useEffect((()=>{if(!d)return C.value!==y.current&&(null===f||void 0===f||f.cancelValue(y.current),null===f||void 0===f||f.registerValue(C.value),y.current=C.value),()=>null===f||void 0===f?void 0:f.cancelValue(C.value)}),[C.value]);const Z=m("checkbox",r),S=Zw(Z),[G,B,k]=r6(Z,S),w=Object.assign({},C);f&&!d&&(w.onChange=function(){C.onChange&&C.onChange.apply(C,arguments),f.toggleOption&&f.toggleOption({label:l,value:C.value})},w.name=f.name,w.checked=f.value.includes(C.value));const R=BG()("".concat(Z,"-wrapper"),{["".concat(Z,"-rtl")]:"rtl"===h,["".concat(Z,"-wrapper-checked")]:w.checked,["".concat(Z,"-wrapper-disabled")]:v,["".concat(Z,"-wrapper-in-form-item")]:A},null===p||void 0===p?void 0:p.className,a,i,k,S,B),V=BG()({["".concat(Z,"-indeterminate")]:c},hJ,B),W=c?"mixed":void 0;return G(e.createElement(yJ,{component:"Checkbox",disabled:v},e.createElement("label",{className:R,style:Object.assign(Object.assign({},null===p||void 0===p?void 0:p.style),s),onMouseEnter:g,onMouseLeave:u},e.createElement(e6,Object.assign({"aria-checked":W},w,{prefixCls:Z,className:V,disabled:v,ref:n})),void 0!==l&&e.createElement("span",null,l))))};const l6=e.forwardRef(i6);var c6=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const s6=e.forwardRef(((t,n)=>{const{defaultValue:o,children:r,options:a=[],prefixCls:i,className:l,rootClassName:c,style:s,onChange:g}=t,u=c6(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:I}=e.useContext(gv),[C,m]=e.useState(u.value||o||[]),[h,p]=e.useState([]);e.useEffect((()=>{"value"in u&&m(u.value||[])}),[u.value]);const f=e.useMemo((()=>a.map((e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e))),[a]),A=d("checkbox",i),b="".concat(A,"-group"),v=Zw(A),[y,Z,S]=r6(A,v),G=cW(u,["value","disabled"]),B=a.length?f.map((t=>e.createElement(l6,{prefixCls:A,key:t.value.toString(),disabled:"disabled"in t?t.disabled:u.disabled,value:t.value,checked:C.includes(t.value),onChange:t.onChange,className:"".concat(b,"-item"),style:t.style,title:t.title,id:t.id,required:t.required},t.label))):r,k={toggleOption:e=>{const t=C.indexOf(e.value),n=fv(C);-1===t?n.push(e.value):n.splice(t,1),"value"in u||m(n),null===g||void 0===g||g(n.filter((e=>h.includes(e))).sort(((e,t)=>f.findIndex((t=>t.value===e))-f.findIndex((e=>e.value===t)))))},value:C,disabled:u.disabled,name:u.name,registerValue:e=>{p((t=>[].concat(fv(t),[e])))},cancelValue:e=>{p((t=>t.filter((t=>t!==e))))}},w=BG()(b,{["".concat(b,"-rtl")]:"rtl"===I},l,c,S,v,Z);return y(e.createElement("div",Object.assign({className:w,style:s},G,{ref:n}),e.createElement(t6.Provider,{value:k},B)))})),g6=s6,u6=l6;u6.Group=g6,u6.__ANT_CHECKBOX=!0;const d6=u6,I6=(pz.Item,t=>{let{handleSubmit:n,values:o,submitCount:r}=t;const[a,i]=(0,e.useState)(!1);return(0,et.jsx)("div",{className:"BookPage2",children:(0,et.jsxs)(sM,{className:"form-container",onSubmit:n,children:[(0,et.jsx)("div",{className:"header tw-text-xl tw-font-bold tw-pb-5 ",children:"1.Th\xf4ng tin ph\xf2ng kh\xe1m \u0111\u0103ng k\xed kh\xe1m"}),(0,et.jsx)("div",{className:"doctorProfile",children:(0,et.jsxs)("div",{className:"col tw-flex tw-flex-col tw-items-center",children:[(0,et.jsxs)("div",{className:"row tw-flex tw-flex-row",children:[(0,et.jsx)(cM,{component:p_,name:"nameDoctor",type:"textarea",label:"H\u1ecd v\xe0 t\xean b\xe1c s\u0129",submitCount:r,hasFeedback:!0,style:{width:"300px"},disabled:!0}),(0,et.jsx)(cM,{component:p_,name:"department",type:"textarea",label:"Chuy\xean khoa",submitCount:r,hasFeedback:!0,style:{width:"300px"},disabled:!0}),(0,et.jsx)(cM,{component:p_,name:"yearEx",type:"textarea",label:"S\u1ed1 n\u0103m kinh nghi\u1ec7m",submitCount:r,hasFeedback:!0,style:{width:"300px"},disabled:!0})]}),(0,et.jsxs)("div",{className:"row tw-flex tw-flex-row",children:[(0,et.jsx)(cM,{component:p_,name:"numberDoctor",type:"textarea",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\xf2ng kh\xe1m",submitCount:r,hasFeedback:!0,style:{width:"300px"},defaultValue:"0935123456",disabled:!0}),(0,et.jsx)(cM,{component:p_,value:"".concat(o.address,", ").concat(o.ward,", ").concat(o.city,", ").concat(o.province),type:"textarea",label:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m",submitCount:r,hasFeedback:!0,style:{width:"640px"},defaultValue:"70 L\xea Th\xe1nh T\xf4n, B\u1ebfn Ngh\xe9, Qu\u1eadn 1, Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh",disabled:!0})]})]})}),(0,et.jsx)("div",{className:"header tw-text-xl tw-font-bold tw-pb-5 ",children:"2.Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng k\xfd kh\xe1m"}),(0,et.jsxs)("div",{className:"col tw-flex tw-flex-col tw-items-center",children:[(0,et.jsxs)("div",{className:"row tw-flex tw-flex-row",children:[(0,et.jsx)(cM,{component:p_,name:"fullname",type:"textarea",label:"H\u1ecd v\xe0 t\xean",validate:Z_,submitCount:r,hasFeedback:!0,style:{width:"300px"},placeholder:"H\u1ecd v\xe0 t\xean"}),(0,et.jsx)(cM,{component:h_,name:"birthday",label:"Ng\xe0y sinh",defaultValue:o.birthdayDate,format:"DD/MM/YYYY",validate:S_,submitCount:r,hasFeedback:!0,style:{width:"300px",height:"38px",borderRadius:"10px"},placeholder:"Ng\xe0y/Th\xe1ng/N\u0103m"}),(0,et.jsx)(cM,{component:p_,name:"cccd",type:"textarea",label:"S\u1ed1 CCCD/CMND",validate:v_("S\u1ed1 CCCD/CMND"),submitCount:r,hasFeedback:!0,style:{width:"300px"},placeholder:"S\u1ed1 CCCD/CMND"})]}),(0,et.jsxs)("div",{className:"row tw-flex tw-flex-row",children:[(0,et.jsx)(cM,{component:m_,name:"gender",label:"Gi\u1edbi t\xednh",defaultValue:o.type,validate:v_("Gi\u1edbi t\xednh"),submitCount:r,tokenSeparators:[","],style:{width:"300px"},hasFeedback:!0,showSearch:!0,options:["Nam","N\u1eef","Kh\xe1c"].map((e=>({value:e,label:e}))),filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}}),(0,et.jsx)(cM,{component:p_,name:"email",type:"email",label:"Email ",validate:B_,submitCount:r,hasFeedback:!0,style:{width:"300px"},placeholder:"Email "}),(0,et.jsx)(cM,{component:p_,name:"BHYT",type:"ma",label:"S\u1ed1 th\u1ebb BHYT",submitCount:r,hasFeedback:!0,style:{width:"300px"},placeholder:"S\u1ed1 th\u1ebb BHYT "})]}),(0,et.jsxs)("div",{className:"row tw-flex tw-flex-row",children:[(0,et.jsx)(cM,{component:p_,name:"phonenumber",type:"textarea",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",validate:k_,submitCount:r,hasFeedback:!0,style:{width:"300px"},placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,et.jsx)(cM,{component:p_,name:"address",type:"textarea",label:"\u0110\u1ecba ch\u1ec9",validate:G_,submitCount:r,hasFeedback:!0,style:{width:"640px"},placeholder:"\u0110\u1ecba ch\u1ec9"})]}),(0,et.jsx)("div",{className:"row tw-flex tw-flex-row",children:(0,et.jsx)(cM,{component:p_,name:"symptom",type:"textarea",label:"Tri\u1ec7u ch\u1ee9ng",submitCount:r,hasFeedback:!0,style:{width:"980px",height:"80px"},placeholder:"Tri\u1ec7u ch\u1ee9ng"})})]}),(0,et.jsx)("div",{className:"header tw-text-xl tw-font-bold tw-pb-5",children:"3.Th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m"}),(0,et.jsx)("div",{className:"col tw-flex tw-flex-col tw-items-center",children:(0,et.jsxs)("div",{className:"row tw-flex tw-flex-row ",children:[(0,et.jsx)(cM,{component:p_,label:"Ng\xe0y h\u1eb9n kh\xe1m ",value:(new Date).toISOString().split("T")[0],format:"MM-DD-YYYY",submitCount:r,hasFeedback:!0,style:{width:"300px",height:"38px",borderRadius:"10px"},disabled:!0}),(0,et.jsx)(cM,{component:p_,name:"timeDoctor",type:"textarea",label:"Th\u1eddi gian h\u1eb9n",submitCount:r,hasFeedback:!0,style:{width:"300px",height:"38px",borderRadius:"10px"},disabled:!0})]})}),(0,et.jsxs)("div",{className:"Note tw-text-red-600 tw-pl-4 tw-list-disc tw-items-center tw-w-2/3",children:[(0,et.jsx)("div",{className:" tw-font-bold tw-text-xl",children:"L\u01b0u \xfd v\xe0 \u0111i\u1ec1u kho\u1ea3n:"}),(0,et.jsxs)("ul",{className:"tw-list-disc tw-pl-5 tw-text-[16px] tw-align-center",children:[(0,et.jsx)("li",{children:"Vi\u1ec7c \u0111\u0103ng k\xfd th\xf4ng tin ho\xe0n to\xe0n b\u1ea3o m\u1eadt v\xe0 ph\u1ee5c v\u1ee5 cho d\u1ecbch v\u1ee5 kh\xe1m b\u1ec7nh"}),(0,et.jsx)("li",{children:"Xin vui l\xf2ng ki\u1ec3m tra k\u1ef9 c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c (VD: H\u1ecd v\xe0 t\xean, Ng\xe0y th\xe1ng n\u0103m sinh, S\u1ed1 \u0111i\u1ec7n tho\u1ea1i, CCCD/M\xe3 \u0111\u1ecbnh danh c\xf4ng d\xe2n/HC ...)"}),(0,et.jsx)("li",{children:"Vui l\xf2ng ki\u1ec3m tra k\u1ef9 th\xf4ng tin v\u1ec1 b\xe1c s\u0129 b\u1ea1n s\u1ebd \u0111\u1eb7t kh\xe1m \u0111\u1ec3 ch\u1eafc r\u1eb1ng b\u1ea1n \u0111ang k\u1ebft n\u1ed1i \u0111\xfang v\u1edbi b\xe1c s\u0129 chuy\xean khoa ph\xf9 h\u1ee3p"}),(0,et.jsxs)("li",{children:["H\xe3y t\u1edbi \u0111\xfang ng\xe0y, gi\u1edd \u0111\u1eb7t kh\xe1m v\xe0 \u0111\xfang \u0111\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m \u0111\u1ec3 c\xf3 \u0111\u01b0\u1ee3c d\u1ecbch v\u1ee5 t\u1ed1t nh\u1ea5t."," "]}),(0,et.jsx)("li",{children:"M\u1ecdi th\xf4ng tin tr\xean c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c b\u1ea3o m\u1eadt v\xe0 ch\u1ec9 s\u1eed d\u1ee5ng cho ph\xf2ng kh\xe1m m\xe0 b\u1ea1n \u0111\xe3 \u0111\u1eb7t kh\xe1m."}),(0,et.jsx)("li",{children:"Ch\xfang t\xf4i s\u1ebd thu m\u1ed9t kho\u1ea3n ph\xed d\u1ecbch v\u1ee5, vui l\xf2ng thanh to\xe1n v\xe0 xin c\u1ea3m \u01a1n v\xec \u0111\xe3 ch\u1ecdn ch\xfang t\xf4i"}),(0,et.jsx)("li",{children:'B\u1eb1ng vi\u1ec7c \u0111\u1ed3ng \xfd v\xe0 nh\u1ea5n n\xfat "Ti\u1ebfp t\u1ee5c", b\u1ea1n ho\xe0n to\xe0n hi\u1ec3u v\xe0 ch\u1ecbu tr\xe1ch nhi\u1ec7m v\u1edbi c\xe1c th\xf4ng tin \u0111\xe3 cung c\u1ea5p.'})]})]}),(0,et.jsxs)("div",{className:"checkbox tw-items-center tw-w-3/5 ",children:[(0,et.jsx)(d6,{onChange:e=>{i(e.target.checked)},children:"T\xf4i \u0111\xe3 \u0111\u1ecdc k\u0129 v\xe0 \u0111\u1ed3ng \xfd v\u1edbi nh\u1eefng \u0111i\u1ec1u kho\u1ea3n tr\xean"}),!a&&(0,et.jsx)("div",{className:"tw-text-red-500 tw-ml-24",children:"Vui l\xf2ng ch\u1ecdn \xf4 tr\xean !"})]})]})})}),C6=e=>{let{formRef:t,currentDoctor:n,time:o,userFormValues:r}=e;Se();const{number:a,name:i,address:l}=n,{shift:c}=o,s=r?{...r,birthday:""}:{...n,yearEx:"4",username:"",birthday:"",gender:"",email:"",address:"",number:"",symptom:"",timeDoctor:c,nameDoctor:i,numberDoctor:a,doctorAddress:l};return(0,et.jsx)("div",{className:"BookingFormContainer",children:(0,et.jsx)(oM,{initialValues:s,innerRef:t,children:I6})})},m6=t=>{const n=Se(),{state:o}=ye(),r=(0,e.useRef)("a");localStorage.getItem("bookingState")&&n("/bookap3");return(0,et.jsxs)("div",{className:"BookApTab2",children:[(0,et.jsx)(C6,{formRef:r,...o}),(0,et.jsx)(R4,{onClickBack:()=>{n("/bookap")},onClickNext:()=>!(r.current&&(r.current.handleSubmit(),!(r.current.isValid&&Object.keys(r.current.touched).length>0)))&&(0===r.current.submitCount?window.open("https://pharma-track-be.onrender.com/api/v1/payment/create_payment_url1"):n("/bookap3",{state:{...o,userFormValues:r.current.values}}),!0)})]})},h6=e=>{Se();return(0,et.jsxs)("div",{className:"BookApPage2",children:[(0,et.jsx)(K5,{current:1}),(0,et.jsx)(m6,{})]})},p6=OT,f6=_T,A6=e=>{const t=Se();let{state:n}=ye();const{isAuthUser:o,user:r}=A((e=>e.authentication));n||(n=JSON.parse(localStorage.getItem("bookingState")));return(0,et.jsxs)("div",{className:"BookApTab3",children:[(0,et.jsx)("div",{className:"shawdow-user  tw-mt-5 tw-p-8",children:(0,et.jsx)(p6,{children:(0,et.jsxs)(f6,{span:12,offset:6,className:"container-payment tw-shadow tw-shadow-slate-400",children:[(0,et.jsx)(p6,{className:"image_finish",children:(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/tick.png"),alt:"tick",width:"150px",className:"tw-rounded-full tw-mb-5"})}),(0,et.jsx)(p6,{className:"header1 ",children:"X\xc1C NH\u1eacN THANH TO\xc1N TH\xc0NH C\xd4NG"}),(0,et.jsx)(p6,{className:"header2",children:"Thanh to\xe1n th\xe0nh c\xf4ng, b\u1ea5m 'Ti\u1ebfp t\u1ee5c' \u0111\u1ec3 ho\xe0n t\u1ea5t \u0111\u1eb7t l\u1ecbch"}),(0,et.jsxs)(p6,{className:"header2",children:["Th\xf4ng tin xem t\u1ea1i T\u1ed5ng quan ",">"," L\u1ecbch h\u1eb9n c\u1ee7a t\xf4i"]})]})})}),(0,et.jsx)(R4,{onClickBack:()=>{t("/bookap2",{state:n})},onClickNext:async()=>{if(localStorage.setItem("bookingState",JSON.stringify(n)),"user"===(null===r||void 0===r?void 0:r.role)){try{const{time:e,currentDoctor:o,userFormValues:a}=n;let i={};i.time=e.shift,i.doctor=o.name,i.test="Test1",i.number=o.number,i.address="".concat(o.address,", ").concat(o.ward,", ").concat(o.city,", ").concat(o.province),i.status="Ch\u1edd kh\xe1m",i.id_clinic=o.id_clinic,i.id_user=r.uid,i.id_staff=o.id_staff;const l=await fz("POST","https://pharma-track-be.onrender.com/api/v1/appointment",i);if("thanh cong"===l.results){RR.success({message:"\u0110\u0103ng k\xed l\u1ecbch h\u1eb9n",description:"\u0110\u0103ng k\xed th\xf4ng tin th\xe0nh c\xf4ng"});"thanh cong"===(await fz("PUT","https://pharma-track-be.onrender.com/api/v1/doctortime/updateDoctorShift",{id_doctortime:"7b8f78f4-b9b8-4c99-8a8d-108035733333",shift:e.shift,action:"booked"})).results&&RR.success({message:"\u0110\u0103ng k\xed l\u1ecbch h\u1eb9n",description:"\u0110\u0103ng k\xed l\u1ecbch h\u1eb9n th\xe0nh c\xf4ng"});const n=(e=>{let{address:t,cccd:n,gender:o,phonenumber:r}=e;return{address:t,cccd:n,gender:o,phonenumber:r}})(a);return n.birthday=a.birthday.$d,await(async(e,t)=>{const n=WA(Xb,"users/".concat(e)),o=await Bb(n);await wb(n,{...o.data(),...t})})(r.uid,n),RR.success({message:"C\u1eadp nh\u1eadt th\xf4ng tin",description:"C\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng"}),localStorage.removeItem("bookingState"),void t("/user/appointment/".concat(l.data.id_appointment),{state:{disabled:!0}})}}catch(Tie){console.error(Tie)}RR.error({message:"\u0110\u1eb7t l\u1ecbch h\u1eb9n",description:"L\u1ed7i h\u1ec7 th\u1ed1ng, \u0111ang ch\u1edd x\u1eed l\xed"})}else RR.error({message:"\u0110\u1eb7t l\u1ecbch h\u1eb9n",description:"Vui l\xf2ng \u0111\u0103ng nh\u1eadp t\xe0i kho\u1ea3n b\u1ec7nh nh\xe2n"})}})]})},b6=e=>{Se();return(0,et.jsxs)("div",{className:"BookApPage3",children:[(0,et.jsx)(K5,{current:2}),(0,et.jsx)(A6,{})]})},v6=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:o,lineWidth:r,textPaddingInline:a,orientationMargin:i,verticalMarginInline:l}=e;return{[t]:Object.assign(Object.assign({},ik(e)),{borderBlockStart:"".concat(Iy(r)," solid ").concat(o),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:l,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat(Iy(r)," solid ").concat(o)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat(Iy(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat(Iy(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(o),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat(Iy(r)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-left")]:{"&::before":{width:"calc(".concat(i," * 100%)")},"&::after":{width:"calc(100% - ".concat(i," * 100%)")}},["&-horizontal".concat(t,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(i," * 100%)")},"&::after":{width:"calc(".concat(i," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:o,borderStyle:"dashed",borderWidth:"".concat(Iy(r)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-left").concat(t,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:n}},["&-horizontal".concat(t,"-with-text-right").concat(t,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:n}}})}},y6=Uw("Divider",(e=>{const t=xw(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[v6(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var Z6=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const S6=t=>{const{getPrefixCls:n,direction:o,divider:r}=e.useContext(gv),{prefixCls:a,type:i="horizontal",orientation:l="center",orientationMargin:c,className:s,rootClassName:g,children:u,dashed:d,plain:I,style:C}=t,m=Z6(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),h=n("divider",a),[p,f,A]=y6(h),b=!!u,v="left"===l&&null!=c,y="right"===l&&null!=c,Z=BG()(h,null===r||void 0===r?void 0:r.className,f,A,"".concat(h,"-").concat(i),{["".concat(h,"-with-text")]:b,["".concat(h,"-with-text-").concat(l)]:b,["".concat(h,"-dashed")]:!!d,["".concat(h,"-plain")]:!!I,["".concat(h,"-rtl")]:"rtl"===o,["".concat(h,"-no-default-orientation-margin-left")]:v,["".concat(h,"-no-default-orientation-margin-right")]:y},s,g),S=e.useMemo((()=>"number"===typeof c?c:/^\d+$/.test(c)?Number(c):c),[c]),G=Object.assign(Object.assign({},v&&{marginLeft:S}),y&&{marginRight:S});return p(e.createElement("div",Object.assign({className:Z,style:Object.assign(Object.assign({},null===r||void 0===r?void 0:r.style),C)},m,{role:"separator"}),u&&"vertical"!==i&&e.createElement("span",{className:"".concat(h,"-inner-text"),style:G},u)))},G6=t=>{Se();const n=Ge(),[o,r]=(0,e.useState)({}),[a,i]=(0,e.useState)(!0);(0,e.useEffect)((()=>{const e=new AbortController;i(!0);return(async()=>{r(await Fb(n.userId)),i(!1)})(),()=>e.abort()}),[null===n||void 0===n?void 0:n.userId]);const l={host:"Ch\u1ee7 ph\xf2ng kh\xe1m",staff:"Nh\xe2n vi\xean",user:"Ng\u01b0\u1eddi d\xf9ng"};return(0,et.jsx)("div",{className:"UserProfilePage",children:(0,et.jsx)(m4,{tip:"Loading...",spinning:a,children:(0,et.jsx)("div",{className:"shawdow-user  tw-items-center  tw-mt-5 tw-p-8",children:(0,et.jsx)("div",{children:(0,et.jsx)(p6,{children:(0,et.jsx)(f6,{span:16,offset:4,className:"container-userprofile  tw-p-10 tw-shadow tw-shadow-slate-400  ",children:(0,et.jsxs)(p6,{className:"main-row",children:[(0,et.jsx)(f6,{span:6,children:(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/userProfile.jpg"),alt:"user",width:"150px",className:"tw-rounded-full tw-border-4 tw-border-gray-300"})}),(0,et.jsxs)(f6,{span:14,children:[" ",(0,et.jsx)(p6,{children:(0,et.jsxs)("div",{className:"tw-text-2xl tw-uppercase tw-font-bold",children:[" ",o.username]})}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsx)("div",{className:"tw-text-xl tw-text-[#06b6d4]",children:l[o.role]})," "]}),(0,et.jsx)(S6,{}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsxs)(f6,{className:"col-infor",span:12,children:["ID"," "]}),(0,et.jsxs)(f6,{span:12,className:"col-infor-2",children:[o.userId,"123"]})]}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsxs)(f6,{className:"col-infor",span:12,children:["H\u1ecd t\xean"," "]}),(0,et.jsx)(f6,{span:12,className:"col-infor-2",children:o.username})]}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsxs)(f6,{className:"col-infor",span:12,children:["Email"," "]}),(0,et.jsx)(f6,{span:12,className:"col-infor-2",children:o.email})]}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsxs)(f6,{className:"col-infor",span:12,children:["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"," "]}),(0,et.jsx)(f6,{span:12,className:"col-infor-2",children:"0932341123"})]}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsxs)(f6,{className:"col-infor",span:12,children:["Ch\u1ee9c v\u1ee5"," "]}),(0,et.jsx)(f6,{span:12,className:"col-infor-2",children:l[o.role]})]}),(0,et.jsxs)(p6,{children:[" ",(0,et.jsxs)(f6,{className:"col-infor",span:12,children:["T\u1ec9nh th\xe0nh"," "]}),(0,et.jsx)(f6,{span:12,className:"col-infor-2",children:null===o||void 0===o?void 0:o.province})]})]})]})})})})})})})};const B6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var k6=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:B6}))};const w6=e.forwardRef(k6);var R6=function(e){if(bv()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1},V6=function(e,t){if(!R6(e))return!1;var n=document.createElement("div"),o=n.style[e];return n.style[e]=t,n.style[e]!==o};function W6(e,t){return Array.isArray(e)||void 0===t?R6(e):V6(e,t)}var x6=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const X6={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},N6=e.forwardRef(((t,n)=>{const{style:o,noStyle:r,disabled:a,tabIndex:i=0}=t,l=x6(t,["style","noStyle","disabled","tabIndex"]);let c={};return r||(c=Object.assign({},X6)),a&&(c.pointerEvents="none"),c=Object.assign(Object.assign({},c),o),e.createElement("div",Object.assign({role:"button",tabIndex:i,ref:n},l,{onKeyDown:e=>{const{keyCode:t}=e;t===rw.ENTER&&e.preventDefault()},onKeyUp:e=>{const{keyCode:n}=e,{onClick:o}=t;n===rw.ENTER&&o&&o()},style:c}))})),J6=N6;const E6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};var H6=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:E6}))};const Y6=e.forwardRef(H6),F6=e=>({color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}),K6=e=>{const t={};return[1,2,3,4,5].forEach((n=>{t["\n      h".concat(n,"&,\n      div&-h").concat(n,",\n      div&-h").concat(n," > textarea,\n      h").concat(n,"\n    ")]=((e,t,n,o)=>{const{titleMarginBottom:r,fontWeightStrong:a}=o;return{marginBottom:r,color:n,fontWeight:a,fontSize:e,lineHeight:t}})(e["fontSizeHeading".concat(n)],e["lineHeightHeading".concat(n)],e.colorTextHeading,e)})),t},M6=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},F6(e)),{textDecoration:e.linkDecoration,"&:active, &:hover":{textDecoration:e.linkHoverDecoration},["&[disabled], &".concat(t,"-disabled")]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},L6=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:_S[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),T6=e=>{const{componentCls:t,paddingSM:n}=e,o=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(o).mul(-1).equal(),marginBottom:"calc(1em - ".concat(Iy(o),")")},["".concat(t,"-edit-content-confirm")]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},z6=e=>({["".concat(e.componentCls,"-copy-success")]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},["".concat(e.componentCls,"-copy-icon-only")]:{marginInlineStart:0}}),D6=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,["&".concat(t,"-secondary")]:{color:e.colorTextDescription},["&".concat(t,"-success")]:{color:e.colorSuccess},["&".concat(t,"-warning")]:{color:e.colorWarning},["&".concat(t,"-danger")]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},["&".concat(t,"-disabled")]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},K6(e)),{["\n      & + h1".concat(t,",\n      & + h2").concat(t,",\n      & + h3").concat(t,",\n      & + h4").concat(t,",\n      & + h5").concat(t,"\n      ")]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),L6(e)),M6(e)),{["\n        ".concat(t,"-expand,\n        ").concat(t,"-collapse,\n        ").concat(t,"-edit,\n        ").concat(t,"-copy\n      ")]:Object.assign(Object.assign({},F6(e)),{marginInlineStart:e.marginXXS})}),T6(e)),z6(e)),{"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),{"&-rtl":{direction:"rtl"}})}},O6=Uw("Typography",(e=>[D6(e)]),(()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}))),j6=t=>{const{prefixCls:n,"aria-label":o,className:r,style:a,direction:i,maxLength:l,autoSize:c=!0,value:s,onSave:g,onCancel:u,onEnd:d,component:I,enterIcon:C=e.createElement(Y6,null)}=t,m=e.useRef(null),h=e.useRef(!1),p=e.useRef(),[f,A]=e.useState(s);e.useEffect((()=>{A(s)}),[s]),e.useEffect((()=>{if(m.current&&m.current.resizableTextArea){const{textArea:e}=m.current.resizableTextArea;e.focus();const{length:t}=e.value;e.setSelectionRange(t,t)}}),[]);const b=()=>{g(f.trim())},v=I?"".concat(n,"-").concat(I):"",[y,Z,S]=O6(n),G=BG()(n,"".concat(n,"-edit-content"),{["".concat(n,"-rtl")]:"rtl"===i},r,v,Z,S);return y(e.createElement("div",{className:G,style:a},e.createElement(n_,{ref:m,maxLength:l,value:f,onChange:e=>{let{target:t}=e;A(t.value.replace(/[\n\r]/g,""))},onKeyDown:e=>{let{keyCode:t}=e;h.current||(p.current=t)},onKeyUp:e=>{let{keyCode:t,ctrlKey:n,altKey:o,metaKey:r,shiftKey:a}=e;p.current!==t||h.current||n||o||r||a||(t===rw.ENTER?(b(),null===d||void 0===d||d()):t===rw.ESC&&u())},onCompositionStart:()=>{h.current=!0},onCompositionEnd:()=>{h.current=!1},onBlur:()=>{b()},"aria-label":o,rows:1,autoSize:c}),null!==C?ZW(C,{className:"".concat(n,"-edit-content-confirm")}):null))};var U6=n(270),P6=n.n(U6),Q6=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(Tie){a(Tie)}}function l(e){try{c(o.throw(e))}catch(Tie){a(Tie)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))};const _6=t=>{let{copyConfig:n,children:o}=t;const[r,a]=e.useState(!1),[i,l]=e.useState(!1),c=e.useRef(null),s=()=>{c.current&&clearTimeout(c.current)},g={};n.format&&(g.format=n.format),e.useEffect((()=>s),[]);const u=jG((e=>Q6(void 0,void 0,void 0,(function*(){var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),l(!0);try{const r="function"===typeof n.text?yield n.text():n.text;P6()(r||String(o)||"",g),l(!1),a(!0),s(),c.current=setTimeout((()=>{a(!1)}),3e3),null===(t=n.onCopy)||void 0===t||t.call(n,e)}catch(r){throw l(!1),r}}))));return{copied:r,copyLoading:i,onClick:u}};function q6(t,n){return e.useMemo((()=>{const e=!!t;return[e,Object.assign(Object.assign({},n),e&&"object"===typeof t?t:null)]}),[t])}const $6=(t,n)=>{const o=e.useRef(!1);e.useEffect((()=>{o.current?t():o.current=!0}),n)},eee=t=>{const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t})),n.current};var tee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const nee=e.forwardRef(((t,n)=>{const{prefixCls:o,component:r="article",className:a,rootClassName:i,setContentRef:l,children:c,direction:s,style:g}=t,u=tee(t,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:I,typography:C}=e.useContext(gv),m=null!==s&&void 0!==s?s:I;let h=n;l&&(h=WG(n,l));const p=d("typography",o),[f,A,b]=O6(p),v=BG()(p,null===C||void 0===C?void 0:C.className,{["".concat(p,"-rtl")]:"rtl"===m},a,i,A,b),y=Object.assign(Object.assign({},null===C||void 0===C?void 0:C.style),g);return f(e.createElement(r,Object.assign({className:v,style:y,ref:h},u),c))}));const oee=nee;const ree={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var aee=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:ree}))};const iee=e.forwardRef(aee);function lee(e){return!1===e?[!1,!1]:Array.isArray(e)?e:[e]}function cee(e,t,n){return!0===e||void 0===e?t:e||n&&t}const see=t=>{const{prefixCls:n,copied:o,locale:r,iconOnly:a,tooltips:i,icon:l,loading:c,tabIndex:s,onCopy:g}=t,u=lee(i),d=lee(l),{copied:I,copy:C}=null!==r&&void 0!==r?r:{},m=o?cee(u[1],I):cee(u[0],C),h="string"===typeof m?m:o?I:C;return e.createElement(fN,{key:"copy",title:m},e.createElement(J6,{className:BG()("".concat(n,"-copy"),{["".concat(n,"-copy-success")]:o,["".concat(n,"-copy-icon-only")]:a}),onClick:g,"aria-label":h,tabIndex:s},o?cee(d[1],e.createElement(yO,null),!0):cee(d[0],c?e.createElement(nw,null):e.createElement(iee,null),!0)))},gee=e.forwardRef(((t,n)=>{let{style:o,children:r}=t;const a=e.useRef(null);return e.useImperativeHandle(n,(()=>({isExceed:()=>{const e=a.current;return e.scrollHeight>e.clientHeight},getHeight:()=>a.current.clientHeight}))),e.createElement("span",{"aria-hidden":!0,ref:a,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},o)},r)}));function uee(e){const t=typeof e;return"string"===t||"number"===t}function dee(e,t){let n=0;const o=[];for(let r=0;r<e.length;r+=1){if(n===t)return o;const a=e[r],i=n+(uee(a)?String(a).length:1);if(i>t){const e=t-n;return o.push(String(a).slice(0,e)),o}o.push(a),n=i}return e}const Iee={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function Cee(t){const{enableMeasure:n,width:o,text:r,children:a,rows:i,expanded:l,miscDeps:c,onEllipsis:s}=t,g=e.useMemo((()=>OR(r)),[r]),u=e.useMemo((()=>function(e){let t=0;return e.forEach((e=>{uee(e)?t+=String(e).length:t+=1})),t}(g)),[r]),d=e.useMemo((()=>a(g,!1)),[r]),[I,C]=e.useState(null),m=e.useRef(null),h=e.useRef(null),p=e.useRef(null),f=e.useRef(null),[A,b]=e.useState(!1),[v,y]=e.useState(0),[Z,S]=e.useState(0);vy((()=>{y(n&&o&&u?1:0)}),[o,r,i,n,g]),vy((()=>{var e,t,n,o;if(1===v){const r=!!(null===(e=h.current)||void 0===e?void 0:e.isExceed());y(r?2:3),C(r?[0,u]:null),b(r);const a=(null===(t=h.current)||void 0===t?void 0:t.getHeight())||0,l=(1===i?0:(null===(n=p.current)||void 0===n?void 0:n.getHeight())||0)+((null===(o=f.current)||void 0===o?void 0:o.getHeight())||0),c=Math.max(a,l);S(c+1),s(r)}}),[v]);const G=I?Math.ceil((I[0]+I[1])/2):0;vy((()=>{var e;const[t,n]=I||[0,0];if(t!==n){const o=((null===(e=m.current)||void 0===e?void 0:e.getHeight())||0)>Z;let r=G;n-t===1&&(r=o?t:n),C(o?[t,r]:[r,n])}}),[I,G]);const B=e.useMemo((()=>{if(2!==v||!I||I[0]!==I[1]){const t=a(g,!1);return 3!==v&&0!==v?e.createElement("span",{style:Object.assign(Object.assign({},Iee),{WebkitLineClamp:i})},t):t}return a(l?g:dee(g,I[0]),A)}),[l,v,I,g].concat(fv(c))),k={width:o,whiteSpace:"normal",margin:0,padding:0};return e.createElement(e.Fragment,null,B,1===v&&e.createElement(e.Fragment,null,e.createElement(gee,{style:Object.assign(Object.assign(Object.assign({},k),Iee),{WebkitLineClamp:i}),ref:h},d),e.createElement(gee,{style:Object.assign(Object.assign(Object.assign({},k),Iee),{WebkitLineClamp:i-1}),ref:p},d),e.createElement(gee,{style:Object.assign(Object.assign(Object.assign({},k),Iee),{WebkitLineClamp:1}),ref:f},a([],!0))),2===v&&I&&I[0]!==I[1]&&e.createElement(gee,{style:Object.assign(Object.assign({},k),{top:400}),ref:m},a(dee(g,G),!0)))}const mee=t=>{let{enableEllipsis:n,isEllipsis:o,children:r,tooltipProps:a}=t;return(null===a||void 0===a?void 0:a.title)&&n?e.createElement(fN,Object.assign({open:!!o&&void 0},a),r):r};var hee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const pee=e.forwardRef(((t,n)=>{var o,r,a;const{prefixCls:i,className:l,style:c,type:s,disabled:g,children:u,ellipsis:d,editable:I,copyable:C,component:m,title:h}=t,p=hee(t,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:f,direction:A}=e.useContext(gv),[b]=rz("Text"),v=e.useRef(null),y=e.useRef(null),Z=f("typography",i),S=cW(p,["mark","code","delete","underline","strong","keyboard","italic"]),[G,B]=q6(I),[k,w]=QG(!1,{value:B.editing}),{triggerType:R=["icon"]}=B,V=e=>{var t;e&&(null===(t=B.onStart)||void 0===t||t.call(B)),w(e)},W=eee(k);$6((()=>{var e;!k&&W&&(null===(e=y.current)||void 0===e||e.focus())}),[k]);const x=e=>{null===e||void 0===e||e.preventDefault(),V(!0)},X=e=>{var t;null===(t=B.onChange)||void 0===t||t.call(B,e),V(!1)},N=()=>{var e;null===(e=B.onCancel)||void 0===e||e.call(B),V(!1)},[J,E]=q6(C),{copied:H,copyLoading:Y,onClick:F}=_6({copyConfig:E,children:u}),[K,M]=e.useState(!1),[L,T]=e.useState(!1),[z,D]=e.useState(!1),[O,j]=e.useState(!1),[U,P]=e.useState(!0),[Q,_]=q6(d,{expandable:!1,symbol:e=>e?null===b||void 0===b?void 0:b.collapse:null===b||void 0===b?void 0:b.expand}),[q,$]=QG(_.defaultExpanded||!1,{value:_.expanded}),ee=Q&&(!q||"collapsible"===_.expandable),{rows:te=1}=_,ne=e.useMemo((()=>ee&&(void 0!==_.suffix||_.onEllipsis||_.expandable||G||J)),[ee,_,G,J]);vy((()=>{Q&&!ne&&(M(W6("webkitLineClamp")),T(W6("textOverflow")))}),[ne,Q]);const[oe,re]=e.useState(ee),ae=e.useMemo((()=>!ne&&(1===te?L:K)),[ne,L,K]);vy((()=>{re(ae&&ee)}),[ae,ee]);const ie=ee&&(oe?O:z),le=ee&&1===te&&oe,ce=ee&&te>1&&oe,[se,ge]=e.useState(0),ue=e=>{var t;D(e),z!==e&&(null===(t=_.onEllipsis)||void 0===t||t.call(_,e))};e.useEffect((()=>{const e=v.current;if(Q&&oe&&e){const t=ce?e.offsetHeight<e.scrollHeight:e.offsetWidth<e.scrollWidth;O!==t&&j(t)}}),[Q,oe,u,ce,U,se]),e.useEffect((()=>{const e=v.current;if("undefined"===typeof IntersectionObserver||!e||!oe||!ee)return;const t=new IntersectionObserver((()=>{P(!!e.offsetParent)}));return t.observe(e),()=>{t.disconnect()}}),[oe,ee]);let de={};de=!0===_.tooltip?{title:null!==(o=B.text)&&void 0!==o?o:u}:e.isValidElement(_.tooltip)?{title:_.tooltip}:"object"===typeof _.tooltip?Object.assign({title:null!==(r=B.text)&&void 0!==r?r:u},_.tooltip):{title:_.tooltip};const Ie=e.useMemo((()=>{const e=e=>["string","number"].includes(typeof e);if(Q&&!oe)return e(B.text)?B.text:e(u)?u:e(h)?h:e(de.title)?de.title:void 0}),[Q,oe,h,de.title,ie]);if(k)return e.createElement(j6,{value:null!==(a=B.text)&&void 0!==a?a:"string"===typeof u?u:"",onSave:X,onCancel:N,onEnd:B.onEnd,prefixCls:Z,className:l,style:c,direction:A,component:m,maxLength:B.maxLength,autoSize:B.autoSize,enterIcon:B.enterIcon});const Ce=()=>{const{expandable:t,symbol:n}=_;return t?q&&"collapsible"!==t?null:e.createElement("a",{key:"expand",className:"".concat(Z,"-").concat(q?"collapse":"expand"),onClick:e=>((e,t)=>{var n;$(t.expanded),null===(n=_.onExpand)||void 0===n||n.call(_,e,t)})(e,{expanded:!q}),"aria-label":q?b.collapse:null===b||void 0===b?void 0:b.expand},"function"===typeof n?n(q):n):null},me=()=>{if(!G)return;const{icon:t,tooltip:n,tabIndex:o}=B,r=OR(n)[0]||(null===b||void 0===b?void 0:b.edit),a="string"===typeof r?r:"";return R.includes("icon")?e.createElement(fN,{key:"edit",title:!1===n?"":r},e.createElement(J6,{ref:y,className:"".concat(Z,"-edit"),onClick:x,"aria-label":a,tabIndex:o},t||e.createElement(w6,{role:"button"}))):null},he=t=>[t&&Ce(),me(),J?e.createElement(see,Object.assign({key:"copy"},E,{prefixCls:Z,copied:H,locale:b,onCopy:F,loading:Y,iconOnly:null===u||void 0===u})):null];return e.createElement(ZV,{onResize:e=>{let{offsetWidth:t}=e;ge(t)},disabled:!ee},(o=>e.createElement(mee,{tooltipProps:de,enableEllipsis:ee,isEllipsis:ie},e.createElement(oee,Object.assign({className:BG()({["".concat(Z,"-").concat(s)]:s,["".concat(Z,"-disabled")]:g,["".concat(Z,"-ellipsis")]:Q,["".concat(Z,"-single-line")]:ee&&1===te&&!q,["".concat(Z,"-ellipsis-single-line")]:le,["".concat(Z,"-ellipsis-multiple-line")]:ce},l),prefixCls:i,style:Object.assign(Object.assign({},c),{WebkitLineClamp:ce?te:void 0}),component:m,ref:WG(o,v,n),direction:A,onClick:R.includes("text")?x:void 0,"aria-label":null===Ie||void 0===Ie?void 0:Ie.toString(),title:h},S),e.createElement(Cee,{enableMeasure:ee&&!oe,text:u,rows:te,width:se,onEllipsis:ue,expanded:q,miscDeps:[H,q,Y,G,J]},((n,o)=>function(t,n){let{mark:o,code:r,underline:a,delete:i,strong:l,keyboard:c,italic:s}=t,g=n;function u(t,n){n&&(g=e.createElement(t,{},g))}return u("strong",l),u("u",a),u("del",i),u("code",r),u("mark",o),u("kbd",c),u("i",s),g}(t,e.createElement(e.Fragment,null,n.length>0&&o&&!q&&Ie?e.createElement("span",{key:"show-content","aria-hidden":!0},n):n,(t=>[t&&!q&&e.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),_.suffix,he(t)])(o)))))))))})),fee=pee;var Aee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const bee=e.forwardRef(((t,n)=>{var{ellipsis:o,rel:r}=t,a=Aee(t,["ellipsis","rel"]);const i=Object.assign(Object.assign({},a),{rel:void 0===r&&"_blank"===a.target?"noopener noreferrer":r});return delete i.navigate,e.createElement(fee,Object.assign({},i,{ref:n,ellipsis:!!o,component:"a"}))})),vee=bee,yee=e.forwardRef(((t,n)=>e.createElement(fee,Object.assign({ref:n},t,{component:"div"}))));var Zee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const See=(t,n)=>{var{ellipsis:o}=t,r=Zee(t,["ellipsis"]);const a=e.useMemo((()=>o&&"object"===typeof o?cW(o,["expandable","rows"]):o),[o]);return e.createElement(fee,Object.assign({ref:n},r,{ellipsis:a,component:"span"}))},Gee=e.forwardRef(See);var Bee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const kee=[1,2,3,4,5],wee=e.forwardRef(((t,n)=>{const{level:o=1}=t,r=Bee(t,["level"]);let a;return a=kee.includes(o)?"h".concat(o):"h1",e.createElement(fee,Object.assign({ref:n},r,{component:a}))})),Ree=oee;Ree.Text=Gee,Ree.Link=vee,Ree.Title=wee,Ree.Paragraph=yee;const Vee=Ree,Wee=t=>{var n;let{staffId:o}=t;const r=Se(),[a,i]=(0,e.useState)({}),[l,c]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const[e,t]=await Promise.all([Eb(o),fz("POST","https://pharma-track-be.onrender.com/api/v1/staff/staffByID",{id_staff:o})]);c(!1),i({...e,...t[0]})}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[o,r]),(0,et.jsx)("div",{className:"StaffProfilePage tw-flex tw-flex-col tw-items-center",children:(0,et.jsx)(m4,{tip:"Loading...",spinning:l,children:(0,et.jsxs)("div",{className:"StaffCardContainer",children:[(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/dogtor.png"),alt:"dogtor",style:{borderRadius:"9999px",border:"solid 4px #e1e1e1",width:"170px",marginBottom:"16px"}}),(0,et.jsx)(Vee.Title,{level:2,style:{margin:0},children:a.name}),(0,et.jsx)(Vee.Title,{level:5,style:{margin:0,marginTop:"8px"},children:a.type}),(0,et.jsxs)(Vee.Title,{level:5,italic:!0,style:{margin:"8px 0"},children:["M\xe3 nh\xe2n vi\xean: ",null===a||void 0===a||null===(n=a.id_staff)||void 0===n?void 0:n.substring(0,8).concat("...")]}),(0,et.jsx)(AE,{type:"default",onClick:()=>navigator.clipboard.writeText(a.id_staff),className:"tw-mt-4",children:"Sao ch\xe9p ID"}),(0,et.jsx)(S6,{}),(0,et.jsxs)("div",{style:{width:"67%"},children:[(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),(0,et.jsx)(f6,{span:12,children:null===a||void 0===a?void 0:a.number})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"T\u1ec9nh/th\xe0nh ph\u1ed1:"}),(0,et.jsx)(f6,{span:12,children:null===a||void 0===a?void 0:a.province})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"Khoa:"}),(0,et.jsx)(f6,{span:12,children:null===a||void 0===a?void 0:a.department})]})]})]})})})};var xee,Xee=Object.defineProperty,Nee=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,Hee=(e,t,n)=>t in e?Xee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yee=(e,t)=>{for(var n in t||(t={}))Jee.call(t,n)&&Hee(e,n,t[n]);if(Nee)for(var n of Nee(t))Eee.call(t,n)&&Hee(e,n,t[n]);return e},Fee=(e,t)=>{var n={};for(var o in e)Jee.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&Nee)for(var o of Nee(e))t.indexOf(o)<0&&Eee.call(e,o)&&(n[o]=e[o]);return n};(e=>{const t=class{constructor(e,n,o,r){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let t=0;t<this.size;t++)i.push(!1);for(let t=0;t<this.size;t++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const l=this.addEccAndInterleave(o);if(this.drawCodewords(l),-1==r){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(r=t,e=n),this.applyMask(t)}}a(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}static encodeText(n,o){const r=e.QrSegment.makeSegments(n);return t.encodeSegments(r,o)}static encodeBinary(n,o){const r=e.QrSegment.makeBytes(n);return t.encodeSegments([r],o)}static encodeSegments(e,n){let r,i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=c&&c<=s&&s<=t.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");for(r=c;;r++){const o=8*t.getNumDataCodewords(r,n),a=l.getTotalBits(e,r);if(a<=o){i=a;break}if(r>=s)throw new RangeError("Data too long")}for(const o of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&i<=8*t.getNumDataCodewords(r,o)&&(n=o);let d=[];for(const t of e){o(t.mode.modeBits,4,d),o(t.numChars,t.mode.numCharCountBits(r),d);for(const e of t.getData())d.push(e)}a(d.length==i);const I=8*t.getNumDataCodewords(r,n);a(d.length<=I),o(0,Math.min(4,I-d.length),d),o(0,(8-d.length%8)%8,d),a(d.length%8==0);for(let t=236;d.length<I;t^=253)o(t,8,d);let C=[];for(;8*C.length<d.length;)C.push(0);return d.forEach(((e,t)=>C[t>>>3]|=e<<7-(7&t))),new t(r,n,C,g)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let o=0;o<t;o++)0==n&&0==o||0==n&&o==t-1||n==t-1&&0==o||this.drawAlignmentPattern(e[n],e[o]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let r=0;r<10;r++)n=n<<1^1335*(n>>>9);const o=21522^(t<<10|n);a(o>>>15==0);for(let a=0;a<=5;a++)this.setFunctionModule(8,a,r(o,a));this.setFunctionModule(8,7,r(o,6)),this.setFunctionModule(8,8,r(o,7)),this.setFunctionModule(7,8,r(o,8));for(let a=9;a<15;a++)this.setFunctionModule(14-a,8,r(o,a));for(let a=0;a<8;a++)this.setFunctionModule(this.size-1-a,8,r(o,a));for(let a=8;a<15;a++)this.setFunctionModule(8,this.size-15+a,r(o,a));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;a(t>>>18==0);for(let n=0;n<18;n++){const e=r(t,n),o=this.size-11+n%3,a=Math.floor(n/3);this.setFunctionModule(o,a,e),this.setFunctionModule(a,o,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let o=-4;o<=4;o++){const r=Math.max(Math.abs(o),Math.abs(n)),a=e+o,i=t+n;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=r&&4!=r)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let o=-2;o<=2;o++)this.setFunctionModule(e+o,t+n,1!=Math.max(Math.abs(o),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,o=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,o))throw new RangeError("Invalid argument");const r=t.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][n],i=t.ECC_CODEWORDS_PER_BLOCK[o.ordinal][n],l=Math.floor(t.getNumRawDataModules(n)/8),c=r-l%r,s=Math.floor(l/r);let g=[];const u=t.reedSolomonComputeDivisor(i);for(let a=0,I=0;a<r;a++){let n=e.slice(I,I+s-i+(a<c?0:1));I+=n.length;const o=t.reedSolomonComputeRemainder(n,u);a<c&&n.push(0),g.push(n.concat(o))}let d=[];for(let t=0;t<g[0].length;t++)g.forEach(((e,n)=>{(t!=s-i||n>=c)&&d.push(e[t])}));return a(d.length==l),d}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let o=0;o<this.size;o++)for(let a=0;a<2;a++){const i=t-a,l=0==(t+1&2)?this.size-1-o:o;!this.isFunction[l][i]&&n<8*e.length&&(this.modules[l][i]=r(e[n>>>3],7-(7&n)),n++)}}a(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let o;switch(e){case 0:o=(n+t)%2==0;break;case 1:o=t%2==0;break;case 2:o=n%3==0;break;case 3:o=(n+t)%3==0;break;case 4:o=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:o=n*t%2+n*t%3==0;break;case 6:o=(n*t%2+n*t%3)%2==0;break;case 7:o=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&o&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let a=0;a<this.size;a++){let n=!1,o=0,r=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[a][i]==n?(o++,5==o?e+=t.PENALTY_N1:o>5&&e++):(this.finderPenaltyAddHistory(o,r),n||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),n=this.modules[a][i],o=1);e+=this.finderPenaltyTerminateAndCount(n,o,r)*t.PENALTY_N3}for(let a=0;a<this.size;a++){let n=!1,o=0,r=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][a]==n?(o++,5==o?e+=t.PENALTY_N1:o>5&&e++):(this.finderPenaltyAddHistory(o,r),n||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),n=this.modules[i][a],o=1);e+=this.finderPenaltyTerminateAndCount(n,o,r)*t.PENALTY_N3}for(let a=0;a<this.size-1;a++)for(let n=0;n<this.size-1;n++){const o=this.modules[a][n];o==this.modules[a][n+1]&&o==this.modules[a+1][n]&&o==this.modules[a+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const o=this.size*this.size,r=Math.ceil(Math.abs(20*n-10*o)/o)-1;return a(0<=r&&r<=9),e+=r*t.PENALTY_N4,a(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let o=this.size-7;n.length<e;o-=t)n.splice(1,0,o);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return a(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let o=1;for(let r=0;r<e;r++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],o),e+1<n.length&&(n[e]^=n[e+1]);o=t.reedSolomonMultiply(o,2)}return n}static reedSolomonComputeRemainder(e,n){let o=n.map((e=>0));for(const r of e){const e=r^o.shift();o.push(0),n.forEach(((n,r)=>o[r]^=t.reedSolomonMultiply(n,e)))}return o}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let o=7;o>=0;o--)n=n<<1^285*(n>>>7),n^=(t>>>o&1)*e;return a(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];a(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let n=t;function o(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let o=t-1;o>=0;o--)n.push(e>>>o&1)}function r(e,t){return 0!=(e>>>t&1)}function a(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;const i=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)o(n,8,t);return new i(i.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!i.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){const r=Math.min(e.length-n,3);o(parseInt(e.substr(n,r),10),3*r+1,t),n+=r}return new i(i.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!i.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,n=[];for(t=0;t+2<=e.length;t+=2){let r=45*i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));r+=i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),o(r,11,n)}return t<e.length&&o(i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,n),new i(i.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:i.isNumeric(e)?[i.makeNumeric(e)]:i.isAlphanumeric(e)?[i.makeAlphanumeric(e)]:[i.makeBytes(i.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)o(e,8,t);else if(e<16384)o(2,2,t),o(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");o(6,3,t),o(e,21,t)}return new i(i.Mode.ECI,0,t)}static isNumeric(e){return i.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return i.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const o of e){const e=o.mode.numCharCountBits(t);if(o.numChars>=1<<e)return 1/0;n+=4+e+o.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let l=i;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(xee||(xee={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n})(t=e.QrCode||(e.QrCode={}))})(xee||(xee={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n})(t=e.QrSegment||(e.QrSegment={}))})(xee||(xee={}));var Kee=xee,Mee={L:Kee.QrCode.Ecc.LOW,M:Kee.QrCode.Ecc.MEDIUM,Q:Kee.QrCode.Ecc.QUARTILE,H:Kee.QrCode.Ecc.HIGH},Lee=128,Tee="L",zee="#FFFFFF",Dee="#000000",Oee=!1,jee=4,Uee=.1;function Pee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,o){let r=null;e.forEach((function(a,i){if(!a&&null!==r)return n.push("M".concat(r+t," ").concat(o+t,"h").concat(i-r,"v1H").concat(r+t,"z")),void(r=null);if(i!==e.length-1)a&&null===r&&(r=i);else{if(!a)return;null===r?n.push("M".concat(i+t,",").concat(o+t," h1v1H").concat(i+t,"z")):n.push("M".concat(r+t,",").concat(o+t," h").concat(i+1-r,"v1H").concat(r+t,"z"))}}))})),n.join("")}function Qee(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function _ee(e,t,n,o){if(null==o)return null;const r=n?jee:0,a=e.length+2*r,i=Math.floor(t*Uee),l=a/t,c=(o.width||i)*l,s=(o.height||i)*l,g=null==o.x?e.length/2-c/2:o.x*l,u=null==o.y?e.length/2-s/2:o.y*l;let d=null;if(o.excavate){let e=Math.floor(g),t=Math.floor(u);d={x:e,y:t,w:Math.ceil(c+g-e),h:Math.ceil(s+u-t)}}return{x:g,y:u,h:s,w:c,excavation:d}}var qee=function(){try{(new Path2D).addPath(new Path2D)}catch(Tie){return!1}return!0}();function $ee(t){const n=t,{value:o,size:r=Lee,level:a=Tee,bgColor:i=zee,fgColor:l=Dee,includeMargin:c=Oee,style:s,imageSettings:g}=n,u=Fee(n,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=null==g?void 0:g.src,I=(0,e.useRef)(null),C=(0,e.useRef)(null),[m,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{if(null!=I.current){const e=I.current,t=e.getContext("2d");if(!t)return;let n=Kee.QrCode.encodeText(o,Mee[a]).getModules();const s=c?jee:0,u=n.length+2*s,d=_ee(n,r,c,g),m=C.current,h=null!=d&&null!==m&&m.complete&&0!==m.naturalHeight&&0!==m.naturalWidth;h&&null!=d.excavation&&(n=Qee(n,d.excavation));const p=window.devicePixelRatio||1;e.height=e.width=r*p;const f=r/u*p;t.scale(f,f),t.fillStyle=i,t.fillRect(0,0,u,u),t.fillStyle=l,qee?t.fill(new Path2D(Pee(n,s))):n.forEach((function(e,n){e.forEach((function(e,o){e&&t.fillRect(o+s,n+s,1,1)}))})),h&&t.drawImage(m,d.x+s,d.y+s,d.w,d.h)}})),(0,e.useEffect)((()=>{h(!1)}),[d]);const p=Yee({height:r,width:r},s);let f=null;return null!=d&&(f=e.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{h(!0)},ref:C})),e.createElement(e.Fragment,null,e.createElement("canvas",Yee({style:p,height:r,width:r,ref:I},u)),f)}function ete(t){const n=t,{value:o,size:r=Lee,level:a=Tee,bgColor:i=zee,fgColor:l=Dee,includeMargin:c=Oee,imageSettings:s}=n,g=Fee(n,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Kee.QrCode.encodeText(o,Mee[a]).getModules();const d=c?jee:0,I=u.length+2*d,C=_ee(u,r,c,s);let m=null;null!=s&&null!=C&&(null!=C.excavation&&(u=Qee(u,C.excavation)),m=e.createElement("image",{xlinkHref:s.src,height:C.h,width:C.w,x:C.x+d,y:C.y+d,preserveAspectRatio:"none"}));const h=Pee(u,d);return e.createElement("svg",Yee({height:r,width:r,viewBox:"0 0 ".concat(I," ").concat(I)},g),e.createElement("path",{fill:i,d:"M0,0 h".concat(I,"v").concat(I,"H0z"),shapeRendering:"crispEdges"}),e.createElement("path",{fill:l,d:h,shapeRendering:"crispEdges"}),m)}var tte=t=>{const n=t,{renderAs:o}=n,r=Fee(n,["renderAs"]);return"svg"===o?e.createElement(ete,Yee({},r)):e.createElement($ee,Yee({},r))};const nte=t=>{var n,o;Se();const{state:r}=ye(),a=(null===r||void 0===r?void 0:r.disabled)||!1,{user:i}=A((e=>e.authentication)),l=Ge(),[c,s]=(0,e.useState)(""),[g,u]=(0,e.useState)({}),[d,I]=(0,e.useState)({}),[C,m]=(0,e.useState)({}),[h,p]=(0,e.useState)({}),[f,b]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=new AbortController;s(JSON.stringify({id_appointment:l.appointmentId})),b(!0);return(async()=>{try{const e=await fz("GET","https://pharma-track-be.onrender.com/api/v1/appointment/id_appointment",{id_appointment:l.appointmentId});u(e[0]),b(!1)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[l.appointmentId]),(0,e.useEffect)((()=>{const e=new AbortController;b(!0);return(async()=>{try{var e;const[n,o,r]=await Promise.all([Fb(g.id_user),fz("POST","https://pharma-track-be.onrender.com/api/v1/staff/staffByID",{id_staff:g.id_staff}),fz("POST","https://pharma-track-be.onrender.com/api/v1/clinic/id_clinic",{id_clinic:g.id_clinic})]);var t=new Date(1970,0,1);t.setSeconds(null===n||void 0===n||null===(e=n.birthday)||void 0===e?void 0:e.seconds),n.birthday=t.toLocaleDateString("en-GB"),I(n),m(o[0]),p(r[0]),b(!1)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[g]);return(0,et.jsxs)("div",{className:"AppointmentProfilePage tw-flex tw-flex-col tw-items-center tw-mb-8",children:[!a&&(0,et.jsx)(p1,{className:"tw-ml-20"}),(0,et.jsx)(m4,{spinning:f,children:(0,et.jsxs)("div",{className:"tw-flex tw-flex-row tw-m-8",children:["user"===i.role?(0,et.jsxs)("div",{className:"profile-container tw-shadow tw-shadow-slate-400 tw-p-8 tw-flex tw-flex-col tw-items-center tw-bg-slate-50 tw-justify-around",children:[(0,et.jsx)("div",{className:"tw-text-2xl tw-font-bold tw-mb-4",children:"Th\xf4ng tin ph\xf2ng kh\xe1m"}),(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/clinic real img.jpg"),alt:"clinic real img",width:"90px",className:"tw-mb-4"}),(0,et.jsx)("div",{className:"tw-text-3xl",children:null===h||void 0===h?void 0:h.name_clinic})]}),(0,et.jsx)(S6,{}),(0,et.jsxs)("div",{className:"tw-text-xl tw-w-fit",children:[(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"T\xean ch\u1ee7 ph\xf2ng kh\xe1m: "}),(0,et.jsx)(f6,{span:12,children:null===h||void 0===h?void 0:h.name_doctor})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m: "}),(0,et.jsx)(f6,{span:12,children:"".concat(null===h||void 0===h?void 0:h.address,", ").concat(null===h||void 0===h?void 0:h.ward,", ").concat(null===h||void 0===h?void 0:h.city,", ").concat(null===h||void 0===h?void 0:h.province)})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"Tr\u1ea1ng th\xe1i: "}),(0,et.jsx)(f6,{span:12,children:null!==h&&void 0!==h&&h.status_clinic?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"\u0110ang ch\u1edd x\xe9t duy\u1ec7t"})]})]})]}):(0,et.jsxs)("div",{className:"tw-ml-8 tw-shadow tw-shadow-slate-400 tw-p-8 tw-flex tw-flex-row  tw-bg-slate-50 tw-items-center",children:[(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-justify-around",children:[(0,et.jsx)("div",{className:"tw-text-2xl tw-font-bold tw-mb-4",children:"Th\xf4ng tin b\u1ec7nh nh\xe2n"}),(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/userProfile.jpg"),alt:"dogtor",style:{borderRadius:"9999px",border:"solid 4px #e1e1e1",width:"170px",marginBottom:"16px"}}),(0,et.jsx)(Vee.Title,{level:2,style:{margin:0},children:null===d||void 0===d?void 0:d.username}),(0,et.jsxs)(Vee.Title,{level:5,style:{margin:"8px 0"},children:["M\xe3 \u0111\u1eb7t ch\u1ed7:"," ",null===l||void 0===l||null===(n=l.appointmentId)||void 0===n?void 0:n.substring(0,8).concat("...")]}),(0,et.jsx)(AE,{type:"default",onClick:()=>navigator.clipboard.writeText(l.appointmentId),children:"Sao ch\xe9p m\xe3 \u0111\u1eb7t ch\u1ed7"})]}),(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-ml-8",children:[(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),(0,et.jsx)(f6,{span:12,children:null===d||void 0===d?void 0:d.phonenumber})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"Gi\u1edbi t\xednh:"}),(0,et.jsx)(f6,{span:12,children:null===d||void 0===d?void 0:d.gender})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"\u0110\u1ecba ch\u1ec9:"}),(0,et.jsx)(f6,{span:12,children:null===d||void 0===d?void 0:d.address})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"C\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n:"}),(0,et.jsx)(f6,{span:12,children:null===d||void 0===d?void 0:d.cccd})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"Ng\xe0y sinh:"}),(0,et.jsx)(f6,{span:12,children:null===d||void 0===d?void 0:d.birthday})]})]})]}),(0,et.jsxs)("div",{className:"profile-container tw-ml-8 tw-shadow tw-shadow-slate-400 tw-p-8 tw-flex tw-flex-col tw-items-center tw-bg-slate-50 tw-justify-around",children:[(0,et.jsx)("div",{className:"tw-text-2xl tw-font-bold tw-mb-4",children:"Th\xf4ng tin b\xe1c s\u0129"}),(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/dogtor.png"),alt:"dogtor",style:{borderRadius:"9999px",border:"solid 4px #e1e1e1",width:"170px",marginBottom:"16px"}}),(0,et.jsx)(Vee.Title,{level:2,style:{margin:0},children:null===C||void 0===C?void 0:C.name}),(0,et.jsx)(Vee.Title,{level:5,style:{margin:0,marginTop:"8px"},children:null===C||void 0===C?void 0:C.type}),"staff"===i.role?(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[(0,et.jsxs)(Vee.Title,{level:5,style:{margin:"8px 0"},children:["M\xe3 nh\xe2n vi\xean:"," ",null===C||void 0===C||null===(o=C.id_staff)||void 0===o?void 0:o.substring(0,8).concat("...")]}),(0,et.jsx)(AE,{type:"default",onClick:()=>navigator.clipboard.writeText(C.id_staff),children:"Sao ch\xe9p ID"})]}):(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-w-full",children:[(0,et.jsx)(S6,{}),(0,et.jsxs)("div",{className:"tw-text-base",children:["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: ",null===C||void 0===C?void 0:C.number]}),(0,et.jsxs)("div",{className:"tw-text-base",children:["Khoa: ",null===C||void 0===C?void 0:C.department]})]})]}),"user"===i.role&&(0,et.jsxs)("div",{className:"profile-container tw-ml-8 tw-shadow tw-shadow-slate-400 tw-p-8 tw-flex tw-flex-col tw-items-center tw-bg-slate-50 tw-justify-around",children:[(0,et.jsx)("div",{className:"tw-text-2xl tw-font-bold tw-mb-4",children:"M\xe3 QR"}),(0,et.jsx)(tte,{id:"qr-gen",value:c,size:250,level:"H",includeMargin:!0}),(0,et.jsxs)(AE,{type:"primary",onClick:async()=>{const e=document.getElementById("qr-gen").toDataURL("image/png").replace("image/png","image/octet-stream");let t=document.createElement("a");t.href=e,t.download="".concat(l.appointmentId,".png"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"tw-mt-5  QR-btn",children:[(0,et.jsx)(u1,{icon:I1}),(0,et.jsx)("div",{className:"tw-ml-2",children:"T\u1ea3i v\u1ec1"})]})]})]})})]})};var ote=n(309),rte=n.n(ote);const ate=e=>{const t=Se(),{user:n}=A((e=>e.authentication));return(0,et.jsx)("div",{className:"QrScanPage tw-flex tw-flex-col tw-items-center",children:(0,et.jsx)(rte(),{delay:300,onScan:e=>{try{const o=e&&JSON.parse(null===e||void 0===e?void 0:e.text);null!==o&&void 0!==o&&o.id_appointment&&(RR.success({message:"Qu\xe9t QR",description:"Qu\xe9t QR th\xe0nh c\xf4ng"}),t("/".concat(n.role,"/appointment/").concat(o.id_appointment)))}catch(Tie){RR.error({message:"Qu\xe9t QR",description:"M\xe3 QR sai"})}},onError:e=>console.error(e),className:"tw-mt-5"})})},ite=e=>e?"function"===typeof e?e():e:null,lte=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:o,fontWeightStrong:r,innerPadding:a,boxShadowSecondary:i,colorTextHeading:l,borderRadiusLG:c,zIndexPopup:s,titleMarginBottom:g,colorBgElevated:u,popoverBg:d,titleBorderBottom:I,innerContentPadding:C,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},ik(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:s,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":u,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:c,boxShadow:i,padding:a},["".concat(t,"-title")]:{minWidth:o,marginBottom:g,color:l,fontWeight:r,borderBottom:I,padding:m},["".concat(t,"-inner-content")]:{color:n,padding:C}})},CW(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},cte=e=>{const{componentCls:t}=e;return{[t]:lN.map((n=>{const o=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":o,["".concat(t,"-inner")]:{backgroundColor:o},["".concat(t,"-arrow")]:{background:"transparent"}}}}))}},ste=Uw("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,o=xw(e,{popoverBg:t,popoverColor:n});return[lte(o),cte(o),iN(o,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:o,padding:r,wireframe:a,zIndexPopupBase:i,borderRadiusLG:l,marginXS:c,lineType:s,colorSplit:g,paddingSM:u}=e,d=n-o,I=d/2,C=d/2-t,m=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:i+30},sW(e)),dW({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:c,titlePadding:a?"".concat(I,"px ").concat(m,"px ").concat(C,"px"):0,titleBorderBottom:a?"".concat(t,"px ").concat(s," ").concat(g):"none",innerContentPadding:a?"".concat(u,"px ").concat(m,"px"):0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var gte=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const ute=t=>{const{hashId:n,prefixCls:o,className:r,style:a,placement:i="top",title:l,content:c,children:s}=t;return e.createElement("div",{className:BG()(n,o,"".concat(o,"-pure"),"".concat(o,"-placement-").concat(i),r),style:a},e.createElement("div",{className:"".concat(o,"-arrow")}),e.createElement(GX,Object.assign({},t,{className:n,prefixCls:o}),s||((t,n,o)=>n||o?e.createElement(e.Fragment,null,n&&e.createElement("div",{className:"".concat(t,"-title")},ite(n)),e.createElement("div",{className:"".concat(t,"-inner-content")},ite(o))):null)(o,l,c)))},dte=t=>{const{prefixCls:n,className:o}=t,r=gte(t,["prefixCls","className"]),{getPrefixCls:a}=e.useContext(gv),i=a("popover",n),[l,c,s]=ste(i);return l(e.createElement(ute,Object.assign({},r,{prefixCls:i,hashId:c,className:BG()(o,s)})))};var Ite=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Cte=t=>{let{title:n,content:o,prefixCls:r}=t;return e.createElement(e.Fragment,null,n&&e.createElement("div",{className:"".concat(r,"-title")},ite(n)),e.createElement("div",{className:"".concat(r,"-inner-content")},ite(o)))},mte=e.forwardRef(((t,n)=>{var o,r;const{prefixCls:a,title:i,content:l,overlayClassName:c,placement:s="top",trigger:g="hover",children:u,mouseEnterDelay:d=.1,mouseLeaveDelay:I=.1,onOpenChange:C,overlayStyle:m={}}=t,h=Ite(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:p}=e.useContext(gv),f=p("popover",a),[A,b,v]=ste(f),y=p(),Z=BG()(c,b,v),[S,G]=QG(!1,{value:null!==(o=t.open)&&void 0!==o?o:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),B=(e,t)=>{G(e,!0),null===C||void 0===C||C(e,t)};return A(e.createElement(fN,Object.assign({placement:s,trigger:g,mouseEnterDelay:d,mouseLeaveDelay:I,overlayStyle:m},h,{prefixCls:f,overlayClassName:Z,ref:n,open:S,onOpenChange:e=>{B(e)},overlay:i||l?e.createElement(Cte,{prefixCls:f,title:i,content:l}):null,transitionName:bX(y,"zoom-big",h.transitionName),"data-popover-inject":!0}),ZW(u,{onKeyDown:t=>{var n,o;e.isValidElement(u)&&(null===(o=null===u||void 0===u?void 0:(n=u.props).onKeyDown)||void 0===o||o.call(n,t)),(e=>{e.keyCode===rw.ESC&&B(!1,e)})(t)}})))})),hte=mte;hte._InternalPanelDoNotUseOrYouWillBeFired=dte;const pte=hte,fte=Uw("Popconfirm",(e=>(e=>{const{componentCls:t,iconCls:n,antCls:o,zIndexPopup:r,colorText:a,colorWarning:i,marginXXS:l,marginXS:c,fontSize:s,fontWeightStrong:g,colorTextHeading:u}=e;return{[t]:{zIndex:r,["&".concat(o,"-popover")]:{fontSize:s},["".concat(t,"-message")]:{marginBottom:c,display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(t,"-message-icon ").concat(n)]:{color:i,fontSize:s,lineHeight:1,marginInlineEnd:c},["".concat(t,"-title")]:{fontWeight:g,color:u,"&:only-child":{fontWeight:"normal"}},["".concat(t,"-description")]:{marginTop:l,color:a}},["".concat(t,"-buttons")]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:c}}}}})(e)),(e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}}),{resetStyle:!1});var Ate=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const bte=t=>{const{prefixCls:n,okButtonProps:o,cancelButtonProps:r,title:a,description:i,cancelText:l,okText:c,okType:s="primary",icon:g=e.createElement(Qk,null),showCancel:u=!0,close:d,onConfirm:I,onCancel:C,onPopupClick:m}=t,{getPrefixCls:h}=e.useContext(gv),[p]=rz("Popconfirm",cS.Popconfirm),f=ite(a),A=ite(i);return e.createElement("div",{className:"".concat(n,"-inner-content"),onClick:m},e.createElement("div",{className:"".concat(n,"-message")},g&&e.createElement("span",{className:"".concat(n,"-message-icon")},g),e.createElement("div",{className:"".concat(n,"-message-text")},f&&e.createElement("div",{className:BG()("".concat(n,"-title"))},f),A&&e.createElement("div",{className:"".concat(n,"-description")},A))),e.createElement("div",{className:"".concat(n,"-buttons")},u&&e.createElement(AE,Object.assign({onClick:C,size:"small"},r),l||(null===p||void 0===p?void 0:p.cancelText)),e.createElement(v1,{buttonProps:Object.assign(Object.assign({size:"small"},wJ(s)),o),actionFn:I,close:d,prefixCls:h("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},c||(null===p||void 0===p?void 0:p.okText))))},vte=t=>{const{prefixCls:n,placement:o,className:r,style:a}=t,i=Ate(t,["prefixCls","placement","className","style"]),{getPrefixCls:l}=e.useContext(gv),c=l("popconfirm",n),[s]=fte(c);return s(e.createElement(dte,{placement:o,className:BG()(c,r),style:a,content:e.createElement(bte,Object.assign({prefixCls:c},i))}))};var yte=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Zte=e.forwardRef(((t,n)=>{var o,r;const{prefixCls:a,placement:i="top",trigger:l="click",okType:c="primary",icon:s=e.createElement(Qk,null),children:g,overlayClassName:u,onOpenChange:d,onVisibleChange:I}=t,C=yte(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:m}=e.useContext(gv),[h,p]=QG(!1,{value:null!==(o=t.open)&&void 0!==o?o:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),f=(e,t)=>{p(e,!0),null===I||void 0===I||I(e),null===d||void 0===d||d(e,t)},A=m("popconfirm",a),b=BG()(A,u),[v]=fte(A);return v(e.createElement(pte,Object.assign({},cW(C,["title"]),{trigger:l,placement:i,onOpenChange:(e,n)=>{const{disabled:o=!1}=t;o||f(e,n)},open:h,ref:n,overlayClassName:b,content:e.createElement(bte,Object.assign({okType:c,icon:s},t,{prefixCls:A,close:e=>{f(!1,e)},onConfirm:e=>{var n;return null===(n=t.onConfirm)||void 0===n?void 0:n.call(void 0,e)},onCancel:e=>{var n;f(!1,e),null===(n=t.onCancel)||void 0===n||n.call(void 0,e)}})),"data-popover-inject":!0}),g))})),Ste=Zte;Ste._InternalPanelDoNotUseOrYouWillBeFired=vte;const Gte=Ste;var Bte={},kte="rc-table-internal-hook";function wte(t){var n=e.createContext(void 0);return{Context:n,Provider:function(t){var o=t.value,r=t.children,a=e.useRef(o);a.current=o;var l=hv(e.useState((function(){return{getValue:function(){return a.current},listeners:new Set}})),1)[0];return vy((function(){(0,i.unstable_batchedUpdates)((function(){l.listeners.forEach((function(e){e(o)}))}))}),[o]),e.createElement(n.Provider,{value:l},r)},defaultValue:t}}function Rte(t,n){var o=jG("function"===typeof n?n:function(e){if(void 0===n)return e;if(!Array.isArray(n))return e[n];var t={};return n.forEach((function(n){t[n]=e[n]})),t}),r=e.useContext(null===t||void 0===t?void 0:t.Context),a=r||{},i=a.listeners,l=a.getValue,c=e.useRef();c.current=o(r?l():null===t||void 0===t?void 0:t.defaultValue);var s=hv(e.useState({}),2)[1];return vy((function(){if(r)return i.add(e),function(){i.delete(e)};function e(e){var t=o(e);Lv(c.current,t,!0)||s({})}}),[r]),c.current}function Vte(){var t=e.createContext(null);function n(){return e.useContext(t)}return{makeImmutable:function(o,r){var a=XG(o),i=function(i,l){var c=a?{ref:l}:{},s=e.useRef(0),g=e.useRef(i);return null!==n()?e.createElement(o,Ey({},i,c)):(r&&!r(g.current,i)||(s.current+=1),g.current=i,e.createElement(t.Provider,{value:s.current},e.createElement(o,Ey({},i,c))))};return a?e.forwardRef(i):i},responseImmutable:function(t,o){var r=XG(t),a=function(o,a){var i=r?{ref:a}:{};return n(),e.createElement(t,Ey({},o,i))};return r?e.memo(e.forwardRef(a),o):e.memo(a,o)},useImmutableMark:n}}var Wte=Vte(),xte=(Wte.makeImmutable,Wte.responseImmutable,Wte.useImmutableMark,Vte()),Xte=xte.makeImmutable,Nte=xte.responseImmutable,Jte=xte.useImmutableMark;const Ete=wte();const Hte=e.createContext({renderWithProps:!1});var Yte="RC_TABLE_KEY";function Fte(e){var t=[],n={};return e.forEach((function(e){for(var o,r=e||{},a=r.key,i=r.dataIndex,l=a||(o=i,void 0===o||null===o?[]:Array.isArray(o)?o:[o]).join("-")||Yte;n[l];)l="".concat(l,"_next");n[l]=!0,t.push(l)})),t}function Kte(e){return null!==e&&void 0!==e}function Mte(t,n,o,r,a,i){var l=e.useContext(Hte),c=Xv((function(){if(Kte(r))return[r];var i,c=null===n||void 0===n||""===n?[]:Array.isArray(n)?n:[n],s=jZ(t,c),g=s,u=void 0;if(a){var d=a(s,t,o);!(i=d)||"object"!==on(i)||Array.isArray(i)||e.isValidElement(i)?g=d:(g=d.children,u=d.props,l.renderWithProps=!0)}return[g,u]}),[Jte(),t,r,n,a,o],(function(e,t){if(i){var n=hv(e,2)[1],o=hv(t,2)[1];return i(o,n)}return!!l.renderWithProps||!Lv(e,t,!0)}));return c}function Lte(t){var n,o,r,a,i,l,c,s;var g=t.component,u=t.children,d=t.ellipsis,I=t.scope,C=t.prefixCls,m=t.className,h=t.align,p=t.record,f=t.render,A=t.dataIndex,b=t.renderIndex,v=t.shouldCellUpdate,y=t.index,Z=t.rowType,S=t.colSpan,G=t.rowSpan,B=t.fixLeft,k=t.fixRight,w=t.firstFixLeft,R=t.lastFixLeft,V=t.firstFixRight,W=t.lastFixRight,x=t.appendNode,X=t.additionalProps,N=void 0===X?{}:X,J=t.isSticky,E="".concat(C,"-cell"),H=Rte(Ete,["supportSticky","allColumnsFixedLeft","rowHoverable"]),Y=H.supportSticky,F=H.allColumnsFixedLeft,K=H.rowHoverable,M=hv(Mte(p,A,b,u,f,v),2),L=M[0],T=M[1],z={},D="number"===typeof B&&Y,O="number"===typeof k&&Y;D&&(z.position="sticky",z.left=B),O&&(z.position="sticky",z.right=k);var j=null!==(n=null!==(o=null!==(r=null===T||void 0===T?void 0:T.colSpan)&&void 0!==r?r:N.colSpan)&&void 0!==o?o:S)&&void 0!==n?n:1,U=null!==(a=null!==(i=null!==(l=null===T||void 0===T?void 0:T.rowSpan)&&void 0!==l?l:N.rowSpan)&&void 0!==i?i:G)&&void 0!==a?a:1,P=function(e,t){return Rte(Ete,(function(n){var o,r,a,i;return[(o=e,r=t||1,a=n.hoverStartRow,i=n.hoverEndRow,o<=i&&o+r-1>=a),n.onHover]}))}(y,U),Q=hv(P,2),_=Q[0],q=Q[1],$=jG((function(e){var t;p&&q(y,y+U-1),null===N||void 0===N||null===(t=N.onMouseEnter)||void 0===t||t.call(N,e)})),ee=jG((function(e){var t;p&&q(-1,-1),null===N||void 0===N||null===(t=N.onMouseLeave)||void 0===t||t.call(N,e)}));if(0===j||0===U)return null;var te=null!==(c=N.title)&&void 0!==c?c:function(t){var n,o=t.ellipsis,r=t.rowType,a=t.children,i=!0===o?{showTitle:!0}:o;return i&&(i.showTitle||"header"===r)&&("string"===typeof a||"number"===typeof a?n=a.toString():e.isValidElement(a)&&"string"===typeof a.props.children&&(n=a.props.children)),n}({rowType:Z,ellipsis:d,children:L}),ne=BG()(E,m,(an(s={},"".concat(E,"-fix-left"),D&&Y),an(s,"".concat(E,"-fix-left-first"),w&&Y),an(s,"".concat(E,"-fix-left-last"),R&&Y),an(s,"".concat(E,"-fix-left-all"),R&&F&&Y),an(s,"".concat(E,"-fix-right"),O&&Y),an(s,"".concat(E,"-fix-right-first"),V&&Y),an(s,"".concat(E,"-fix-right-last"),W&&Y),an(s,"".concat(E,"-ellipsis"),d),an(s,"".concat(E,"-with-append"),x),an(s,"".concat(E,"-fix-sticky"),(D||O)&&J&&Y),an(s,"".concat(E,"-row-hover"),!T&&_),s),N.className,null===T||void 0===T?void 0:T.className),oe={};h&&(oe.textAlign=h);var re=cn(cn(cn(cn({},z),N.style),oe),null===T||void 0===T?void 0:T.style),ae=L;return"object"!==on(ae)||Array.isArray(ae)||e.isValidElement(ae)||(ae=null),d&&(R||V)&&(ae=e.createElement("span",{className:"".concat(E,"-content")},ae)),e.createElement(g,Ey({},T,N,{className:ne,style:re,title:te,scope:I,onMouseEnter:K?$:void 0,onMouseLeave:K?ee:void 0,colSpan:1!==j?j:null,rowSpan:1!==U?U:null}),x,ae)}const Tte=e.memo(Lte);function zte(e,t,n,o,r){var a,i,l=n[e]||{},c=n[t]||{};"left"===l.fixed?a=o.left["rtl"===r?t:e]:"right"===c.fixed&&(i=o.right["rtl"===r?e:t]);var s=!1,g=!1,u=!1,d=!1,I=n[t+1],C=n[e-1],m=I&&!I.fixed||C&&!C.fixed||n.every((function(e){return"left"===e.fixed}));if("rtl"===r){if(void 0!==a)d=!(C&&"left"===C.fixed)&&m;else if(void 0!==i){u=!(I&&"right"===I.fixed)&&m}}else if(void 0!==a){s=!(I&&"left"===I.fixed)&&m}else if(void 0!==i){g=!(C&&"right"===C.fixed)&&m}return{fixLeft:a,fixRight:i,lastFixLeft:s,firstFixRight:g,lastFixRight:u,firstFixLeft:d,isSticky:o.isSticky}}const Dte=e.createContext({});var Ote=["children"];function jte(e){return e.children}jte.Row=function(t){var n=t.children,o=JG(t,Ote);return e.createElement("tr",o,n)},jte.Cell=function(t){var n=t.className,o=t.index,r=t.children,a=t.colSpan,i=void 0===a?1:a,l=t.rowSpan,c=t.align,s=Rte(Ete,["prefixCls","direction"]),g=s.prefixCls,u=s.direction,d=e.useContext(Dte),I=d.scrollColumnIndex,C=d.stickyOffsets,m=o+i-1+1===I?i+1:i,h=zte(o,o+m-1,d.flattenColumns,C,u);return e.createElement(Tte,Ey({className:n,index:o,component:"td",prefixCls:g,record:null,dataIndex:null,align:c,colSpan:m,rowSpan:l,render:function(){return r}},h))};const Ute=jte;const Pte=Nte((function(t){var n=t.children,o=t.stickyOffsets,r=t.flattenColumns,a=Rte(Ete,"prefixCls"),i=r.length-1,l=r[i],c=e.useMemo((function(){return{stickyOffsets:o,flattenColumns:r,scrollColumnIndex:null!==l&&void 0!==l&&l.scrollbar?i:null}}),[l,r,i,o]);return e.createElement(Dte.Provider,{value:c},e.createElement("tfoot",{className:"".concat(a,"-summary")},n))}));var Qte=Ute;function _te(e,t,n,o,r,a,i){e.push({record:t,indent:n,index:i});var l=a(t),c=null===r||void 0===r?void 0:r.has(l);if(t&&Array.isArray(t[o])&&c)for(var s=0;s<t[o].length;s+=1)_te(e,t[o][s],n+1,o,r,a,s)}function qte(t,n,o,r){var a=e.useMemo((function(){if(null!==o&&void 0!==o&&o.size){for(var e=[],a=0;a<(null===t||void 0===t?void 0:t.length);a+=1){_te(e,t[a],0,n,o,r,a)}return e}return null===t||void 0===t?void 0:t.map((function(e,t){return{record:e,indent:0,index:t}}))}),[t,n,o,r]);return a}function $te(e,t,n,o){var r,a=Rte(Ete,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,l=a.expandableType,c=a.expandedKeys,s=a.childrenColumnName,g=a.onTriggerExpand,u=a.rowExpandable,d=a.onRow,I=a.expandRowByClick,C=a.rowClassName,m="nest"===l,h="row"===l&&(!u||u(e)),p=h||m,f=c&&c.has(t),A=s&&e&&e[s],b=jG(g),v=null===d||void 0===d?void 0:d(e,n),y=null===v||void 0===v?void 0:v.onClick;"string"===typeof C?r=C:"function"===typeof C&&(r=C(e,n,o));var Z=Fte(i);return cn(cn({},a),{},{columnsKey:Z,nestExpandable:m,expanded:f,hasNestChildren:A,record:e,onTriggerExpand:b,rowSupportExpand:h,expandable:p,rowProps:cn(cn({},v),{},{className:BG()(r,null===v||void 0===v?void 0:v.className),onClick:function(t){I&&p&&g(e,t);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===y||void 0===y||y.apply(void 0,[t].concat(o))}})})}const ene=function(t){var n=t.prefixCls,o=t.children,r=t.component,a=t.cellComponent,i=t.className,l=t.expanded,c=t.colSpan,s=t.isEmpty,g=Rte(Ete,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),u=g.scrollbarSize,d=g.fixHeader,I=g.fixColumn,C=g.componentWidth,m=g.horizonScroll,h=o;return(s?m&&C:I)&&(h=e.createElement("div",{style:{width:C-(d?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},h)),e.createElement(r,{className:i,style:{display:l?null:"none"}},e.createElement(Tte,{component:a,prefixCls:n,colSpan:c},h))};function tne(t,n,o,r,a){var i,l,c=t.record,s=t.prefixCls,g=t.columnsKey,u=t.fixedInfoList,d=t.expandIconColumnIndex,I=t.nestExpandable,C=t.indentSize,m=t.expandIcon,h=t.expanded,p=t.hasNestChildren,f=t.onTriggerExpand,A=g[o],b=u[o];return o===(d||0)&&I&&(i=e.createElement(e.Fragment,null,e.createElement("span",{style:{paddingLeft:"".concat(C*r,"px")},className:"".concat(s,"-row-indent indent-level-").concat(r)}),m({prefixCls:s,expanded:h,expandable:p,record:c,onExpand:f}))),n.onCell&&(l=n.onCell(c,a)),{key:A,fixedInfo:b,appendCellNode:i,additionalCellProps:l||{}}}const nne=Nte((function(t){var n=t.className,o=t.style,r=t.record,a=t.index,i=t.renderIndex,l=t.rowKey,c=t.indent,s=void 0===c?0:c,g=t.rowComponent,u=t.cellComponent,d=t.scopeCellComponent,I=$te(r,l,a,s),C=I.prefixCls,m=I.flattenColumns,h=I.expandedRowClassName,p=I.expandedRowRender,f=I.rowProps,A=I.expanded,b=I.rowSupportExpand,v=e.useRef(!1);v.current||(v.current=A);var y,Z=h&&h(r,a,s),S=e.createElement(g,Ey({},f,{"data-row-key":l,className:BG()(n,"".concat(C,"-row"),"".concat(C,"-row-level-").concat(s),null===f||void 0===f?void 0:f.className,s>=1?Z:""),style:cn(cn({},o),null===f||void 0===f?void 0:f.style)}),m.map((function(t,n){var o=t.render,l=t.dataIndex,c=t.className,g=tne(I,t,n,s,a),m=g.key,h=g.fixedInfo,p=g.appendCellNode,f=g.additionalCellProps;return e.createElement(Tte,Ey({className:c,ellipsis:t.ellipsis,align:t.align,scope:t.rowScope,component:t.rowScope?d:u,prefixCls:C,key:m,record:r,index:a,renderIndex:i,dataIndex:l,render:o,shouldCellUpdate:t.shouldCellUpdate},h,{appendNode:p,additionalProps:f}))})));if(b&&(v.current||A)){var G=p(r,a,s+1,A);y=e.createElement(ene,{expanded:A,className:BG()("".concat(C,"-expanded-row"),"".concat(C,"-expanded-row-level-").concat(s+1),Z),prefixCls:C,component:g,cellComponent:u,colSpan:m.length,isEmpty:!1},G)}return e.createElement(e.Fragment,null,S,y)}));function one(t){var n=t.columnKey,o=t.onColumnResize,r=e.useRef();return e.useEffect((function(){r.current&&o(n,r.current.offsetWidth)}),[]),e.createElement(ZV,{data:n},e.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},e.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function rne(t){var n=t.prefixCls,o=t.columnsKey,r=t.onColumnResize;return e.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0}},e.createElement(ZV.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;r(t,n.offsetWidth)}))}},o.map((function(t){return e.createElement(one,{key:t,columnKey:t,onColumnResize:r})}))))}const ane=Nte((function(t){var n,o=t.data,r=t.measureColumnWidth,a=Rte(Ete,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),i=a.prefixCls,l=a.getComponent,c=a.onColumnResize,s=a.flattenColumns,g=a.getRowKey,u=a.expandedKeys,d=a.childrenColumnName,I=a.emptyNode,C=qte(o,d,u,g),m=e.useRef({renderWithProps:!1}),h=l(["body","wrapper"],"tbody"),p=l(["body","row"],"tr"),f=l(["body","cell"],"td"),A=l(["body","cell"],"th");n=o.length?C.map((function(t,n){var o=t.record,r=t.indent,a=t.index,i=g(o,n);return e.createElement(nne,{key:i,rowKey:i,record:o,index:n,renderIndex:a,rowComponent:p,cellComponent:f,scopeCellComponent:A,getRowKey:g,indent:r})})):e.createElement(ene,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:p,cellComponent:f,colSpan:s.length,isEmpty:!0},I);var b=Fte(s);return e.createElement(Hte.Provider,{value:m.current},e.createElement(h,{className:"".concat(i,"-tbody")},r&&e.createElement(rne,{prefixCls:i,columnsKey:b,onColumnResize:c}),n))}));var ine=["expandable"],lne="RC_TABLE_INTERNAL_COL_DEFINE";var cne=["columnType"];const sne=function(t){for(var n=t.colWidths,o=t.columns,r=[],a=!1,i=(t.columCount||o.length)-1;i>=0;i-=1){var l=n[i],c=o&&o[i],s=c&&c[lne];if(l||s||a){var g=s||{},u=(g.columnType,JG(g,cne));r.unshift(e.createElement("col",Ey({key:i,style:{width:l}},u))),a=!0}}return e.createElement("colgroup",null,r)};var gne=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var une=e.forwardRef((function(t,n){var o=t.className,r=t.noData,a=t.columns,i=t.flattenColumns,l=t.colWidths,c=t.columCount,s=t.stickyOffsets,g=t.direction,u=t.fixHeader,d=t.stickyTopOffset,I=t.stickyBottomOffset,C=t.stickyClassName,m=t.onScroll,h=t.maxContentScroll,p=t.children,f=JG(t,gne),A=Rte(Ete,["prefixCls","scrollbarSize","isSticky","getComponent"]),b=A.prefixCls,v=A.scrollbarSize,y=A.isSticky,Z=(0,A.getComponent)(["header","table"],"table"),S=y&&!u?0:v,G=e.useRef(null),B=e.useCallback((function(e){VG(n,e),VG(G,e)}),[]);e.useEffect((function(){var e;function t(e){var t=e,n=t.currentTarget,o=t.deltaX;o&&(m({currentTarget:n,scrollLeft:n.scrollLeft+o}),e.preventDefault())}return null===(e=G.current)||void 0===e||e.addEventListener("wheel",t,{passive:!1}),function(){var e;null===(e=G.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var k=e.useMemo((function(){return i.every((function(e){return e.width}))}),[i]),w=i[i.length-1],R={fixed:w?w.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(b,"-cell-scrollbar")}}},V=(0,e.useMemo)((function(){return S?[].concat(fv(a),[R]):a}),[S,a]),W=(0,e.useMemo)((function(){return S?[].concat(fv(i),[R]):i}),[S,i]),x=(0,e.useMemo)((function(){var e=s.right,t=s.left;return cn(cn({},s),{},{left:"rtl"===g?[].concat(fv(t.map((function(e){return e+S}))),[0]):t,right:"rtl"===g?e:[].concat(fv(e.map((function(e){return e+S}))),[0]),isSticky:y})}),[S,s,y]),X=function(t,n){return(0,e.useMemo)((function(){for(var e=[],o=0;o<n;o+=1){var r=t[o];if(void 0===r)return null;e[o]=r}return e}),[t.join("_"),n])}(l,c);return e.createElement("div",{style:cn({overflow:"hidden"},y?{top:d,bottom:I}:{}),ref:B,className:BG()(o,an({},C,!!C))},e.createElement(Z,{style:{tableLayout:"fixed",visibility:r||X?null:"hidden"}},(!r||!h||k)&&e.createElement(sne,{colWidths:X?[].concat(fv(X),[S]):[],columCount:c+1,columns:W}),p(cn(cn({},f),{},{stickyOffsets:x,columns:V,flattenColumns:W}))))}));const dne=e.memo(une);const Ine=function(t){var n,o=t.cells,r=t.stickyOffsets,a=t.flattenColumns,i=t.rowComponent,l=t.cellComponent,c=t.onHeaderRow,s=t.index,g=Rte(Ete,["prefixCls","direction"]),u=g.prefixCls,d=g.direction;c&&(n=c(o.map((function(e){return e.column})),s));var I=Fte(o.map((function(e){return e.column})));return e.createElement(i,n,o.map((function(t,n){var o,i=t.column,c=zte(t.colStart,t.colEnd,a,r,d);return i&&i.onHeaderCell&&(o=t.column.onHeaderCell(i)),e.createElement(Tte,Ey({},t,{scope:i.title?t.colSpan>1?"colgroup":"col":null,ellipsis:i.ellipsis,align:i.align,component:l,prefixCls:u,key:I[n]},c,{additionalProps:o,rowType:"header"}))})))};const Cne=Nte((function(t){var n=t.stickyOffsets,o=t.columns,r=t.flattenColumns,a=t.onHeaderRow,i=Rte(Ete,["prefixCls","getComponent"]),l=i.prefixCls,c=i.getComponent,s=e.useMemo((function(){return function(e){var t=[];!function e(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[r]=t[r]||[];var a=o,i=n.filter(Boolean).map((function(n){var o={key:n.key,className:n.className||"",children:n.title,column:n,colStart:a},i=1,l=n.children;return l&&l.length>0&&(i=e(l,a,r+1).reduce((function(e,t){return e+t}),0),o.hasSubColumns=!0),"colSpan"in n&&(i=n.colSpan),"rowSpan"in n&&(o.rowSpan=n.rowSpan),o.colSpan=i,o.colEnd=o.colStart+i-1,t[r].push(o),a+=i,i}));return i}(e,0);for(var n=t.length,o=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},r=0;r<n;r+=1)o(r);return t}(o)}),[o]),g=c(["header","wrapper"],"thead"),u=c(["header","row"],"tr"),d=c(["header","cell"],"th");return e.createElement(g,{className:"".concat(l,"-thead")},s.map((function(t,o){return e.createElement(Ine,{key:o,flattenColumns:r,cells:t,stickyOffsets:n,rowComponent:u,cellComponent:d,onHeaderRow:a,index:o})})))}));function mne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"===typeof t?t:t.endsWith("%")?e*parseFloat(t)/100:null}var hne=["children"],pne=["fixed"];function fne(t){return OR(t).filter((function(t){return e.isValidElement(t)})).map((function(e){var t=e.key,n=e.props,o=n.children,r=cn({key:t},JG(n,hne));return o&&(r.children=fne(o)),r}))}function Ane(e){return e.filter((function(e){return e&&"object"===on(e)&&!e.hidden})).map((function(e){var t=e.children;return t&&t.length>0?cn(cn({},e),{},{children:Ane(t)}):e}))}function bne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter((function(e){return e&&"object"===on(e)})).reduce((function(e,n,o){var r=n.fixed,a=!0===r?"left":r,i="".concat(t,"-").concat(o),l=n.children;return l&&l.length>0?[].concat(fv(e),fv(bne(l,i).map((function(e){return cn({fixed:a},e)})))):[].concat(fv(e),[cn(cn({key:i},n),{},{fixed:a})])}),[])}const vne=function(t,n){var o=t.prefixCls,r=t.columns,a=t.children,i=t.expandable,l=t.expandedKeys,c=t.columnTitle,s=t.getRowKey,g=t.onTriggerExpand,u=t.expandIcon,d=t.rowExpandable,I=t.expandIconColumnIndex,C=t.direction,m=t.expandRowByClick,h=t.columnWidth,p=t.fixed,f=t.scrollWidth,A=t.clientWidth,b=e.useMemo((function(){return Ane((r||fne(a)||[]).slice())}),[r,a]),v=e.useMemo((function(){if(i){var t,n=b.slice();if(!n.includes(Bte)){var r=I||0;r>=0&&n.splice(r,0,Bte)}0;var a=n.indexOf(Bte);n=n.filter((function(e,t){return e!==Bte||t===a}));var C,f=b[a];C="left"!==p&&!p||I?"right"!==p&&!p||I!==b.length?f?f.fixed:null:"right":"left";var A=(an(t={},lne,{className:"".concat(o,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),an(t,"title",c),an(t,"fixed",C),an(t,"className","".concat(o,"-row-expand-icon-cell")),an(t,"width",h),an(t,"render",(function(t,n,r){var a=s(n,r),i=l.has(a),c=!d||d(n),I=u({prefixCls:o,expanded:i,expandable:c,record:n,onExpand:g});return m?e.createElement("span",{onClick:function(e){return e.stopPropagation()}},I):I})),t);return n.map((function(e){return e===Bte?A:e}))}return b.filter((function(e){return e!==Bte}))}),[i,b,s,l,u,C]),y=e.useMemo((function(){var e=v;return n&&(e=n(e)),e.length||(e=[{render:function(){return null}}]),e}),[n,v,C]),Z=e.useMemo((function(){return"rtl"===C?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),cn({fixed:n},JG(e,pne))}))}(bne(y)):bne(y)}),[y,C,f]),S=e.useMemo((function(){for(var e=-1,t=Z.length-1;t>=0;t-=1){var n=Z[t].fixed;if("left"===n||!0===n){e=t;break}}if(e>=0)for(var o=0;o<=e;o+=1){var r=Z[o].fixed;if("left"!==r&&!0!==r)return!0}var a=Z.findIndex((function(e){return"right"===e.fixed}));if(a>=0)for(var i=a;i<Z.length;i+=1){if("right"!==Z[i].fixed)return!0}return!1}),[Z]),G=function(t,n,o){return e.useMemo((function(){if(n&&n>0){var e=0,r=0;t.forEach((function(t){var o=mne(n,t.width);o?e+=o:r+=1}));var a=Math.max(n,o),i=Math.max(a-e,r),l=r,c=i/r,s=0,g=t.map((function(e){var t=cn({},e),o=mne(n,t.width);if(o)t.width=o;else{var r=Math.floor(c);t.width=1===l?i:r,i-=r,l-=1}return s+=t.width,t}));if(s<a){var u=a/s;i=a,g.forEach((function(e,t){var n=Math.floor(e.width*u);e.width=t===g.length-1?i:n,i-=n}))}return[g,Math.max(s,a)]}return[t,n]}),[t,n,o])}(Z,f,A),B=hv(G,2),k=B[0],w=B[1];return[y,k,w,S]};function yne(t){var n,o=t.prefixCls,r=t.record,a=t.onExpand,i=t.expanded,l=t.expandable,c="".concat(o,"-row-expand-icon");if(!l)return e.createElement("span",{className:BG()(c,"".concat(o,"-row-spaced"))});return e.createElement("span",{className:BG()(c,(n={},an(n,"".concat(o,"-row-expanded"),i),an(n,"".concat(o,"-row-collapsed"),!i),n)),onClick:function(e){a(r,e),e.stopPropagation()}})}function Zne(t,n,o){var r=function(e){var t,n=e.expandable,o=JG(e,ine);return!1===(t="expandable"in e?cn(cn({},o),n):o).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(t),a=r.expandIcon,i=r.expandedRowKeys,l=r.defaultExpandedRowKeys,c=r.defaultExpandAllRows,s=r.expandedRowRender,g=r.onExpand,u=r.onExpandedRowsChange,d=a||yne,I=r.childrenColumnName||"children",C=e.useMemo((function(){return s?"row":!!(t.expandable&&t.internalHooks===kte&&t.expandable.__PARENT_RENDER_ICON__||n.some((function(e){return e&&"object"===on(e)&&e[I]})))&&"nest"}),[!!s,n]),m=e.useState((function(){return l||(c?function(e,t,n){var o=[];return function e(r){(r||[]).forEach((function(r,a){o.push(t(r,a)),e(r[n])}))}(e),o}(n,o,I):[])})),h=hv(m,2),p=h[0],f=h[1],A=e.useMemo((function(){return new Set(i||p||[])}),[i,p]),b=e.useCallback((function(e){var t,r=o(e,n.indexOf(e)),a=A.has(r);a?(A.delete(r),t=fv(A)):t=[].concat(fv(A),[r]),f(t),g&&g(!a,e),u&&u(t)}),[o,A,n,g,u]);return[r,C,A,d,I,b]}function Sne(t){var n=(0,e.useRef)(t),o=hv((0,e.useState)({}),2)[1],r=(0,e.useRef)(null),a=(0,e.useRef)([]);return(0,e.useEffect)((function(){return function(){r.current=null}}),[]),[n.current,function(e){a.current.push(e);var t=Promise.resolve();r.current=t,t.then((function(){if(r.current===t){var e=a.current,i=n.current;a.current=[],e.forEach((function(e){n.current=e(n.current)})),r.current=null,i!==n.current&&o({})}}))}]}var Gne=bv()?window:null;const Bne=function(t,n,o){var r=(0,e.useMemo)((function(){var e=n.length,r=function(e,o,r){for(var a=[],i=0,l=e;l!==o;l+=r)a.push(i),n[l].fixed&&(i+=t[l]||0);return a},a=r(0,e,1),i=r(e-1,-1,-1).reverse();return"rtl"===o?{left:i,right:a}:{left:a,right:i}}),[t,n,o]);return r};const kne=function(t){var n=t.className,o=t.children;return e.createElement("div",{className:n},o)};function wne(e,t,n,o){var r=i.unstable_batchedUpdates?function(e){i.unstable_batchedUpdates(n,e)}:n;return null!==e&&void 0!==e&&e.addEventListener&&e.addEventListener(t,r,o),{remove:function(){null!==e&&void 0!==e&&e.removeEventListener&&e.removeEventListener(t,r,o)}}}function Rne(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var Vne=function(t,n){var o,r,a=t.scrollBodyRef,i=t.onScroll,l=t.offsetScroll,c=t.container,s=Rte(Ete,"prefixCls"),g=(null===(o=a.current)||void 0===o?void 0:o.scrollWidth)||0,u=(null===(r=a.current)||void 0===r?void 0:r.clientWidth)||0,d=g&&u*(u/g),I=e.useRef(),C=hv(Sne({scrollLeft:0,isHiddenScrollBar:!1}),2),m=C[0],h=C[1],p=e.useRef({delta:0,x:0}),f=hv(e.useState(!1),2),A=f[0],b=f[1],v=e.useRef(null);e.useEffect((function(){return function(){kB.cancel(v.current)}}),[]);var y=function(){b(!1)},Z=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(A&&0!==n){var o=p.current.x+e.pageX-p.current.x-p.current.delta;o<=0&&(o=0),o+d>=u&&(o=u-d),i({scrollLeft:o/u*(g+2)}),p.current.x=e.pageX}else A&&b(!1)},S=function(){v.current=kB((function(){if(a.current){var e=Rne(a.current).top,t=e+a.current.offsetHeight,n=c===window?document.documentElement.scrollTop+window.innerHeight:Rne(c).top+c.clientHeight;t-HR()<=n||e>=n-l?h((function(e){return cn(cn({},e),{},{isHiddenScrollBar:!0})})):h((function(e){return cn(cn({},e),{},{isHiddenScrollBar:!1})}))}}))},G=function(e){h((function(t){return cn(cn({},t),{},{scrollLeft:e/g*u||0})}))};return e.useImperativeHandle(n,(function(){return{setScrollLeft:G,checkScrollBarVisible:S}})),e.useEffect((function(){var e=wne(document.body,"mouseup",y,!1),t=wne(document.body,"mousemove",Z,!1);return S(),function(){e.remove(),t.remove()}}),[d,A]),e.useEffect((function(){var e=wne(c,"scroll",S,!1),t=wne(window,"resize",S,!1);return function(){e.remove(),t.remove()}}),[c]),e.useEffect((function(){m.isHiddenScrollBar||h((function(e){var t=a.current;return t?cn(cn({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[m.isHiddenScrollBar]),g<=u||!d||m.isHiddenScrollBar?null:e.createElement("div",{style:{height:HR(),width:u,bottom:l},className:"".concat(s,"-sticky-scroll")},e.createElement("div",{onMouseDown:function(e){e.persist(),p.current.delta=e.pageX-m.scrollLeft,p.current.x=0,b(!0),e.preventDefault()},ref:I,className:BG()("".concat(s,"-sticky-scroll-bar"),an({},"".concat(s,"-sticky-scroll-bar-active"),A)),style:{width:"".concat(d,"px"),transform:"translate3d(".concat(m.scrollLeft,"px, 0, 0)")}}))};const Wne=e.forwardRef(Vne);const xne=function(e){return null};const Xne=function(e){return null};var Nne="rc-table",Jne=[],Ene={};function Hne(){return"No Data"}function Yne(t,n){var o,r=cn({rowKey:"key",prefixCls:Nne,emptyText:Hne},t),a=r.prefixCls,i=r.className,l=r.rowClassName,c=r.style,s=r.data,g=r.rowKey,u=r.scroll,d=r.tableLayout,I=r.direction,C=r.title,m=r.footer,h=r.summary,p=r.caption,f=r.id,A=r.showHeader,b=r.components,v=r.emptyText,y=r.onRow,Z=r.onHeaderRow,S=r.onScroll,G=r.internalHooks,B=r.transformColumns,k=r.internalRefs,w=r.tailor,R=r.getContainerWidth,V=r.sticky,W=r.rowHoverable,x=void 0===W||W,X=s||Jne,N=!!X.length,J=G===kte;var E=e.useCallback((function(e,t){return jZ(b,e)||t}),[b]),H=e.useMemo((function(){return"function"===typeof g?g:function(e){return e&&e[g]}}),[g]),Y=E(["body"]),F=function(){var t=hv(e.useState(-1),2),n=t[0],o=t[1],r=hv(e.useState(-1),2),a=r[0],i=r[1],l=e.useCallback((function(e,t){o(e),i(t)}),[]);return[n,a,l]}(),K=hv(F,3),M=K[0],L=K[1],T=K[2],z=hv(Zne(r,X,H),6),D=z[0],O=z[1],j=z[2],U=z[3],P=z[4],Q=z[5],_=null===u||void 0===u?void 0:u.x,q=hv(e.useState(0),2),$=q[0],ee=q[1],te=hv(vne(cn(cn(cn({},r),D),{},{expandable:!!D.expandedRowRender,columnTitle:D.columnTitle,expandedKeys:j,getRowKey:H,onTriggerExpand:Q,expandIcon:U,expandIconColumnIndex:D.expandIconColumnIndex,direction:I,scrollWidth:J&&w&&"number"===typeof _?_:null,clientWidth:$}),J?B:null),4),ne=te[0],oe=te[1],re=te[2],ae=te[3],ie=null!==re&&void 0!==re?re:_,le=e.useMemo((function(){return{columns:ne,flattenColumns:oe}}),[ne,oe]),ce=e.useRef(),se=e.useRef(),ge=e.useRef(),ue=e.useRef();e.useImperativeHandle(n,(function(){return{nativeElement:ce.current,scrollTo:function(e){var t;if(ge.current instanceof HTMLElement){var n=e.index,o=e.top,r=e.key;if(o){var a;null===(a=ge.current)||void 0===a||a.scrollTo({top:o})}else{var i,l=null!==r&&void 0!==r?r:H(X[n]);null===(i=ge.current.querySelector('[data-row-key="'.concat(l,'"]')))||void 0===i||i.scrollIntoView()}}else null!==(t=ge.current)&&void 0!==t&&t.scrollTo&&ge.current.scrollTo(e)}}}));var de,Ie,Ce,me=e.useRef(),he=hv(e.useState(!1),2),pe=he[0],fe=he[1],Ae=hv(e.useState(!1),2),be=Ae[0],ve=Ae[1],ye=hv(Sne(new Map),2),Ze=ye[0],Se=ye[1],Ge=Fte(oe).map((function(e){return Ze.get(e)})),Be=e.useMemo((function(){return Ge}),[Ge.join("_")]),ke=Bne(Be,oe,I),we=u&&Kte(u.y),Re=u&&Kte(ie)||Boolean(D.fixed),Ve=Re&&oe.some((function(e){return e.fixed})),We=e.useRef(),xe=function(t,n){var o="object"===on(t)?t:{},r=o.offsetHeader,a=void 0===r?0:r,i=o.offsetSummary,l=void 0===i?0:i,c=o.offsetScroll,s=void 0===c?0:c,g=o.getContainer,u=(void 0===g?function(){return Gne}:g)()||Gne;return e.useMemo((function(){var e=!!t;return{isSticky:e,stickyClassName:e?"".concat(n,"-sticky-holder"):"",offsetHeader:a,offsetSummary:l,offsetScroll:s,container:u}}),[s,a,l,n,u])}(V,a),Xe=xe.isSticky,Ne=xe.offsetHeader,Je=xe.offsetSummary,Ee=xe.offsetScroll,He=xe.stickyClassName,Ye=xe.container,Fe=e.useMemo((function(){return null===h||void 0===h?void 0:h(X)}),[h,X]),Ke=(we||Xe)&&e.isValidElement(Fe)&&Fe.type===Ute&&Fe.props.fixed;we&&(Ie={overflowY:"scroll",maxHeight:u.y}),Re&&(de={overflowX:"auto"},we||(Ie={overflowY:"hidden"}),Ce={width:!0===ie?"auto":ie,minWidth:"100%"});var Me=e.useCallback((function(e,t){YV(ce.current)&&Se((function(n){if(n.get(e)!==t){var o=new Map(n);return o.set(e,t),o}return n}))}),[]),Le=hv(function(t){var n=(0,e.useRef)(t||null),o=(0,e.useRef)();function r(){window.clearTimeout(o.current)}return(0,e.useEffect)((function(){return r}),[]),[function(e){n.current=e,r(),o.current=window.setTimeout((function(){n.current=null,o.current=void 0}),100)},function(){return n.current}]}(null),2),Te=Le[0],ze=Le[1];function De(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout((function(){t.scrollLeft=e}),0)))}var Oe=jG((function(e){var t,n=e.currentTarget,o=e.scrollLeft,r="rtl"===I,a="number"===typeof o?o:n.scrollLeft,i=n||Ene;ze()&&ze()!==i||(Te(i),De(a,se.current),De(a,ge.current),De(a,me.current),De(a,null===(t=We.current)||void 0===t?void 0:t.setScrollLeft));var l=n||se.current;if(l){var c=l.scrollWidth,s=l.clientWidth;if(c===s)return fe(!1),void ve(!1);r?(fe(-a<c-s),ve(-a>0)):(fe(a>0),ve(a<c-s))}})),je=jG((function(e){Oe(e),null===S||void 0===S||S(e)})),Ue=function(){Re&&ge.current?Oe({currentTarget:ge.current}):(fe(!1),ve(!1))},Pe=e.useRef(!1);e.useEffect((function(){Pe.current&&Ue()}),[Re,s,ne.length]),e.useEffect((function(){Pe.current=!0}),[]);var Qe=hv(e.useState(0),2),_e=Qe[0],qe=Qe[1],$e=hv(e.useState(!0),2),et=$e[0],tt=$e[1];e.useEffect((function(){w&&J||(ge.current instanceof Element?qe(YR(ge.current).width):qe(YR(ue.current).width)),tt(W6("position","sticky"))}),[]),e.useEffect((function(){J&&k&&(k.body.current=ge.current)}));var nt,ot=e.useCallback((function(t){return e.createElement(e.Fragment,null,e.createElement(Cne,t),"top"===Ke&&e.createElement(Pte,t,Fe))}),[Ke,Fe]),rt=e.useCallback((function(t){return e.createElement(Pte,t,Fe)}),[Fe]),at=E(["table"],"table"),it=e.useMemo((function(){return d||(Ve?"max-content"===ie?"auto":"fixed":we||Xe||oe.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[we,Ve,oe,d,Xe]),lt={colWidths:Be,columCount:oe.length,stickyOffsets:ke,onHeaderRow:Z,fixHeader:we,scroll:u},ct=e.useMemo((function(){return N?null:"function"===typeof v?v():v}),[N,v]),st=e.createElement(ane,{data:X,measureColumnWidth:we||Re||Xe}),gt=e.createElement(sne,{colWidths:oe.map((function(e){return e.width})),columns:oe}),ut=null!==p&&void 0!==p?e.createElement("caption",{className:"".concat(a,"-caption")},p):void 0,dt=sw(r,{data:!0}),It=sw(r,{aria:!0});if(we||Xe){var Ct;"function"===typeof Y?(Ct=Y(X,{scrollbarSize:_e,ref:ge,onScroll:Oe}),lt.colWidths=oe.map((function(e,t){var n=e.width,o=t===oe.length-1?n-_e:n;return"number"!==typeof o||Number.isNaN(o)?0:o}))):Ct=e.createElement("div",{style:cn(cn({},de),Ie),onScroll:je,ref:ge,className:BG()("".concat(a,"-body"))},e.createElement(at,Ey({style:cn(cn({},Ce),{},{tableLayout:it})},It),ut,gt,st,!Ke&&Fe&&e.createElement(Pte,{stickyOffsets:ke,flattenColumns:oe},Fe)));var mt=cn(cn(cn({noData:!X.length,maxContentScroll:Re&&"max-content"===ie},lt),le),{},{direction:I,stickyClassName:He,onScroll:Oe});nt=e.createElement(e.Fragment,null,!1!==A&&e.createElement(dne,Ey({},mt,{stickyTopOffset:Ne,className:"".concat(a,"-header"),ref:se}),ot),Ct,Ke&&"top"!==Ke&&e.createElement(dne,Ey({},mt,{stickyBottomOffset:Je,className:"".concat(a,"-summary"),ref:me}),rt),Xe&&ge.current&&ge.current instanceof Element&&e.createElement(Wne,{ref:We,offsetScroll:Ee,scrollBodyRef:ge,onScroll:Oe,container:Ye}))}else nt=e.createElement("div",{style:cn(cn({},de),Ie),className:BG()("".concat(a,"-content")),onScroll:Oe,ref:ge},e.createElement(at,Ey({style:cn(cn({},Ce),{},{tableLayout:it})},It),ut,gt,!1!==A&&e.createElement(Cne,Ey({},lt,le)),st,Fe&&e.createElement(Pte,{stickyOffsets:ke,flattenColumns:oe},Fe)));var ht=e.createElement("div",Ey({className:BG()(a,i,(o={},an(o,"".concat(a,"-rtl"),"rtl"===I),an(o,"".concat(a,"-ping-left"),pe),an(o,"".concat(a,"-ping-right"),be),an(o,"".concat(a,"-layout-fixed"),"fixed"===d),an(o,"".concat(a,"-fixed-header"),we),an(o,"".concat(a,"-fixed-column"),Ve),an(o,"".concat(a,"-fixed-column-gapped"),Ve&&ae),an(o,"".concat(a,"-scroll-horizontal"),Re),an(o,"".concat(a,"-has-fix-left"),oe[0]&&oe[0].fixed),an(o,"".concat(a,"-has-fix-right"),oe[oe.length-1]&&"right"===oe[oe.length-1].fixed),o)),style:c,id:f,ref:ce},dt),C&&e.createElement(kne,{className:"".concat(a,"-title")},C(X)),e.createElement("div",{ref:ue,className:"".concat(a,"-container")},nt),m&&e.createElement(kne,{className:"".concat(a,"-footer")},m(X)));Re&&(ht=e.createElement(ZV,{onResize:function(e){var t,n=e.width;null===(t=We.current)||void 0===t||t.checkScrollBarVisible();var o=ce.current?ce.current.offsetWidth:n;J&&R&&ce.current&&(o=R(ce.current,o)||o),o!==$&&(Ue(),ee(o))}},ht));var pt=function(e,t,n){var o=e.map((function(o,r){return zte(r,r,e,t,n)}));return Xv((function(){return o}),[o],(function(e,t){return!Lv(e,t)}))}(oe,ke,I),ft=e.useMemo((function(){return{scrollX:ie,prefixCls:a,getComponent:E,scrollbarSize:_e,direction:I,fixedInfoList:pt,isSticky:Xe,supportSticky:et,componentWidth:$,fixHeader:we,fixColumn:Ve,horizonScroll:Re,tableLayout:it,rowClassName:l,expandedRowClassName:D.expandedRowClassName,expandIcon:U,expandableType:O,expandRowByClick:D.expandRowByClick,expandedRowRender:D.expandedRowRender,onTriggerExpand:Q,expandIconColumnIndex:D.expandIconColumnIndex,indentSize:D.indentSize,allColumnsFixedLeft:oe.every((function(e){return"left"===e.fixed})),emptyNode:ct,columns:ne,flattenColumns:oe,onColumnResize:Me,hoverStartRow:M,hoverEndRow:L,onHover:T,rowExpandable:D.rowExpandable,onRow:y,getRowKey:H,expandedKeys:j,childrenColumnName:P,rowHoverable:x}}),[ie,a,E,_e,I,pt,Xe,et,$,we,Ve,Re,it,l,D.expandedRowClassName,U,O,D.expandRowByClick,D.expandedRowRender,Q,D.expandIconColumnIndex,D.indentSize,ct,ne,oe,Me,M,L,T,D.rowExpandable,y,H,j,P,x]);return e.createElement(Ete.Provider,{value:ft},ht)}var Fne=e.forwardRef(Yne);function Kne(e){return Xte(Fne,e)}var Mne=Kne();Mne.EXPAND_COLUMN=Bte,Mne.INTERNAL_HOOKS=kte,Mne.Column=xne,Mne.ColumnGroup=Xne,Mne.Summary=Qte;const Lne=Mne;var Tne=wte(null),zne=wte(null);const Dne=function(t){var n=t.rowInfo,o=t.column,r=t.colIndex,a=t.indent,i=t.index,l=t.component,c=t.renderIndex,s=t.record,g=t.style,u=t.className,d=t.inverse,I=t.getHeight,C=o.render,m=o.dataIndex,h=o.className,p=o.width,f=Rte(zne,["columnsOffset"]).columnsOffset,A=tne(n,o,r,a,i),b=A.key,v=A.fixedInfo,y=A.appendCellNode,Z=A.additionalCellProps,S=Z.style,G=Z.colSpan,B=void 0===G?1:G,k=Z.rowSpan,w=void 0===k?1:k,R=function(e,t,n){return n[e+(t||1)]-(n[e]||0)}(r-1,B,f),V=B>1?p-R:0,W=cn(cn(cn({},S),g),{},{flex:"0 0 ".concat(R,"px"),width:"".concat(R,"px"),marginRight:V,pointerEvents:"auto"}),x=e.useMemo((function(){return d?w<=1:0===B||0===w||w>1}),[w,B,d]);x?W.visibility="hidden":d&&(W.height=null===I||void 0===I?void 0:I(w));var X=x?function(){return null}:C,N={};return 0!==w&&0!==B||(N.rowSpan=1,N.colSpan=1),e.createElement(Tte,Ey({className:BG()(h,u),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:l,prefixCls:n.prefixCls,key:b,record:s,index:i,renderIndex:c,dataIndex:m,render:X,shouldCellUpdate:o.shouldCellUpdate},v,{appendNode:y,additionalProps:cn(cn({},Z),{},{style:W},N)}))};var One=["data","index","className","rowKey","style","extra","getHeight"],jne=e.forwardRef((function(t,n){var o,r=t.data,a=t.index,i=t.className,l=t.rowKey,c=t.style,s=t.extra,g=t.getHeight,u=JG(t,One),d=r.record,I=r.indent,C=r.index,m=Rte(Ete,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),h=m.scrollX,p=m.flattenColumns,f=m.prefixCls,A=m.fixColumn,b=m.componentWidth,v=Rte(Tne,["getComponent"]).getComponent,y=$te(d,l,a,I),Z=v(["body","row"],"div"),S=v(["body","cell"],"div"),G=y.rowSupportExpand,B=y.expanded,k=y.rowProps,w=y.expandedRowRender,R=y.expandedRowClassName;if(G&&B){var V=w(d,a,I+1,B),W=null===R||void 0===R?void 0:R(d,a,I),x={};A&&(x={style:an({},"--virtual-width","".concat(b,"px"))});var X="".concat(f,"-expanded-row-cell");o=e.createElement(Z,{className:BG()("".concat(f,"-expanded-row"),"".concat(f,"-expanded-row-level-").concat(I+1),W)},e.createElement(Tte,{component:S,prefixCls:f,className:BG()(X,an({},"".concat(X,"-fixed"),A)),additionalProps:x},V))}var N=cn(cn({},c),{},{width:h});s&&(N.position="absolute",N.pointerEvents="none");var J=e.createElement(Z,Ey({},k,u,{"data-row-key":l,ref:G?null:n,className:BG()(i,"".concat(f,"-row"),null===k||void 0===k?void 0:k.className,an({},"".concat(f,"-row-extra"),s)),style:cn(cn({},N),null===k||void 0===k?void 0:k.style)}),p.map((function(t,n){return e.createElement(Dne,{key:n,component:S,rowInfo:y,column:t,colIndex:n,indent:I,index:a,renderIndex:C,record:d,inverse:s,getHeight:g})})));return G?e.createElement("div",{ref:n},J,o):J}));const Une=Nte(jne);var Pne=e.forwardRef((function(t,n){var o=t.data,r=t.onScroll,a=Rte(Ete,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),i=a.flattenColumns,l=a.onColumnResize,c=a.getRowKey,s=a.expandedKeys,g=a.prefixCls,u=a.childrenColumnName,d=a.emptyNode,I=a.scrollX,C=Rte(Tne),m=C.sticky,h=C.scrollY,p=C.listItemHeight,f=C.getComponent,A=C.onScroll,b=e.useRef(),v=qte(o,u,s,c),y=e.useMemo((function(){var e=0;return i.map((function(t){var n=t.width;return[t.key,n,e+=n]}))}),[i]),Z=e.useMemo((function(){return y.map((function(e){return e[2]}))}),[y]);e.useEffect((function(){y.forEach((function(e){var t=hv(e,2),n=t[0],o=t[1];l(n,o)}))}),[y]),e.useImperativeHandle(n,(function(){var e={scrollTo:function(e){var t;null===(t=b.current)||void 0===t||t.scrollTo(e)}};return Object.defineProperty(e,"scrollLeft",{get:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var t;null===(t=b.current)||void 0===t||t.scrollTo({left:e})}}),e}));var S,G=function(e,t){var n,o=null===(n=v[t])||void 0===n?void 0:n.record,r=e.onCell;if(r){var a,i=r(o,t);return null!==(a=null===i||void 0===i?void 0:i.rowSpan)&&void 0!==a?a:1}return 1},B=e.useMemo((function(){return{columnsOffset:Z}}),[Z]),k="".concat(g,"-tbody"),w=f(["body","wrapper"]),R=f(["body","row"],"div"),V=f(["body","cell"],"div");if(v.length){var W={};m&&(W.position="sticky",W.bottom=0,"object"===on(m)&&m.offsetScroll&&(W.bottom=m.offsetScroll)),S=e.createElement(fD,{fullHeight:!1,ref:b,prefixCls:"".concat(k,"-virtual"),styles:{horizontalScrollBar:W},className:k,height:h,itemHeight:p||24,data:v,itemKey:function(e){return c(e.record)},component:w,scrollWidth:I,onVirtualScroll:function(e){var t=e.x;r({scrollLeft:t})},onScroll:A,extraRender:function(t){var n=t.start,o=t.end,r=t.getSize,a=t.offsetY;if(o<0)return null;for(var l=i.filter((function(e){return 0===G(e,n)})),s=n,g=function(e){if(l=l.filter((function(t){return 0===G(t,e)})),!l.length)return s=e,1},u=n;u>=0&&!g(u);u-=1);for(var d=i.filter((function(e){return 1!==G(e,o)})),I=o,C=function(e){if(d=d.filter((function(t){return 1!==G(t,e)})),!d.length)return I=Math.max(e-1,o),1},m=o;m<v.length&&!C(m);m+=1);for(var h=[],p=function(e){if(!v[e])return 1;i.some((function(t){return G(t,e)>1}))&&h.push(e)},f=s;f<=I;f+=1)p(f);var A=h.map((function(t){var n=v[t],o=c(n.record,t),i=r(o);return e.createElement(Une,{key:t,data:n,rowKey:o,index:t,style:{top:-a+i.top},extra:!0,getHeight:function(e){var n=t+e-1,a=c(v[n].record,n),i=r(o,a);return i.bottom-i.top}})}));return A}},(function(t,n,o){var r=c(t.record,n);return e.createElement(Une,{data:t,rowKey:r,index:n,style:o.style})}))}else S=e.createElement(R,{className:BG()("".concat(g,"-placeholder"))},e.createElement(Tte,{component:V,prefixCls:g},d));return e.createElement(zne.Provider,{value:B},S)}));const Qne=Nte(Pne);var _ne=function(t,n){var o=n.ref,r=n.onScroll;return e.createElement(Qne,{ref:o,data:t,onScroll:r})};function qne(t,n){var o=t.columns,r=t.scroll,a=t.sticky,i=t.prefixCls,l=void 0===i?Nne:i,c=t.className,s=t.listItemHeight,g=t.components,u=t.onScroll,d=r||{},I=d.x,C=d.y;"number"!==typeof I&&(I=1),"number"!==typeof C&&(C=500);var m=jG((function(e,t){return jZ(g,e)||t})),h=jG(u),p=e.useMemo((function(){return{sticky:a,scrollY:C,listItemHeight:s,getComponent:m,onScroll:h}}),[a,C,s,m,h]);return e.createElement(Tne.Provider,{value:p},e.createElement(Lne,Ey({},t,{className:BG()(c,"".concat(l,"-virtual")),scroll:cn(cn({},r),{},{x:I}),components:cn(cn({},g),{},{body:_ne}),columns:o,internalHooks:kte,tailor:!0,ref:n})))}var $ne=e.forwardRef(qne);function eoe(e){return Xte($ne,e)}eoe();const toe=function(e){return null};const noe=function(e){return null};var ooe=e.createContext(null),roe=function(t){for(var n=t.prefixCls,o=t.level,r=t.isStart,a=t.isEnd,i="".concat(n,"-indent-unit"),l=[],c=0;c<o;c+=1)l.push(e.createElement("span",{key:c,className:BG()(i,an(an({},"".concat(i,"-start"),r[c]),"".concat(i,"-end"),a[c]))}));return e.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},l)};const aoe=e.memo(roe);function ioe(e,t){return e[t]}var loe=["children"];function coe(e,t){return"".concat(e,"-").concat(t)}function soe(e,t){return null!==e&&void 0!==e?e:t}function goe(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function uoe(e){return function e(t){return OR(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return Mv(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,o=t.props,r=o.children,a=cn({key:n},JG(o,loe)),i=e(r);return i.length&&(a.children=i),a})).filter((function(e){return e}))}(e)}function doe(e,t,n){var o=goe(n),r=o._title,a=o.key,i=o.children,l=new Set(!0===t?[]:t),c=[];return function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(s,g){for(var u,d=coe(o?o.pos:"0",g),I=soe(s[a],d),C=0;C<r.length;C+=1){var m=r[C];if(void 0!==s[m]){u=s[m];break}}var h=Object.assign(cW(s,[].concat(fv(r),[a,i])),{title:u,key:I,parent:o,pos:d,children:null,data:s,isStart:[].concat(fv(o?o.isStart:[]),[0===g]),isEnd:[].concat(fv(o?o.isEnd:[]),[g===n.length-1])});return c.push(h),!0===t||l.has(I)?h.children=e(s[i]||[],h):h.children=[],h}))}(e),c}function Ioe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,o=t.processEntity,r=t.onProcessFinished,a=t.externalGetKey,i=t.childrenPropName,l=t.fieldNames,c=a||(arguments.length>2?arguments[2]:void 0),s={},g={},u={posEntities:s,keyEntities:g};return n&&(u=n(u)||u),function(e,t,n){var o,r=("object"===on(n)?n:{externalGetKey:n})||{},a=r.childrenPropName,i=r.externalGetKey,l=goe(r.fieldNames),c=l.key,s=l.children,g=a||s;i?"string"===typeof i?o=function(e){return e[i]}:"function"===typeof i&&(o=function(e){return i(e)}):o=function(e,t){return soe(e[c],t)},function n(r,a,i,l){var c=r?r[g]:e,s=r?coe(i.pos,a):"0",u=r?[].concat(fv(l),[r]):[];if(r){var d=o(r,s),I={node:r,index:a,pos:s,key:d,parentPos:i.node?i.pos:null,level:i.level+1,nodes:u};t(I)}c&&c.forEach((function(e,t){n(e,t,{node:r,pos:s,level:i?i.level+1:-1},u)}))}(null)}(e,(function(e){var t=e.node,n=e.index,r=e.pos,a=e.key,i=e.parentPos,l=e.level,c={node:t,nodes:e.nodes,index:n,key:a,pos:r,level:l},d=soe(a,r);s[r]=c,g[d]=c,c.parent=s[i],c.parent&&(c.parent.children=c.parent.children||[],c.parent.children.push(c)),o&&o(c,u)}),{externalGetKey:c,childrenPropName:i,fieldNames:l}),r&&r(u),u}function Coe(e,t){var n=t.expandedKeys,o=t.selectedKeys,r=t.loadedKeys,a=t.loadingKeys,i=t.checkedKeys,l=t.halfCheckedKeys,c=t.dragOverNodeKey,s=t.dropPosition,g=ioe(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(g?g.pos:""),dragOver:c===e&&0===s,dragOverGapTop:c===e&&-1===s,dragOverGapBottom:c===e&&1===s}}function moe(e){var t=e.data,n=e.expanded,o=e.selected,r=e.checked,a=e.loaded,i=e.loading,l=e.halfChecked,c=e.dragOver,s=e.dragOverGapTop,g=e.dragOverGapBottom,u=e.pos,d=e.active,I=e.eventKey,C=cn(cn({},t),{},{expanded:n,selected:o,checked:r,loaded:a,loading:i,halfChecked:l,dragOver:c,dragOverGapTop:s,dragOverGapBottom:g,pos:u,active:d,key:I});return"props"in C||Object.defineProperty(C,"props",{get:function(){return Mv(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),C}var hoe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],poe="open",foe="close",Aoe=function(t){KG(o,t);var n=DG(o);function o(){var t;Tv(this,o);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return an(TG(t=n.call.apply(n,[this].concat(a))),"state",{dragNodeHighlight:!1}),an(TG(t),"selectHandle",void 0),an(TG(t),"cacheIndent",void 0),an(TG(t),"onSelectorClick",(function(e){(0,t.props.context.onNodeClick)(e,moe(t.props)),t.isSelectable()?t.onSelect(e):t.onCheck(e)})),an(TG(t),"onSelectorDoubleClick",(function(e){(0,t.props.context.onNodeDoubleClick)(e,moe(t.props))})),an(TG(t),"onSelect",(function(e){t.isDisabled()||(0,t.props.context.onNodeSelect)(e,moe(t.props))})),an(TG(t),"onCheck",(function(e){if(!t.isDisabled()){var n=t.props,o=n.disableCheckbox,r=n.checked,a=t.props.context.onNodeCheck;if(t.isCheckable()&&!o){var i=!r;a(e,moe(t.props),i)}}})),an(TG(t),"onMouseEnter",(function(e){(0,t.props.context.onNodeMouseEnter)(e,moe(t.props))})),an(TG(t),"onMouseLeave",(function(e){(0,t.props.context.onNodeMouseLeave)(e,moe(t.props))})),an(TG(t),"onContextMenu",(function(e){(0,t.props.context.onNodeContextMenu)(e,moe(t.props))})),an(TG(t),"onDragStart",(function(e){var n=t.props.context.onNodeDragStart;e.stopPropagation(),t.setState({dragNodeHighlight:!0}),n(e,TG(t));try{e.dataTransfer.setData("text/plain","")}catch(o){}})),an(TG(t),"onDragEnter",(function(e){var n=t.props.context.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),n(e,TG(t))})),an(TG(t),"onDragOver",(function(e){var n=t.props.context.onNodeDragOver;e.preventDefault(),e.stopPropagation(),n(e,TG(t))})),an(TG(t),"onDragLeave",(function(e){var n=t.props.context.onNodeDragLeave;e.stopPropagation(),n(e,TG(t))})),an(TG(t),"onDragEnd",(function(e){var n=t.props.context.onNodeDragEnd;e.stopPropagation(),t.setState({dragNodeHighlight:!1}),n(e,TG(t))})),an(TG(t),"onDrop",(function(e){var n=t.props.context.onNodeDrop;e.preventDefault(),e.stopPropagation(),t.setState({dragNodeHighlight:!1}),n(e,TG(t))})),an(TG(t),"onExpand",(function(e){var n=t.props,o=n.loading,r=n.context.onNodeExpand;o||r(e,moe(t.props))})),an(TG(t),"setSelectHandle",(function(e){t.selectHandle=e})),an(TG(t),"getNodeState",(function(){var e=t.props.expanded;return t.isLeaf()?null:e?poe:foe})),an(TG(t),"hasChildren",(function(){var e=t.props.eventKey;return!!((ioe(t.props.context.keyEntities,e)||{}).children||[]).length})),an(TG(t),"isLeaf",(function(){var e=t.props,n=e.isLeaf,o=e.loaded,r=t.props.context.loadData,a=t.hasChildren();return!1!==n&&(n||!r&&!a||r&&o&&!a)})),an(TG(t),"isDisabled",(function(){var e=t.props.disabled;return!(!t.props.context.disabled&&!e)})),an(TG(t),"isCheckable",(function(){var e=t.props.checkable,n=t.props.context.checkable;return!(!n||!1===e)&&n})),an(TG(t),"syncLoadData",(function(e){var n=e.expanded,o=e.loading,r=e.loaded,a=t.props.context,i=a.loadData,l=a.onNodeLoad;o||i&&n&&!t.isLeaf()&&!r&&l(moe(t.props))})),an(TG(t),"isDraggable",(function(){var e=t.props,n=e.data,o=e.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(n))})),an(TG(t),"renderDragHandler",(function(){var n=t.props.context,o=n.draggable,r=n.prefixCls;return null!==o&&void 0!==o&&o.icon?e.createElement("span",{className:"".concat(r,"-draggable-icon")},o.icon):null})),an(TG(t),"renderSwitcherIconDom",(function(e){var n=t.props.switcherIcon,o=t.props.context.switcherIcon,r=n||o;return"function"===typeof r?r(cn(cn({},t.props),{},{isLeaf:e})):r})),an(TG(t),"renderSwitcher",(function(){var n=t.props.expanded,o=t.props.context.prefixCls;if(t.isLeaf()){var r=t.renderSwitcherIconDom(!0);return!1!==r?e.createElement("span",{className:BG()("".concat(o,"-switcher"),"".concat(o,"-switcher-noop"))},r):null}var a=BG()("".concat(o,"-switcher"),"".concat(o,"-switcher_").concat(n?poe:foe)),i=t.renderSwitcherIconDom(!1);return!1!==i?e.createElement("span",{onClick:t.onExpand,className:a},i):null})),an(TG(t),"renderCheckbox",(function(){var n=t.props,o=n.checked,r=n.halfChecked,a=n.disableCheckbox,i=t.props.context.prefixCls,l=t.isDisabled(),c=t.isCheckable();if(!c)return null;var s="boolean"!==typeof c?c:null;return e.createElement("span",{className:BG()("".concat(i,"-checkbox"),o&&"".concat(i,"-checkbox-checked"),!o&&r&&"".concat(i,"-checkbox-indeterminate"),(l||a)&&"".concat(i,"-checkbox-disabled")),onClick:t.onCheck},s)})),an(TG(t),"renderIcon",(function(){var n=t.props.loading,o=t.props.context.prefixCls;return e.createElement("span",{className:BG()("".concat(o,"-iconEle"),"".concat(o,"-icon__").concat(t.getNodeState()||"docu"),n&&"".concat(o,"-icon_loading"))})})),an(TG(t),"renderSelector",(function(){var n,o,r=t.state.dragNodeHighlight,a=t.props,i=a.title,l=void 0===i?"---":i,c=a.selected,s=a.icon,g=a.loading,u=a.data,d=t.props.context,I=d.prefixCls,C=d.showIcon,m=d.icon,h=d.loadData,p=d.titleRender,f=t.isDisabled(),A="".concat(I,"-node-content-wrapper");if(C){var b=s||m;n=b?e.createElement("span",{className:BG()("".concat(I,"-iconEle"),"".concat(I,"-icon__customize"))},"function"===typeof b?b(t.props):b):t.renderIcon()}else h&&g&&(n=t.renderIcon());o="function"===typeof l?l(u):p?p(u):l;var v=e.createElement("span",{className:"".concat(I,"-title")},o);return e.createElement("span",{ref:t.setSelectHandle,title:"string"===typeof l?l:"",className:BG()("".concat(A),"".concat(A,"-").concat(t.getNodeState()||"normal"),!f&&(c||r)&&"".concat(I,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick},n,v,t.renderDropIndicator())})),an(TG(t),"renderDropIndicator",(function(){var e=t.props,n=e.disabled,o=e.eventKey,r=t.props.context,a=r.draggable,i=r.dropLevelOffset,l=r.dropPosition,c=r.prefixCls,s=r.indent,g=r.dropIndicatorRender,u=r.dragOverNodeKey,d=r.direction,I=!n&&!!a&&u===o,C=null!==s&&void 0!==s?s:t.cacheIndent;return t.cacheIndent=s,I?g({dropPosition:l,dropLevelOffset:i,indent:C,prefixCls:c,direction:d}):null})),t}return Dv(o,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var t,n=this.props,o=n.eventKey,r=n.className,a=n.style,i=n.dragOver,l=n.dragOverGapTop,c=n.dragOverGapBottom,s=n.isLeaf,g=n.isStart,u=n.isEnd,d=n.expanded,I=n.selected,C=n.checked,m=n.halfChecked,h=n.loading,p=n.domRef,f=n.active,A=(n.data,n.onMouseMove),b=n.selectable,v=JG(n,hoe),y=this.props.context,Z=y.prefixCls,S=y.filterTreeNode,G=y.keyEntities,B=y.dropContainerKey,k=y.dropTargetKey,w=y.draggingNodeKey,R=this.isDisabled(),V=sw(v,{aria:!0,data:!0}),W=(ioe(G,o)||{}).level,x=u[u.length-1],X=this.isDraggable(),N=!R&&X,J=w===o,E=void 0!==b?{"aria-selected":!!b}:void 0;return e.createElement("div",Ey({ref:p,className:BG()(r,"".concat(Z,"-treenode"),(t={},an(an(an(an(an(an(an(an(an(an(t,"".concat(Z,"-treenode-disabled"),R),"".concat(Z,"-treenode-switcher-").concat(d?"open":"close"),!s),"".concat(Z,"-treenode-checkbox-checked"),C),"".concat(Z,"-treenode-checkbox-indeterminate"),m),"".concat(Z,"-treenode-selected"),I),"".concat(Z,"-treenode-loading"),h),"".concat(Z,"-treenode-active"),f),"".concat(Z,"-treenode-leaf-last"),x),"".concat(Z,"-treenode-draggable"),X),"dragging",J),an(an(an(an(an(an(t,"drop-target",k===o),"drop-container",B===o),"drag-over",!R&&i),"drag-over-gap-top",!R&&l),"drag-over-gap-bottom",!R&&c),"filter-node",S&&S(moe(this.props))))),style:a,draggable:N,"aria-grabbed":J,onDragStart:N?this.onDragStart:void 0,onDragEnter:X?this.onDragEnter:void 0,onDragOver:X?this.onDragOver:void 0,onDragLeave:X?this.onDragLeave:void 0,onDrop:X?this.onDrop:void 0,onDragEnd:X?this.onDragEnd:void 0,onMouseMove:A},E,V),e.createElement(aoe,{prefixCls:Z,level:W,isStart:g,isEnd:u}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),o}(e.Component),boe=function(t){return e.createElement(ooe.Consumer,null,(function(n){return e.createElement(Aoe,Ey({},t,{context:n}))}))};boe.displayName="TreeNode",boe.isTreeNode=1;const voe=boe;function yoe(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function Zoe(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function Soe(e){return e.split("-")}function Goe(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var o=t.key,r=t.children;n.push(o),e(r)}))}(ioe(t,e).children),n}function Boe(e){if(e.parent){var t=Soe(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function koe(e,t,n,o,r,a,i,l,c,s){var g,u=e.clientX,d=e.clientY,I=e.target.getBoundingClientRect(),C=I.top,m=I.height,h=(("rtl"===s?-1:1)*(((null===r||void 0===r?void 0:r.x)||0)-u)-12)/o,p=c.filter((function(e){var t;return null===(t=l[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length})),f=ioe(l,n.props.eventKey);if(d<C+m/2){var A=i.findIndex((function(e){return e.key===f.key})),b=i[A<=0?0:A-1].key;f=ioe(l,b)}var v=f.key,y=f,Z=f.key,S=0,G=0;if(!p.includes(v))for(var B=0;B<h&&Boe(f);B+=1)f=f.parent,G+=1;var k=t.props.data,w=f.node,R=!0;return function(e){var t=Soe(e.pos);return 0===Number(t[t.length-1])}(f)&&0===f.level&&d<C+m/2&&a({dragNode:k,dropNode:w,dropPosition:-1})&&f.key===n.props.eventKey?S=-1:(y.children||[]).length&&p.includes(Z)?a({dragNode:k,dropNode:w,dropPosition:0})?S=0:R=!1:0===G?h>-1.5?a({dragNode:k,dropNode:w,dropPosition:1})?S=1:R=!1:a({dragNode:k,dropNode:w,dropPosition:0})?S=0:a({dragNode:k,dropNode:w,dropPosition:1})?S=1:R=!1:a({dragNode:k,dropNode:w,dropPosition:1})?S=1:R=!1,{dropPosition:S,dropLevelOffset:G,dropTargetKey:f.key,dropTargetPos:f.pos,dragOverNodeKey:Z,dropContainerKey:0===S?null:(null===(g=f.parent)||void 0===g?void 0:g.key)||null,dropAllowed:R}}function woe(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function Roe(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==on(e))return Mv(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function Voe(e,t){var n=new Set;function o(e){if(!n.has(e)){var r=ioe(t,e);if(r){n.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),fv(n)}function Woe(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function xoe(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,r=t.checkable;return!(!n&&!o)||!1===r}function Xoe(e,t,n,o){var r,a=[];r=o||xoe;var i,l=new Set(e.filter((function(e){var t=!!ioe(n,e);return t||a.push(e),t}))),c=new Map,s=0;return Object.keys(n).forEach((function(e){var t=n[e],o=t.level,r=c.get(o);r||(r=new Set,c.set(o,r)),r.add(t),s=Math.max(s,o)})),Mv(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),i=!0===t?function(e,t,n,o){for(var r=new Set(e),a=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,i=void 0===a?[]:a;r.has(t)&&!o(n)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var l=new Set,c=n;c>=0;c-=1)(t.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(t.key);else{var i=!0,c=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),c||!n&&!a.has(t)||(c=!0)})),i&&r.add(t.key),c&&a.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(Woe(a,r))}}(l,c,s,r):function(e,t,n,o,r){for(var a=new Set(e),i=new Set(t),l=0;l<=o;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,l=void 0===o?[]:o;a.has(t)||i.has(t)||r(n)||l.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var c=new Set,s=o;s>=0;s-=1)(n.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!c.has(e.parent.key))if(r(e.parent.node))c.add(t.key);else{var o=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);o&&!n&&(o=!1),l||!n&&!i.has(t)||(l=!0)})),o||a.delete(t.key),l&&i.add(t.key),c.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Woe(i,a))}}(l,t.halfCheckedKeys,c,s,r),i}const Noe=e.createContext(null),Joe=Noe.Provider,Eoe=Noe,Hoe=e.createContext(null),Yoe=Hoe.Provider,Foe=e=>{const{componentCls:t,antCls:n}=e,o="".concat(t,"-group");return{[o]:Object.assign(Object.assign({},ik(e)),{display:"inline-block",fontSize:0,["&".concat(o,"-rtl")]:{direction:"rtl"},["".concat(n,"-badge ").concat(n,"-badge-count")]:{zIndex:1},["> ".concat(n,"-badge:not(:first-child) > ").concat(n,"-button-wrapper")]:{borderInlineStart:"none"}})}},Koe=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:o,radioSize:r,motionDurationSlow:a,motionDurationMid:i,motionEaseInOutCirc:l,colorBgContainer:c,colorBorder:s,lineWidth:g,colorBgContainerDisabled:u,colorTextDisabled:d,paddingXS:I,dotColorDisabled:C,lineType:m,radioColor:h,radioBgColor:p,calc:f}=e,A="".concat(t,"-inner"),b=f(r).sub(f(4).mul(2)),v=f(1).mul(r).equal();return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({},ik(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer",["&".concat(t,"-wrapper-rtl")]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},["".concat(t,"-checked::after")]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:"".concat(Iy(g)," ").concat(m," ").concat(o),borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},ik(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),["".concat(t,"-wrapper:hover &,\n        &:hover ").concat(A)]:{borderColor:o},["".concat(t,"-input:focus-visible + ").concat(A)]:Object.assign({},sk(e)),["".concat(t,":hover::after, ").concat(t,"-wrapper:hover &::after")]:{visibility:"visible"},["".concat(t,"-inner")]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:v,height:v,marginBlockStart:f(1).mul(r).div(-2).equal(),marginInlineStart:f(1).mul(r).div(-2).equal(),backgroundColor:h,borderBlockStart:0,borderInlineStart:0,borderRadius:v,transform:"scale(0)",opacity:0,transition:"all ".concat(a," ").concat(l),content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:v,height:v,backgroundColor:c,borderColor:s,borderStyle:"solid",borderWidth:g,borderRadius:"50%",transition:"all ".concat(i)},["".concat(t,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},["".concat(t,"-checked")]:{[A]:{borderColor:o,backgroundColor:p,"&::after":{transform:"scale(".concat(e.calc(e.dotSize).div(r).equal(),")"),opacity:1,transition:"all ".concat(a," ").concat(l)}}},["".concat(t,"-disabled")]:{cursor:"not-allowed",[A]:{backgroundColor:u,borderColor:s,cursor:"not-allowed","&::after":{backgroundColor:C}},["".concat(t,"-input")]:{cursor:"not-allowed"},["".concat(t,"-disabled + span")]:{color:d,cursor:"not-allowed"},["&".concat(t,"-checked")]:{[A]:{"&::after":{transform:"scale(".concat(f(b).div(r).equal({unit:!1}),")")}}}},["span".concat(t," + *")]:{paddingInlineStart:I,paddingInlineEnd:I}})}},Moe=e=>{const{buttonColor:t,controlHeight:n,componentCls:o,lineWidth:r,lineType:a,colorBorder:i,motionDurationSlow:l,motionDurationMid:c,buttonPaddingInline:s,fontSize:g,buttonBg:u,fontSizeLG:d,controlHeightLG:I,controlHeightSM:C,paddingXS:m,borderRadius:h,borderRadiusSM:p,borderRadiusLG:f,buttonCheckedBg:A,buttonSolidCheckedColor:b,colorTextDisabled:v,colorBgContainerDisabled:y,buttonCheckedBgDisabled:Z,buttonCheckedColorDisabled:S,colorPrimary:G,colorPrimaryHover:B,colorPrimaryActive:k,buttonSolidCheckedBg:w,buttonSolidCheckedHoverBg:R,buttonSolidCheckedActiveBg:V,calc:W}=e;return{["".concat(o,"-button-wrapper")]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:s,paddingBlock:0,color:t,fontSize:g,lineHeight:Iy(W(n).sub(W(r).mul(2)).equal()),background:u,border:"".concat(Iy(r)," ").concat(a," ").concat(i),borderBlockStartWidth:W(r).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:r,cursor:"pointer",transition:["color ".concat(c),"background ".concat(c),"box-shadow ".concat(c)].join(","),a:{color:t},["> ".concat(o,"-button")]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:W(r).mul(-1).equal(),insetInlineStart:W(r).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:r,paddingInline:0,backgroundColor:i,transition:"background-color ".concat(l),content:'""'}},"&:first-child":{borderInlineStart:"".concat(Iy(r)," ").concat(a," ").concat(i),borderStartStartRadius:h,borderEndStartRadius:h},"&:last-child":{borderStartEndRadius:h,borderEndEndRadius:h},"&:first-child:last-child":{borderRadius:h},["".concat(o,"-group-large &")]:{height:I,fontSize:d,lineHeight:Iy(W(I).sub(W(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:f,borderEndStartRadius:f},"&:last-child":{borderStartEndRadius:f,borderEndEndRadius:f}},["".concat(o,"-group-small &")]:{height:C,paddingInline:W(m).sub(r).equal(),paddingBlock:0,lineHeight:Iy(W(C).sub(W(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:p,borderEndStartRadius:p},"&:last-child":{borderStartEndRadius:p,borderEndEndRadius:p}},"&:hover":{position:"relative",color:G},"&:has(:focus-visible)":Object.assign({},sk(e)),["".concat(o,"-inner, input[type='checkbox'], input[type='radio']")]:{width:0,height:0,opacity:0,pointerEvents:"none"},["&-checked:not(".concat(o,"-button-wrapper-disabled)")]:{zIndex:1,color:G,background:A,borderColor:G,"&::before":{backgroundColor:G},"&:first-child":{borderColor:G},"&:hover":{color:B,borderColor:B,"&::before":{backgroundColor:B}},"&:active":{color:k,borderColor:k,"&::before":{backgroundColor:k}}},["".concat(o,"-group-solid &-checked:not(").concat(o,"-button-wrapper-disabled)")]:{color:b,background:w,borderColor:w,"&:hover":{color:b,background:R,borderColor:R},"&:active":{color:b,background:V,borderColor:V}},"&-disabled":{color:v,backgroundColor:y,borderColor:i,cursor:"not-allowed","&:first-child, &:hover":{color:v,backgroundColor:y,borderColor:i}},["&-disabled".concat(o,"-button-wrapper-checked")]:{color:S,backgroundColor:Z,borderColor:i,boxShadow:"none"}}}},Loe=Uw("Radio",(e=>{const{controlOutline:t,controlOutlineWidth:n}=e,o="0 0 0 ".concat(Iy(n)," ").concat(t),r=xw(e,{radioFocusShadow:o,radioButtonFocusShadow:o});return[Foe(r),Koe(r),Moe(r)]}),(e=>{const{wireframe:t,padding:n,marginXS:o,lineWidth:r,fontSizeLG:a,colorText:i,colorBgContainer:l,colorTextDisabled:c,controlItemBgActiveDisabled:s,colorTextLightSolid:g,colorPrimary:u,colorPrimaryHover:d,colorPrimaryActive:I,colorWhite:C}=e;return{radioSize:a,dotSize:t?a-8:a-2*(4+r),dotColorDisabled:c,buttonSolidCheckedColor:g,buttonSolidCheckedBg:u,buttonSolidCheckedHoverBg:d,buttonSolidCheckedActiveBg:I,buttonBg:l,buttonCheckedBg:l,buttonColor:i,buttonCheckedBgDisabled:s,buttonCheckedColorDisabled:c,buttonPaddingInline:n-r,wrapperMarginInlineEnd:o,radioColor:t?u:C,radioBgColor:t?l:u}}),{unitless:{radioSize:!0,dotSize:!0}});var Toe=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const zoe=(t,n)=>{var o,r;const a=e.useContext(Eoe),i=e.useContext(Hoe),{getPrefixCls:l,direction:c,radio:s}=e.useContext(gv),g=e.useRef(null),u=WG(n,g),{isFormItemInput:d}=e.useContext(PL);const I=e=>{var n,o;null===(n=t.onChange)||void 0===n||n.call(t,e),null===(o=null===a||void 0===a?void 0:a.onChange)||void 0===o||o.call(a,e)},{prefixCls:C,className:m,rootClassName:h,children:p,style:f,title:A}=t,b=Toe(t,["prefixCls","className","rootClassName","children","style","title"]),v=l("radio",C),y="button"===((null===a||void 0===a?void 0:a.optionType)||i),Z=y?"".concat(v,"-button"):v,S=Zw(v),[G,B,k]=Loe(v,S),w=Object.assign({},b),R=e.useContext(pG);a&&(w.name=a.name,w.onChange=I,w.checked=t.value===a.value,w.disabled=null!==(o=w.disabled)&&void 0!==o?o:a.disabled),w.disabled=null!==(r=w.disabled)&&void 0!==r?r:R;const V=BG()("".concat(Z,"-wrapper"),{["".concat(Z,"-wrapper-checked")]:w.checked,["".concat(Z,"-wrapper-disabled")]:w.disabled,["".concat(Z,"-wrapper-rtl")]:"rtl"===c,["".concat(Z,"-wrapper-in-form-item")]:d},null===s||void 0===s?void 0:s.className,m,h,B,k,S);return G(e.createElement(yJ,{component:"Radio",disabled:w.disabled},e.createElement("label",{className:V,style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),f),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,title:A},e.createElement(e6,Object.assign({},w,{className:BG()(w.className,!y&&hJ),type:"radio",prefixCls:Z,ref:u})),void 0!==p?e.createElement("span",null,p):null)))};const Doe=e.forwardRef(zoe),Ooe=e.forwardRef(((t,n)=>{const{getPrefixCls:o,direction:r}=e.useContext(gv),[a,i]=QG(t.defaultValue,{value:t.value}),{prefixCls:l,className:c,rootClassName:s,options:g,buttonStyle:u="outline",disabled:d,children:I,size:C,style:m,id:h,onMouseEnter:p,onMouseLeave:f,onFocus:A,onBlur:b}=t,v=o("radio",l),y="".concat(v,"-group"),Z=Zw(v),[S,G,B]=Loe(v,Z);let k=I;g&&g.length>0&&(k=g.map((t=>"string"===typeof t||"number"===typeof t?e.createElement(Doe,{key:t.toString(),prefixCls:v,disabled:d,value:t,checked:a===t},t):e.createElement(Doe,{key:"radio-group-value-options-".concat(t.value),prefixCls:v,disabled:t.disabled||d,value:t.value,checked:a===t.value,title:t.title,style:t.style,id:t.id,required:t.required},t.label))));const w=XX(C),R=BG()(y,"".concat(y,"-").concat(u),{["".concat(y,"-").concat(w)]:w,["".concat(y,"-rtl")]:"rtl"===r},c,s,G,B,Z);return S(e.createElement("div",Object.assign({},sw(t,{aria:!0,data:!0}),{className:R,style:m,onMouseEnter:p,onMouseLeave:f,onFocus:A,onBlur:b,id:h,ref:n}),e.createElement(Joe,{value:{onChange:e=>{const n=a,o=e.target.value;"value"in t||i(o);const{onChange:r}=t;r&&o!==n&&r(e)},value:a,disabled:t.disabled,name:t.name,optionType:t.optionType}},k)))})),joe=e.memo(Ooe);var Uoe=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Poe=(t,n)=>{const{getPrefixCls:o}=e.useContext(gv),{prefixCls:r}=t,a=Uoe(t,["prefixCls"]),i=o("radio",r);return e.createElement(Yoe,{value:"button"},e.createElement(Doe,Object.assign({prefixCls:i},a,{type:"radio",ref:n})))},Qoe=e.forwardRef(Poe),_oe=Doe;_oe.Button=Qoe,_oe.Group=joe,_oe.__ANT_RADIO=!0;const qoe=_oe,$oe={},ere="SELECT_ALL",tre="SELECT_INVERT",nre="SELECT_NONE",ore=[],rre=(e,t)=>{let n=[];return(t||[]).forEach((t=>{n.push(t),t&&"object"===typeof t&&e in t&&(n=[].concat(fv(n),fv(rre(e,t[e]))))})),n},are=(t,n)=>{const{preserveSelectedRowKeys:o,selectedRowKeys:r,defaultSelectedRowKeys:a,getCheckboxProps:i,onChange:l,onSelect:c,onSelectAll:s,onSelectInvert:g,onSelectNone:u,onSelectMultiple:d,columnWidth:I,type:C,selections:m,fixed:h,renderCell:p,hideSelectAll:f,checkStrictly:A=!0}=n||{},{prefixCls:b,data:v,pageData:y,getRecordByKey:Z,getRowKey:S,expandType:G,childrenColumnName:B,locale:k,getPopupContainer:w}=t,R=tS("Table"),[V,W]=function(t){const[n,o]=(0,e.useState)(null);return[(0,e.useCallback)(((e,r,a)=>{const i=null!==n&&void 0!==n?n:e,l=Math.min(i||0,e),c=Math.max(i||0,e),s=r.slice(l,c+1).map((e=>t(e))),g=s.some((e=>!a.has(e))),u=[];return s.forEach((e=>{g?(a.has(e)||u.push(e),a.add(e)):(a.delete(e),u.push(e))})),o(g?c:null),u}),[n]),e=>{o(e)}]}((e=>e)),[x,X]=QG(r||a||ore,{value:r}),N=e.useRef(new Map),J=(0,e.useCallback)((e=>{if(o){const t=new Map;e.forEach((e=>{let n=Z(e);!n&&N.current.has(e)&&(n=N.current.get(e)),t.set(e,n)})),N.current=t}}),[Z,o]);e.useEffect((()=>{J(x)}),[x]);const{keyEntities:E}=(0,e.useMemo)((()=>{if(A)return{keyEntities:null};let e=v;if(o){const t=new Set(v.map(((e,t)=>S(e,t)))),n=Array.from(N.current).reduce(((e,n)=>{let[o,r]=n;return t.has(o)?e:e.concat(r)}),[]);e=[].concat(fv(e),fv(n))}return Ioe(e,{externalGetKey:S,childrenPropName:B})}),[v,S,A,B,o]),H=(0,e.useMemo)((()=>rre(B,y)),[B,y]),Y=(0,e.useMemo)((()=>{const e=new Map;return H.forEach(((t,n)=>{const o=S(t,n),r=(i?i(t):null)||{};e.set(o,r)})),e}),[H,S,i]),F=(0,e.useCallback)((e=>{var t;return!!(null===(t=Y.get(S(e)))||void 0===t?void 0:t.disabled)}),[Y,S]),[K,M]=(0,e.useMemo)((()=>{if(A)return[x||[],[]];const{checkedKeys:e,halfCheckedKeys:t}=Xoe(x,!0,E,F);return[e||[],t]}),[x,A,E,F]),L=(0,e.useMemo)((()=>{const e="radio"===C?K.slice(0,1):K;return new Set(e)}),[K,C]),T=(0,e.useMemo)((()=>"radio"===C?new Set:new Set(M)),[M,C]);e.useEffect((()=>{n||X(ore)}),[!!n]);const z=(0,e.useCallback)(((e,t)=>{let n,r;J(e),o?(n=e,r=e.map((e=>N.current.get(e)))):(n=[],r=[],e.forEach((e=>{const t=Z(e);void 0!==t&&(n.push(e),r.push(t))}))),X(n),null===l||void 0===l||l(n,r,{type:t})}),[X,Z,l,o]),D=(0,e.useCallback)(((e,t,n,o)=>{if(c){const r=n.map((e=>Z(e)));c(Z(e),t,r,o)}z(n,"single")}),[c,Z,z]),O=(0,e.useMemo)((()=>{if(!m||f)return null;return(!0===m?[ere,tre,nre]:m).map((e=>e===ere?{key:"all",text:k.selectionAll,onSelect(){z(v.map(((e,t)=>S(e,t))).filter((e=>{const t=Y.get(e);return!(null===t||void 0===t?void 0:t.disabled)||L.has(e)})),"all")}}:e===tre?{key:"invert",text:k.selectInvert,onSelect(){const e=new Set(L);y.forEach(((t,n)=>{const o=S(t,n),r=Y.get(o);(null===r||void 0===r?void 0:r.disabled)||(e.has(o)?e.delete(o):e.add(o))}));const t=Array.from(e);g&&(R.deprecated(!1,"onSelectInvert","onChange"),g(t)),z(t,"invert")}}:e===nre?{key:"none",text:k.selectNone,onSelect(){null===u||void 0===u||u(),z(Array.from(L).filter((e=>{const t=Y.get(e);return null===t||void 0===t?void 0:t.disabled})),"none")}}:e)).map((e=>Object.assign(Object.assign({},e),{onSelect:function(){for(var t,n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];null===(n=e.onSelect)||void 0===n||(t=n).call.apply(t,[e].concat(r)),W(null)}})))}),[m,L,y,S,g,z]),j=(0,e.useCallback)((t=>{var o;if(!n)return t.filter((e=>e!==$oe));let r=fv(t);const a=new Set(L),i=H.map(S).filter((e=>!Y.get(e).disabled)),l=i.every((e=>a.has(e))),c=i.some((e=>a.has(e))),g=()=>{const e=[];l?i.forEach((t=>{a.delete(t),e.push(t)})):i.forEach((t=>{a.has(t)||(a.add(t),e.push(t))}));const t=Array.from(a);null===s||void 0===s||s(!l,t.map((e=>Z(e))),e.map((e=>Z(e)))),z(t,"all"),W(null)};let u,v,y;if("radio"!==C){let t;if(O){const n={getPopupContainer:w,items:O.map(((e,t)=>{const{key:n,text:o,onSelect:r}=e;return{key:null!==n&&void 0!==n?n:t,onClick:()=>{null===r||void 0===r||r(i)},label:o}}))};t=e.createElement("div",{className:"".concat(b,"-selection-extra")},e.createElement(XE,{menu:n,getPopupContainer:w},e.createElement("span",null,e.createElement(GO,null))))}const n=H.map(((e,t)=>{const n=S(e,t),o=Y.get(n)||{};return Object.assign({checked:a.has(n)},o)})).filter((e=>{let{disabled:t}=e;return t})),o=!!n.length&&n.length===H.length,r=o&&n.every((e=>{let{checked:t}=e;return t})),s=o&&n.some((e=>{let{checked:t}=e;return t}));v=e.createElement(d6,{checked:o?r:!!H.length&&l,indeterminate:o?!r&&s:!l&&c,onChange:g,disabled:0===H.length||o,"aria-label":t?"Custom selection":"Select all",skipGroup:!0}),u=!f&&e.createElement("div",{className:"".concat(b,"-selection")},v,t)}y="radio"===C?(t,n,o)=>{const r=S(n,o),i=a.has(r);return{node:e.createElement(qoe,Object.assign({},Y.get(r),{checked:i,onClick:e=>e.stopPropagation(),onChange:e=>{a.has(r)||D(r,!0,[r],e.nativeEvent)}})),checked:i}}:(t,n,o)=>{var r;const l=S(n,o),c=a.has(l),s=T.has(l),g=Y.get(l);let u;return u="nest"===G?s:null!==(r=null===g||void 0===g?void 0:g.indeterminate)&&void 0!==r?r:s,{node:e.createElement(d6,Object.assign({},g,{indeterminate:u,checked:c,skipGroup:!0,onClick:e=>e.stopPropagation(),onChange:e=>{let{nativeEvent:t}=e;const{shiftKey:n}=t,o=i.findIndex((e=>e===l)),r=K.some((e=>i.includes(e)));if(n&&A&&r){const e=V(o,i,a),t=Array.from(a);null===d||void 0===d||d(!c,t.map((e=>Z(e))),e.map((e=>Z(e)))),z(t,"multiple")}else{const e=K;if(A){const n=c?yoe(e,l):Zoe(e,l);D(l,!c,n,t)}else{const n=Xoe([].concat(fv(e),[l]),!0,E,F),{checkedKeys:o,halfCheckedKeys:r}=n;let a=o;if(c){const e=new Set(o);e.delete(l),a=Xoe(Array.from(e),{checked:!1,halfCheckedKeys:r},E,F).checkedKeys}D(l,!c,a,t)}}W(c?null:o)}})),checked:c}};if(!r.includes($oe))if(0===r.findIndex((e=>{var t;return"EXPAND_COLUMN"===(null===(t=e[lne])||void 0===t?void 0:t.columnType)}))){const[e,...t]=r;r=[e,$oe].concat(fv(t))}else r=[$oe].concat(fv(r));const B=r.indexOf($oe);r=r.filter(((e,t)=>e!==$oe||t===B));const k=r[B-1],R=r[B+1];let x=h;void 0===x&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?x=R.fixed:void 0!==(null===k||void 0===k?void 0:k.fixed)&&(x=k.fixed)),x&&k&&"EXPAND_COLUMN"===(null===(o=k[lne])||void 0===o?void 0:o.columnType)&&void 0===k.fixed&&(k.fixed=x);const X=BG()("".concat(b,"-selection-col"),{["".concat(b,"-selection-col-with-dropdown")]:m&&"checkbox"===C}),N={fixed:x,width:I,className:"".concat(b,"-selection-column"),title:(null===n||void 0===n?void 0:n.columnTitle)?"function"===typeof n.columnTitle?n.columnTitle(v):n.columnTitle:u,render:(e,t,n)=>{const{node:o,checked:r}=y(e,t,n);return p?p(r,t,n,o):o},onCell:n.onCell,[lne]:{className:X}};return r.map((e=>e===$oe?N:e))}),[S,H,n,K,L,T,I,O,G,Y,d,D,F]);return[j,L]};function ire(t,n){return(0,e.useImperativeHandle)(t,(()=>{const e=n(),{nativeElement:t}=e;return"undefined"!==typeof Proxy?new Proxy(t,{get:(t,n)=>e[n]?e[n]:Reflect.get(t,n)}):(r=e,(o=t)._antProxy=o._antProxy||{},Object.keys(r).forEach((e=>{if(!(e in o._antProxy)){const t=o[e];o._antProxy[e]=t,o[e]=r[e]}})),o);var o,r}))}function lre(e){return null!==e&&void 0!==e&&e===e.window}function cre(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getContainer:n=(()=>window),callback:o,duration:r=450}=t,a=n(),i=function(e,t){var n,o;if("undefined"===typeof window)return 0;const r=t?"scrollTop":"scrollLeft";let a=0;return lre(e)?a=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?a=e.documentElement[r]:(e instanceof HTMLElement||e)&&(a=e[r]),e&&!lre(e)&&"number"!==typeof a&&(a=null===(o=(null!==(n=e.ownerDocument)&&void 0!==n?n:e).documentElement)||void 0===o?void 0:o[r]),a}(a,!0),l=Date.now(),c=()=>{const t=Date.now()-l,n=function(e,t,n,o){const r=n-t;return(e/=o/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}(t>r?r:t,i,e,r);lre(a)?a.scrollTo(window.pageXOffset,n):a instanceof Document||"HTMLDocument"===a.constructor.name?a.documentElement.scrollTop=n:a.scrollTop=n,t<r?kB(c):"function"===typeof o&&o()};kB(c)}const sre=function(t){return function(n){let{prefixCls:o,onExpand:r,record:a,expanded:i,expandable:l}=n;const c="".concat(o,"-row-expand-icon");return e.createElement("button",{type:"button",onClick:e=>{r(a,e),e.stopPropagation()},className:BG()(c,{["".concat(c,"-spaced")]:!l,["".concat(c,"-expanded")]:l&&i,["".concat(c,"-collapsed")]:l&&!i}),"aria-label":i?t.collapse:t.expand,"aria-expanded":i})}};function gre(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function ure(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function dre(e,t){return"function"===typeof e?e(t):e}const Ire={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};var Cre=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Ire}))};const mre=e.forwardRef(Cre);function hre(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var pre=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],fre=function(t,n){var o=t.className,r=t.style,a=t.motion,i=t.motionNodes,l=t.motionType,c=t.onMotionStart,s=t.onMotionEnd,g=t.active,u=t.treeNodeRequiredProps,d=JG(t,pre),I=hv(e.useState(!0),2),C=I[0],m=I[1],h=e.useContext(ooe).prefixCls,p=i&&"hide"!==l;vy((function(){i&&p!==C&&m(p)}),[i]);var f=e.useRef(!1),A=function(){i&&!f.current&&(f.current=!0,s())};!function(t,n){var o=hv(e.useState(!1),2),r=o[0],a=o[1];vy((function(){if(r)return t(),function(){n()}}),[r]),vy((function(){return a(!0),function(){a(!1)}}),[])}((function(){i&&c()}),A);return i?e.createElement(DB,Ey({ref:n,visible:C},a,{motionAppear:"show"===l,onVisibleChanged:function(e){p===e&&A()}}),(function(t,n){var o=t.className,r=t.style;return e.createElement("div",{ref:n,className:BG()("".concat(h,"-treenode-motion"),o),style:r},i.map((function(t){var n=Object.assign({},(hre(t.data),t.data)),o=t.title,r=t.key,a=t.isStart,i=t.isEnd;delete n.children;var l=Coe(r,u);return e.createElement(voe,Ey({},n,l,{title:o,active:g,data:t.data,key:r,isStart:a,isEnd:i}))})))})):e.createElement(voe,Ey({domRef:n,className:o,style:r},d,{active:g}))};fre.displayName="MotionTreeNode";const Are=e.forwardRef(fre);function bre(e,t,n){var o=e.findIndex((function(e){return e.key===n})),r=e[o+1],a=t.findIndex((function(e){return e.key===n}));if(r){var i=t.findIndex((function(e){return e.key===r.key}));return t.slice(a+1,i)}return t.slice(a+1)}var vre=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],yre={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Zre=function(){},Sre="RC_TREE_MOTION_".concat(Math.random()),Gre={key:Sre},Bre={key:Sre,level:0,index:0,pos:"0",node:Gre,nodes:[Gre]},kre={parent:null,children:[],pos:Bre.pos,data:Gre,title:null,key:Sre,isStart:[],isEnd:[]};function wre(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function Rre(e){return soe(e.key,e.pos)}var Vre=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.data,a=(t.selectable,t.checkable,t.expandedKeys),i=t.selectedKeys,l=t.checkedKeys,c=t.loadedKeys,s=t.loadingKeys,g=t.halfCheckedKeys,u=t.keyEntities,d=t.disabled,I=t.dragging,C=t.dragOverNodeKey,m=t.dropPosition,h=t.motion,p=t.height,f=t.itemHeight,A=t.virtual,b=t.focusable,v=t.activeItem,y=t.focused,Z=t.tabIndex,S=t.onKeyDown,G=t.onFocus,B=t.onBlur,k=t.onActiveChange,w=t.onListChangeStart,R=t.onListChangeEnd,V=JG(t,vre),W=e.useRef(null),x=e.useRef(null);e.useImperativeHandle(n,(function(){return{scrollTo:function(e){W.current.scrollTo(e)},getIndentWidth:function(){return x.current.offsetWidth}}}));var X=hv(e.useState(a),2),N=X[0],J=X[1],E=hv(e.useState(r),2),H=E[0],Y=E[1],F=hv(e.useState(r),2),K=F[0],M=F[1],L=hv(e.useState([]),2),T=L[0],z=L[1],D=hv(e.useState(null),2),O=D[0],j=D[1],U=e.useRef(r);function P(){var e=U.current;Y(e),M(e),z([]),j(null),R()}U.current=r,vy((function(){J(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(N,a);if(null!==e.key)if(e.add){var t=H.findIndex((function(t){return t.key===e.key})),n=wre(bre(H,r,e.key),A,p,f),o=H.slice();o.splice(t+1,0,kre),M(o),z(n),j("show")}else{var i=r.findIndex((function(t){return t.key===e.key})),l=wre(bre(r,H,e.key),A,p,f),c=r.slice();c.splice(i+1,0,kre),M(c),z(l),j("hide")}else H!==r&&(Y(r),M(r))}),[a,r]),e.useEffect((function(){I||P()}),[I]);var Q=h?K:r,_={expandedKeys:a,selectedKeys:i,loadedKeys:c,loadingKeys:s,checkedKeys:l,halfCheckedKeys:g,dragOverNodeKey:C,dropPosition:m,keyEntities:u};return e.createElement(e.Fragment,null,y&&v&&e.createElement("span",{style:yre,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(v)),e.createElement("div",null,e.createElement("input",{style:yre,disabled:!1===b||d,tabIndex:!1!==b?Z:null,onKeyDown:S,onFocus:G,onBlur:B,value:"",onChange:Zre,"aria-label":"for screen reader"})),e.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},e.createElement("div",{className:"".concat(o,"-indent")},e.createElement("div",{ref:x,className:"".concat(o,"-indent-unit")}))),e.createElement(fD,Ey({},V,{data:Q,itemKey:Rre,height:p,fullHeight:!1,virtual:A,itemHeight:f,prefixCls:"".concat(o,"-list"),ref:W,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return Rre(e)===Sre}))&&P()}}),(function(t){var n=t.pos,o=Object.assign({},(hre(t.data),t.data)),r=t.title,a=t.key,i=t.isStart,l=t.isEnd,c=soe(a,n);delete o.key,delete o.children;var s=Coe(c,_);return e.createElement(Are,Ey({},o,s,{title:r,active:!!v&&a===v.key,pos:n,data:t.data,isStart:i,isEnd:l,motion:h,motionNodes:a===Sre?T:null,motionType:O,onMotionStart:w,onMotionEnd:P,treeNodeRequiredProps:_,onMouseMove:function(){k(null)}}))})))}));Vre.displayName="NodeList";const Wre=Vre;var xre=function(t){KG(o,t);var n=DG(o);function o(){var t;Tv(this,o);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return an(TG(t=n.call.apply(n,[this].concat(a))),"destroyed",!1),an(TG(t),"delayedDragEnterLogic",void 0),an(TG(t),"loadingRetryTimes",{}),an(TG(t),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:goe()}),an(TG(t),"dragStartMousePosition",null),an(TG(t),"dragNode",void 0),an(TG(t),"currentMouseOverDroppableNodeKey",null),an(TG(t),"listRef",e.createRef()),an(TG(t),"onNodeDragStart",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,i=t.props.onDragStart,l=n.props.eventKey;t.dragNode=n,t.dragStartMousePosition={x:e.clientX,y:e.clientY};var c=yoe(r,l);t.setState({draggingNodeKey:l,dragChildrenKeys:Goe(l,a),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(c),window.addEventListener("dragend",t.onWindowDragEnd),null===i||void 0===i||i({event:e,node:moe(n.props)})})),an(TG(t),"onNodeDragEnter",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,i=o.dragChildrenKeys,l=o.flattenNodes,c=o.indent,s=t.props,g=s.onDragEnter,u=s.onExpand,d=s.allowDrop,I=s.direction,C=n.props,m=C.pos,h=C.eventKey,p=TG(t).dragNode;if(t.currentMouseOverDroppableNodeKey!==h&&(t.currentMouseOverDroppableNodeKey=h),p){var f=koe(e,p,n,c,t.dragStartMousePosition,d,l,a,r,I),A=f.dropPosition,b=f.dropLevelOffset,v=f.dropTargetKey,y=f.dropContainerKey,Z=f.dropTargetPos,S=f.dropAllowed,G=f.dragOverNodeKey;-1===i.indexOf(v)&&S?(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach((function(e){clearTimeout(t.delayedDragEnterLogic[e])})),p.props.eventKey!==n.props.eventKey&&(e.persist(),t.delayedDragEnterLogic[m]=window.setTimeout((function(){if(null!==t.state.draggingNodeKey){var o=fv(r),i=ioe(a,n.props.eventKey);i&&(i.children||[]).length&&(o=Zoe(r,n.props.eventKey)),"expandedKeys"in t.props||t.setExpandedKeys(o),null===u||void 0===u||u(o,{node:moe(n.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),p.props.eventKey!==v||0!==b?(t.setState({dragOverNodeKey:G,dropPosition:A,dropLevelOffset:b,dropTargetKey:v,dropContainerKey:y,dropTargetPos:Z,dropAllowed:S}),null===g||void 0===g||g({event:e,node:moe(n.props),expandedKeys:r})):t.resetDragState()):t.resetDragState()}else t.resetDragState()})),an(TG(t),"onNodeDragOver",(function(e,n){var o=t.state,r=o.dragChildrenKeys,a=o.flattenNodes,i=o.keyEntities,l=o.expandedKeys,c=o.indent,s=t.props,g=s.onDragOver,u=s.allowDrop,d=s.direction,I=TG(t).dragNode;if(I){var C=koe(e,I,n,c,t.dragStartMousePosition,u,a,i,l,d),m=C.dropPosition,h=C.dropLevelOffset,p=C.dropTargetKey,f=C.dropContainerKey,A=C.dropAllowed,b=C.dropTargetPos,v=C.dragOverNodeKey;-1===r.indexOf(p)&&A&&(I.props.eventKey===p&&0===h?null===t.state.dropPosition&&null===t.state.dropLevelOffset&&null===t.state.dropTargetKey&&null===t.state.dropContainerKey&&null===t.state.dropTargetPos&&!1===t.state.dropAllowed&&null===t.state.dragOverNodeKey||t.resetDragState():m===t.state.dropPosition&&h===t.state.dropLevelOffset&&p===t.state.dropTargetKey&&f===t.state.dropContainerKey&&b===t.state.dropTargetPos&&A===t.state.dropAllowed&&v===t.state.dragOverNodeKey||t.setState({dropPosition:m,dropLevelOffset:h,dropTargetKey:p,dropContainerKey:f,dropTargetPos:b,dropAllowed:A,dragOverNodeKey:v}),null===g||void 0===g||g({event:e,node:moe(n.props)}))}})),an(TG(t),"onNodeDragLeave",(function(e,n){t.currentMouseOverDroppableNodeKey!==n.props.eventKey||e.currentTarget.contains(e.relatedTarget)||(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var o=t.props.onDragLeave;null===o||void 0===o||o({event:e,node:moe(n.props)})})),an(TG(t),"onWindowDragEnd",(function(e){t.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)})),an(TG(t),"onNodeDragEnd",(function(e,n){var o=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),null===o||void 0===o||o({event:e,node:moe(n.props)}),t.dragNode=null,window.removeEventListener("dragend",t.onWindowDragEnd)})),an(TG(t),"onNodeDrop",(function(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.state,i=a.dragChildrenKeys,l=a.dropPosition,c=a.dropTargetKey,s=a.dropTargetPos;if(a.dropAllowed){var g=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),null!==c){var u=cn(cn({},Coe(c,t.getTreeNodeRequiredProps())),{},{active:(null===(o=t.getActiveItem())||void 0===o?void 0:o.key)===c,data:ioe(t.state.keyEntities,c).node}),d=-1!==i.indexOf(c);Mv(!d,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var I=Soe(s),C={event:e,node:moe(u),dragNode:t.dragNode?moe(t.dragNode.props):null,dragNodesKeys:[t.dragNode.props.eventKey].concat(i),dropToGap:0!==l,dropPosition:l+Number(I[I.length-1])};r||null===g||void 0===g||g(C),t.dragNode=null}}})),an(TG(t),"cleanDragState",(function(){null!==t.state.draggingNodeKey&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null})),an(TG(t),"triggerExpandActionExpand",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.flattenNodes,i=n.expanded,l=n.key;if(!(n.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var c=a.filter((function(e){return e.key===l}))[0],s=moe(cn(cn({},Coe(l,t.getTreeNodeRequiredProps())),{},{data:c.data}));t.setExpandedKeys(i?yoe(r,l):Zoe(r,l)),t.onNodeExpand(e,s)}})),an(TG(t),"onNodeClick",(function(e,n){var o=t.props,r=o.onClick;"click"===o.expandAction&&t.triggerExpandActionExpand(e,n),null===r||void 0===r||r(e,n)})),an(TG(t),"onNodeDoubleClick",(function(e,n){var o=t.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&t.triggerExpandActionExpand(e,n),null===r||void 0===r||r(e,n)})),an(TG(t),"onNodeSelect",(function(e,n){var o=t.state.selectedKeys,r=t.state,a=r.keyEntities,i=r.fieldNames,l=t.props,c=l.onSelect,s=l.multiple,g=n.selected,u=n[i.key],d=!g,I=(o=d?s?Zoe(o,u):[u]:yoe(o,u)).map((function(e){var t=ioe(a,e);return t?t.node:null})).filter((function(e){return e}));t.setUncontrolledState({selectedKeys:o}),null===c||void 0===c||c(o,{event:"select",selected:d,node:n,selectedNodes:I,nativeEvent:e.nativeEvent})})),an(TG(t),"onNodeCheck",(function(e,n,o){var r,a=t.state,i=a.keyEntities,l=a.checkedKeys,c=a.halfCheckedKeys,s=t.props,g=s.checkStrictly,u=s.onCheck,d=n.key,I={event:"check",node:n,checked:o,nativeEvent:e.nativeEvent};if(g){var C=o?Zoe(l,d):yoe(l,d);r={checked:C,halfChecked:yoe(c,d)},I.checkedNodes=C.map((function(e){return ioe(i,e)})).filter((function(e){return e})).map((function(e){return e.node})),t.setUncontrolledState({checkedKeys:C})}else{var m=Xoe([].concat(fv(l),[d]),!0,i),h=m.checkedKeys,p=m.halfCheckedKeys;if(!o){var f=new Set(h);f.delete(d);var A=Xoe(Array.from(f),{checked:!1,halfCheckedKeys:p},i);h=A.checkedKeys,p=A.halfCheckedKeys}r=h,I.checkedNodes=[],I.checkedNodesPositions=[],I.halfCheckedKeys=p,h.forEach((function(e){var t=ioe(i,e);if(t){var n=t.node,o=t.pos;I.checkedNodes.push(n),I.checkedNodesPositions.push({node:n,pos:o})}})),t.setUncontrolledState({checkedKeys:h},!1,{halfCheckedKeys:p})}null===u||void 0===u||u(r,I)})),an(TG(t),"onNodeLoad",(function(e){var n,o=e.key,r=ioe(t.state.keyEntities,o);if(null===r||void 0===r||null===(n=r.children)||void 0===n||!n.length){var a=new Promise((function(n,r){t.setState((function(a){var i=a.loadedKeys,l=void 0===i?[]:i,c=a.loadingKeys,s=void 0===c?[]:c,g=t.props,u=g.loadData,d=g.onLoad;return u&&-1===l.indexOf(o)&&-1===s.indexOf(o)?(u(e).then((function(){var r=Zoe(t.state.loadedKeys,o);null===d||void 0===d||d(r,{event:"load",node:e}),t.setUncontrolledState({loadedKeys:r}),t.setState((function(e){return{loadingKeys:yoe(e.loadingKeys,o)}})),n()})).catch((function(e){if(t.setState((function(e){return{loadingKeys:yoe(e.loadingKeys,o)}})),t.loadingRetryTimes[o]=(t.loadingRetryTimes[o]||0)+1,t.loadingRetryTimes[o]>=10){var a=t.state.loadedKeys;Mv(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:Zoe(a,o)}),n()}r(e)})),{loadingKeys:Zoe(s,o)}):null}))}));return a.catch((function(){})),a}})),an(TG(t),"onNodeMouseEnter",(function(e,n){var o=t.props.onMouseEnter;null===o||void 0===o||o({event:e,node:n})})),an(TG(t),"onNodeMouseLeave",(function(e,n){var o=t.props.onMouseLeave;null===o||void 0===o||o({event:e,node:n})})),an(TG(t),"onNodeContextMenu",(function(e,n){var o=t.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:n}))})),an(TG(t),"onFocus",(function(){var e=t.props.onFocus;t.setState({focused:!0});for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===e||void 0===e||e.apply(void 0,o)})),an(TG(t),"onBlur",(function(){var e=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===e||void 0===e||e.apply(void 0,o)})),an(TG(t),"getTreeNodeRequiredProps",(function(){var e=t.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}})),an(TG(t),"setExpandedKeys",(function(e){var n=t.state,o=doe(n.treeData,e,n.fieldNames);t.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)})),an(TG(t),"onNodeExpand",(function(e,n){var o=t.state.expandedKeys,r=t.state,a=r.listChanging,i=r.fieldNames,l=t.props,c=l.onExpand,s=l.loadData,g=n.expanded,u=n[i.key];if(!a){var d=o.indexOf(u),I=!g;if(Mv(g&&-1!==d||!g&&-1===d,"Expand state not sync with index check"),o=I?Zoe(o,u):yoe(o,u),t.setExpandedKeys(o),null===c||void 0===c||c(o,{node:n,expanded:I,nativeEvent:e.nativeEvent}),I&&s){var C=t.onNodeLoad(n);C&&C.then((function(){var e=doe(t.state.treeData,o,i);t.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=yoe(t.state.expandedKeys,u);t.setExpandedKeys(e)}))}}})),an(TG(t),"onListChangeStart",(function(){t.setUncontrolledState({listChanging:!0})})),an(TG(t),"onListChangeEnd",(function(){setTimeout((function(){t.setUncontrolledState({listChanging:!1})}))})),an(TG(t),"onActiveChange",(function(e){var n=t.state.activeKey,o=t.props,r=o.onActiveChange,a=o.itemScrollOffset,i=void 0===a?0:a;n!==e&&(t.setState({activeKey:e}),null!==e&&t.scrollTo({key:e,offset:i}),null===r||void 0===r||r(e))})),an(TG(t),"getActiveItem",(function(){var e=t.state,n=e.activeKey,o=e.flattenNodes;return null===n?null:o.find((function(e){return e.key===n}))||null})),an(TG(t),"offsetActiveKey",(function(e){var n=t.state,o=n.flattenNodes,r=n.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=o.length);var i=o[a=(a+e+o.length)%o.length];if(i){var l=i.key;t.onActiveChange(l)}else t.onActiveChange(null)})),an(TG(t),"onKeyDown",(function(e){var n=t.state,o=n.activeKey,r=n.expandedKeys,a=n.checkedKeys,i=n.fieldNames,l=t.props,c=l.onKeyDown,s=l.checkable,g=l.selectable;switch(e.which){case rw.UP:t.offsetActiveKey(-1),e.preventDefault();break;case rw.DOWN:t.offsetActiveKey(1),e.preventDefault()}var u=t.getActiveItem();if(u&&u.data){var d=t.getTreeNodeRequiredProps(),I=!1===u.data.isLeaf||!!(u.data[i.children]||[]).length,C=moe(cn(cn({},Coe(o,d)),{},{data:u.data,active:!0}));switch(e.which){case rw.LEFT:I&&r.includes(o)?t.onNodeExpand({},C):u.parent&&t.onActiveChange(u.parent.key),e.preventDefault();break;case rw.RIGHT:I&&!r.includes(o)?t.onNodeExpand({},C):u.children&&u.children.length&&t.onActiveChange(u.children[0].key),e.preventDefault();break;case rw.ENTER:case rw.SPACE:!s||C.disabled||!1===C.checkable||C.disableCheckbox?s||!g||C.disabled||!1===C.selectable||t.onNodeSelect({},C):t.onNodeCheck({},C,!a.includes(o))}}null===c||void 0===c||c(e)})),an(TG(t),"setUncontrolledState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.destroyed){var r=!1,a=!0,i={};Object.keys(e).forEach((function(n){n in t.props?a=!1:(r=!0,i[n]=e[n])})),!r||n&&!a||t.setState(cn(cn({},i),o))}})),an(TG(t),"scrollTo",(function(e){t.listRef.current.scrollTo(e)})),t}return Dv(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,o=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var t,n=this.state,o=n.focused,r=n.flattenNodes,a=n.keyEntities,i=n.draggingNodeKey,l=n.activeKey,c=n.dropLevelOffset,s=n.dropContainerKey,g=n.dropTargetKey,u=n.dropPosition,d=n.dragOverNodeKey,I=n.indent,C=this.props,m=C.prefixCls,h=C.className,p=C.style,f=C.showLine,A=C.focusable,b=C.tabIndex,v=void 0===b?0:b,y=C.selectable,Z=C.showIcon,S=C.icon,G=C.switcherIcon,B=C.draggable,k=C.checkable,w=C.checkStrictly,R=C.disabled,V=C.motion,W=C.loadData,x=C.filterTreeNode,X=C.height,N=C.itemHeight,J=C.virtual,E=C.titleRender,H=C.dropIndicatorRender,Y=C.onContextMenu,F=C.onScroll,K=C.direction,M=C.rootClassName,L=C.rootStyle,T=sw(this.props,{aria:!0,data:!0});return B&&(t="object"===on(B)?B:"function"===typeof B?{nodeDraggable:B}:{}),e.createElement(ooe.Provider,{value:{prefixCls:m,selectable:y,showIcon:Z,icon:S,switcherIcon:G,draggable:t,draggingNodeKey:i,checkable:k,checkStrictly:w,disabled:R,keyEntities:a,dropLevelOffset:c,dropContainerKey:s,dropTargetKey:g,dropPosition:u,dragOverNodeKey:d,indent:I,direction:K,dropIndicatorRender:H,loadData:W,filterTreeNode:x,titleRender:E,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},e.createElement("div",{role:"tree",className:BG()(m,h,M,an(an(an({},"".concat(m,"-show-line"),f),"".concat(m,"-focused"),o),"".concat(m,"-active-focused"),null!==l)),style:L},e.createElement(Wre,Ey({ref:this.listRef,prefixCls:m,style:p,data:r,disabled:R,selectable:y,checkable:!!k,motion:V,dragging:null!==i,height:X,itemHeight:N,virtual:J,focusable:A,focused:o,tabIndex:v,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Y,onScroll:F},this.getTreeNodeRequiredProps(),T))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,r={prevProps:e};function a(t){return!o&&t in e||o&&o[t]!==e[t]}var i=t.fieldNames;if(a("fieldNames")&&(i=goe(e.fieldNames),r.fieldNames=i),a("treeData")?n=e.treeData:a("children")&&(Mv(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=uoe(e.children)),n){r.treeData=n;var l=Ioe(n,{fieldNames:i});r.keyEntities=cn(an({},Sre,Bre),l.keyEntities)}var c,s=r.keyEntities||t.keyEntities;if(a("expandedKeys")||o&&a("autoExpandParent"))r.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?Voe(e.expandedKeys,s):e.expandedKeys;else if(!o&&e.defaultExpandAll){var g=cn({},s);delete g[Sre],r.expandedKeys=Object.keys(g).map((function(e){return g[e].key}))}else!o&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Voe(e.defaultExpandedKeys,s):e.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,n||r.expandedKeys){var u=doe(n||t.treeData,r.expandedKeys||t.expandedKeys,i);r.flattenNodes=u}if((e.selectable&&(a("selectedKeys")?r.selectedKeys=woe(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(r.selectedKeys=woe(e.defaultSelectedKeys,e))),e.checkable)&&(a("checkedKeys")?c=Roe(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?c=Roe(e.defaultCheckedKeys)||{}:n&&(c=Roe(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),c)){var d=c,I=d.checkedKeys,C=void 0===I?[]:I,m=d.halfCheckedKeys,h=void 0===m?[]:m;if(!e.checkStrictly){var p=Xoe(C,!0,s);C=p.checkedKeys,h=p.halfCheckedKeys}r.checkedKeys=C,r.halfCheckedKeys=h}return a("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}]),o}(e.Component);an(xre,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(t){var n=t.dropPosition,o=t.dropLevelOffset,r=t.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:a.top=0,a.left=-o*r;break;case 1:a.bottom=0,a.left=-o*r;break;case 0:a.bottom=0,a.left=r}return e.createElement("div",{style:a})},allowDrop:function(){return!0},expandAction:!1}),an(xre,"TreeNode",voe);const Xre=xre;const Nre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var Jre=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Nre}))};const Ere=e.forwardRef(Jre);const Hre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var Yre=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Hre}))};const Fre=e.forwardRef(Yre);const Kre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var Mre=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Kre}))};const Lre=e.forwardRef(Mre);const Tre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};var zre=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Tre}))};const Dre=e.forwardRef(zre),Ore=new TZ("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),jre=(e,t)=>({[".".concat(e,"-switcher-icon")]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(t.motionDurationSlow)}}}),Ure=(e,t)=>({[".".concat(e,"-drop-indicator")]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(Iy(t.lineWidthBold)," solid ").concat(t.colorPrimary),borderRadius:"50%",content:'""'}}}),Pre=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:r,titleHeight:a,nodeSelectedBg:i,nodeHoverBg:l}=t,c=t.paddingXS;return{[n]:Object.assign(Object.assign({},ik(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:"background-color ".concat(t.motionDurationSlow),["&".concat(n,"-rtl")]:{["".concat(n,"-switcher")]:{"&_close":{["".concat(n,"-switcher-icon")]:{svg:{transform:"rotate(90deg)"}}}}},["&-focused:not(:hover):not(".concat(n,"-active-focused)")]:Object.assign({},sk(t)),["".concat(n,"-list-holder-inner")]:{alignItems:"flex-start"},["&".concat(n,"-block-node")]:{["".concat(n,"-list-holder-inner")]:{alignItems:"stretch",["".concat(n,"-node-content-wrapper")]:{flex:"auto"},["".concat(o,".dragging")]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,border:"1px solid ".concat(t.colorPrimary),opacity:0,animationName:Ore,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},["".concat(o)]:{display:"flex",alignItems:"flex-start",padding:"0 0 ".concat(Iy(r)," 0"),outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{["".concat(n,"-node-content-wrapper")]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},["&-active ".concat(n,"-node-content-wrapper")]:{background:t.controlItemBgHover},["&:not(".concat(o,"-disabled).filter-node ").concat(n,"-title")]:{color:"inherit",fontWeight:500},"&-draggable":{cursor:"grab",["".concat(n,"-draggable-icon")]:{flexShrink:0,width:a,lineHeight:"".concat(Iy(a)),textAlign:"center",visibility:"visible",opacity:.2,transition:"opacity ".concat(t.motionDurationSlow),["".concat(o,":hover &")]:{opacity:.45}},["&".concat(o,"-disabled")]:{["".concat(n,"-draggable-icon")]:{visibility:"hidden"}}}},["".concat(n,"-indent")]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},["".concat(n,"-draggable-icon")]:{visibility:"hidden"},["".concat(n,"-switcher")]:Object.assign(Object.assign({},jre(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,margin:0,lineHeight:"".concat(Iy(a)),textAlign:"center",cursor:"pointer",userSelect:"none",transition:"all ".concat(t.motionDurationSlow),borderRadius:t.borderRadius,"&-noop":{cursor:"unset"},["&:not(".concat(n,"-switcher-noop):hover")]:{backgroundColor:t.colorBgTextHover},"&_close":{["".concat(n,"-switcher-icon")]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:"1px solid ".concat(t.colorBorder),content:'""'}}}),["".concat(n,"-checkbox")]:{top:"initial",marginInlineEnd:c,alignSelf:"flex-start",marginTop:t.marginXXS},["".concat(n,"-node-content-wrapper, ").concat(n,"-checkbox + span")]:{position:"relative",zIndex:"auto",minHeight:a,margin:0,padding:"0 ".concat(Iy(t.calc(t.paddingXS).div(2).equal())),color:"inherit",lineHeight:"".concat(Iy(a)),background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:"all ".concat(t.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s"),"&:hover":{backgroundColor:l},["&".concat(n,"-node-selected")]:{backgroundColor:i},["".concat(n,"-iconEle")]:{display:"inline-block",width:a,height:a,lineHeight:"".concat(Iy(a)),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},["".concat(n,"-unselectable ").concat(n,"-node-content-wrapper:hover")]:{backgroundColor:"transparent"},["".concat(n,"-node-content-wrapper")]:Object.assign({lineHeight:"".concat(Iy(a)),userSelect:"none"},Ure(e,t)),["".concat(o,".drop-container")]:{"> [draggable]":{boxShadow:"0 0 0 2px ".concat(t.colorPrimary)}},"&-show-line":{["".concat(n,"-indent")]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&-end":{"&:before":{display:"none"}}}},["".concat(n,"-switcher")]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},["".concat(o,"-leaf-last")]:{["".concat(n,"-switcher")]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:"".concat(Iy(t.calc(a).div(2).equal())," !important")}}}}})}},Qre=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o,directoryNodeSelectedBg:r,directoryNodeSelectedColor:a}=e;return{["".concat(t).concat(t,"-directory")]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:"background-color ".concat(e.motionDurationMid),content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},["".concat(t,"-switcher")]:{transition:"color ".concat(e.motionDurationMid)},["".concat(t,"-node-content-wrapper")]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},["&".concat(t,"-node-selected")]:{color:a,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:r},["".concat(t,"-switcher")]:{color:a},["".concat(t,"-node-content-wrapper")]:{color:a,background:"transparent"}}}}}},_re=(e,t)=>{const n=".".concat(e),o="".concat(n,"-treenode"),r=t.calc(t.paddingXS).div(2).equal(),a=xw(t,{treeCls:n,treeNodeCls:o,treeNodePadding:r});return[Pre(e,a),Qre(a)]},qre=Uw("Tree",((e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:o6("".concat(n,"-checkbox"),e)},_re(n,e),SN(e)]}),(e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t}=e;return{titleHeight:t,nodeHoverBg:e.controlItemBgHover,nodeSelectedBg:e.controlItemBgActive}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})}));function $re(t){const{dropPosition:n,dropLevelOffset:o,prefixCls:r,indent:a,direction:i="ltr"}=t,l="ltr"===i?"left":"right",c="ltr"===i?"right":"left",s={[l]:-o*a+4,[c]:0};switch(n){case-1:s.top=-3;break;case 1:s.bottom=-3;break;default:s.bottom=-3,s[l]=a+4}return e.createElement("div",{style:s,className:"".concat(r,"-drop-indicator")})}const eae={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var tae=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:eae}))};const nae=e.forwardRef(tae);const oae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};var rae=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:oae}))};const aae=e.forwardRef(rae);const iae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};var lae=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:iae}))};const cae=e.forwardRef(lae),sae=t=>{const{prefixCls:n,switcherIcon:o,treeNodeProps:r,showLine:a}=t,{isLeaf:i,expanded:l,loading:c}=r;if(c)return e.createElement(nw,{className:"".concat(n,"-switcher-loading-icon")});let s;if(a&&"object"===typeof a&&(s=a.showLeafIcon),i){if(!a)return null;if("boolean"!==typeof s&&s){const t="function"===typeof s?s(r):s,o="".concat(n,"-switcher-line-custom-icon");return e.isValidElement(t)?ZW(t,{className:BG()(t.props.className||"",o)}):t}return s?e.createElement(Ere,{className:"".concat(n,"-switcher-line-icon")}):e.createElement("span",{className:"".concat(n,"-switcher-leaf-line")})}const g="".concat(n,"-switcher-icon"),u="function"===typeof o?o(r):o;return e.isValidElement(u)?ZW(u,{className:BG()(u.props.className||"",g)}):void 0!==u?u:a?l?e.createElement(aae,{className:"".concat(n,"-switcher-line-icon")}):e.createElement(cae,{className:"".concat(n,"-switcher-line-icon")}):e.createElement(nae,{className:g})},gae=e.forwardRef(((t,n)=>{var o;const{getPrefixCls:r,direction:a,virtual:i,tree:l}=e.useContext(gv),{prefixCls:c,className:s,showIcon:g=!1,showLine:u,switcherIcon:d,blockNode:I=!1,children:C,checkable:m=!1,selectable:h=!0,draggable:p,motion:f,style:A}=t,b=r("tree",c),v=r(),y=null!==f&&void 0!==f?f:Object.assign(Object.assign({},vX(v)),{motionAppear:!1}),Z=Object.assign(Object.assign({},t),{checkable:m,selectable:h,showIcon:g,motion:y,blockNode:I,showLine:Boolean(u),dropIndicatorRender:$re}),[S,G,B]=qre(b),[,k]=nk(),w=k.paddingXS/2+((null===(o=k.Tree)||void 0===o?void 0:o.titleHeight)||k.controlHeightSM),R=e.useMemo((()=>{if(!p)return!1;let t={};switch(typeof p){case"function":t.nodeDraggable=p;break;case"object":t=Object.assign({},p)}return!1!==t.icon&&(t.icon=t.icon||e.createElement(Dre,null)),t}),[p]);return S(e.createElement(Xre,Object.assign({itemHeight:w,ref:n,virtual:i},Z,{style:Object.assign(Object.assign({},null===l||void 0===l?void 0:l.style),A),prefixCls:b,className:BG()({["".concat(b,"-icon-hide")]:!g,["".concat(b,"-block-node")]:I,["".concat(b,"-unselectable")]:!h,["".concat(b,"-rtl")]:"rtl"===a},null===l||void 0===l?void 0:l.className,s,G,B),direction:a,checkable:m?e.createElement("span",{className:"".concat(b,"-checkbox-inner")}):m,selectable:h,switcherIcon:t=>e.createElement(sae,{prefixCls:b,switcherIcon:d,treeNodeProps:t,showLine:u}),draggable:R}),C))}));const uae=gae;function dae(e,t,n){const{key:o,children:r}=n;e.forEach((function(e){const a=e[o],i=e[r];!1!==t(a,e)&&dae(i||[],t,n)}))}function Iae(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:r,fieldNames:a}=e;const i=[];let l=0;if(o&&o===r)return[o];if(!o||!r)return[];return dae(t,(e=>{if(2===l)return!1;if(function(e){return e===o||e===r}(e)){if(i.push(e),0===l)l=1;else if(1===l)return l=2,!1}else 1===l&&i.push(e);return n.includes(e)}),goe(a)),i}function Cae(e,t,n){const o=fv(t),r=[];return dae(e,((e,t)=>{const n=o.indexOf(e);return-1!==n&&(r.push(t),o.splice(n,1)),!!o.length}),goe(n)),r}var mae=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function hae(t){const{isLeaf:n,expanded:o}=t;return n?e.createElement(Ere,null):o?e.createElement(Fre,null):e.createElement(Lre,null)}function pae(e){let{treeData:t,children:n}=e;return t||uoe(n)}const fae=(t,n)=>{var{defaultExpandAll:o,defaultExpandParent:r,defaultExpandedKeys:a}=t,i=mae(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const l=e.useRef(),c=e.useRef(),[s,g]=e.useState(i.selectedKeys||i.defaultSelectedKeys||[]),[u,d]=e.useState((()=>(()=>{const{keyEntities:e}=Ioe(pae(i));let t;return t=o?Object.keys(e):r?Voe(i.expandedKeys||a||[],e):i.expandedKeys||a||[],t})()));e.useEffect((()=>{"selectedKeys"in i&&g(i.selectedKeys)}),[i.selectedKeys]),e.useEffect((()=>{"expandedKeys"in i&&d(i.expandedKeys)}),[i.expandedKeys]);const{getPrefixCls:I,direction:C}=e.useContext(gv),{prefixCls:m,className:h,showIcon:p=!0,expandAction:f="click"}=i,A=mae(i,["prefixCls","className","showIcon","expandAction"]),b=I("tree",m),v=BG()("".concat(b,"-directory"),{["".concat(b,"-directory-rtl")]:"rtl"===C},h);return e.createElement(uae,Object.assign({icon:hae,ref:n,blockNode:!0},A,{showIcon:p,expandAction:f,prefixCls:b,className:v,expandedKeys:u,selectedKeys:s,onSelect:(e,t)=>{var n;const{multiple:o,fieldNames:r}=i,{node:a,nativeEvent:s}=t,{key:d=""}=a,I=pae(i),C=Object.assign(Object.assign({},t),{selected:!0}),m=(null===s||void 0===s?void 0:s.ctrlKey)||(null===s||void 0===s?void 0:s.metaKey),h=null===s||void 0===s?void 0:s.shiftKey;let p;o&&m?(p=e,l.current=d,c.current=p,C.selectedNodes=Cae(I,p,r)):o&&h?(p=Array.from(new Set([].concat(fv(c.current||[]),fv(Iae({treeData:I,expandedKeys:u,startKey:d,endKey:l.current,fieldNames:r}))))),C.selectedNodes=Cae(I,p,r)):(p=[d],l.current=d,c.current=p,C.selectedNodes=Cae(I,p,r)),null===(n=i.onSelect)||void 0===n||n.call(i,p,C),"selectedKeys"in i||g(p)},onExpand:(e,t)=>{var n;return"expandedKeys"in i||d(e),null===(n=i.onExpand)||void 0===n?void 0:n.call(i,e,t)}}))};const Aae=e.forwardRef(fae),bae=uae;bae.DirectoryTree=Aae,bae.TreeNode=voe;const vae=bae;const yae=function(t){let{value:n,onChange:o,filterSearch:r,tablePrefixCls:a,locale:i}=t;return r?e.createElement("div",{className:"".concat(a,"-filter-dropdown-search")},e.createElement(r_,{prefix:e.createElement(wO,null),placeholder:i.filterSearchPlaceholder,onChange:o,value:n,htmlSize:1,className:"".concat(a,"-filter-dropdown-search-input")})):null},Zae=e=>{const{keyCode:t}=e;t===rw.ENTER&&e.stopPropagation()},Sae=e.forwardRef(((t,n)=>e.createElement("div",{className:t.className,onClick:e=>e.stopPropagation(),onKeyDown:Zae,ref:n},t.children)));const Gae=Sae;function Bae(e){let t=[];return(e||[]).forEach((e=>{let{value:n,children:o}=e;t.push(n),o&&(t=[].concat(fv(t),fv(Bae(o))))})),t}function kae(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function wae(t){let{filters:n,prefixCls:o,filteredKeys:r,filterMultiple:a,searchValue:i,filterSearch:l}=t;return n.map(((t,n)=>{const c=String(t.value);if(t.children)return{key:c||n,label:t.text,popupClassName:"".concat(o,"-dropdown-submenu"),children:wae({filters:t.children,prefixCls:o,filteredKeys:r,filterMultiple:a,searchValue:i,filterSearch:l})};const s=a?d6:qoe,g={key:void 0!==t.value?c:n,label:e.createElement(e.Fragment,null,e.createElement(s,{checked:r.includes(c)}),e.createElement("span",null,t.text))};return i.trim()?"function"===typeof l?l(i,t)?g:null:kae(i,t.text)?g:null:g}))}function Rae(e){return e||[]}const Vae=function(t){var n,o;const{tablePrefixCls:r,prefixCls:a,column:i,dropdownPrefixCls:l,columnKey:c,filterOnClose:s,filterMultiple:g,filterMode:u="menu",filterSearch:d=!1,filterState:I,triggerFilter:C,locale:m,children:h,getPopupContainer:p,rootClassName:f}=t,{filterDropdownOpen:A,onFilterDropdownOpenChange:b,filterResetToDefaultFilteredValue:v,defaultFilteredValue:y,filterDropdownVisible:Z,onFilterDropdownVisibleChange:S}=i,[G,B]=e.useState(!1),k=!(!I||!(null===(n=I.filteredKeys)||void 0===n?void 0:n.length)&&!I.forceFiltered),w=e=>{B(e),null===b||void 0===b||b(e),null===S||void 0===S||S(e)},R=null!==(o=null!==A&&void 0!==A?A:Z)&&void 0!==o?o:G,V=null===I||void 0===I?void 0:I.filteredKeys,[W,x]=function(t){const n=e.useRef(t),o=b3();return[()=>n.current,e=>{n.current=e,o()}]}(Rae(V)),X=e=>{let{selectedKeys:t}=e;x(t)},N=(e,t)=>{let{node:n,checked:o}=t;X(g?{selectedKeys:e}:{selectedKeys:o&&n.key?[n.key]:[]})};e.useEffect((()=>{G&&X({selectedKeys:Rae(V)})}),[V]);const[J,E]=e.useState([]),H=e=>{E(e)},[Y,F]=e.useState(""),K=e=>{const{value:t}=e.target;F(t)};e.useEffect((()=>{G||F("")}),[G]);const M=e=>{const t=e&&e.length?e:null;return null!==t||I&&I.filteredKeys?Lv(t,null===I||void 0===I?void 0:I.filteredKeys,!0)?null:void C({column:i,key:c,filteredKeys:t}):null},L=()=>{w(!1),M(W())},T=function(){let{confirm:e,closeDropdown:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1};e&&M([]),t&&w(!1),F(""),x(v?(y||[]).map((e=>String(e))):[])},z=function(){let{closeDropdown:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0};e&&w(!1),M(W())},D=BG()({["".concat(l,"-menu-without-submenu")]:(O=i.filters||[],!O.some((e=>{let{children:t}=e;return t})))});var O;const j=e=>{if(e.target.checked){const e=Bae(null===i||void 0===i?void 0:i.filters).map((e=>String(e)));x(e)}else x([])},U=e=>{let{filters:t}=e;return(t||[]).map(((e,t)=>{const n=String(e.value),o={title:e.text,key:void 0!==e.value?n:String(t)};return e.children&&(o.children=U({filters:e.children})),o}))},P=e=>{var t;return Object.assign(Object.assign({},e),{text:e.title,value:e.key,children:(null===(t=e.children)||void 0===t?void 0:t.map((e=>P(e))))||[]})};let Q,_;if("function"===typeof i.filterDropdown)Q=i.filterDropdown({prefixCls:"".concat(l,"-custom"),setSelectedKeys:e=>X({selectedKeys:e}),selectedKeys:W(),confirm:z,clearFilters:T,filters:i.filters,visible:R,close:()=>{w(!1)}});else if(i.filterDropdown)Q=i.filterDropdown;else{const t=W()||[],n=()=>{const n=e.createElement(jD,{image:jD.PRESENTED_IMAGE_SIMPLE,description:m.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}});if(0===(i.filters||[]).length)return n;if("tree"===u)return e.createElement(e.Fragment,null,e.createElement(yae,{filterSearch:d,value:Y,onChange:K,tablePrefixCls:r,locale:m}),e.createElement("div",{className:"".concat(r,"-filter-dropdown-tree")},g?e.createElement(d6,{checked:t.length===Bae(i.filters).length,indeterminate:t.length>0&&t.length<Bae(i.filters).length,className:"".concat(r,"-filter-dropdown-checkall"),onChange:j},m.filterCheckall):null,e.createElement(vae,{checkable:!0,selectable:!1,blockNode:!0,multiple:g,checkStrictly:!g,className:"".concat(l,"-menu"),onCheck:N,checkedKeys:t,selectedKeys:t,showIcon:!1,treeData:U({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:Y.trim()?e=>"function"===typeof d?d(Y,P(e)):kae(Y,e.title):void 0})));const o=wae({filters:i.filters||[],filterSearch:d,prefixCls:a,filteredKeys:W(),filterMultiple:g,searchValue:Y}),c=o.every((e=>null===e));return e.createElement(e.Fragment,null,e.createElement(yae,{filterSearch:d,value:Y,onChange:K,tablePrefixCls:r,locale:m}),c?n:e.createElement($N,{selectable:!0,multiple:g,prefixCls:"".concat(l,"-menu"),className:D,onSelect:X,onDeselect:X,selectedKeys:t,getPopupContainer:p,openKeys:J,onOpenChange:H,items:o}))},o=()=>v?Lv((y||[]).map((e=>String(e))),t,!0):0===t.length;Q=e.createElement(e.Fragment,null,n(),e.createElement("div",{className:"".concat(a,"-dropdown-btns")},e.createElement(AE,{type:"link",size:"small",disabled:o(),onClick:()=>T()},m.filterReset),e.createElement(AE,{type:"primary",size:"small",onClick:L},m.filterConfirm)))}i.filterDropdown&&(Q=e.createElement(yN,{selectable:void 0},Q)),_="function"===typeof i.filterIcon?i.filterIcon(k):i.filterIcon?i.filterIcon:e.createElement(mre,null);const{direction:q}=e.useContext(gv);return e.createElement("div",{className:"".concat(a,"-column")},e.createElement("span",{className:"".concat(r,"-column-title")},h),e.createElement(XE,{dropdownRender:()=>e.createElement(Gae,{className:"".concat(a,"-dropdown")},Q),trigger:["click"],open:R,onOpenChange:(e,t)=>{"trigger"===t.source&&(e&&void 0!==V&&x(Rae(V)),w(e),e||i.filterDropdown||!s||L())},getPopupContainer:p,placement:"rtl"===q?"bottomLeft":"bottomRight",rootClassName:f},e.createElement("span",{role:"button",tabIndex:-1,className:BG()("".concat(a,"-trigger"),{active:k}),onClick:e=>{e.stopPropagation()}},_)))};function Wae(e,t,n){let o=[];return(e||[]).forEach(((e,r)=>{var a;const i=ure(r,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){let t=e.filteredValue;"filterDropdown"in e||(t=null!==(a=null===t||void 0===t?void 0:t.map(String))&&void 0!==a?a:t),o.push({column:e,key:gre(e,i),filteredKeys:t,forceFiltered:e.filtered})}else o.push({column:e,key:gre(e,i),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(o=[].concat(fv(o),fv(Wae(e.children,t,i))))})),o}function xae(t,n,o,r,a,i,l,c,s){return o.map(((o,g)=>{const u=ure(g,c),{filterOnClose:d=!0,filterMultiple:I=!0,filterMode:C,filterSearch:m}=o;let h=o;if(h.filters||h.filterDropdown){const c=gre(h,u),g=r.find((e=>{let{key:t}=e;return c===t}));h=Object.assign(Object.assign({},h),{title:r=>e.createElement(Vae,{tablePrefixCls:t,prefixCls:"".concat(t,"-filter"),dropdownPrefixCls:n,column:h,columnKey:c,filterState:g,filterOnClose:d,filterMultiple:I,filterMode:C,filterSearch:m,triggerFilter:i,locale:a,getPopupContainer:l,rootClassName:s},dre(o.title,r))})}return"children"in h&&(h=Object.assign(Object.assign({},h),{children:xae(t,n,h.children,r,a,i,l,u,s)})),h}))}function Xae(e){const t={};return e.forEach((e=>{let{key:n,filteredKeys:o,column:r}=e;const a=n,{filters:i,filterDropdown:l}=r;if(l)t[a]=o||null;else if(Array.isArray(o)){const e=Bae(i);t[a]=e.filter((e=>o.includes(String(e))))}else t[a]=null})),t}function Nae(e,t,n){return t.reduce(((e,o)=>{const{column:{onFilter:r,filters:a},filteredKeys:i}=o;return r&&i&&i.length?e.map((e=>Object.assign({},e))).filter((e=>i.some((o=>{const i=Bae(a),l=i.findIndex((e=>String(e)===String(o))),c=-1!==l?i[l]:o;return e[n]&&(e[n]=Nae(e[n],t,n)),r(c,e)})))):e}),e)}const Jae=e=>e.flatMap((e=>"children"in e?[e].concat(fv(Jae(e.children||[]))):[e]));const Eae=function(t){let{prefixCls:n,dropdownPrefixCls:o,mergedColumns:r,onFilterChange:a,getPopupContainer:i,locale:l,rootClassName:c}=t;tS("Table");const s=e.useMemo((()=>Jae(r||[])),[r]),[g,u]=e.useState((()=>Wae(s,!0))),d=e.useMemo((()=>{const e=Wae(s,!1);if(0===e.length)return e;let t=!0,n=!0;if(e.forEach((e=>{let{filteredKeys:o}=e;void 0!==o?t=!1:n=!1})),t){const e=(s||[]).map(((e,t)=>gre(e,ure(t))));return g.filter((t=>{let{key:n}=t;return e.includes(n)})).map((t=>{const n=s[e.findIndex((e=>e===t.key))];return Object.assign(Object.assign({},t),{column:Object.assign(Object.assign({},t.column),n),forceFiltered:n.filtered})}))}return e}),[s,g]),I=e.useMemo((()=>Xae(d)),[d]),C=e=>{const t=d.filter((t=>{let{key:n}=t;return n!==e.key}));t.push(e),u(t),a(Xae(t),t)};return[e=>xae(n,o,e,d,l,C,i,void 0,c),d,I]};var Hae=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Yae=10;const Fae=function(t,n,o){const r=o&&"object"===typeof o?o:{},{total:a=0}=r,i=Hae(r,["total"]),[l,c]=(0,e.useState)((()=>({current:"defaultCurrent"in i?i.defaultCurrent:1,pageSize:"defaultPageSize"in i?i.defaultPageSize:Yae}))),s=A3(l,i,{total:a>0?a:t}),g=Math.ceil((a||t)/s.pageSize);s.current>g&&(s.current=g||1);const u=(e,t)=>{c({current:null!==e&&void 0!==e?e:1,pageSize:t||s.pageSize})};return!1===o?[{},()=>{}]:[Object.assign(Object.assign({},s),{onChange:(e,t)=>{var r;o&&(null===(r=o.onChange)||void 0===r||r.call(o,e,t)),u(e,t),n(e,t||(null===s||void 0===s?void 0:s.pageSize))}}),u]};const Kae={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var Mae=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Kae}))};const Lae=e.forwardRef(Mae);const Tae={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};var zae=function(t,n){return e.createElement(Fk,Ey({},t,{ref:n,icon:Tae}))};const Dae=e.forwardRef(zae),Oae="ascend",jae="descend";function Uae(e){return"object"===typeof e.sorter&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function Pae(e){return"function"===typeof e?e:!(!e||"object"!==typeof e||!e.compare)&&e.compare}function Qae(e,t,n){let o=[];function r(e,t){o.push({column:e,key:gre(e,t),multiplePriority:Uae(e),sortOrder:e.sortOrder})}return(e||[]).forEach(((e,a)=>{const i=ure(a,n);e.children?("sortOrder"in e&&r(e,i),o=[].concat(fv(o),fv(Qae(e.children,t,i)))):e.sorter&&("sortOrder"in e?r(e,i):t&&e.defaultSortOrder&&o.push({column:e,key:gre(e,i),multiplePriority:Uae(e),sortOrder:e.defaultSortOrder}))})),o}function _ae(t,n,o,r,a,i,l,c){return(n||[]).map(((n,s)=>{const g=ure(s,c);let u=n;if(u.sorter){const c=u.sortDirections||a,s=void 0===u.showSorterTooltip?l:u.showSorterTooltip,d=gre(u,g),I=o.find((e=>{let{key:t}=e;return t===d})),C=I?I.sortOrder:null,m=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(c,C);let h;if(n.sortIcon)h=n.sortIcon({sortOrder:C});else{const n=c.includes(Oae)&&e.createElement(Dae,{className:BG()("".concat(t,"-column-sorter-up"),{active:C===Oae})}),o=c.includes(jae)&&e.createElement(Lae,{className:BG()("".concat(t,"-column-sorter-down"),{active:C===jae})});h=e.createElement("span",{className:BG()("".concat(t,"-column-sorter"),{["".concat(t,"-column-sorter-full")]:!(!n||!o)})},e.createElement("span",{className:"".concat(t,"-column-sorter-inner"),"aria-hidden":"true"},n,o))}const{cancelSort:p,triggerAsc:f,triggerDesc:A}=i||{};let b=p;m===jae?b=A:m===Oae&&(b=f);const v="object"===typeof s?Object.assign({title:b},s):{title:b};u=Object.assign(Object.assign({},u),{className:BG()(u.className,{["".concat(t,"-column-sort")]:C}),title:o=>{const r="".concat(t,"-column-sorters"),a=e.createElement("span",{className:"".concat(t,"-column-title")},dre(n.title,o)),i=e.createElement("div",{className:r},a,h);return s?"boolean"!==typeof s&&"sorter-icon"===(null===s||void 0===s?void 0:s.target)?e.createElement("div",{className:"".concat(r," ").concat(t,"-column-sorters-tooltip-target-sorter")},a,e.createElement(fN,Object.assign({},v),h)):e.createElement(fN,Object.assign({},v),i):i},onHeaderCell:e=>{const o=n.onHeaderCell&&n.onHeaderCell(e)||{},a=o.onClick,i=o.onKeyDown;o.onClick=e=>{r({column:n,key:d,sortOrder:m,multiplePriority:Uae(n)}),null===a||void 0===a||a(e)},o.onKeyDown=e=>{e.keyCode===rw.ENTER&&(r({column:n,key:d,sortOrder:m,multiplePriority:Uae(n)}),null===i||void 0===i||i(e))};const l=function(e,t){const n=dre(e,t);return"[object Object]"===Object.prototype.toString.call(n)?"":n}(n.title,{}),c=null===l||void 0===l?void 0:l.toString();return C?o["aria-sort"]="ascend"===C?"ascending":"descending":o["aria-label"]=c||"",o.className=BG()(o.className,"".concat(t,"-column-has-sorters")),o.tabIndex=0,n.ellipsis&&(o.title=(null!==l&&void 0!==l?l:"").toString()),o}})}return"children"in u&&(u=Object.assign(Object.assign({},u),{children:_ae(t,u.children,o,r,a,i,l,g)})),u}))}const qae=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},$ae=e=>{const t=e.filter((e=>{let{sortOrder:t}=e;return t})).map(qae);if(0===t.length&&e.length){const t=e.length-1;return Object.assign(Object.assign({},qae(e[t])),{column:void 0})}return t.length<=1?t[0]||{}:t};function eie(e,t,n){const o=t.slice().sort(((e,t)=>t.multiplePriority-e.multiplePriority)),r=e.slice(),a=o.filter((e=>{let{column:{sorter:t},sortOrder:n}=e;return Pae(t)&&n}));return a.length?r.sort(((e,t)=>{for(let n=0;n<a.length;n+=1){const o=a[n],{column:{sorter:r},sortOrder:i}=o,l=Pae(r);if(l&&i){const n=l(e,t,i);if(0!==n)return i===Oae?n:-n}}return 0})).map((e=>{const o=e[n];return o?Object.assign(Object.assign({},e),{[n]:eie(o,t,n)}):e})):r}function tie(e,t){return e.map((e=>{const n=Object.assign({},e);return n.title=dre(e.title,t),"children"in n&&(n.children=tie(n.children,t)),n}))}function nie(t){const n=e.useCallback((e=>tie(e,t)),[t]);return[n]}const oie=Kne(((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:o}=t;return n!==o})),rie=eoe(((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:o}=t;return n!==o})),aie=e=>{const{componentCls:t,lineWidth:n,lineType:o,tableBorderColor:r,tableHeaderBg:a,tablePaddingVertical:i,tablePaddingHorizontal:l,calc:c}=e,s="".concat(Iy(n)," ").concat(o," ").concat(r),g=(e,o,r)=>({["&".concat(t,"-").concat(e)]:{["> ".concat(t,"-container")]:{["> ".concat(t,"-content, > ").concat(t,"-body")]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{["> ".concat(t,"-expanded-row-fixed")]:{margin:"".concat(Iy(c(o).mul(-1).equal()),"\n              ").concat(Iy(c(c(r).add(n)).mul(-1).equal()))}}}}}});return{["".concat(t,"-wrapper")]:{["".concat(t).concat(t,"-bordered")]:Object.assign(Object.assign(Object.assign({["> ".concat(t,"-title")]:{border:s,borderBottom:0},["> ".concat(t,"-container")]:{borderInlineStart:s,borderTop:s,["\n            > ".concat(t,"-content,\n            > ").concat(t,"-header,\n            > ").concat(t,"-body,\n            > ").concat(t,"-summary\n          ")]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:s},"> thead":{"> tr:not(:last-child) > th":{borderBottom:s},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{["> ".concat(t,"-cell-fix-right-first::after")]:{borderInlineEnd:s}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{["> ".concat(t,"-expanded-row-fixed")]:{margin:"".concat(Iy(c(i).mul(-1).equal())," ").concat(Iy(c(c(l).add(n)).mul(-1).equal())),"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:s,content:'""'}}}}}},["&".concat(t,"-scroll-horizontal")]:{["> ".concat(t,"-container > ").concat(t,"-body")]:{"> table > tbody":{["\n                > tr".concat(t,"-expanded-row,\n                > tr").concat(t,"-placeholder\n              ")]:{"> th, > td":{borderInlineEnd:0}}}}}},g("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),g("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{["> ".concat(t,"-footer")]:{border:s,borderTop:0}}),["".concat(t,"-cell")]:{["".concat(t,"-container:first-child")]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:"0 ".concat(Iy(n)," 0 ").concat(Iy(n)," ").concat(a)}},["".concat(t,"-bordered ").concat(t,"-cell-scrollbar")]:{borderInlineEnd:s}}}},iie=e=>{const{componentCls:t}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-cell-ellipsis")]:Object.assign(Object.assign({},ak),{wordBreak:"keep-all",["\n          &".concat(t,"-cell-fix-left-last,\n          &").concat(t,"-cell-fix-right-first\n        ")]:{overflow:"visible",["".concat(t,"-cell-content")]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},["".concat(t,"-column-title")]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},lie=e=>{const{componentCls:t}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-tbody > tr").concat(t,"-placeholder")]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},cie=e=>{const{componentCls:t,antCls:n,motionDurationSlow:o,lineWidth:r,paddingXS:a,lineType:i,tableBorderColor:l,tableExpandIconBg:c,tableExpandColumnWidth:s,borderRadius:g,tablePaddingVertical:u,tablePaddingHorizontal:d,tableExpandedRowBg:I,paddingXXS:C,expandIconMarginTop:m,expandIconSize:h,expandIconHalfInner:p,expandIconScale:f,calc:A}=e,b="".concat(Iy(r)," ").concat(i," ").concat(l),v=A(C).sub(r).equal();return{["".concat(t,"-wrapper")]:{["".concat(t,"-expand-icon-col")]:{width:s},["".concat(t,"-row-expand-icon-cell")]:{textAlign:"center",["".concat(t,"-row-expand-icon")]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},["".concat(t,"-row-indent")]:{height:1,float:"left"},["".concat(t,"-row-expand-icon")]:Object.assign(Object.assign({},F6(e)),{position:"relative",float:"left",boxSizing:"border-box",width:h,height:h,padding:0,color:"inherit",lineHeight:Iy(h),background:c,border:b,borderRadius:g,transform:"scale(".concat(f,")"),transition:"all ".concat(o),userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:"transform ".concat(o," ease-out"),content:'""'},"&::before":{top:p,insetInlineEnd:v,insetInlineStart:v,height:r},"&::after":{top:v,bottom:v,insetInlineStart:p,width:r,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),["".concat(t,"-row-indent + ").concat(t,"-row-expand-icon")]:{marginTop:m,marginInlineEnd:a},["tr".concat(t,"-expanded-row")]:{"&, &:hover":{"> th, > td":{background:I}},["".concat(n,"-descriptions-view")]:{display:"flex",table:{flex:"auto",width:"auto"}}},["".concat(t,"-expanded-row-fixed")]:{position:"relative",margin:"".concat(Iy(A(u).mul(-1).equal())," ").concat(Iy(A(d).mul(-1).equal())),padding:"".concat(Iy(u)," ").concat(Iy(d))}}}},sie=e=>{const{componentCls:t,antCls:n,iconCls:o,tableFilterDropdownWidth:r,tableFilterDropdownSearchWidth:a,paddingXXS:i,paddingXS:l,colorText:c,lineWidth:s,lineType:g,tableBorderColor:u,headerIconColor:d,fontSizeSM:I,tablePaddingHorizontal:C,borderRadius:m,motionDurationSlow:h,colorTextDescription:p,colorPrimary:f,tableHeaderFilterActiveBg:A,colorTextDisabled:b,tableFilterDropdownBg:v,tableFilterDropdownHeight:y,controlItemBgHover:Z,controlItemBgActive:S,boxShadowSecondary:G,filterDropdownMenuBg:B,calc:k}=e,w="".concat(n,"-dropdown"),R="".concat(t,"-filter-dropdown"),V="".concat(n,"-tree"),W="".concat(Iy(s)," ").concat(g," ").concat(u);return[{["".concat(t,"-wrapper")]:{["".concat(t,"-filter-column")]:{display:"flex",justifyContent:"space-between"},["".concat(t,"-filter-trigger")]:{position:"relative",display:"flex",alignItems:"center",marginBlock:k(i).mul(-1).equal(),marginInline:"".concat(Iy(i)," ").concat(Iy(k(C).div(2).mul(-1).equal())),padding:"0 ".concat(Iy(i)),color:d,fontSize:I,borderRadius:m,cursor:"pointer",transition:"all ".concat(h),"&:hover":{color:p,background:A},"&.active":{color:f}}}},{["".concat(n,"-dropdown")]:{[R]:Object.assign(Object.assign({},ik(e)),{minWidth:r,backgroundColor:v,borderRadius:m,boxShadow:G,overflow:"hidden",["".concat(w,"-menu")]:{maxHeight:y,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:B,"&:empty::after":{display:"block",padding:"".concat(Iy(l)," 0"),color:b,fontSize:I,textAlign:"center",content:'"Not Found"'}},["".concat(R,"-tree")]:{paddingBlock:"".concat(Iy(l)," 0"),paddingInline:l,[V]:{padding:0},["".concat(V,"-treenode ").concat(V,"-node-content-wrapper:hover")]:{backgroundColor:Z},["".concat(V,"-treenode-checkbox-checked ").concat(V,"-node-content-wrapper")]:{"&, &:hover":{backgroundColor:S}}},["".concat(R,"-search")]:{padding:l,borderBottom:W,"&-input":{input:{minWidth:a},[o]:{color:b}}},["".concat(R,"-checkall")]:{width:"100%",marginBottom:i,marginInlineStart:i},["".concat(R,"-btns")]:{display:"flex",justifyContent:"space-between",padding:"".concat(Iy(k(l).sub(s).equal())," ").concat(Iy(l)),overflow:"hidden",borderTop:W}})}},{["".concat(n,"-dropdown ").concat(R,", ").concat(R,"-submenu")]:{["".concat(n,"-checkbox-wrapper + span")]:{paddingInlineStart:l,color:c},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},gie=e=>{const{componentCls:t,lineWidth:n,colorSplit:o,motionDurationSlow:r,zIndexTableFixed:a,tableBg:i,zIndexTableSticky:l,calc:c}=e,s=o;return{["".concat(t,"-wrapper")]:{["\n        ".concat(t,"-cell-fix-left,\n        ").concat(t,"-cell-fix-right\n      ")]:{position:"sticky !important",zIndex:a,background:i},["\n        ".concat(t,"-cell-fix-left-first::after,\n        ").concat(t,"-cell-fix-left-last::after\n      ")]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:c(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:"box-shadow ".concat(r),content:'""',pointerEvents:"none"},["".concat(t,"-cell-fix-left-all::after")]:{display:"none"},["\n        ".concat(t,"-cell-fix-right-first::after,\n        ").concat(t,"-cell-fix-right-last::after\n      ")]:{position:"absolute",top:0,bottom:c(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:"box-shadow ".concat(r),content:'""',pointerEvents:"none"},["".concat(t,"-container")]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:c(l).add(1).equal({unit:!1}),width:30,transition:"box-shadow ".concat(r),content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},["".concat(t,"-ping-left")]:{["&:not(".concat(t,"-has-fix-left) ").concat(t,"-container::before")]:{boxShadow:"inset 10px 0 8px -8px ".concat(s)},["\n          ".concat(t,"-cell-fix-left-first::after,\n          ").concat(t,"-cell-fix-left-last::after\n        ")]:{boxShadow:"inset 10px 0 8px -8px ".concat(s)},["".concat(t,"-cell-fix-left-last::before")]:{backgroundColor:"transparent !important"}},["".concat(t,"-ping-right")]:{["&:not(".concat(t,"-has-fix-right) ").concat(t,"-container::after")]:{boxShadow:"inset -10px 0 8px -8px ".concat(s)},["\n          ".concat(t,"-cell-fix-right-first::after,\n          ").concat(t,"-cell-fix-right-last::after\n        ")]:{boxShadow:"inset -10px 0 8px -8px ".concat(s)}},["".concat(t,"-fixed-column-gapped")]:{["\n        ".concat(t,"-cell-fix-left-first::after,\n        ").concat(t,"-cell-fix-left-last::after,\n        ").concat(t,"-cell-fix-right-first::after,\n        ").concat(t,"-cell-fix-right-last::after\n      ")]:{boxShadow:"none"}}}}},uie=e=>{const{componentCls:t,antCls:n,margin:o}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-pagination").concat(n,"-pagination")]:{margin:"".concat(Iy(o)," 0")},["".concat(t,"-pagination")]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},die=e=>{const{componentCls:t,tableRadius:n}=e;return{["".concat(t,"-wrapper")]:{[t]:{["".concat(t,"-title, ").concat(t,"-header")]:{borderRadius:"".concat(Iy(n)," ").concat(Iy(n)," 0 0")},["".concat(t,"-title + ").concat(t,"-container")]:{borderStartStartRadius:0,borderStartEndRadius:0,["".concat(t,"-header, table")]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:"0 0 ".concat(Iy(n)," ").concat(Iy(n))}}}}},Iie=e=>{const{componentCls:t}=e;return{["".concat(t,"-wrapper-rtl")]:{direction:"rtl",table:{direction:"rtl"},["".concat(t,"-pagination-left")]:{justifyContent:"flex-end"},["".concat(t,"-pagination-right")]:{justifyContent:"flex-start"},["".concat(t,"-row-expand-icon")]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},["".concat(t,"-container")]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},["".concat(t,"-row-indent")]:{float:"right"}}}}},Cie=e=>{const{componentCls:t,antCls:n,iconCls:o,fontSizeIcon:r,padding:a,paddingXS:i,headerIconColor:l,headerIconHoverColor:c,tableSelectionColumnWidth:s,tableSelectedRowBg:g,tableSelectedRowHoverBg:u,tableRowHoverBg:d,tablePaddingHorizontal:I,calc:C}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-selection-col")]:{width:s,["&".concat(t,"-selection-col-with-dropdown")]:{width:C(s).add(r).add(C(a).div(4)).equal()}},["".concat(t,"-bordered ").concat(t,"-selection-col")]:{width:C(s).add(C(i).mul(2)).equal(),["&".concat(t,"-selection-col-with-dropdown")]:{width:C(s).add(r).add(C(a).div(4)).add(C(i).mul(2)).equal()}},["\n        table tr th".concat(t,"-selection-column,\n        table tr td").concat(t,"-selection-column,\n        ").concat(t,"-selection-column\n      ")]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",["".concat(n,"-radio-wrapper")]:{marginInlineEnd:0}},["table tr th".concat(t,"-selection-column").concat(t,"-cell-fix-left")]:{zIndex:e.zIndexTableFixed+1},["table tr th".concat(t,"-selection-column::after")]:{backgroundColor:"transparent !important"},["".concat(t,"-selection")]:{position:"relative",display:"inline-flex",flexDirection:"column"},["".concat(t,"-selection-extra")]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),marginInlineStart:"100%",paddingInlineStart:Iy(C(I).div(4).equal()),[o]:{color:l,fontSize:r,verticalAlign:"baseline","&:hover":{color:c}}},["".concat(t,"-tbody")]:{["".concat(t,"-row")]:{["&".concat(t,"-row-selected")]:{["> ".concat(t,"-cell")]:{background:g,"&-row-hover":{background:u}}},["> ".concat(t,"-cell-row-hover")]:{background:d}}}}}},mie=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:o}=e,r=(e,r,a,i)=>({["".concat(t).concat(t,"-").concat(e)]:{fontSize:i,["\n        ".concat(t,"-title,\n        ").concat(t,"-footer,\n        ").concat(t,"-cell,\n        ").concat(t,"-thead > tr > th,\n        ").concat(t,"-tbody > tr > th,\n        ").concat(t,"-tbody > tr > td,\n        tfoot > tr > th,\n        tfoot > tr > td\n      ")]:{padding:"".concat(Iy(r)," ").concat(Iy(a))},["".concat(t,"-filter-trigger")]:{marginInlineEnd:Iy(o(a).div(2).mul(-1).equal())},["".concat(t,"-expanded-row-fixed")]:{margin:"".concat(Iy(o(r).mul(-1).equal())," ").concat(Iy(o(a).mul(-1).equal()))},["".concat(t,"-tbody")]:{["".concat(t,"-wrapper:only-child ").concat(t)]:{marginBlock:Iy(o(r).mul(-1).equal()),marginInline:"".concat(Iy(o(n).sub(a).equal())," ").concat(Iy(o(a).mul(-1).equal()))}},["".concat(t,"-selection-extra")]:{paddingInlineStart:Iy(o(a).div(4).equal())}}});return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({},r("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),r("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},hie=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:o,headerIconColor:r,headerIconHoverColor:a}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-thead th").concat(t,"-column-has-sorters")]:{outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},["\n          &".concat(t,"-cell-fix-left:hover,\n          &").concat(t,"-cell-fix-right:hover\n        ")]:{background:e.tableFixedHeaderSortActiveBg}},["".concat(t,"-thead th").concat(t,"-column-sort")]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},["td".concat(t,"-column-sort")]:{background:e.tableBodySortBg},["".concat(t,"-column-title")]:{position:"relative",zIndex:1,flex:1},["".concat(t,"-column-sorters")]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},["".concat(t,"-column-sorters-tooltip-target-sorter")]:{"&::after":{content:"none"}},["".concat(t,"-column-sorter")]:{marginInlineStart:n,color:r,fontSize:0,transition:"color ".concat(e.motionDurationSlow),"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:o,"&.active":{color:e.colorPrimary}},["".concat(t,"-column-sorter-up + ").concat(t,"-column-sorter-down")]:{marginTop:"-0.3em"}},["".concat(t,"-column-sorters:hover ").concat(t,"-column-sorter")]:{color:a}}}},pie=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:o,tableScrollThumbBgHover:r,tableScrollThumbSize:a,tableScrollBg:i,zIndexTableSticky:l,stickyScrollBarBorderRadius:c,lineWidth:s,lineType:g,tableBorderColor:u}=e,d="".concat(Iy(s)," ").concat(g," ").concat(u);return{["".concat(t,"-wrapper")]:{["".concat(t,"-sticky")]:{"&-holder":{position:"sticky",zIndex:l,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:"".concat(Iy(a)," !important"),zIndex:l,display:"flex",alignItems:"center",background:i,borderTop:d,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:a,backgroundColor:o,borderRadius:c,transition:"all ".concat(e.motionDurationSlow,", transform none"),position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:r}}}}}}},fie=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:o,calc:r}=e,a="".concat(Iy(n)," ").concat(e.lineType," ").concat(o);return{["".concat(t,"-wrapper")]:{["".concat(t,"-summary")]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:a}}},["div".concat(t,"-summary")]:{boxShadow:"0 ".concat(Iy(r(n).mul(-1).equal())," 0 ").concat(o)}}}},Aie=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:o,lineType:r,tableBorderColor:a,calc:i}=e,l="".concat(Iy(o)," ").concat(r," ").concat(a),c="".concat(t,"-expanded-row-cell");return{["".concat(t,"-wrapper")]:{["".concat(t,"-tbody-virtual")]:{["".concat(t,"-row:not(tr)")]:{display:"flex",boxSizing:"border-box",width:"100%"},["".concat(t,"-cell")]:{borderBottom:l,transition:"background ".concat(n)},["".concat(t,"-expanded-row")]:{["".concat(c).concat(c,"-fixed")]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:"calc(var(--virtual-width) - ".concat(Iy(o),")"),borderInlineEnd:"none"}}},["".concat(t,"-bordered")]:{["".concat(t,"-tbody-virtual")]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:l,position:"absolute"},["".concat(t,"-cell")]:{borderInlineEnd:l,["&".concat(t,"-cell-fix-right-first:before")]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:i(o).mul(-1).equal(),borderInlineStart:l}}},["&".concat(t,"-virtual")]:{["".concat(t,"-placeholder ").concat(t,"-cell")]:{borderInlineEnd:l,borderBottom:l}}}}}},bie=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:o,tablePaddingHorizontal:r,tableExpandColumnWidth:a,lineWidth:i,lineType:l,tableBorderColor:c,tableFontSize:s,tableBg:g,tableRadius:u,tableHeaderTextColor:d,motionDurationMid:I,tableHeaderBg:C,tableHeaderCellSplitColor:m,tableFooterTextColor:h,tableFooterBg:p,calc:f}=e,A="".concat(Iy(i)," ").concat(l," ").concat(c);return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[t]:Object.assign(Object.assign({},ik(e)),{fontSize:s,background:g,borderRadius:"".concat(Iy(u)," ").concat(Iy(u)," 0 0"),scrollbarColor:"".concat(e.tableScrollThumbBg," ").concat(e.tableScrollBg)}),table:{width:"100%",textAlign:"start",borderRadius:"".concat(Iy(u)," ").concat(Iy(u)," 0 0"),borderCollapse:"separate",borderSpacing:0},["\n          ".concat(t,"-cell,\n          ").concat(t,"-thead > tr > th,\n          ").concat(t,"-tbody > tr > th,\n          ").concat(t,"-tbody > tr > td,\n          tfoot > tr > th,\n          tfoot > tr > td\n        ")]:{position:"relative",padding:"".concat(Iy(o)," ").concat(Iy(r)),overflowWrap:"break-word"},["".concat(t,"-title")]:{padding:"".concat(Iy(o)," ").concat(Iy(r))},["".concat(t,"-thead")]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:d,fontWeight:n,textAlign:"start",background:C,borderBottom:A,transition:"background ".concat(I," ease"),"&[colspan]:not([colspan='1'])":{textAlign:"center"},["&:not(:last-child):not(".concat(t,"-selection-column):not(").concat(t,"-row-expand-icon-cell):not([colspan])::before")]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:m,transform:"translateY(-50%)",transition:"background-color ".concat(I),content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},["".concat(t,"-tbody")]:{"> tr":{"> th, > td":{transition:"background ".concat(I,", border-color ").concat(I),borderBottom:A,["\n              > ".concat(t,"-wrapper:only-child,\n              > ").concat(t,"-expanded-row-fixed > ").concat(t,"-wrapper:only-child\n            ")]:{[t]:{marginBlock:Iy(f(o).mul(-1).equal()),marginInline:"".concat(Iy(f(a).sub(r).equal()),"\n                ").concat(Iy(f(r).mul(-1).equal())),["".concat(t,"-tbody > tr:last-child > td")]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:d,fontWeight:n,textAlign:"start",background:C,borderBottom:A,transition:"background ".concat(I," ease")}}},["".concat(t,"-footer")]:{padding:"".concat(Iy(o)," ").concat(Iy(r)),color:h,background:p}})}},vie=Uw("Table",(e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:o,controlInteractiveSize:r,headerBg:a,headerColor:i,headerSortActiveBg:l,headerSortHoverBg:c,bodySortBg:s,rowHoverBg:g,rowSelectedBg:u,rowSelectedHoverBg:d,rowExpandedBg:I,cellPaddingBlock:C,cellPaddingInline:m,cellPaddingBlockMD:h,cellPaddingInlineMD:p,cellPaddingBlockSM:f,cellPaddingInlineSM:A,borderColor:b,footerBg:v,footerColor:y,headerBorderRadius:Z,cellFontSize:S,cellFontSizeMD:G,cellFontSizeSM:B,headerSplitColor:k,fixedHeaderSortActiveBg:w,headerFilterHoverBg:R,filterDropdownBg:V,expandIconBg:W,selectionColumnWidth:x,stickyScrollBarBg:X,calc:N}=e,J=xw(e,{tableFontSize:S,tableBg:o,tableRadius:Z,tablePaddingVertical:C,tablePaddingHorizontal:m,tablePaddingVerticalMiddle:h,tablePaddingHorizontalMiddle:p,tablePaddingVerticalSmall:f,tablePaddingHorizontalSmall:A,tableBorderColor:b,tableHeaderTextColor:i,tableHeaderBg:a,tableFooterTextColor:y,tableFooterBg:v,tableHeaderCellSplitColor:k,tableHeaderSortBg:l,tableHeaderSortHoverBg:c,tableBodySortBg:s,tableFixedHeaderSortActiveBg:w,tableHeaderFilterActiveBg:R,tableFilterDropdownBg:V,tableRowHoverBg:g,tableSelectedRowBg:u,tableSelectedRowHoverBg:d,zIndexTableFixed:2,zIndexTableSticky:3,tableFontSizeMiddle:G,tableFontSizeSmall:B,tableSelectionColumnWidth:x,tableExpandIconBg:W,tableExpandColumnWidth:N(r).add(N(e.padding).mul(2)).equal(),tableExpandedRowBg:I,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:X,tableScrollThumbBgHover:t,tableScrollBg:n});return[bie(J),uie(J),fie(J),hie(J),sie(J),aie(J),die(J),cie(J),fie(J),lie(J),Cie(J),gie(J),pie(J),iie(J),mie(J),Iie(J),Aie(J)]}),(e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:o,colorFillSecondary:r,colorFillContent:a,controlItemBgActive:i,controlItemBgActiveHover:l,padding:c,paddingSM:s,paddingXS:g,colorBorderSecondary:u,borderRadiusLG:d,controlHeight:I,colorTextPlaceholder:C,fontSize:m,fontSizeSM:h,lineHeight:p,lineWidth:f,colorIcon:A,colorIconHover:b,opacityLoading:v,controlInteractiveSize:y}=e,Z=new tG(r).onBackground(n).toHexShortString(),S=new tG(a).onBackground(n).toHexShortString(),G=new tG(t).onBackground(n).toHexShortString(),B=new tG(A),k=new tG(b),w=y/2-f,R=2*w+3*f;return{headerBg:G,headerColor:o,headerSortActiveBg:Z,headerSortHoverBg:S,bodySortBg:G,rowHoverBg:G,rowSelectedBg:i,rowSelectedHoverBg:l,rowExpandedBg:t,cellPaddingBlock:c,cellPaddingInline:c,cellPaddingBlockMD:s,cellPaddingInlineMD:g,cellPaddingBlockSM:g,cellPaddingInlineSM:g,borderColor:u,headerBorderRadius:d,footerBg:G,footerColor:o,cellFontSize:m,cellFontSizeMD:m,cellFontSizeSM:m,headerSplitColor:u,fixedHeaderSortActiveBg:Z,headerFilterHoverBg:a,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:I,stickyScrollBarBg:C,stickyScrollBarBorderRadius:100,expandIconMarginTop:(m*p-3*f)/2-Math.ceil((1.4*h-3*f)/2),headerIconColor:B.clone().setAlpha(B.getAlpha()*v).toRgbString(),headerIconHoverColor:k.clone().setAlpha(k.getAlpha()*v).toRgbString(),expandIconHalfInner:w,expandIconSize:R,expandIconScale:y/R}}),{unitless:{expandIconScale:!0}}),yie=[],Zie=(t,n)=>{var o,r;const{prefixCls:a,className:i,rootClassName:l,style:c,size:s,bordered:g,dropdownPrefixCls:u,dataSource:d,pagination:I,rowSelection:C,rowKey:m="key",rowClassName:h,columns:p,children:f,childrenColumnName:A,onChange:b,getPopupContainer:v,loading:y,expandIcon:Z,expandable:S,expandedRowRender:G,expandIconColumnIndex:B,indentSize:k,scroll:w,sortDirections:R,locale:V,showSorterTooltip:W={target:"full-header"},virtual:x}=t;tS("Table");const X=e.useMemo((()=>p||fne(f)),[p,f]),N=e.useMemo((()=>X.some((e=>e.responsive))),[X]),J=v3(N),E=e.useMemo((()=>{const e=new Set(Object.keys(J).filter((e=>J[e])));return X.filter((t=>!t.responsive||t.responsive.some((t=>e.has(t)))))}),[X,J]),H=cW(t,["className","style","columns"]),{locale:Y=cS,direction:F,table:K,renderEmpty:M,getPrefixCls:L,getPopupContainer:T}=e.useContext(gv),z=XX(s),D=Object.assign(Object.assign({},Y.Table),V),O=d||yie,j=L("table",a),U=L("dropdown",u),[,P]=nk(),Q=Zw(j),[_,q,$]=vie(j,Q),ee=Object.assign(Object.assign({childrenColumnName:A,expandIconColumnIndex:B},S),{expandIcon:null!==(o=null===S||void 0===S?void 0:S.expandIcon)&&void 0!==o?o:null===(r=null===K||void 0===K?void 0:K.expandable)||void 0===r?void 0:r.expandIcon}),{childrenColumnName:te="children"}=ee,ne=e.useMemo((()=>O.some((e=>null===e||void 0===e?void 0:e[te]))?"nest":G||S&&S.expandedRowRender?"row":null),[O]),oe={body:e.useRef()},re=function(e){return(t,n)=>{const o=t.querySelector(".".concat(e,"-container"));let r=n;if(o){const e=getComputedStyle(o);r=n-parseInt(e.borderLeftWidth,10)-parseInt(e.borderRightWidth,10)}return r}}(j),ae=e.useRef(null),ie=e.useRef(null);ire(n,(()=>Object.assign(Object.assign({},ie.current),{nativeElement:ae.current})));const le=e.useMemo((()=>"function"===typeof m?m:e=>null===e||void 0===e?void 0:e[m]),[m]),[ce]=function(t,n,o){const r=e.useRef({});return[function(e){if(!r.current||r.current.data!==t||r.current.childrenColumnName!==n||r.current.getRowKey!==o){const a=new Map;function i(e){e.forEach(((e,t)=>{const r=o(e,t);a.set(r,e),e&&"object"===typeof e&&n in e&&i(e[n]||[])}))}i(t),r.current={data:t,childrenColumnName:n,kvMap:a,getRowKey:o}}return r.current.kvMap.get(e)}]}(O,te,le),se={},ge=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var o,r,a;const i=Object.assign(Object.assign({},se),e);n&&(null===(o=se.resetPagination)||void 0===o||o.call(se),(null===(r=i.pagination)||void 0===r?void 0:r.current)&&(i.pagination.current=1),I&&I.onChange&&I.onChange(1,null===(a=i.pagination)||void 0===a?void 0:a.pageSize)),w&&!1!==w.scrollToFirstRowOnChange&&oe.body.current&&cre(0,{getContainer:()=>oe.body.current}),null===b||void 0===b||b(i.pagination,i.filters,i.sorter,{currentDataSource:Nae(eie(O,i.sorterStates,te),i.filterStates,te),action:t})},[ue,de,Ie,Ce]=function(t){let{prefixCls:n,mergedColumns:o,onSorterChange:r,sortDirections:a,tableLocale:i,showSorterTooltip:l}=t;const[c,s]=e.useState(Qae(o,!0)),g=e.useMemo((()=>{let e=!0;const t=Qae(o,!1);if(!t.length)return c;const n=[];function r(t){e?n.push(t):n.push(Object.assign(Object.assign({},t),{sortOrder:null}))}let a=null;return t.forEach((t=>{null===a?(r(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:a=!0)):(a&&!1!==t.multiplePriority||(e=!1),r(t))})),n}),[o,c]),u=e.useMemo((()=>{const e=g.map((e=>{let{column:t,sortOrder:n}=e;return{column:t,order:n}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[g]),d=e=>{let t;t=!1!==e.multiplePriority&&g.length&&!1!==g[0].multiplePriority?[].concat(fv(g.filter((t=>{let{key:n}=t;return n!==e.key}))),[e]):[e],s(t),r($ae(t),t)};return[e=>_ae(n,e,g,d,a,i,l),g,u,()=>$ae(g)]}({prefixCls:j,mergedColumns:E,onSorterChange:(e,t)=>{ge({sorter:e,sorterStates:t},"sort",!1)},sortDirections:R||["ascend","descend"],tableLocale:D,showSorterTooltip:W}),me=e.useMemo((()=>eie(O,de,te)),[O,de]);se.sorter=Ce(),se.sorterStates=de;const[he,pe,fe]=Eae({prefixCls:j,locale:D,dropdownPrefixCls:U,mergedColumns:E,onFilterChange:(e,t)=>{ge({filters:e,filterStates:t},"filter",!0)},getPopupContainer:v||T,rootClassName:BG()(l,Q)}),Ae=Nae(me,pe,te);se.filters=fe,se.filterStates=pe;const be=e.useMemo((()=>{const e={};return Object.keys(fe).forEach((t=>{null!==fe[t]&&(e[t]=fe[t])})),Object.assign(Object.assign({},Ie),{filters:e})}),[Ie,fe]),[ve]=nie(be),[ye,Ze]=Fae(Ae.length,((e,t)=>{ge({pagination:Object.assign(Object.assign({},se.pagination),{current:e,pageSize:t})},"paginate")}),I);se.pagination=!1===I?{}:function(e,t){const n={current:e.current,pageSize:e.pageSize},o=t&&"object"===typeof t?t:{};return Object.keys(o).forEach((t=>{const o=e[t];"function"!==typeof o&&(n[t]=o)})),n}(ye,I),se.resetPagination=Ze;const Se=e.useMemo((()=>{if(!1===I||!ye.pageSize)return Ae;const{current:e=1,total:t,pageSize:n=Yae}=ye;return Ae.length<t?Ae.length>n?Ae.slice((e-1)*n,e*n):Ae:Ae.slice((e-1)*n,e*n)}),[!!I,Ae,ye&&ye.current,ye&&ye.pageSize,ye&&ye.total]),[Ge,Be]=are({prefixCls:j,data:Ae,pageData:Se,getRowKey:le,getRecordByKey:ce,expandType:ne,childrenColumnName:te,locale:D,getPopupContainer:v||T},C);ee.__PARENT_RENDER_ICON__=ee.expandIcon,ee.expandIcon=ee.expandIcon||Z||sre(D),"nest"===ne&&void 0===ee.expandIconColumnIndex?ee.expandIconColumnIndex=C?1:0:ee.expandIconColumnIndex>0&&C&&(ee.expandIconColumnIndex-=1),"number"!==typeof ee.indentSize&&(ee.indentSize="number"===typeof k?k:15);const ke=e.useCallback((e=>ve(Ge(he(ue(e))))),[ue,he,Ge]);let we,Re,Ve;if(!1!==I&&(null===ye||void 0===ye?void 0:ye.total)){let t;t=ye.size?ye.size:"small"===z||"middle"===z?"small":void 0;const n=n=>e.createElement(n4,Object.assign({},ye,{className:BG()("".concat(j,"-pagination ").concat(j,"-pagination-").concat(n),ye.className),size:t})),o="rtl"===F?"left":"right",{position:r}=ye;if(null!==r&&Array.isArray(r)){const e=r.find((e=>e.includes("top"))),t=r.find((e=>e.includes("bottom"))),a=r.every((e=>"none"==="".concat(e)));e||t||a||(Re=n(o)),e&&(we=n(e.toLowerCase().replace("top",""))),t&&(Re=n(t.toLowerCase().replace("bottom","")))}else Re=n(o)}"boolean"===typeof y?Ve={spinning:y}:"object"===typeof y&&(Ve=Object.assign({spinning:!0},y));const We=BG()($,Q,"".concat(j,"-wrapper"),null===K||void 0===K?void 0:K.className,{["".concat(j,"-wrapper-rtl")]:"rtl"===F},i,l,q),xe=Object.assign(Object.assign({},null===K||void 0===K?void 0:K.style),c),Xe=V&&V.emptyText||(null===M||void 0===M?void 0:M("Table"))||e.createElement(UD,{componentName:"Table"}),Ne=x?rie:oie,Je={},Ee=e.useMemo((()=>{const{fontSize:e,lineHeight:t,padding:n,paddingXS:o,paddingSM:r}=P,a=Math.floor(e*t);switch(z){case"large":return 2*n+a;case"small":return 2*o+a;default:return 2*r+a}}),[P,z]);return x&&(Je.listItemHeight=Ee),_(e.createElement("div",{ref:ae,className:We,style:xe},e.createElement(m4,Object.assign({spinning:!1},Ve),we,e.createElement(Ne,Object.assign({},Je,H,{ref:ie,columns:E,direction:F,expandable:ee,prefixCls:j,className:BG()({["".concat(j,"-middle")]:"middle"===z,["".concat(j,"-small")]:"small"===z,["".concat(j,"-bordered")]:g,["".concat(j,"-empty")]:0===O.length},$,Q,q),data:Se,rowKey:le,rowClassName:(e,t,n)=>{let o;return o="function"===typeof h?BG()(h(e,t,n)):BG()(h),BG()({["".concat(j,"-row-selected")]:Be.has(le(e,t))},o)},emptyText:Xe,internalHooks:kte,internalRefs:oe,transformColumns:ke,getContainerWidth:re})),Re)))},Sie=e.forwardRef(Zie),Gie=(t,n)=>{const o=e.useRef(0);return o.current+=1,e.createElement(Sie,Object.assign({},t,{ref:n,_renderTimes:o.current}))},Bie=e.forwardRef(Gie);Bie.SELECTION_COLUMN=$oe,Bie.EXPAND_COLUMN=Bte,Bie.SELECTION_ALL=ere,Bie.SELECTION_INVERT=tre,Bie.SELECTION_NONE=nre,Bie.Column=toe,Bie.ColumnGroup=noe,Bie.Summary=Qte;const kie=Bie,wie=t=>{let{className:n,requestData:o,setRequestData:r}=t;Se();const[a,i]=(0,e.useState)([]),[l,c]=(0,e.useState)(),[s,g]=(0,e.useState)(!0),[u,d]=(0,e.useState)(!1),{user:I}=A((e=>e.authentication));(0,e.useEffect)((()=>{const e=new AbortController;g(!0);return(async()=>{try{const e=await fz("POST","https://pharma-track-be.onrender.com/api/v1/staff/staffByClinicID",{id_clinic:I.id_clinic});i(e),g(!1)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[o,I]);const C=[{title:"ID",dataIndex:"id_staff",key:"if_staff",width:"auto"},{title:"T\xean",dataIndex:"name",key:"name",width:"15%"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"number",key:"number",width:"20%"},{title:"Ch\u1ee9c v\u1ee5",dataIndex:"type",key:"type",width:"15%"},{title:"Khoa",dataIndex:"department",key:"department",width:"10%"},{title:"Action",key:"Action",render:(e,t)=>(0,et.jsx)(Gte,{title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ng\u01b0\u1eddi n\xe0y kh\u1ecfi ph\xf2ng kh\xe1m?",onConfirm:async()=>{try{if("thanh cong"===(await fz("DELETE","https://pharma-track-be.onrender.com/api/v1/staff",{id_staff:t.id_staff})).results){RR.success({message:"B\u1ea3ng nh\xe2n vi\xean",description:"X\xf3a nh\xe2n vi\xean ".concat(t.id_staff," th\xe0nh c\xf4ng")}),r(new Date);const{uid:e}=await Eb(t.id_staff);return await Promise.all([Kb(e,"id_staff"),Kb(e,"id_clinic")]),!0}}catch(Tie){console.error(Tie)}RR.error({message:"B\u1ea3ng nh\xe2n vi\xean",description:"X\xf3a nh\xe2n vi\xean ".concat(t.id_staff," th\u1ea5t b\u1ea1i")})},okText:"C\xf3",cancelText:"Kh\xf4ng",children:(0,et.jsx)("a",{style:{color:"#1890FF"},href:"#",children:"Xo\xe1"})}),width:"10%"}];return(0,et.jsx)("div",{className:"StaffTable tw-w-2/3 ".concat(n),children:(0,et.jsxs)(m4,{tip:"Loading...",spinning:s,children:[(0,et.jsx)(u9,{open:u,title:"Th\xf4ng tin nh\xe2n vi\xean",centered:!0,onCancel:()=>d(!1),footer:[],width:400,top:120,zIndex:10002,children:(0,et.jsx)(Wee,{staffId:l})}),(0,et.jsx)(kie,{onRow:e=>({onDoubleClick:()=>{c(e.id_staff),d(!0)}}),className:"staff-table",rowClassName:(e,t)=>t%2===0?"table-row-light":"table-row-dark",columns:C,dataSource:a,pagination:{pageSize:6}})]})})},Rie=t=>{Se();const[n,o]=(0,e.useState)(!1),[r,a]=(0,e.useState)(new Date),{user:i}=A((e=>e.authentication));return(0,et.jsxs)("div",{className:"StaffTablePage tw-flex tw-flex-col tw-items-center",children:[(0,et.jsxs)("div",{className:"tw-w-2/3 tw-justify-end tw-flex tw-flex-row tw-mt-5",children:[(0,et.jsx)(u9,{open:n,title:"Th\xf4ng tin nh\xe2n vi\xean",centered:!0,onCancel:()=>o(!1),footer:[(0,et.jsx)(AE,{onClick:()=>o(!1),children:"Quay l\u1ea1i"},"back"),(0,et.jsx)(AE,{type:"primary",htmlType:"submit",form:"staffSignUpForm",children:"Th\xeam nh\xe2n vi\xean"},"submit")],width:448,children:(0,et.jsx)(h9,{hostSide:!0,id_clinic:i.id_clinic,setRequestData:a})}),(0,et.jsxs)(AE,{type:"default",onClick:()=>a(new Date),children:[(0,et.jsx)(u1,{icon:C1,className:"tw-self-center"}),(0,et.jsx)("div",{className:"tw-ml-2",children:"T\u1ea3i l\u1ea1i"})]}),(0,et.jsxs)(AE,{type:"default",onClick:()=>{o(!0)},className:"tw-ml-2",children:[(0,et.jsx)(u1,{icon:m1,className:"tw-self-center"}),(0,et.jsx)("div",{className:"tw-ml-2",children:"Th\xeam nh\xe2n vi\xean"})]})]}),(0,et.jsx)(wie,{className:"tw-mt-5",requestData:r,setRequestData:a})]})},Vie=t=>{let{values:n,initialValues:o,handleSubmit:r,submitCount:a,setClinic:i}=t;const[l,c]=(0,e.useState)(!1),[s,g]=(0,e.useState)(!1);return(0,et.jsx)("div",{className:"ClinicProfileForm",children:(0,et.jsxs)(sM,{className:"form-container tw-flex tw-flex-row tw-items-center",onSubmit:r,children:[(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)(cM,{component:p_,name:"id_clinic",type:"textarea",label:"ID ph\xf2ng kh\xe1m",submitCount:a,hasFeedback:!0,style:{width:"400px"},disabled:!0}),(0,et.jsx)(cM,{component:p_,name:"name_clinic",type:"textarea",label:"T\xean ph\xf2ng kh\xe1m",submitCount:a,validate:v_("T\xean ph\xf2ng kh\xe1m"),hasFeedback:!0,style:{width:"400px"},placeholder:"T\xean ph\xf2ng kh\xe1m"}),(0,et.jsx)(cM,{component:p_,name:"name_doctor",type:"textarea",label:"T\xean ch\u1ee7 ph\xf2ng kh\xe1m",submitCount:a,hasFeedback:!0,style:{width:"400px"},disabled:!0}),(0,et.jsx)(cM,{component:f_,value:"".concat(n.address,", ").concat(n.ward,", ").concat(n.city,", ").concat(n.province),label:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m",submitCount:a,hasFeedback:!0,style:{width:"400px"},disabled:!0}),l&&(0,et.jsx)("div",{className:"expand-addr-btn tw-text-slate-400 tw-mt-1",onClick:async()=>{g(!1),setTimeout((()=>c(!1)),1e3)},style:{animation:"fadeIn 1s"},children:"Nh\u1ea5p v\xe0o \u0111\xe2y \u0111\u1ec3 thu g\u1ecdn"}),!l&&(0,et.jsx)("div",{className:"expand-addr-btn tw-text-slate-400 tw-mt-1",onClick:()=>{c(!0),g(!0)},style:{animation:"fadeIn 1s"},children:"Nh\u1ea5p v\xe0o \u0111\xe2y \u0111\u1ec3 xem chi ti\u1ebft"}),(0,et.jsxs)("div",{className:"tw-flex tw-flex-row tw-m-4",children:[(0,et.jsx)(AE,{type:"primary",danger:!0,ghost:!0,htmlType:"reset",className:"isTrans",children:"\u0110\u1eb7t l\u1ea1i"}),(0,et.jsx)(Gte,{title:"X\xe1c nh\u1eadn s\u1eeda th\xf4ng tin ph\xf2ng kh\xe1m",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",onConfirm:async()=>{const e=await fz("PUT","https://pharma-track-be.onrender.com/api/v1/clinic",{...n,status_clinic:!1});return"that bai"===e.results?(RR.error({message:"S\u1eeda th\xf4ng tin ph\xf2ng kh\xe1m",description:e.message}),!1):(RR.success({message:"S\u1eeda th\xf4ng tin ph\xf2ng kh\xe1m",description:"S\u1eeda th\xf4ng tin th\xe0nh c\xf4ng"}),i(n),!0)},children:(0,et.jsx)(AE,{className:"tw-ml-2",children:"Ho\xe0n t\u1ea5t"})})]})]}),l&&n&&(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center ".concat(s?"tw-ml-8":""," tw-self-start"),style:{animation:"".concat(s?"floatInRight":"floatOutLeft"," 1s")},children:[(0,et.jsx)(d9,{values:n,submitCount:a}),(0,et.jsx)(cM,{component:p_,name:"address",type:"textarea",label:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m",validate:v_("\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m"),submitCount:a,hasFeedback:!0,style:{width:"400px"},placeholder:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m"}),(0,et.jsxs)("div",{className:"tw-flex tw-flex-row tw-justify-between tw-w-full",children:[(0,et.jsx)(cM,{component:p_,name:"lng",type:"textarea",label:"Kinh \u0111\u1ed9",validate:R_,submitCount:a,hasFeedback:!0,style:{width:"190px"},placeholder:"Kinh \u0111\u1ed9"}),(0,et.jsx)(cM,{component:p_,name:"lat",type:"textarea",label:"V\u0129 \u0111\u1ed9",validate:w_,submitCount:a,hasFeedback:!0,style:{width:"190px"},placeholder:"V\u0129 \u0111\u1ed9"})]})]})]})})},Wie=e=>{let{initialValues:t,formRef:n,setClinic:o}=e;return(0,et.jsx)("div",{className:"ClinicProfileFormContainer",children:(0,et.jsx)(oM,{initialValues:t,innerRef:n,enableReinitialize:!0,children:e=>(0,et.jsx)(Vie,{...e,setClinic:o})})})},xie=t=>{const n=Se(),[o,r]=(0,e.useState)({}),[a,i]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!0),{user:s}=A((e=>e.authentication)),g=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=new AbortController;c(!0);return(async()=>{try{const e=await fz("POST","https://pharma-track-be.onrender.com/api/v1/clinic/id_clinic",{id_clinic:s.id_clinic});if("that bai"!==e.result)return r(e[0]),c(!1),!0}catch(Tie){console.error(Tie)}RR.error({message:"Th\xf4ng tin ph\xf2ng kh\xe1m",description:"Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng kh\xe1m"}),n(-1)})(),()=>e.abort()}),[s,JSON.stringify(o)]),(0,et.jsx)("div",{className:"ClinicProfile tw-mt-5 tw-flex tw-flex-col tw-items-center",children:(0,et.jsx)(m4,{tip:"Loading...",spinning:l,children:(0,et.jsxs)("div",{className:"tw-flex tw-flex-row tw-m-8",children:[(0,et.jsxs)("div",{className:"profile-container tw-mr-8 tw-shadow tw-shadow-slate-400 tw-p-8 tw-flex tw-flex-col tw-items-center tw-bg-slate-50 tw-justify-around",children:[(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[(0,et.jsx)("img",{src:"".concat("/pharma-track-fe","/assets/clinic real img.jpg"),alt:"clinic real img",width:"90px",className:"tw-rounded-3xl"}),(0,et.jsx)("div",{className:"tw-text-3xl",children:o.name_clinic}),(0,et.jsxs)("div",{className:"tw-text-xl",children:["ID: ",o.id_clinic]}),(0,et.jsx)(AE,{type:"default",onClick:()=>navigator.clipboard.writeText(o.id_clinic),className:"tw-mt-2",children:"Sao ch\xe9p ID"})]}),(0,et.jsx)(S6,{}),(0,et.jsxs)("div",{className:"tw-text-xl",children:[(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"T\xean ch\u1ee7 ph\xf2ng kh\xe1m: "}),(0,et.jsx)(f6,{span:12,children:o.name_doctor})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"\u0110\u1ecba ch\u1ec9 ph\xf2ng kh\xe1m: "}),(0,et.jsx)(f6,{span:12,children:"".concat(o.address,", ").concat(o.ward,", ").concat(o.city,", ").concat(o.province)})]}),(0,et.jsxs)(p6,{children:[(0,et.jsx)(f6,{span:12,children:"Tr\u1ea1ng th\xe1i: "}),(0,et.jsx)(f6,{span:12,children:o.status_clinic?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"\u0110ang ch\u1edd x\xe9t duy\u1ec7t"})]})]}),(0,et.jsx)(S6,{}),a?(0,et.jsx)(AE,{type:"primary",ghost:!0,onClick:()=>{i(!1)},children:"Tr\u1edf v\u1ec1 trang ch\xednh"}):(0,et.jsx)(AE,{type:"default",onClick:()=>{i(!0)},disabled:"host"!==(null===s||void 0===s?void 0:s.role),children:"Ch\u1ec9nh s\u1eeda"})]}),a?(0,et.jsx)("div",{className:"tw-shadow-slate-400 tw-shadow tw-self-center tw-p-8 tw-bg-slate-50",style:{height:"466px",animation:"zoomOut 1.75s"},children:(0,et.jsx)(Wie,{initialValues:o,formRef:g,setClinic:r})}):(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",style:{animation:"zoomIn 1s"},children:[(0,et.jsx)("div",{style:{width:"100%",height:"80px",maxWidth:"700px"},className:"tw-shadow tw-shadow-slate-400 tw-p-5 tw-bg-slate-50",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris"}),(0,et.jsx)("img",{width:"700px",src:"".concat("/pharma-track-fe","/assets/rec maps.png"),alt:"maps img",className:" tw-shadow-slate-400 tw-shadow tw-mt-8 tw-mb-8"})]})]})})})},Xie=[{title:"ID",dataIndex:"id_appointment",key:"id_appointment",width:"20%"},{title:"Th\u1eddi gian",dataIndex:"time",key:"time",width:"10%"},{title:"T\xean b\xe1c s\u0129",dataIndex:"doctor",key:"doctor",width:"20%"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address",width:"30%"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status",width:"10%"}],Nie=t=>{const n=Se(),[o,r]=(0,e.useState)(new Date),[a,i]=(0,e.useState)(!1),{user:l}=A((e=>e.authentication)),[c,s]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=new AbortController;i(!0);return(async()=>{try{const e=await fz("GET","https://pharma-track-be.onrender.com/api/v1/appointment/id_clinic",{id_clinic:l.id_clinic});s(e),i(!1)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[l,o]),(0,et.jsx)("div",{className:"UserAppointmentTable tw-flex tw-flex-col tw-items-center",children:(0,et.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-2/3  tw-mt-5",children:[(0,et.jsxs)(AE,{type:"default",onClick:()=>r(new Date),className:"tw-self-end",children:[(0,et.jsx)(u1,{icon:C1,className:"tw-self-center"}),(0,et.jsx)("div",{className:"tw-ml-2",children:"T\u1ea3i l\u1ea1i"})]}),(0,et.jsx)(m4,{spinning:a,children:(0,et.jsx)(kie,{className:"staff-table tw-mt-5",onRow:e=>({onDoubleClick:()=>{n("/".concat(l.role,"/appointment/").concat(e.id_appointment))}}),rowClassName:(e,t)=>t%2===0?"table-row-light":"table-row-dark",columns:Xie,dataSource:c,pagination:{pageSize:6}})})]})})},Jie=[{title:"ID",dataIndex:"id_appointment",key:"id_appointment",width:"15%"},{title:"Th\u1eddi gian",dataIndex:"time",key:"time",width:"10%"},{title:"T\xean b\xe1c s\u0129",dataIndex:"doctor",key:"doctor",width:"15%"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address",width:"30%"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status",width:"10%"}],Eie=t=>{const n=Se(),[o,r]=(0,e.useState)(!1),{user:a}=A((e=>e.authentication)),{uid:i}=a,[l,c]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=new AbortController;r(!0);return(async()=>{try{const e=await fz("GET","https://pharma-track-be.onrender.com/api/v1/appointment/id_user",{id_user:i});c(e),r(!1)}catch(Tie){console.error(Tie)}})(),()=>e.abort()}),[i]),(0,et.jsx)("div",{className:"UserAppointmentTable tw-flex tw-flex-col tw-items-center",children:(0,et.jsxs)("div",{className:"tw-w-2/3 tw-mt-5",children:[(0,et.jsx)("div",{className:"booking tw-flex tw-justify-center tw-mb-5 tw-font-bold tw-text-4xl ",children:"L\u1ecbch h\u1eb9n c\u1ee7a b\u1ea1n"}),(0,et.jsx)(m4,{spinning:o,children:(0,et.jsx)(kie,{className:"staff-table",onRow:e=>({onDoubleClick:()=>{n("/".concat(a.role,"/appointment/").concat(e.id_appointment))}}),rowClassName:(e,t)=>t%2===0?"table-row-light":"table-row-dark",columns:Jie,dataSource:l,pagination:{pageSize:6}})})]})})},Hie={HOME_PAGE_PATH:"/home",LOGIN_PATH:"/login",SIGN_UP_PATH:"/signup",ROLE_PICK_PATH:"/signup/role",BOOK_AP_PATH_STEP1:"/bookap",BOOK_AP_PATH_STEP2:"/bookap2",BOOK_AP_PATH_STEP3:"/bookap3",PAY_MENT:"/create_payment_url1",STAFF_TABLE_PATH:"/host/staffTable",STAFF_APPOINTMENTS_PATH:"/staff/appointments",STAFF_APPOINTMENT_DYNAMIC_PATH:"/staff/appointment/:appointmentId",STAFF_QRSCAN_PATH:"/staff/QRscan",USER_APPOINTMENTS_PATH:"/user/appointments",USER_APPOINTMENT_DYNAMIC_PATH:"/user/appointment/:appointmentId",USER_DYNAMIC_PATH:"/user/:userId"},Yie=e=>{let{component:t,accessibleRoles:n,...o}=e;const{user:r,isAuthUser:a}=A((e=>e.authentication)),i=e=>a&&n.includes(r.role)?(0,et.jsx)(t,{...e}):a&&!n.includes(r.role)?(0,et.jsx)(YE,{code:403}):a?(0,et.jsx)(YE,{code:500}):(0,et.jsx)(YE,{code:403});return(0,et.jsx)(i,{})},Fie=e=>(0,et.jsxs)("div",{className:"App",children:[(0,et.jsxs)("a",{href:"https://pharma-track-be.onrender.com/api/v1/payment/create_payment_url1",children:[" ","thanh to\xe1n"]}),(0,et.jsxs)(AE,{type:"primary",href:"https://pharma-track-be.onrender.com/api/v1/payment/create_payment_url1",shape:"default",size:"large",children:[" ","Thanh to\xe1n"," "]})]}),Kie=()=>(0,et.jsxs)(Le,{children:[(0,et.jsx)(Ke,{path:"/:page",element:(0,et.jsx)(TE,{})}),(0,et.jsx)(Ke,{exact:!0,path:"/",element:(0,et.jsx)(TE,{})}),(0,et.jsx)(Ke,{exact:!0,path:"*",element:(0,et.jsx)(YE,{code:404})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.HOME_PAGE_PATH,element:(0,et.jsx)(TE,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.SIGN_UP_PATH,element:(0,et.jsx)(A1,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.ROLE_PICK_PATH,element:(0,et.jsx)(x5,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.LOGIN_PATH,element:(0,et.jsx)(Y5,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.BOOK_AP_PATH_STEP1,element:(0,et.jsx)(_7,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.BOOK_AP_PATH_STEP2,element:(0,et.jsx)(h6,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.BOOK_AP_PATH_STEP3,element:(0,et.jsx)(b6,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.PAY_MENT,element:(0,et.jsx)(Fie,{})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.STAFF_TABLE_PATH,element:(0,et.jsx)(Yie,{component:Rie,accessibleRoles:["host"]})}),["host","staff"].map((e=>(0,et.jsx)(Ke,{exact:!0,path:"/".concat(e,"/clinic"),element:(0,et.jsx)(Yie,{component:xie,accessibleRoles:[e]})}))),["user","staff"].map((e=>(0,et.jsx)(Ke,{exact:!0,path:"/".concat(e,"/appointment/:appointmentId"),element:(0,et.jsx)(Yie,{component:nte,accessibleRoles:[e]})}))),(0,et.jsx)(Ke,{exact:!0,path:Hie.CLINIC_PROFILE_PATH,element:(0,et.jsx)(Yie,{component:xie,accessibleRoles:["host","staff"]})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.STAFF_APPOINTMENTS_PATH,element:(0,et.jsx)(Yie,{component:Nie,accessibleRoles:["staff"]})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.STAFF_QRSCAN_PATH,element:(0,et.jsx)(Yie,{component:ate,accessibleRoles:["staff"]})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.USER_APPOINTMENTS_PATH,element:(0,et.jsx)(Yie,{component:Eie,accessibleRoles:["user"]})}),(0,et.jsx)(Ke,{exact:!0,path:Hie.USER_DYNAMIC_PATH,element:(0,et.jsx)(Yie,{component:G6,accessibleRoles:["host","staff","user"]})}),(0,et.jsx)(Ke,{path:"/index.html",element:(0,et.jsx)(Fe,{to:Hie.HOME_PAGE_PATH})})]});const Mie=function(){return(0,et.jsx)(Ue,{children:(0,et.jsx)(G,{store:HE,children:(0,et.jsxs)(e.Suspense,{fallback:"loading",children:[(0,et.jsx)(JE,{}),(0,et.jsx)(Kie,{}),(0,et.jsx)(tt,{})]})})})},Lie=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:o,getFCP:r,getLCP:a,getTTFB:i}=t;n(e),o(e),r(e),a(e),i(e)}))};o.createRoot(document.getElementById("root")).render((0,et.jsx)(Mie,{})),Lie()})()})();
//# sourceMappingURL=main.2f819785.js.map